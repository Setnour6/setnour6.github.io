var Nm=!1,Pm=!1,Zs=[];function YR(t){GR(t)}function GR(t){Zs.includes(t)||Zs.push(t),WR()}function Ow(t){let i=Zs.indexOf(t);i!==-1&&Zs.splice(i,1)}function WR(){!Pm&&!Nm&&(Nm=!0,queueMicrotask(qR))}function qR(){Nm=!1,Pm=!0;for(let t=0;t<Zs.length;t++)Zs[t]();Zs.length=0,Pm=!1}var du,hu,Sc,Iw,Bm=!0;function KR(t){Bm=!1,t(),Bm=!0}function JR(t){du=t.reactive,Sc=t.release,hu=i=>t.effect(i,{scheduler:r=>{Bm?YR(r):r()}}),Iw=t.raw}function nE(t){hu=t}function XR(t){let i=()=>{};return[o=>{let l=hu(o);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(c=>c())}),t._x_effects.add(l),i=()=>{l!==void 0&&(t._x_effects.delete(l),Sc(l))},l},()=>{i()}]}var Rw=[],Lw=[],Fw=[];function ZR(t){Fw.push(t)}function Nw(t,i){typeof i=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(i)):(i=t,Lw.push(i))}function QR(t){Rw.push(t)}function eL(t,i,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[i]||(t._x_attributeCleanups[i]=[]),t._x_attributeCleanups[i].push(r)}function Pw(t,i){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,o])=>{(i===void 0||i.includes(r))&&(o.forEach(l=>l()),delete t._x_attributeCleanups[r])})}var Og=new MutationObserver(Fg),Ig=!1;function Rg(){Og.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Ig=!0}function Bw(){tL(),Og.disconnect(),Ig=!1}var oc=[],tm=!1;function tL(){oc=oc.concat(Og.takeRecords()),oc.length&&!tm&&(tm=!0,queueMicrotask(()=>{nL(),tm=!1}))}function nL(){Fg(oc),oc.length=0}function Ji(t){if(!Ig)return t();Bw();let i=t();return Rg(),i}var Lg=!1,Mh=[];function iL(){Lg=!0}function rL(){Lg=!1,Fg(Mh),Mh=[]}function Fg(t){if(Lg){Mh=Mh.concat(t);return}let i=[],r=[],o=new Map,l=new Map;for(let c=0;c<t.length;c++)if(!t[c].target._x_ignoreMutationObserver&&(t[c].type==="childList"&&(t[c].addedNodes.forEach(d=>d.nodeType===1&&i.push(d)),t[c].removedNodes.forEach(d=>d.nodeType===1&&r.push(d))),t[c].type==="attributes")){let d=t[c].target,h=t[c].attributeName,f=t[c].oldValue,m=()=>{o.has(d)||o.set(d,[]),o.get(d).push({name:h,value:d.getAttribute(h)})},v=()=>{l.has(d)||l.set(d,[]),l.get(d).push(h)};d.hasAttribute(h)&&f===null?m():d.hasAttribute(h)?(v(),m()):v()}l.forEach((c,d)=>{Pw(d,c)}),o.forEach((c,d)=>{Rw.forEach(h=>h(d,c))});for(let c of r)if(!i.includes(c)&&(Lw.forEach(d=>d(c)),c._x_cleanups))for(;c._x_cleanups.length;)c._x_cleanups.pop()();i.forEach(c=>{c._x_ignoreSelf=!0,c._x_ignore=!0});for(let c of i)r.includes(c)||c.isConnected&&(delete c._x_ignoreSelf,delete c._x_ignore,Fw.forEach(d=>d(c)),c._x_ignore=!0,c._x_ignoreSelf=!0);i.forEach(c=>{delete c._x_ignoreSelf,delete c._x_ignore}),i=null,r=null,o=null,l=null}function zw(t){return Cc(tu(t))}function Tc(t,i,r){return t._x_dataStack=[i,...tu(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(o=>o!==i)}}function iE(t,i){let r=t._x_dataStack[0];Object.entries(i).forEach(([o,l])=>{r[o]=l})}function tu(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?tu(t.host):t.parentNode?tu(t.parentNode):[]}function Cc(t){let i=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap(r=>Object.keys(r)))),has:(r,o)=>t.some(l=>l.hasOwnProperty(o)),get:(r,o)=>(t.find(l=>{if(l.hasOwnProperty(o)){let c=Object.getOwnPropertyDescriptor(l,o);if(c.get&&c.get._x_alreadyBound||c.set&&c.set._x_alreadyBound)return!0;if((c.get||c.set)&&c.enumerable){let d=c.get,h=c.set,f=c;d=d&&d.bind(i),h=h&&h.bind(i),d&&(d._x_alreadyBound=!0),h&&(h._x_alreadyBound=!0),Object.defineProperty(l,o,{...f,get:d,set:h})}return!0}return!1})||{})[o],set:(r,o,l)=>{let c=t.find(d=>d.hasOwnProperty(o));return c?c[o]=l:t[t.length-1][o]=l,!0}});return i}function $w(t){let i=o=>typeof o=="object"&&!Array.isArray(o)&&o!==null,r=(o,l="")=>{Object.entries(Object.getOwnPropertyDescriptors(o)).forEach(([c,{value:d,enumerable:h}])=>{if(h===!1||d===void 0)return;let f=l===""?c:`${l}.${c}`;typeof d=="object"&&d!==null&&d._x_interceptor?o[c]=d.initialize(t,f,c):i(d)&&d!==o&&!(d instanceof Element)&&r(d,f)})};return r(t)}function jw(t,i=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(o,l,c){return t(this.initialValue,()=>oL(o,l),d=>zm(o,l,d),l,c)}};return i(r),o=>{if(typeof o=="object"&&o!==null&&o._x_interceptor){let l=r.initialize.bind(r);r.initialize=(c,d,h)=>{let f=o.initialize(c,d,h);return r.initialValue=f,l(c,d,h)}}else r.initialValue=o;return r}}function oL(t,i){return i.split(".").reduce((r,o)=>r[o],t)}function zm(t,i,r){if(typeof i=="string"&&(i=i.split(".")),i.length===1)t[i[0]]=r;else{if(i.length===0)throw error;return t[i[0]]||(t[i[0]]={}),zm(t[i[0]],i.slice(1),r)}}var Hw={};function jo(t,i){Hw[t]=i}function $m(t,i){return Object.entries(Hw).forEach(([r,o])=>{Object.defineProperty(t,`$${r}`,{get(){let[l,c]=Ww(i);return l={interceptor:jw,...l},Nw(i,c),o(i,l)},enumerable:!1})}),t}function aL(t,i,r,...o){try{return r(...o)}catch(l){Ec(l,t,i)}}function Ec(t,i,r=void 0){Object.assign(t,{el:i,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,i),setTimeout(()=>{throw t},0)}var fh=!0;function sL(t){let i=fh;fh=!1,t(),fh=i}function Jl(t,i,r={}){let o;return wr(t,i)(l=>o=l,r),o}function wr(...t){return Vw(...t)}var Vw=Uw;function lL(t){Vw=t}function Uw(t,i){let r={};$m(r,t);let o=[r,...tu(t)];if(typeof i=="function")return uL(o,i);let l=dL(o,i,t);return aL.bind(null,t,i,l)}function uL(t,i){return(r=()=>{},{scope:o={},params:l=[]}={})=>{let c=i.apply(Cc([o,...t]),l);kh(r,c)}}var nm={};function cL(t,i){if(nm[t])return nm[t];let r=Object.getPrototypeOf(async function(){}).constructor,o=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)\s/.test(t)?`(async()=>{ ${t} })()`:t,c=(()=>{try{return new r(["__self","scope"],`with (scope) { __self.result = ${o} }; __self.finished = true; return __self.result;`)}catch(d){return Ec(d,i,t),Promise.resolve()}})();return nm[t]=c,c}function dL(t,i,r){let o=cL(i,r);return(l=()=>{},{scope:c={},params:d=[]}={})=>{o.result=void 0,o.finished=!1;let h=Cc([c,...t]);if(typeof o=="function"){let f=o(o,h).catch(m=>Ec(m,r,i));o.finished?(kh(l,o.result,h,d,r),o.result=void 0):f.then(m=>{kh(l,m,h,d,r)}).catch(m=>Ec(m,r,i)).finally(()=>o.result=void 0)}}}function kh(t,i,r,o,l){if(fh&&typeof i=="function"){let c=i.apply(r,o);c instanceof Promise?c.then(d=>kh(t,d,r,o)).catch(d=>Ec(d,l,i)):t(c)}else typeof i=="object"&&i instanceof Promise?i.then(c=>t(c)):t(i)}var Ng="x-";function fu(t=""){return Ng+t}function hL(t){Ng=t}var jm={};function xi(t,i){return jm[t]=i,{before(r){if(!jm[r]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const o=qs.indexOf(r)??qs.indexOf("DEFAULT");o>=0&&qs.splice(o,0,t)}}}function Pg(t,i,r){if(i=Array.from(i),t._x_virtualDirectives){let c=Object.entries(t._x_virtualDirectives).map(([h,f])=>({name:h,value:f})),d=Yw(c);c=c.map(h=>d.find(f=>f.name===h.name)?{name:`x-bind:${h.name}`,value:`"${h.value}"`}:h),i=i.concat(c)}let o={};return i.map(Jw((c,d)=>o[c]=d)).filter(Zw).map(mL(o,r)).sort(gL).map(c=>pL(t,c))}function Yw(t){return Array.from(t).map(Jw()).filter(i=>!Zw(i))}var Hm=!1,tc=new Map,Gw=Symbol();function fL(t){Hm=!0;let i=Symbol();Gw=i,tc.set(i,[]);let r=()=>{for(;tc.get(i).length;)tc.get(i).shift()();tc.delete(i)},o=()=>{Hm=!1,r()};t(r),o()}function Ww(t){let i=[],r=h=>i.push(h),[o,l]=XR(t);return i.push(l),[{Alpine:kc,effect:o,cleanup:r,evaluateLater:wr.bind(wr,t),evaluate:Jl.bind(Jl,t)},()=>i.forEach(h=>h())]}function pL(t,i){let r=()=>{},o=jm[i.type]||r,[l,c]=Ww(t);eL(t,i.original,c);let d=()=>{t._x_ignore||t._x_ignoreSelf||(o.inline&&o.inline(t,i,l),o=o.bind(o,t,i,l),Hm?tc.get(Gw).push(o):o())};return d.runCleanups=c,d}var qw=(t,i)=>({name:r,value:o})=>(r.startsWith(t)&&(r=r.replace(t,i)),{name:r,value:o}),Kw=t=>t;function Jw(t=()=>{}){return({name:i,value:r})=>{let{name:o,value:l}=Xw.reduce((c,d)=>d(c),{name:i,value:r});return o!==i&&t(o,i),{name:o,value:l}}}var Xw=[];function Bg(t){Xw.push(t)}function Zw({name:t}){return Qw().test(t)}var Qw=()=>new RegExp(`^${Ng}([^:^.]+)\\b`);function mL(t,i){return({name:r,value:o})=>{let l=r.match(Qw()),c=r.match(/:([a-zA-Z0-9\-:]+)/),d=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],h=i||t[r]||r;return{type:l?l[1]:null,value:c?c[1]:null,modifiers:d.map(f=>f.replace(".","")),expression:o,original:h}}}var Vm="DEFAULT",qs=["ignore","ref","data","id","radio","tabs","switch","disclosure","menu","listbox","combobox","bind","init","for","mask","model","modelable","transition","show","if",Vm,"teleport"];function gL(t,i){let r=qs.indexOf(t.type)===-1?Vm:t.type,o=qs.indexOf(i.type)===-1?Vm:i.type;return qs.indexOf(r)-qs.indexOf(o)}function ac(t,i,r={}){t.dispatchEvent(new CustomEvent(i,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function ms(t,i){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(l=>ms(l,i));return}let r=!1;if(i(t,()=>r=!0),r)return;let o=t.firstElementChild;for(;o;)ms(o,i),o=o.nextElementSibling}function nu(t,...i){console.warn(`Alpine Warning: ${t}`,...i)}function vL(){document.body||nu("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ac(document,"alpine:init"),ac(document,"alpine:initializing"),Rg(),ZR(i=>gs(i,ms)),Nw(i=>a1(i)),QR((i,r)=>{Pg(i,r).forEach(o=>o())});let t=i=>!of(i.parentElement,!0);Array.from(document.querySelectorAll(n1())).filter(t).forEach(i=>{gs(i)}),ac(document,"alpine:initialized")}var zg=[],e1=[];function t1(){return zg.map(t=>t())}function n1(){return zg.concat(e1).map(t=>t())}function i1(t){zg.push(t)}function r1(t){e1.push(t)}function of(t,i=!1){return af(t,r=>{if((i?n1():t1()).some(l=>r.matches(l)))return!0})}function af(t,i){if(t){if(i(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return af(t.parentElement,i)}}function bL(t){return t1().some(i=>t.matches(i))}var o1=[];function yL(t){o1.push(t)}function gs(t,i=ms,r=()=>{}){fL(()=>{i(t,(o,l)=>{r(o,l),o1.forEach(c=>c(o,l)),Pg(o,o.attributes).forEach(c=>c()),o._x_ignore&&l()})})}function a1(t){ms(t,i=>Pw(i))}var Um=[],$g=!1;function jg(t=()=>{}){return queueMicrotask(()=>{$g||setTimeout(()=>{Ym()})}),new Promise(i=>{Um.push(()=>{t(),i()})})}function Ym(){for($g=!1;Um.length;)Um.shift()()}function EL(){$g=!0}function Hg(t,i){return Array.isArray(i)?rE(t,i.join(" ")):typeof i=="object"&&i!==null?_L(t,i):typeof i=="function"?Hg(t,i()):rE(t,i)}function rE(t,i){let r=l=>l.split(" ").filter(c=>!t.classList.contains(c)).filter(Boolean),o=l=>(t.classList.add(...l),()=>{t.classList.remove(...l)});return i=i===!0?i="":i||"",o(r(i))}function _L(t,i){let r=h=>h.split(" ").filter(Boolean),o=Object.entries(i).flatMap(([h,f])=>f?r(h):!1).filter(Boolean),l=Object.entries(i).flatMap(([h,f])=>f?!1:r(h)).filter(Boolean),c=[],d=[];return l.forEach(h=>{t.classList.contains(h)&&(t.classList.remove(h),d.push(h))}),o.forEach(h=>{t.classList.contains(h)||(t.classList.add(h),c.push(h))}),()=>{d.forEach(h=>t.classList.add(h)),c.forEach(h=>t.classList.remove(h))}}function sf(t,i){return typeof i=="object"&&i!==null?wL(t,i):AL(t,i)}function wL(t,i){let r={};return Object.entries(i).forEach(([o,l])=>{r[o]=t.style[o],o.startsWith("--")||(o=DL(o)),t.style.setProperty(o,l)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{sf(t,r)}}function AL(t,i){let r=t.getAttribute("style",i);return t.setAttribute("style",i),()=>{t.setAttribute("style",r||"")}}function DL(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gm(t,i=()=>{}){let r=!1;return function(){r?i.apply(this,arguments):(r=!0,t.apply(this,arguments))}}xi("transition",(t,{value:i,modifiers:r,expression:o},{evaluate:l})=>{typeof o=="function"&&(o=l(o)),o?xL(t,o,i):SL(t,r,i)});function xL(t,i,r){s1(t,Hg,""),{enter:l=>{t._x_transition.enter.during=l},"enter-start":l=>{t._x_transition.enter.start=l},"enter-end":l=>{t._x_transition.enter.end=l},leave:l=>{t._x_transition.leave.during=l},"leave-start":l=>{t._x_transition.leave.start=l},"leave-end":l=>{t._x_transition.leave.end=l}}[r](i)}function SL(t,i,r){s1(t,sf);let o=!i.includes("in")&&!i.includes("out")&&!r,l=o||i.includes("in")||["enter"].includes(r),c=o||i.includes("out")||["leave"].includes(r);i.includes("in")&&!o&&(i=i.filter((T,M)=>M<i.indexOf("out"))),i.includes("out")&&!o&&(i=i.filter((T,M)=>M>i.indexOf("out")));let d=!i.includes("opacity")&&!i.includes("scale"),h=d||i.includes("opacity"),f=d||i.includes("scale"),m=h?0:1,v=f?qu(i,"scale",95)/100:1,E=qu(i,"delay",0),b=qu(i,"origin","center"),w="opacity, transform",A=qu(i,"duration",150)/1e3,y=qu(i,"duration",75)/1e3,S="cubic-bezier(0.4, 0.0, 0.2, 1)";l&&(t._x_transition.enter.during={transformOrigin:b,transitionDelay:E,transitionProperty:w,transitionDuration:`${A}s`,transitionTimingFunction:S},t._x_transition.enter.start={opacity:m,transform:`scale(${v})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),c&&(t._x_transition.leave.during={transformOrigin:b,transitionDelay:E,transitionProperty:w,transitionDuration:`${y}s`,transitionTimingFunction:S},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:m,transform:`scale(${v})`})}function s1(t,i,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(o=()=>{},l=()=>{}){Wm(t,i,{during:this.enter.during,start:this.enter.start,end:this.enter.end},o,l)},out(o=()=>{},l=()=>{}){Wm(t,i,{during:this.leave.during,start:this.leave.start,end:this.leave.end},o,l)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,i,r,o){const l=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let c=()=>l(r);if(i){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):c():t._x_transition?t._x_transition.in(r):c();return}t._x_hidePromise=t._x_transition?new Promise((d,h)=>{t._x_transition.out(()=>{},()=>d(o)),t._x_transitioning.beforeCancel(()=>h({isFromCancelledTransition:!0}))}):Promise.resolve(o),queueMicrotask(()=>{let d=l1(t);d?(d._x_hideChildren||(d._x_hideChildren=[]),d._x_hideChildren.push(t)):l(()=>{let h=f=>{let m=Promise.all([f._x_hidePromise,...(f._x_hideChildren||[]).map(h)]).then(([v])=>v());return delete f._x_hidePromise,delete f._x_hideChildren,m};h(t).catch(f=>{if(!f.isFromCancelledTransition)throw f})})})};function l1(t){let i=t.parentNode;if(i)return i._x_hidePromise?i:l1(i)}function Wm(t,i,{during:r,start:o,end:l}={},c=()=>{},d=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(o).length===0&&Object.keys(l).length===0){c(),d();return}let h,f,m;TL(t,{start(){h=i(t,o)},during(){f=i(t,r)},before:c,end(){h(),m=i(t,l)},after:d,cleanup(){f(),m()}})}function TL(t,i){let r,o,l,c=Gm(()=>{Ji(()=>{r=!0,o||i.before(),l||(i.end(),Ym()),i.after(),t.isConnected&&i.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(d){this.beforeCancels.push(d)},cancel:Gm(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();c()}),finish:c},Ji(()=>{i.start(),i.during()}),EL(),requestAnimationFrame(()=>{if(r)return;let d=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,h=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;d===0&&(d=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),Ji(()=>{i.before()}),o=!0,requestAnimationFrame(()=>{r||(Ji(()=>{i.end()}),Ym(),setTimeout(t._x_transitioning.finish,d+h),l=!0)})})}function qu(t,i,r){if(t.indexOf(i)===-1)return r;const o=t[t.indexOf(i)+1];if(!o||i==="scale"&&isNaN(o))return r;if(i==="duration"){let l=o.match(/([0-9]+)ms/);if(l)return l[1]}return i==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(i)+2])?[o,t[t.indexOf(i)+2]].join(" "):o}var Oh=!1;function Mc(t,i=()=>{}){return(...r)=>Oh?i(...r):t(...r)}function CL(t){return(...i)=>Oh&&t(...i)}function ML(t,i){i._x_dataStack||(i._x_dataStack=t._x_dataStack),Oh=!0,OL(()=>{kL(i)}),Oh=!1}function kL(t){let i=!1;gs(t,(o,l)=>{ms(o,(c,d)=>{if(i&&bL(c))return d();i=!0,l(c,d)})})}function OL(t){let i=hu;nE((r,o)=>{let l=i(r);return Sc(l),()=>{}}),t(),nE(i)}function u1(t,i,r,o=[]){switch(t._x_bindings||(t._x_bindings=du({})),t._x_bindings[i]=r,i=o.includes("camel")?BL(i):i,i){case"value":IL(t,r);break;case"style":LL(t,r);break;case"class":RL(t,r);break;default:FL(t,i,r);break}}function IL(t,i){if(t.type==="radio")t.attributes.value===void 0&&(t.value=i),window.fromModel&&(t.checked=oE(t.value,i));else if(t.type==="checkbox")Number.isInteger(i)?t.value=i:!Number.isInteger(i)&&!Array.isArray(i)&&typeof i!="boolean"&&![null,void 0].includes(i)?t.value=String(i):Array.isArray(i)?t.checked=i.some(r=>oE(r,t.value)):t.checked=!!i;else if(t.tagName==="SELECT")PL(t,i);else{if(t.value===i)return;t.value=i}}function RL(t,i){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Hg(t,i)}function LL(t,i){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=sf(t,i)}function FL(t,i,r){[null,void 0,!1].includes(r)&&zL(i)?t.removeAttribute(i):(c1(i)&&(r=i),NL(t,i,r))}function NL(t,i,r){t.getAttribute(i)!=r&&t.setAttribute(i,r)}function PL(t,i){const r=[].concat(i).map(o=>o+"");Array.from(t.options).forEach(o=>{o.selected=r.includes(o.value)})}function BL(t){return t.toLowerCase().replace(/-(\w)/g,(i,r)=>r.toUpperCase())}function oE(t,i){return t==i}function c1(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function zL(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function $L(t,i,r){if(t._x_bindings&&t._x_bindings[i]!==void 0)return t._x_bindings[i];let o=t.getAttribute(i);return o===null?typeof r=="function"?r():r:o===""?!0:c1(i)?!![i,"true"].includes(o):o}function d1(t,i){var r;return function(){var o=this,l=arguments,c=function(){r=null,t.apply(o,l)};clearTimeout(r),r=setTimeout(c,i)}}function h1(t,i){let r;return function(){let o=this,l=arguments;r||(t.apply(o,l),r=!0,setTimeout(()=>r=!1,i))}}function jL(t){t(kc)}var Gs={},aE=!1;function HL(t,i){if(aE||(Gs=du(Gs),aE=!0),i===void 0)return Gs[t];Gs[t]=i,typeof i=="object"&&i!==null&&i.hasOwnProperty("init")&&typeof i.init=="function"&&Gs[t].init(),$w(Gs[t])}function VL(){return Gs}var f1={};function UL(t,i){let r=typeof i!="function"?()=>i:i;t instanceof Element?p1(t,r()):f1[t]=r}function YL(t){return Object.entries(f1).forEach(([i,r])=>{Object.defineProperty(t,i,{get(){return(...o)=>r(...o)}})}),t}function p1(t,i,r){let o=[];for(;o.length;)o.pop()();let l=Object.entries(i).map(([d,h])=>({name:d,value:h})),c=Yw(l);l=l.map(d=>c.find(h=>h.name===d.name)?{name:`x-bind:${d.name}`,value:`"${d.value}"`}:d),Pg(t,l,r).map(d=>{o.push(d.runCleanups),d()})}var m1={};function GL(t,i){m1[t]=i}function WL(t,i){return Object.entries(m1).forEach(([r,o])=>{Object.defineProperty(t,r,{get(){return(...l)=>o.bind(i)(...l)},enumerable:!1})}),t}var qL={get reactive(){return du},get release(){return Sc},get effect(){return hu},get raw(){return Iw},version:"3.11.1",flushAndStopDeferringMutations:rL,dontAutoEvaluateFunctions:sL,disableEffectScheduling:KR,startObservingMutations:Rg,stopObservingMutations:Bw,setReactivityEngine:JR,closestDataStack:tu,skipDuringClone:Mc,onlyDuringClone:CL,addRootSelector:i1,addInitSelector:r1,addScopeToNode:Tc,deferMutations:iL,mapAttributes:Bg,evaluateLater:wr,interceptInit:yL,setEvaluator:lL,mergeProxies:Cc,findClosest:af,closestRoot:of,destroyTree:a1,interceptor:jw,transition:Wm,setStyles:sf,mutateDom:Ji,directive:xi,throttle:h1,debounce:d1,evaluate:Jl,initTree:gs,nextTick:jg,prefixed:fu,prefix:hL,plugin:jL,magic:jo,store:HL,start:vL,clone:ML,bound:$L,$data:zw,walk:ms,data:GL,bind:UL},kc=qL;function KL(t,i){const r=Object.create(null),o=t.split(",");for(let l=0;l<o.length;l++)r[o[l]]=!0;return i?l=>!!r[l.toLowerCase()]:l=>!!r[l]}var JL=Object.freeze({}),g1=Object.assign,XL=Object.prototype.hasOwnProperty,lf=(t,i)=>XL.call(t,i),Qs=Array.isArray,sc=t=>v1(t)==="[object Map]",ZL=t=>typeof t=="string",Vg=t=>typeof t=="symbol",uf=t=>t!==null&&typeof t=="object",QL=Object.prototype.toString,v1=t=>QL.call(t),b1=t=>v1(t).slice(8,-1),Ug=t=>ZL(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,e3=t=>{const i=Object.create(null);return r=>i[r]||(i[r]=t(r))},t3=e3(t=>t.charAt(0).toUpperCase()+t.slice(1)),y1=(t,i)=>t!==i&&(t===t||i===i),qm=new WeakMap,Ku=[],na,el=Symbol("iterate"),Km=Symbol("Map key iterate");function n3(t){return t&&t._isEffect===!0}function i3(t,i=JL){n3(t)&&(t=t.raw);const r=a3(t,i);return i.lazy||r(),r}function r3(t){t.active&&(E1(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var o3=0;function a3(t,i){const r=function(){if(!r.active)return t();if(!Ku.includes(r)){E1(r);try{return l3(),Ku.push(r),na=r,t()}finally{Ku.pop(),_1(),na=Ku[Ku.length-1]}}};return r.id=o3++,r.allowRecurse=!!i.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=i,r}function E1(t){const{deps:i}=t;if(i.length){for(let r=0;r<i.length;r++)i[r].delete(t);i.length=0}}var iu=!0,Yg=[];function s3(){Yg.push(iu),iu=!1}function l3(){Yg.push(iu),iu=!0}function _1(){const t=Yg.pop();iu=t===void 0?!0:t}function Bo(t,i,r){if(!iu||na===void 0)return;let o=qm.get(t);o||qm.set(t,o=new Map);let l=o.get(r);l||o.set(r,l=new Set),l.has(na)||(l.add(na),na.deps.push(l),na.options.onTrack&&na.options.onTrack({effect:na,target:t,type:i,key:r}))}function vs(t,i,r,o,l,c){const d=qm.get(t);if(!d)return;const h=new Set,f=v=>{v&&v.forEach(E=>{(E!==na||E.allowRecurse)&&h.add(E)})};if(i==="clear")d.forEach(f);else if(r==="length"&&Qs(t))d.forEach((v,E)=>{(E==="length"||E>=o)&&f(v)});else switch(r!==void 0&&f(d.get(r)),i){case"add":Qs(t)?Ug(r)&&f(d.get("length")):(f(d.get(el)),sc(t)&&f(d.get(Km)));break;case"delete":Qs(t)||(f(d.get(el)),sc(t)&&f(d.get(Km)));break;case"set":sc(t)&&f(d.get(el));break}const m=v=>{v.options.onTrigger&&v.options.onTrigger({effect:v,target:t,key:r,type:i,newValue:o,oldValue:l,oldTarget:c}),v.options.scheduler?v.options.scheduler(v):v()};h.forEach(m)}var u3=KL("__proto__,__v_isRef,__isVue"),w1=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Vg)),c3=cf(),d3=cf(!1,!0),h3=cf(!0),f3=cf(!0,!0),Ih={};["includes","indexOf","lastIndexOf"].forEach(t=>{const i=Array.prototype[t];Ih[t]=function(...r){const o=Qn(this);for(let c=0,d=this.length;c<d;c++)Bo(o,"get",c+"");const l=i.apply(o,r);return l===-1||l===!1?i.apply(o,r.map(Qn)):l}});["push","pop","shift","unshift","splice"].forEach(t=>{const i=Array.prototype[t];Ih[t]=function(...r){s3();const o=i.apply(this,r);return _1(),o}});function cf(t=!1,i=!1){return function(o,l,c){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_raw"&&c===(t?i?A3:P1:i?w3:N1).get(o))return o;const d=Qs(o);if(!t&&d&&lf(Ih,l))return Reflect.get(Ih,l,c);const h=Reflect.get(o,l,c);return(Vg(l)?w1.has(l):u3(l))||(t||Bo(o,"get",l),i)?h:Jm(h)?!d||!Ug(l)?h.value:h:uf(h)?t?B1(h):Kg(h):h}}var p3=A1(),m3=A1(!0);function A1(t=!1){return function(r,o,l,c){let d=r[o];if(!t&&(l=Qn(l),d=Qn(d),!Qs(r)&&Jm(d)&&!Jm(l)))return d.value=l,!0;const h=Qs(r)&&Ug(o)?Number(o)<r.length:lf(r,o),f=Reflect.set(r,o,l,c);return r===Qn(c)&&(h?y1(l,d)&&vs(r,"set",o,l,d):vs(r,"add",o,l)),f}}function g3(t,i){const r=lf(t,i),o=t[i],l=Reflect.deleteProperty(t,i);return l&&r&&vs(t,"delete",i,void 0,o),l}function v3(t,i){const r=Reflect.has(t,i);return(!Vg(i)||!w1.has(i))&&Bo(t,"has",i),r}function b3(t){return Bo(t,"iterate",Qs(t)?"length":el),Reflect.ownKeys(t)}var D1={get:c3,set:p3,deleteProperty:g3,has:v3,ownKeys:b3},x1={get:h3,set(t,i){return console.warn(`Set operation on key "${String(i)}" failed: target is readonly.`,t),!0},deleteProperty(t,i){return console.warn(`Delete operation on key "${String(i)}" failed: target is readonly.`,t),!0}};g1({},D1,{get:d3,set:m3});g1({},x1,{get:f3});var Gg=t=>uf(t)?Kg(t):t,Wg=t=>uf(t)?B1(t):t,qg=t=>t,df=t=>Reflect.getPrototypeOf(t);function hf(t,i,r=!1,o=!1){t=t.__v_raw;const l=Qn(t),c=Qn(i);i!==c&&!r&&Bo(l,"get",i),!r&&Bo(l,"get",c);const{has:d}=df(l),h=o?qg:r?Wg:Gg;if(d.call(l,i))return h(t.get(i));if(d.call(l,c))return h(t.get(c));t!==l&&t.get(i)}function ff(t,i=!1){const r=this.__v_raw,o=Qn(r),l=Qn(t);return t!==l&&!i&&Bo(o,"has",t),!i&&Bo(o,"has",l),t===l?r.has(t):r.has(t)||r.has(l)}function pf(t,i=!1){return t=t.__v_raw,!i&&Bo(Qn(t),"iterate",el),Reflect.get(t,"size",t)}function S1(t){t=Qn(t);const i=Qn(this);return df(i).has.call(i,t)||(i.add(t),vs(i,"add",t,t)),this}function T1(t,i){i=Qn(i);const r=Qn(this),{has:o,get:l}=df(r);let c=o.call(r,t);c?F1(r,o,t):(t=Qn(t),c=o.call(r,t));const d=l.call(r,t);return r.set(t,i),c?y1(i,d)&&vs(r,"set",t,i,d):vs(r,"add",t,i),this}function C1(t){const i=Qn(this),{has:r,get:o}=df(i);let l=r.call(i,t);l?F1(i,r,t):(t=Qn(t),l=r.call(i,t));const c=o?o.call(i,t):void 0,d=i.delete(t);return l&&vs(i,"delete",t,void 0,c),d}function M1(){const t=Qn(this),i=t.size!==0,r=sc(t)?new Map(t):new Set(t),o=t.clear();return i&&vs(t,"clear",void 0,void 0,r),o}function mf(t,i){return function(o,l){const c=this,d=c.__v_raw,h=Qn(d),f=i?qg:t?Wg:Gg;return!t&&Bo(h,"iterate",el),d.forEach((m,v)=>o.call(l,f(m),f(v),c))}}function qd(t,i,r){return function(...o){const l=this.__v_raw,c=Qn(l),d=sc(c),h=t==="entries"||t===Symbol.iterator&&d,f=t==="keys"&&d,m=l[t](...o),v=r?qg:i?Wg:Gg;return!i&&Bo(c,"iterate",f?Km:el),{next(){const{value:E,done:b}=m.next();return b?{value:E,done:b}:{value:h?[v(E[0]),v(E[1])]:v(E),done:b}},[Symbol.iterator](){return this}}}}function ds(t){return function(...i){{const r=i[0]?`on key "${i[0]}" `:"";console.warn(`${t3(t)} operation ${r}failed: target is readonly.`,Qn(this))}return t==="delete"?!1:this}}var k1={get(t){return hf(this,t)},get size(){return pf(this)},has:ff,add:S1,set:T1,delete:C1,clear:M1,forEach:mf(!1,!1)},O1={get(t){return hf(this,t,!1,!0)},get size(){return pf(this)},has:ff,add:S1,set:T1,delete:C1,clear:M1,forEach:mf(!1,!0)},I1={get(t){return hf(this,t,!0)},get size(){return pf(this,!0)},has(t){return ff.call(this,t,!0)},add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear"),forEach:mf(!0,!1)},R1={get(t){return hf(this,t,!0,!0)},get size(){return pf(this,!0)},has(t){return ff.call(this,t,!0)},add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear"),forEach:mf(!0,!0)},y3=["keys","values","entries",Symbol.iterator];y3.forEach(t=>{k1[t]=qd(t,!1,!1),I1[t]=qd(t,!0,!1),O1[t]=qd(t,!1,!0),R1[t]=qd(t,!0,!0)});function L1(t,i){const r=i?t?R1:O1:t?I1:k1;return(o,l,c)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?o:Reflect.get(lf(r,l)&&l in o?r:o,l,c)}var E3={get:L1(!1,!1)},_3={get:L1(!0,!1)};function F1(t,i,r){const o=Qn(r);if(o!==r&&i.call(t,o)){const l=b1(t);console.warn(`Reactive ${l} contains both the raw and reactive versions of the same object${l==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var N1=new WeakMap,w3=new WeakMap,P1=new WeakMap,A3=new WeakMap;function D3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function x3(t){return t.__v_skip||!Object.isExtensible(t)?0:D3(b1(t))}function Kg(t){return t&&t.__v_isReadonly?t:z1(t,!1,D1,E3,N1)}function B1(t){return z1(t,!0,x1,_3,P1)}function z1(t,i,r,o,l){if(!uf(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(i&&t.__v_isReactive))return t;const c=l.get(t);if(c)return c;const d=x3(t);if(d===0)return t;const h=new Proxy(t,d===2?o:r);return l.set(t,h),h}function Qn(t){return t&&Qn(t.__v_raw)||t}function Jm(t){return Boolean(t&&t.__v_isRef===!0)}jo("nextTick",()=>jg);jo("dispatch",t=>ac.bind(ac,t));jo("watch",(t,{evaluateLater:i,effect:r})=>(o,l)=>{let c=i(o),d=!0,h,f=r(()=>c(m=>{JSON.stringify(m),d?h=m:queueMicrotask(()=>{l(m,h),h=m}),d=!1}));t._x_effects.delete(f)});jo("store",VL);jo("data",t=>zw(t));jo("root",t=>of(t));jo("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Cc(S3(t))),t._x_refs_proxy));function S3(t){let i=[],r=t;for(;r;)r._x_refs&&i.push(r._x_refs),r=r.parentNode;return i}var im={};function $1(t){return im[t]||(im[t]=0),++im[t]}function T3(t,i){return af(t,r=>{if(r._x_ids&&r._x_ids[i])return!0})}function C3(t,i){t._x_ids||(t._x_ids={}),t._x_ids[i]||(t._x_ids[i]=$1(i))}jo("id",t=>(i,r=null)=>{let o=T3(t,i),l=o?o._x_ids[i]:$1(i);return r?`${i}-${l}-${r}`:`${i}-${l}`});jo("el",t=>t);j1("Focus","focus","focus");j1("Persist","persist","persist");function j1(t,i,r){jo(i,o=>nu(`You can't use [$${directiveName}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,o))}function M3({get:t,set:i},{get:r,set:o}){let l=!0,c,d,h=hu(()=>{let f,m;l?(f=t(),o(f),m=r(),l=!1):(f=t(),m=r(),d=JSON.stringify(f),JSON.stringify(m),d!==c?(m=r(),o(f),m=f):(i(m),f=m)),c=JSON.stringify(f),JSON.stringify(m)});return()=>{Sc(h)}}xi("modelable",(t,{expression:i},{effect:r,evaluateLater:o,cleanup:l})=>{let c=o(i),d=()=>{let v;return c(E=>v=E),v},h=o(`${i} = __placeholder`),f=v=>h(()=>{},{scope:{__placeholder:v}}),m=d();f(m),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let v=t._x_model.get,E=t._x_model.set,b=M3({get(){return v()},set(w){E(w)}},{get(){return d()},set(w){f(w)}});l(b)})});var k3=document.createElement("div");xi("teleport",(t,{modifiers:i,expression:r},{cleanup:o})=>{t.tagName.toLowerCase()!=="template"&&nu("x-teleport can only be used on a <template> tag",t);let l=Mc(()=>document.querySelector(r),()=>k3)();l||nu(`Cannot find x-teleport element for selector: "${r}"`);let c=t.content.cloneNode(!0).firstElementChild;t._x_teleport=c,c._x_teleportBack=t,t._x_forwardEvents&&t._x_forwardEvents.forEach(d=>{c.addEventListener(d,h=>{h.stopPropagation(),t.dispatchEvent(new h.constructor(h.type,h))})}),Tc(c,{},t),Ji(()=>{i.includes("prepend")?l.parentNode.insertBefore(c,l):i.includes("append")?l.parentNode.insertBefore(c,l.nextSibling):l.appendChild(c),gs(c),c._x_ignore=!0}),o(()=>c.remove())});var H1=()=>{};H1.inline=(t,{modifiers:i},{cleanup:r})=>{i.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{i.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};xi("ignore",H1);xi("effect",(t,{expression:i},{effect:r})=>r(wr(t,i)));function Xm(t,i,r,o){let l=t,c=f=>o(f),d={},h=(f,m)=>v=>m(f,v);if(r.includes("dot")&&(i=O3(i)),r.includes("camel")&&(i=I3(i)),r.includes("passive")&&(d.passive=!0),r.includes("capture")&&(d.capture=!0),r.includes("window")&&(l=window),r.includes("document")&&(l=document),r.includes("prevent")&&(c=h(c,(f,m)=>{m.preventDefault(),f(m)})),r.includes("stop")&&(c=h(c,(f,m)=>{m.stopPropagation(),f(m)})),r.includes("self")&&(c=h(c,(f,m)=>{m.target===t&&f(m)})),(r.includes("away")||r.includes("outside"))&&(l=document,c=h(c,(f,m)=>{t.contains(m.target)||m.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&f(m))})),r.includes("once")&&(c=h(c,(f,m)=>{f(m),l.removeEventListener(i,c,d)})),c=h(c,(f,m)=>{L3(i)&&F3(m,r)||f(m)}),r.includes("debounce")){let f=r[r.indexOf("debounce")+1]||"invalid-wait",m=Rh(f.split("ms")[0])?Number(f.split("ms")[0]):250;c=d1(c,m)}if(r.includes("throttle")){let f=r[r.indexOf("throttle")+1]||"invalid-wait",m=Rh(f.split("ms")[0])?Number(f.split("ms")[0]):250;c=h1(c,m)}return l.addEventListener(i,c,d),()=>{l.removeEventListener(i,c,d)}}function O3(t){return t.replace(/-/g,".")}function I3(t){return t.toLowerCase().replace(/-(\w)/g,(i,r)=>r.toUpperCase())}function Rh(t){return!Array.isArray(t)&&!isNaN(t)}function R3(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function L3(t){return["keydown","keyup"].includes(t)}function F3(t,i){let r=i.filter(c=>!["window","document","prevent","stop","once"].includes(c));if(r.includes("debounce")){let c=r.indexOf("debounce");r.splice(c,Rh((r[c+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let c=r.indexOf("throttle");r.splice(c,Rh((r[c+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&sE(t.key).includes(r[0]))return!1;const l=["ctrl","shift","alt","meta","cmd","super"].filter(c=>r.includes(c));return r=r.filter(c=>!l.includes(c)),!(l.length>0&&l.filter(d=>((d==="cmd"||d==="super")&&(d="meta"),t[`${d}Key`])).length===l.length&&sE(t.key).includes(r[0]))}function sE(t){if(!t)return[];t=R3(t);let i={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return i[t]=t,Object.keys(i).map(r=>{if(i[r]===t)return r}).filter(r=>r)}xi("model",(t,{modifiers:i,expression:r},{effect:o,cleanup:l})=>{let c=t;i.includes("parent")&&(c=t.parentNode);let d=wr(c,r),h;typeof r=="string"?h=wr(c,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?h=wr(c,`${r()} = __placeholder`):h=()=>{};let f=()=>{let b;return d(w=>b=w),lE(b)?b.get():b},m=b=>{let w;d(A=>w=A),lE(w)?w.set(b):h(()=>{},{scope:{__placeholder:b}})};typeof r=="string"&&t.type==="radio"&&Ji(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});var v=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||i.includes("lazy")?"change":"input";let E=Xm(t,v,i,b=>{m(N3(t,i,b,f()))});if(t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=E,l(()=>t._x_removeModelListeners.default()),t.form){let b=Xm(t.form,"reset",[],w=>{jg(()=>t._x_model&&t._x_model.set(t.value))});l(()=>b())}t._x_model={get(){return f()},set(b){m(b)}},t._x_forceModelUpdate=b=>{b=b===void 0?f():b,b===void 0&&typeof r=="string"&&r.match(/\./)&&(b=""),window.fromModel=!0,Ji(()=>u1(t,"value",b)),delete window.fromModel},o(()=>{let b=f();i.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(b)})});function N3(t,i,r,o){return Ji(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return typeof r.detail<"u"?r.detail:r.target.value;if(t.type==="checkbox")if(Array.isArray(o)){let l=i.includes("number")?rm(r.target.value):r.target.value;return r.target.checked?o.concat([l]):o.filter(c=>!P3(c,l))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return i.includes("number")?Array.from(r.target.selectedOptions).map(l=>{let c=l.value||l.text;return rm(c)}):Array.from(r.target.selectedOptions).map(l=>l.value||l.text);{let l=r.target.value;return i.includes("number")?rm(l):i.includes("trim")?l.trim():l}}})}function rm(t){let i=t?parseFloat(t):null;return B3(i)?i:t}function P3(t,i){return t==i}function B3(t){return!Array.isArray(t)&&!isNaN(t)}function lE(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}xi("cloak",t=>queueMicrotask(()=>Ji(()=>t.removeAttribute(fu("cloak")))));r1(()=>`[${fu("init")}]`);xi("init",Mc((t,{expression:i},{evaluate:r})=>typeof i=="string"?!!i.trim()&&r(i,{},!1):r(i,{},!1)));xi("text",(t,{expression:i},{effect:r,evaluateLater:o})=>{let l=o(i);r(()=>{l(c=>{Ji(()=>{t.textContent=c})})})});xi("html",(t,{expression:i},{effect:r,evaluateLater:o})=>{let l=o(i);r(()=>{l(c=>{Ji(()=>{t.innerHTML=c,t._x_ignoreSelf=!0,gs(t),delete t._x_ignoreSelf})})})});Bg(qw(":",Kw(fu("bind:"))));xi("bind",(t,{value:i,modifiers:r,expression:o,original:l},{effect:c})=>{if(!i){let h={};YL(h),wr(t,o)(m=>{p1(t,m,l)},{scope:h});return}if(i==="key")return z3(t,o);let d=wr(t,o);c(()=>d(h=>{h===void 0&&typeof o=="string"&&o.match(/\./)&&(h=""),Ji(()=>u1(t,i,h,r))}))});function z3(t,i){t._x_keyExpression=i}i1(()=>`[${fu("data")}]`);xi("data",Mc((t,{expression:i},{cleanup:r})=>{i=i===""?"{}":i;let o={};$m(o,t);let l={};WL(l,o);let c=Jl(t,i,{scope:l});c===void 0&&(c={}),$m(c,t);let d=du(c);$w(d);let h=Tc(t,d);d.init&&Jl(t,d.init),r(()=>{d.destroy&&Jl(t,d.destroy),h()})}));xi("show",(t,{modifiers:i,expression:r},{effect:o})=>{let l=wr(t,r);t._x_doHide||(t._x_doHide=()=>{Ji(()=>{t.style.setProperty("display","none",i.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{Ji(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let c=()=>{t._x_doHide(),t._x_isShown=!1},d=()=>{t._x_doShow(),t._x_isShown=!0},h=()=>setTimeout(d),f=Gm(E=>E?d():c(),E=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,E,d,c):E?h():c()}),m,v=!0;o(()=>l(E=>{!v&&E===m||(i.includes("immediate")&&(E?h():c()),f(E),m=E,v=!1)}))});xi("for",(t,{expression:i},{effect:r,cleanup:o})=>{let l=j3(i),c=wr(t,l.items),d=wr(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>$3(t,l,c,d)),o(()=>{Object.values(t._x_lookup).forEach(h=>h.remove()),delete t._x_prevKeys,delete t._x_lookup})});function $3(t,i,r,o){let l=d=>typeof d=="object"&&!Array.isArray(d),c=t;r(d=>{H3(d)&&d>=0&&(d=Array.from(Array(d).keys(),S=>S+1)),d===void 0&&(d=[]);let h=t._x_lookup,f=t._x_prevKeys,m=[],v=[];if(l(d))d=Object.entries(d).map(([S,T])=>{let M=uE(i,T,S,d);o(D=>v.push(D),{scope:{index:S,...M}}),m.push(M)});else for(let S=0;S<d.length;S++){let T=uE(i,d[S],S,d);o(M=>v.push(M),{scope:{index:S,...T}}),m.push(T)}let E=[],b=[],w=[],A=[];for(let S=0;S<f.length;S++){let T=f[S];v.indexOf(T)===-1&&w.push(T)}f=f.filter(S=>!w.includes(S));let y="template";for(let S=0;S<v.length;S++){let T=v[S],M=f.indexOf(T);if(M===-1)f.splice(S,0,T),E.push([y,S]);else if(M!==S){let D=f.splice(S,1)[0],C=f.splice(M-1,1)[0];f.splice(S,0,C),f.splice(M,0,D),b.push([D,C])}else A.push(T);y=T}for(let S=0;S<w.length;S++){let T=w[S];h[T]._x_effects&&h[T]._x_effects.forEach(Ow),h[T].remove(),h[T]=null,delete h[T]}for(let S=0;S<b.length;S++){let[T,M]=b[S],D=h[T],C=h[M],k=document.createElement("div");Ji(()=>{C.after(k),D.after(C),C._x_currentIfEl&&C.after(C._x_currentIfEl),k.before(D),D._x_currentIfEl&&D.after(D._x_currentIfEl),k.remove()}),iE(C,m[v.indexOf(M)])}for(let S=0;S<E.length;S++){let[T,M]=E[S],D=T==="template"?c:h[T];D._x_currentIfEl&&(D=D._x_currentIfEl);let C=m[M],k=v[M],I=document.importNode(c.content,!0).firstElementChild;Tc(I,du(C),c),Ji(()=>{D.after(I),gs(I)}),typeof k=="object"&&nu("x-for key cannot be an object, it must be a string or an integer",c),h[k]=I}for(let S=0;S<A.length;S++)iE(h[A[S]],m[v.indexOf(A[S])]);c._x_prevKeys=v})}function j3(t){let i=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,o=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,l=t.match(o);if(!l)return;let c={};c.items=l[2].trim();let d=l[1].replace(r,"").trim(),h=d.match(i);return h?(c.item=d.replace(i,"").trim(),c.index=h[1].trim(),h[2]&&(c.collection=h[2].trim())):c.item=d,c}function uE(t,i,r,o){let l={};return/^\[.*\]$/.test(t.item)&&Array.isArray(i)?t.item.replace("[","").replace("]","").split(",").map(d=>d.trim()).forEach((d,h)=>{l[d]=i[h]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(i)&&typeof i=="object"?t.item.replace("{","").replace("}","").split(",").map(d=>d.trim()).forEach(d=>{l[d]=i[d]}):l[t.item]=i,t.index&&(l[t.index]=r),t.collection&&(l[t.collection]=o),l}function H3(t){return!Array.isArray(t)&&!isNaN(t)}function V1(){}V1.inline=(t,{expression:i},{cleanup:r})=>{let o=of(t);o._x_refs||(o._x_refs={}),o._x_refs[i]=t,r(()=>delete o._x_refs[i])};xi("ref",V1);xi("if",(t,{expression:i},{effect:r,cleanup:o})=>{let l=wr(t,i),c=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let h=t.content.cloneNode(!0).firstElementChild;return Tc(h,{},t),Ji(()=>{t.after(h),gs(h)}),t._x_currentIfEl=h,t._x_undoIf=()=>{ms(h,f=>{f._x_effects&&f._x_effects.forEach(Ow)}),h.remove(),delete t._x_currentIfEl},h},d=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>l(h=>{h?c():d()})),o(()=>t._x_undoIf&&t._x_undoIf())});xi("id",(t,{expression:i},{evaluate:r})=>{r(i).forEach(l=>C3(t,l))});Bg(qw("@",Kw(fu("on:"))));xi("on",Mc((t,{value:i,modifiers:r,expression:o},{cleanup:l})=>{let c=o?wr(t,o):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(i)||t._x_forwardEvents.push(i));let d=Xm(t,i,r,h=>{c(()=>{},{scope:{$event:h},params:[h]})});l(()=>d())}));gf("Collapse","collapse","collapse");gf("Intersect","intersect","intersect");gf("Focus","trap","focus");gf("Mask","mask","mask");function gf(t,i,r){xi(i,o=>nu(`You can't use [x-${i}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,o))}kc.setEvaluator(Uw);kc.setReactivityEngine({reactive:Kg,effect:i3,release:r3,raw:Qn});var V3=kc,Es=V3;/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var U1=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],cE=U1.join(","),Lh=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Y1=function(i,r,o){var l=Array.prototype.slice.apply(i.querySelectorAll(cE));return r&&Lh.call(i,cE)&&l.unshift(i),l=l.filter(o),l},U3=function(i){return i.contentEditable==="true"},G1=function(i){var r=parseInt(i.getAttribute("tabindex"),10);return isNaN(r)?U3(i)||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:r},Y3=function(i,r){return i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex},Jg=function(i){return i.tagName==="INPUT"},G3=function(i){return Jg(i)&&i.type==="hidden"},W3=function(i){var r=i.tagName==="DETAILS"&&Array.prototype.slice.apply(i.children).some(function(o){return o.tagName==="SUMMARY"});return r},q3=function(i,r){for(var o=0;o<i.length;o++)if(i[o].checked&&i[o].form===r)return i[o]},K3=function(i){if(!i.name)return!0;var r=i.form||i.ownerDocument,o=function(h){return r.querySelectorAll('input[type="radio"][name="'+h+'"]')},l;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")l=o(window.CSS.escape(i.name));else try{l=o(i.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var c=q3(l,i.form);return!c||c===i},J3=function(i){return Jg(i)&&i.type==="radio"},X3=function(i){return J3(i)&&!K3(i)},Z3=function(i,r){if(getComputedStyle(i).visibility==="hidden")return!0;var o=Lh.call(i,"details>summary:first-of-type"),l=o?i.parentElement:i;if(Lh.call(l,"details:not([open]) *"))return!0;if(!r||r==="full")for(;i;){if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}else if(r==="non-zero-area"){var c=i.getBoundingClientRect(),d=c.width,h=c.height;return d===0&&h===0}return!1},Q3=function(i){if(Jg(i)||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.tagName==="BUTTON")for(var r=i.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var o=0;o<r.children.length;o++){var l=r.children.item(o);if(l.tagName==="LEGEND")return!l.contains(i)}return!0}r=r.parentElement}return!1},Xg=function(i,r){return!(r.disabled||G3(r)||Z3(r,i.displayCheck)||W3(r)||Q3(r))},eF=function(i,r){return!(!Xg(i,r)||X3(r)||G1(r)<0)},tF=function(i,r){r=r||{};var o=[],l=[],c=Y1(i,r.includeContainer,eF.bind(null,r));c.forEach(function(h,f){var m=G1(h);m===0?o.push(h):l.push({documentOrder:f,tabIndex:m,node:h})});var d=l.sort(Y3).map(function(h){return h.node}).concat(o);return d},nF=function(i,r){r=r||{};var o=Y1(i,r.includeContainer,Xg.bind(null,r));return o},iF=U1.concat("iframe").join(","),W1=function(i,r){if(r=r||{},!i)throw new Error("No node provided");return Lh.call(i,iF)===!1?!1:Xg(r,i)};/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function dE(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,o)}return r}function rF(t){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?dE(Object(r),!0).forEach(function(o){oF(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function oF(t,i,r){return i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}var hE=function(){var t=[];return{activateTrap:function(r){if(t.length>0){var o=t[t.length-1];o!==r&&o.pause()}var l=t.indexOf(r);l===-1||t.splice(l,1),t.push(r)},deactivateTrap:function(r){var o=t.indexOf(r);o!==-1&&t.splice(o,1),t.length>0&&t[t.length-1].unpause()}}}(),aF=function(i){return i.tagName&&i.tagName.toLowerCase()==="input"&&typeof i.select=="function"},sF=function(i){return i.key==="Escape"||i.key==="Esc"||i.keyCode===27},lF=function(i){return i.key==="Tab"||i.keyCode===9},fE=function(i){return setTimeout(i,0)},om=function(i,r){var o=-1;return i.every(function(l,c){return r(l)?(o=c,!1):!0}),o},Ju=function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return typeof i=="function"?i.apply(void 0,o):i},uF=function(i,r){var o=document,l=rF({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},r),c={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},d,h=function(I,R,F){return I&&I[R]!==void 0?I[R]:l[F||R]},f=function(I){return c.containers.some(function(R){return R.contains(I)})},m=function(I){var R=l[I];if(!R)return null;var F=R;if(typeof R=="string"&&(F=o.querySelector(R),!F))throw new Error("`".concat(I,"` refers to no known node"));if(typeof R=="function"&&(F=R(),!F))throw new Error("`".concat(I,"` did not return a node"));return F},v=function(){var I;if(h({},"initialFocus")===!1)return!1;if(m("initialFocus")!==null)I=m("initialFocus");else if(f(o.activeElement))I=o.activeElement;else{var R=c.tabbableGroups[0],F=R&&R.firstTabbableNode;I=F||m("fallbackFocus")}if(!I)throw new Error("Your focus-trap needs to have at least one focusable element");return I},E=function(){if(c.tabbableGroups=c.containers.map(function(I){var R=tF(I);if(R.length>0)return{container:I,firstTabbableNode:R[0],lastTabbableNode:R[R.length-1]}}).filter(function(I){return!!I}),c.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},b=function k(I){if(I!==!1&&I!==o.activeElement){if(!I||!I.focus){k(v());return}I.focus({preventScroll:!!l.preventScroll}),c.mostRecentlyFocusedNode=I,aF(I)&&I.select()}},w=function(I){var R=m("setReturnFocus");return R||I},A=function(I){if(!f(I.target)){if(Ju(l.clickOutsideDeactivates,I)){d.deactivate({returnFocus:l.returnFocusOnDeactivate&&!W1(I.target)});return}Ju(l.allowOutsideClick,I)||I.preventDefault()}},y=function(I){var R=f(I.target);R||I.target instanceof Document?R&&(c.mostRecentlyFocusedNode=I.target):(I.stopImmediatePropagation(),b(c.mostRecentlyFocusedNode||v()))},S=function(I){E();var R=null;if(c.tabbableGroups.length>0){var F=om(c.tabbableGroups,function($){var N=$.container;return N.contains(I.target)});if(F<0)I.shiftKey?R=c.tabbableGroups[c.tabbableGroups.length-1].lastTabbableNode:R=c.tabbableGroups[0].firstTabbableNode;else if(I.shiftKey){var j=om(c.tabbableGroups,function($){var N=$.firstTabbableNode;return I.target===N});if(j<0&&c.tabbableGroups[F].container===I.target&&(j=F),j>=0){var Y=j===0?c.tabbableGroups.length-1:j-1,G=c.tabbableGroups[Y];R=G.lastTabbableNode}}else{var B=om(c.tabbableGroups,function($){var N=$.lastTabbableNode;return I.target===N});if(B<0&&c.tabbableGroups[F].container===I.target&&(B=F),B>=0){var P=B===c.tabbableGroups.length-1?0:B+1,z=c.tabbableGroups[P];R=z.firstTabbableNode}}}else R=m("fallbackFocus");R&&(I.preventDefault(),b(R))},T=function(I){if(sF(I)&&Ju(l.escapeDeactivates)!==!1){I.preventDefault(),d.deactivate();return}if(lF(I)){S(I);return}},M=function(I){Ju(l.clickOutsideDeactivates,I)||f(I.target)||Ju(l.allowOutsideClick,I)||(I.preventDefault(),I.stopImmediatePropagation())},D=function(){if(c.active)return hE.activateTrap(d),c.delayInitialFocusTimer=l.delayInitialFocus?fE(function(){b(v())}):b(v()),o.addEventListener("focusin",y,!0),o.addEventListener("mousedown",A,{capture:!0,passive:!1}),o.addEventListener("touchstart",A,{capture:!0,passive:!1}),o.addEventListener("click",M,{capture:!0,passive:!1}),o.addEventListener("keydown",T,{capture:!0,passive:!1}),d},C=function(){if(c.active)return o.removeEventListener("focusin",y,!0),o.removeEventListener("mousedown",A,!0),o.removeEventListener("touchstart",A,!0),o.removeEventListener("click",M,!0),o.removeEventListener("keydown",T,!0),d};return d={activate:function(I){if(c.active)return this;var R=h(I,"onActivate"),F=h(I,"onPostActivate"),j=h(I,"checkCanFocusTrap");j||E(),c.active=!0,c.paused=!1,c.nodeFocusedBeforeActivation=o.activeElement,R&&R();var Y=function(){j&&E(),D(),F&&F()};return j?(j(c.containers.concat()).then(Y,Y),this):(Y(),this)},deactivate:function(I){if(!c.active)return this;clearTimeout(c.delayInitialFocusTimer),c.delayInitialFocusTimer=void 0,C(),c.active=!1,c.paused=!1,hE.deactivateTrap(d);var R=h(I,"onDeactivate"),F=h(I,"onPostDeactivate"),j=h(I,"checkCanReturnFocus");R&&R();var Y=h(I,"returnFocus","returnFocusOnDeactivate"),G=function(){fE(function(){Y&&b(w(c.nodeFocusedBeforeActivation)),F&&F()})};return Y&&j?(j(w(c.nodeFocusedBeforeActivation)).then(G,G),this):(G(),this)},pause:function(){return c.paused||!c.active?this:(c.paused=!0,C(),this)},unpause:function(){return!c.paused||!c.active?this:(c.paused=!1,E(),D(),this)},updateContainerElements:function(I){var R=[].concat(I).filter(Boolean);return c.containers=R.map(function(F){return typeof F=="string"?o.querySelector(F):F}),c.active&&E(),this}},d.updateContainerElements(i),d};function cF(t){let i,r;window.addEventListener("focusin",()=>{i=r,r=document.activeElement}),t.magic("focus",o=>{let l=o;return{__noscroll:!1,__wrapAround:!1,within(c){return l=c,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(c){return W1(c)},previouslyFocused(){return i},lastFocused(){return i},focused(){return r},focusables(){return Array.isArray(l)?l:nF(l,{displayCheck:"none"})},all(){return this.focusables()},isFirst(c){let d=this.all();return d[0]&&d[0].isSameNode(c)},isLast(c){let d=this.all();return d.length&&d.slice(-1)[0].isSameNode(c)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let c=this.all(),d=document.activeElement;if(c.indexOf(d)!==-1)return this.__wrapAround&&c.indexOf(d)===c.length-1?c[0]:c[c.indexOf(d)+1]},getPrevious(){let c=this.all(),d=document.activeElement;if(c.indexOf(d)!==-1)return this.__wrapAround&&c.indexOf(d)===0?c.slice(-1)[0]:c[c.indexOf(d)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(c){c&&setTimeout(()=>{c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),c.focus({preventScroll:this._noscroll})})}}}),t.directive("trap",t.skipDuringClone((o,{expression:l,modifiers:c},{effect:d,evaluateLater:h,cleanup:f})=>{let m=h(l),v=!1,E=uF(o,{escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>o,initialFocus:o.querySelector("[autofocus]")}),b=()=>{},w=()=>{};const A=()=>{b(),b=()=>{},w(),w=()=>{},E.deactivate({returnFocus:!c.includes("noreturn")})};d(()=>m(y=>{v!==y&&(y&&!v&&setTimeout(()=>{c.includes("inert")&&(b=pE(o)),c.includes("noscroll")&&(w=dF()),E.activate()}),!y&&v&&A(),v=!!y)})),f(A)},(o,{expression:l,modifiers:c},{evaluate:d})=>{c.includes("inert")&&d(l)&&pE(o)}))}function pE(t){let i=[];return q1(t,r=>{let o=r.hasAttribute("aria-hidden");r.setAttribute("aria-hidden","true"),i.push(()=>o||r.removeAttribute("aria-hidden"))}),()=>{for(;i.length;)i.pop()()}}function q1(t,i){t.isSameNode(document.body)||!t.parentNode||Array.from(t.parentNode.children).forEach(r=>{r.isSameNode(t)?q1(t.parentNode,i):i(r)})}function dF(){let t=document.documentElement.style.overflow,i=document.documentElement.style.paddingRight,r=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${r}px`,()=>{document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=i}}var hF=cF;function fF(t){let i=()=>{let r,o=localStorage;return t.interceptor((l,c,d,h,f)=>{let m=r||`_x_${h}`,v=mE(m,o)?gE(m,o):l;return d(v),t.effect(()=>{let E=c();vE(m,E,o),d(E)}),v},l=>{l.as=c=>(r=c,l),l.using=c=>(o=c,l)})};Object.defineProperty(t,"$persist",{get:()=>i()}),t.magic("persist",i),t.persist=(r,{get:o,set:l},c=localStorage)=>{let d=mE(r,c)?gE(r,c):o();l(d),t.effect(()=>{let h=o();vE(r,h,c),l(h)})}}function mE(t,i){return i.getItem(t)!==null}function gE(t,i){return JSON.parse(i.getItem(t,i))}function vE(t,i,r){r.setItem(t,JSON.stringify(i))}var pF=fF;function mF(t){t.directive("collapse",i),i.inline=(r,{modifiers:o})=>{o.includes("min")&&(r._x_doShow=()=>{},r._x_doHide=()=>{})};function i(r,{modifiers:o}){let l=bE(o,"duration",250)/1e3,c=bE(o,"min",0),d=!o.includes("min");r._x_isShown||(r.style.height=`${c}px`),!r._x_isShown&&d&&(r.hidden=!0),r._x_isShown||(r.style.overflow="hidden");let h=(m,v)=>{let E=t.setStyles(m,v);return v.height?()=>{}:E},f={transitionProperty:"height",transitionDuration:`${l}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};r._x_transition={in(m=()=>{},v=()=>{}){d&&(r.hidden=!1),d&&(r.style.display=null);let E=r.getBoundingClientRect().height;r.style.height="auto";let b=r.getBoundingClientRect().height;E===b&&(E=c),t.transition(r,t.setStyles,{during:f,start:{height:E+"px"},end:{height:b+"px"}},()=>r._x_isShown=!0,()=>{r.getBoundingClientRect().height==b&&(r.style.overflow=null)})},out(m=()=>{},v=()=>{}){let E=r.getBoundingClientRect().height;t.transition(r,h,{during:f,start:{height:E+"px"},end:{height:c+"px"}},()=>r.style.overflow="hidden",()=>{r._x_isShown=!1,r.style.height==`${c}px`&&d&&(r.style.display="none",r.hidden=!0)})}}}}function bE(t,i,r){if(t.indexOf(i)===-1)return r;const o=t[t.indexOf(i)+1];if(!o)return r;if(i==="duration"){let l=o.match(/([0-9]+)ms/);if(l)return l[1]}if(i==="min"){let l=o.match(/([0-9]+)px/);if(l)return l[1]}return o}var gF=mF;(()=>{var t=Object.create,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),h=(e,n,a,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let u of o(n))!c.call(e,u)&&u!==a&&i(e,u,{get:()=>n[u],enumerable:!(s=r(n,u))||s.enumerable});return e},f=(e,n,a)=>(a=e!=null?t(l(e)):{},h(n||!e||!e.__esModule?i(a,"default",{value:e,enumerable:!0}):a,e)),m=d((e,n)=>{var a={exports:{}};function s(Z){return Z instanceof Map?Z.clear=Z.delete=Z.set=function(){throw new Error("map is read-only")}:Z instanceof Set&&(Z.add=Z.clear=Z.delete=function(){throw new Error("set is read-only")}),Object.freeze(Z),Object.getOwnPropertyNames(Z).forEach(function(Fe){var _t=Z[Fe];typeof _t=="object"&&!Object.isFrozen(_t)&&s(_t)}),Z}a.exports=s,a.exports.default=s;var u=class{constructor(Z){Z.data===void 0&&(Z.data={}),this.data=Z.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function p(Z){return Z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function g(Z,...Fe){let _t=Object.create(null);for(let bn in Z)_t[bn]=Z[bn];return Fe.forEach(function(bn){for(let pi in bn)_t[pi]=bn[pi]}),_t}var _="</span>",x=Z=>!!Z.scope||Z.sublanguage&&Z.language,O=(Z,{prefix:Fe})=>{if(Z.includes(".")){let _t=Z.split(".");return[`${Fe}${_t.shift()}`,..._t.map((bn,pi)=>`${bn}${"_".repeat(pi+1)}`)].join(" ")}return`${Fe}${Z}`},L=class{constructor(Z,Fe){this.buffer="",this.classPrefix=Fe.classPrefix,Z.walk(this)}addText(Z){this.buffer+=p(Z)}openNode(Z){if(!x(Z))return;let Fe="";Z.sublanguage?Fe=`language-${Z.language}`:Fe=O(Z.scope,{prefix:this.classPrefix}),this.span(Fe)}closeNode(Z){!x(Z)||(this.buffer+=_)}value(){return this.buffer}span(Z){this.buffer+=`<span class="${Z}">`}},H=(Z={})=>{let Fe={children:[]};return Object.assign(Fe,Z),Fe},U=class{constructor(){this.rootNode=H(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(Z){this.top.children.push(Z)}openNode(Z){let Fe=H({scope:Z});this.add(Fe),this.stack.push(Fe)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(Z){return this.constructor._walk(Z,this.rootNode)}static _walk(Z,Fe){return typeof Fe=="string"?Z.addText(Fe):Fe.children&&(Z.openNode(Fe),Fe.children.forEach(_t=>this._walk(Z,_t)),Z.closeNode(Fe)),Z}static _collapse(Z){typeof Z!="string"&&(!Z.children||(Z.children.every(Fe=>typeof Fe=="string")?Z.children=[Z.children.join("")]:Z.children.forEach(Fe=>{U._collapse(Fe)})))}},W=class extends U{constructor(Z){super(),this.options=Z}addKeyword(Z,Fe){Z!==""&&(this.openNode(Fe),this.addText(Z),this.closeNode())}addText(Z){Z!==""&&this.add(Z)}addSublanguage(Z,Fe){let _t=Z.root;_t.sublanguage=!0,_t.language=Fe,this.add(_t)}toHTML(){return new L(this,this.options).value()}finalize(){return!0}};function K(Z){return Z?typeof Z=="string"?Z:Z.source:null}function te(Z){return xe("(?=",Z,")")}function oe(Z){return xe("(?:",Z,")*")}function ge(Z){return xe("(?:",Z,")?")}function xe(...Z){return Z.map(Fe=>K(Fe)).join("")}function Le(Z){let Fe=Z[Z.length-1];return typeof Fe=="object"&&Fe.constructor===Object?(Z.splice(Z.length-1,1),Fe):{}}function at(...Z){return"("+(Le(Z).capture?"":"?:")+Z.map(_t=>K(_t)).join("|")+")"}function ft(Z){return new RegExp(Z.toString()+"|").exec("").length-1}function Yt(Z,Fe){let _t=Z&&Z.exec(Fe);return _t&&_t.index===0}var Ct=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function rt(Z,{joinWith:Fe}){let _t=0;return Z.map(bn=>{_t+=1;let pi=_t,mi=K(bn),gt="";for(;mi.length>0;){let pt=Ct.exec(mi);if(!pt){gt+=mi;break}gt+=mi.substring(0,pt.index),mi=mi.substring(pt.index+pt[0].length),pt[0][0]==="\\"&&pt[1]?gt+="\\"+String(Number(pt[1])+pi):(gt+=pt[0],pt[0]==="("&&_t++)}return gt}).map(bn=>`(${bn})`).join(Fe)}var tn=/\b\B/,ti="[a-zA-Z]\\w*",Ni="[a-zA-Z_]\\w*",Pi="\\b\\d+(\\.\\d+)?",Nn="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Ui="\\b(0b[01]+)",Ei="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Re=(Z={})=>{let Fe=/^#![ ]*\//;return Z.binary&&(Z.begin=xe(Fe,/.*\b/,Z.binary,/\b.*/)),g({scope:"meta",begin:Fe,end:/$/,relevance:0,"on:begin":(_t,bn)=>{_t.index!==0&&bn.ignoreMatch()}},Z)},je={begin:"\\\\[\\s\\S]",relevance:0},vt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[je]},bt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[je]},Pt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Tn=function(Z,Fe,_t={}){let bn=g({scope:"comment",begin:Z,end:Fe,contains:[]},_t);bn.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let pi=at("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return bn.contains.push({begin:xe(/[ ]+/,"(",pi,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),bn},qr=Tn("//","$"),Xa=Tn("/\\*","\\*/"),Yi=Tn("#","$"),ho={scope:"number",begin:Pi,relevance:0},Il={scope:"number",begin:Nn,relevance:0},Rl={scope:"number",begin:Ui,relevance:0},Vu={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[je,{begin:/\[/,end:/\]/,relevance:0,contains:[je]}]}]},Pn={scope:"title",begin:ti,relevance:0},Ll={scope:"title",begin:Ni,relevance:0},Fl={begin:"\\.\\s*"+Ni,relevance:0},Za=function(Z){return Object.assign(Z,{"on:begin":(Fe,_t)=>{_t.data._beginMatch=Fe[1]},"on:end":(Fe,_t)=>{_t.data._beginMatch!==Fe[1]&&_t.ignoreMatch()}})},Bs=Object.freeze({__proto__:null,MATCH_NOTHING_RE:tn,IDENT_RE:ti,UNDERSCORE_IDENT_RE:Ni,NUMBER_RE:Pi,C_NUMBER_RE:Nn,BINARY_NUMBER_RE:Ui,RE_STARTERS_RE:Ei,SHEBANG:Re,BACKSLASH_ESCAPE:je,APOS_STRING_MODE:vt,QUOTE_STRING_MODE:bt,PHRASAL_WORDS_MODE:Pt,COMMENT:Tn,C_LINE_COMMENT_MODE:qr,C_BLOCK_COMMENT_MODE:Xa,HASH_COMMENT_MODE:Yi,NUMBER_MODE:ho,C_NUMBER_MODE:Il,BINARY_NUMBER_MODE:Rl,REGEXP_MODE:Vu,TITLE_MODE:Pn,UNDERSCORE_TITLE_MODE:Ll,METHOD_GUARD:Fl,END_SAME_AS_BEGIN:Za});function Qo(Z,Fe){Z.input[Z.index-1]==="."&&Fe.ignoreMatch()}function Gp(Z,Fe){Z.className!==void 0&&(Z.scope=Z.className,delete Z.className)}function Uu(Z,Fe){!Fe||!Z.beginKeywords||(Z.begin="\\b("+Z.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",Z.__beforeBegin=Qo,Z.keywords=Z.keywords||Z.beginKeywords,delete Z.beginKeywords,Z.relevance===void 0&&(Z.relevance=0))}function Ht(Z,Fe){!Array.isArray(Z.illegal)||(Z.illegal=at(...Z.illegal))}function jd(Z,Fe){if(Z.match){if(Z.begin||Z.end)throw new Error("begin & end are not supported with match");Z.begin=Z.match,delete Z.match}}function _i(Z,Fe){Z.relevance===void 0&&(Z.relevance=1)}var Bn=(Z,Fe)=>{if(!Z.beforeMatch)return;if(Z.starts)throw new Error("beforeMatch cannot be used with starts");let _t=Object.assign({},Z);Object.keys(Z).forEach(bn=>{delete Z[bn]}),Z.keywords=_t.keywords,Z.begin=xe(_t.beforeMatch,te(_t.begin)),Z.starts={relevance:0,contains:[Object.assign(_t,{endsParent:!0})]},Z.relevance=0,delete _t.beforeMatch},Nl=["of","and","for","in","not","or","if","then","parent","list","value"],Ea="keyword";function Pl(Z,Fe,_t=Ea){let bn=Object.create(null);return typeof Z=="string"?pi(_t,Z.split(" ")):Array.isArray(Z)?pi(_t,Z):Object.keys(Z).forEach(function(mi){Object.assign(bn,Pl(Z[mi],Fe,mi))}),bn;function pi(mi,gt){Fe&&(gt=gt.map(pt=>pt.toLowerCase())),gt.forEach(function(pt){let jt=pt.split("|");bn[jt[0]]=[mi,Yu(jt[0],jt[1])]})}}function Yu(Z,Fe){return Fe?Number(Fe):nt(Z)?0:1}function nt(Z){return Nl.includes(Z.toLowerCase())}var yt={},$t=Z=>{console.error(Z)},wn=(Z,...Fe)=>{console.log(`WARN: ${Z}`,...Fe)},ni=(Z,Fe)=>{yt[`${Z}/${Fe}`]||(console.log(`Deprecated as of ${Z}. ${Fe}`),yt[`${Z}/${Fe}`]=!0)},Lr=new Error;function Hd(Z,Fe,{key:_t}){let bn=0,pi=Z[_t],mi={},gt={};for(let pt=1;pt<=Fe.length;pt++)gt[pt+bn]=pi[pt],mi[pt+bn]=!0,bn+=ft(Fe[pt-1]);Z[_t]=gt,Z[_t]._emit=mi,Z[_t]._multi=!0}function Wp(Z){if(Array.isArray(Z.begin)){if(Z.skip||Z.excludeBegin||Z.returnBegin)throw $t("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Lr;if(typeof Z.beginScope!="object"||Z.beginScope===null)throw $t("beginScope must be object"),Lr;Hd(Z,Z.begin,{key:"beginScope"}),Z.begin=rt(Z.begin,{joinWith:""})}}function bR(Z){if(Array.isArray(Z.end)){if(Z.skip||Z.excludeEnd||Z.returnEnd)throw $t("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Lr;if(typeof Z.endScope!="object"||Z.endScope===null)throw $t("endScope must be object"),Lr;Hd(Z,Z.end,{key:"endScope"}),Z.end=rt(Z.end,{joinWith:""})}}function yR(Z){Z.scope&&typeof Z.scope=="object"&&Z.scope!==null&&(Z.beginScope=Z.scope,delete Z.scope)}function ER(Z){yR(Z),typeof Z.beginScope=="string"&&(Z.beginScope={_wrap:Z.beginScope}),typeof Z.endScope=="string"&&(Z.endScope={_wrap:Z.endScope}),Wp(Z),bR(Z)}function _R(Z){function Fe(gt,pt){return new RegExp(K(gt),"m"+(Z.case_insensitive?"i":"")+(Z.unicodeRegex?"u":"")+(pt?"g":""))}class _t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(pt,jt){jt.position=this.position++,this.matchIndexes[this.matchAt]=jt,this.regexes.push([jt,pt]),this.matchAt+=ft(pt)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let pt=this.regexes.map(jt=>jt[1]);this.matcherRe=Fe(rt(pt,{joinWith:"|"}),!0),this.lastIndex=0}exec(pt){this.matcherRe.lastIndex=this.lastIndex;let jt=this.matcherRe.exec(pt);if(!jt)return null;let Gi=jt.findIndex((Wu,Kp)=>Kp>0&&Wu!==void 0),wi=this.matchIndexes[Gi];return jt.splice(0,Gi),Object.assign(jt,wi)}}class bn{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(pt){if(this.multiRegexes[pt])return this.multiRegexes[pt];let jt=new _t;return this.rules.slice(pt).forEach(([Gi,wi])=>jt.addRule(Gi,wi)),jt.compile(),this.multiRegexes[pt]=jt,jt}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(pt,jt){this.rules.push([pt,jt]),jt.type==="begin"&&this.count++}exec(pt){let jt=this.getMatcher(this.regexIndex);jt.lastIndex=this.lastIndex;let Gi=jt.exec(pt);if(this.resumingScanAtSamePosition()&&!(Gi&&Gi.index===this.lastIndex)){let wi=this.getMatcher(0);wi.lastIndex=this.lastIndex+1,Gi=wi.exec(pt)}return Gi&&(this.regexIndex+=Gi.position+1,this.regexIndex===this.count&&this.considerAll()),Gi}}function pi(gt){let pt=new bn;return gt.contains.forEach(jt=>pt.addRule(jt.begin,{rule:jt,type:"begin"})),gt.terminatorEnd&&pt.addRule(gt.terminatorEnd,{type:"end"}),gt.illegal&&pt.addRule(gt.illegal,{type:"illegal"}),pt}function mi(gt,pt){let jt=gt;if(gt.isCompiled)return jt;[Gp,jd,ER,Bn].forEach(wi=>wi(gt,pt)),Z.compilerExtensions.forEach(wi=>wi(gt,pt)),gt.__beforeBegin=null,[Uu,Ht,_i].forEach(wi=>wi(gt,pt)),gt.isCompiled=!0;let Gi=null;return typeof gt.keywords=="object"&&gt.keywords.$pattern&&(gt.keywords=Object.assign({},gt.keywords),Gi=gt.keywords.$pattern,delete gt.keywords.$pattern),Gi=Gi||/\w+/,gt.keywords&&(gt.keywords=Pl(gt.keywords,Z.case_insensitive)),jt.keywordPatternRe=Fe(Gi,!0),pt&&(gt.begin||(gt.begin=/\B|\b/),jt.beginRe=Fe(jt.begin),!gt.end&&!gt.endsWithParent&&(gt.end=/\B|\b/),gt.end&&(jt.endRe=Fe(jt.end)),jt.terminatorEnd=K(jt.end)||"",gt.endsWithParent&&pt.terminatorEnd&&(jt.terminatorEnd+=(gt.end?"|":"")+pt.terminatorEnd)),gt.illegal&&(jt.illegalRe=Fe(gt.illegal)),gt.contains||(gt.contains=[]),gt.contains=[].concat(...gt.contains.map(function(wi){return wR(wi==="self"?gt:wi)})),gt.contains.forEach(function(wi){mi(wi,jt)}),gt.starts&&mi(gt.starts,pt),jt.matcher=pi(jt),jt}if(Z.compilerExtensions||(Z.compilerExtensions=[]),Z.contains&&Z.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return Z.classNameAliases=g(Z.classNameAliases||{}),mi(Z)}function Gy(Z){return Z?Z.endsWithParent||Gy(Z.starts):!1}function wR(Z){return Z.variants&&!Z.cachedVariants&&(Z.cachedVariants=Z.variants.map(function(Fe){return g(Z,{variants:null},Fe)})),Z.cachedVariants?Z.cachedVariants:Gy(Z)?g(Z,{starts:Z.starts?g(Z.starts):null}):Object.isFrozen(Z)?g(Z):Z}var AR="11.6.0",DR=class extends Error{constructor(Z,Fe){super(Z),this.name="HTMLInjectionError",this.html=Fe}},qp=p,Wy=g,qy=Symbol("nomatch"),xR=7,SR=function(Z){let Fe=Object.create(null),_t=Object.create(null),bn=[],pi=!0,mi="Could not find the language '{}', did you forget to load/include a language module?",gt={disableAutodetect:!0,name:"Plain text",contains:[]},pt={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:W};function jt(Ge){return pt.noHighlightRe.test(Ge)}function Gi(Ge){let Lt=Ge.className+" ";Lt+=Ge.parentNode?Ge.parentNode.className:"";let pn=pt.languageDetectRe.exec(Lt);if(pn){let Vn=Qa(pn[1]);return Vn||(wn(mi.replace("{}",pn[1])),wn("Falling back to no-highlight mode for this block.",Ge)),Vn?pn[1]:"no-highlight"}return Lt.split(/\s+/).find(Vn=>jt(Vn)||Qa(Vn))}function wi(Ge,Lt,pn){let Vn="",Bi="";typeof Lt=="object"?(Vn=Ge,pn=Lt.ignoreIllegals,Bi=Lt.language):(ni("10.7.0","highlight(lang, code, ...args) has been deprecated."),ni("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Bi=Ge,Vn=Lt),pn===void 0&&(pn=!0);let ea={code:Vn,language:Bi};Ud("before:highlight",ea);let es=ea.result?ea.result:Wu(ea.language,ea.code,pn);return es.code=ea.code,Ud("after:highlight",es),es}function Wu(Ge,Lt,pn,Vn){let Bi=Object.create(null);function ea(ot,Dt){return ot.keywords[Dt]}function es(){if(!Gt.keywords){Wi.addText(Jn);return}let ot=0;Gt.keywordPatternRe.lastIndex=0;let Dt=Gt.keywordPatternRe.exec(Jn),nn="";for(;Dt;){nn+=Jn.substring(ot,Dt.index);let Rn=ns.case_insensitive?Dt[0].toLowerCase():Dt[0],dr=ea(Gt,Rn);if(dr){let[_a,VR]=dr;if(Wi.addText(nn),nn="",Bi[Rn]=(Bi[Rn]||0)+1,Bi[Rn]<=xR&&(Wd+=VR),_a.startsWith("_"))nn+=Dt[0];else{let UR=ns.classNameAliases[_a]||_a;Wi.addKeyword(Dt[0],UR)}}else nn+=Dt[0];ot=Gt.keywordPatternRe.lastIndex,Dt=Gt.keywordPatternRe.exec(Jn)}nn+=Jn.substring(ot),Wi.addText(nn)}function Yd(){if(Jn==="")return;let ot=null;if(typeof Gt.subLanguage=="string"){if(!Fe[Gt.subLanguage]){Wi.addText(Jn);return}ot=Wu(Gt.subLanguage,Jn,!0,tE[Gt.subLanguage]),tE[Gt.subLanguage]=ot._top}else ot=Jp(Jn,Gt.subLanguage.length?Gt.subLanguage:null);Gt.relevance>0&&(Wd+=ot.relevance),Wi.addSublanguage(ot._emitter,ot.language)}function Kr(){Gt.subLanguage!=null?Yd():es(),Jn=""}function ts(ot,Dt){let nn=1,Rn=Dt.length-1;for(;nn<=Rn;){if(!ot._emit[nn]){nn++;continue}let dr=ns.classNameAliases[ot[nn]]||ot[nn],_a=Dt[nn];dr?Wi.addKeyword(_a,dr):(Jn=_a,es(),Jn=""),nn++}}function Zy(ot,Dt){return ot.scope&&typeof ot.scope=="string"&&Wi.openNode(ns.classNameAliases[ot.scope]||ot.scope),ot.beginScope&&(ot.beginScope._wrap?(Wi.addKeyword(Jn,ns.classNameAliases[ot.beginScope._wrap]||ot.beginScope._wrap),Jn=""):ot.beginScope._multi&&(ts(ot.beginScope,Dt),Jn="")),Gt=Object.create(ot,{parent:{value:Gt}}),Gt}function Qy(ot,Dt,nn){let Rn=Yt(ot.endRe,nn);if(Rn){if(ot["on:end"]){let dr=new u(ot);ot["on:end"](Dt,dr),dr.isMatchIgnored&&(Rn=!1)}if(Rn){for(;ot.endsParent&&ot.parent;)ot=ot.parent;return ot}}if(ot.endsWithParent)return Qy(ot.parent,Dt,nn)}function BR(ot){return Gt.matcher.regexIndex===0?(Jn+=ot[0],1):(em=!0,0)}function zR(ot){let Dt=ot[0],nn=ot.rule,Rn=new u(nn),dr=[nn.__beforeBegin,nn["on:begin"]];for(let _a of dr)if(_a&&(_a(ot,Rn),Rn.isMatchIgnored))return BR(Dt);return nn.skip?Jn+=Dt:(nn.excludeBegin&&(Jn+=Dt),Kr(),!nn.returnBegin&&!nn.excludeBegin&&(Jn=Dt)),Zy(nn,ot),nn.returnBegin?0:Dt.length}function $R(ot){let Dt=ot[0],nn=Lt.substring(ot.index),Rn=Qy(Gt,ot,nn);if(!Rn)return qy;let dr=Gt;Gt.endScope&&Gt.endScope._wrap?(Kr(),Wi.addKeyword(Dt,Gt.endScope._wrap)):Gt.endScope&&Gt.endScope._multi?(Kr(),ts(Gt.endScope,ot)):dr.skip?Jn+=Dt:(dr.returnEnd||dr.excludeEnd||(Jn+=Dt),Kr(),dr.excludeEnd&&(Jn=Dt));do Gt.scope&&Wi.closeNode(),!Gt.skip&&!Gt.subLanguage&&(Wd+=Gt.relevance),Gt=Gt.parent;while(Gt!==Rn.parent);return Rn.starts&&Zy(Rn.starts,ot),dr.returnEnd?0:Dt.length}function jR(){let ot=[];for(let Dt=Gt;Dt!==ns;Dt=Dt.parent)Dt.scope&&ot.unshift(Dt.scope);ot.forEach(Dt=>Wi.openNode(Dt))}let Gd={};function eE(ot,Dt){let nn=Dt&&Dt[0];if(Jn+=ot,nn==null)return Kr(),0;if(Gd.type==="begin"&&Dt.type==="end"&&Gd.index===Dt.index&&nn===""){if(Jn+=Lt.slice(Dt.index,Dt.index+1),!pi){let Rn=new Error(`0 width match regex (${Ge})`);throw Rn.languageName=Ge,Rn.badRule=Gd.rule,Rn}return 1}if(Gd=Dt,Dt.type==="begin")return zR(Dt);if(Dt.type==="illegal"&&!pn){let Rn=new Error('Illegal lexeme "'+nn+'" for mode "'+(Gt.scope||"<unnamed>")+'"');throw Rn.mode=Gt,Rn}else if(Dt.type==="end"){let Rn=$R(Dt);if(Rn!==qy)return Rn}if(Dt.type==="illegal"&&nn==="")return 1;if(Qp>1e5&&Qp>Dt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Jn+=nn,nn.length}let ns=Qa(Ge);if(!ns)throw $t(mi.replace("{}",Ge)),new Error('Unknown language: "'+Ge+'"');let HR=_R(ns),Zp="",Gt=Vn||HR,tE={},Wi=new pt.__emitter(pt);jR();let Jn="",Wd=0,zs=0,Qp=0,em=!1;try{for(Gt.matcher.considerAll();;){Qp++,em?em=!1:Gt.matcher.considerAll(),Gt.matcher.lastIndex=zs;let ot=Gt.matcher.exec(Lt);if(!ot)break;let Dt=Lt.substring(zs,ot.index),nn=eE(Dt,ot);zs=ot.index+nn}return eE(Lt.substring(zs)),Wi.closeAllNodes(),Wi.finalize(),Zp=Wi.toHTML(),{language:Ge,value:Zp,relevance:Wd,illegal:!1,_emitter:Wi,_top:Gt}}catch(ot){if(ot.message&&ot.message.includes("Illegal"))return{language:Ge,value:qp(Lt),illegal:!0,relevance:0,_illegalBy:{message:ot.message,index:zs,context:Lt.slice(zs-100,zs+100),mode:ot.mode,resultSoFar:Zp},_emitter:Wi};if(pi)return{language:Ge,value:qp(Lt),illegal:!1,relevance:0,errorRaised:ot,_emitter:Wi,_top:Gt};throw ot}}function Kp(Ge){let Lt={value:qp(Ge),illegal:!1,relevance:0,_top:gt,_emitter:new pt.__emitter(pt)};return Lt._emitter.addText(Ge),Lt}function Jp(Ge,Lt){Lt=Lt||pt.languages||Object.keys(Fe);let pn=Kp(Ge),Vn=Lt.filter(Qa).filter(Xy).map(Kr=>Wu(Kr,Ge,!1));Vn.unshift(pn);let Bi=Vn.sort((Kr,ts)=>{if(Kr.relevance!==ts.relevance)return ts.relevance-Kr.relevance;if(Kr.language&&ts.language){if(Qa(Kr.language).supersetOf===ts.language)return 1;if(Qa(ts.language).supersetOf===Kr.language)return-1}return 0}),[ea,es]=Bi,Yd=ea;return Yd.secondBest=es,Yd}function TR(Ge,Lt,pn){let Vn=Lt&&_t[Lt]||pn;Ge.classList.add("hljs"),Ge.classList.add(`language-${Vn}`)}function Xp(Ge){let Lt=null,pn=Gi(Ge);if(jt(pn))return;if(Ud("before:highlightElement",{el:Ge,language:pn}),Ge.children.length>0&&(pt.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(Ge)),pt.throwUnescapedHTML))throw new DR("One of your code blocks includes unescaped HTML.",Ge.innerHTML);Lt=Ge;let Vn=Lt.textContent,Bi=pn?wi(Vn,{language:pn,ignoreIllegals:!0}):Jp(Vn);Ge.innerHTML=Bi.value,TR(Ge,pn,Bi.language),Ge.result={language:Bi.language,re:Bi.relevance,relevance:Bi.relevance},Bi.secondBest&&(Ge.secondBest={language:Bi.secondBest.language,relevance:Bi.secondBest.relevance}),Ud("after:highlightElement",{el:Ge,result:Bi,text:Vn})}function CR(Ge){pt=Wy(pt,Ge)}let MR=()=>{Vd(),ni("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function kR(){Vd(),ni("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Ky=!1;function Vd(){if(document.readyState==="loading"){Ky=!0;return}document.querySelectorAll(pt.cssSelector).forEach(Xp)}function OR(){Ky&&Vd()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",OR,!1);function IR(Ge,Lt){let pn=null;try{pn=Lt(Z)}catch(Vn){if($t("Language definition for '{}' could not be registered.".replace("{}",Ge)),pi)$t(Vn);else throw Vn;pn=gt}pn.name||(pn.name=Ge),Fe[Ge]=pn,pn.rawDefinition=Lt.bind(null,Z),pn.aliases&&Jy(pn.aliases,{languageName:Ge})}function RR(Ge){delete Fe[Ge];for(let Lt of Object.keys(_t))_t[Lt]===Ge&&delete _t[Lt]}function LR(){return Object.keys(Fe)}function Qa(Ge){return Ge=(Ge||"").toLowerCase(),Fe[Ge]||Fe[_t[Ge]]}function Jy(Ge,{languageName:Lt}){typeof Ge=="string"&&(Ge=[Ge]),Ge.forEach(pn=>{_t[pn.toLowerCase()]=Lt})}function Xy(Ge){let Lt=Qa(Ge);return Lt&&!Lt.disableAutodetect}function FR(Ge){Ge["before:highlightBlock"]&&!Ge["before:highlightElement"]&&(Ge["before:highlightElement"]=Lt=>{Ge["before:highlightBlock"](Object.assign({block:Lt.el},Lt))}),Ge["after:highlightBlock"]&&!Ge["after:highlightElement"]&&(Ge["after:highlightElement"]=Lt=>{Ge["after:highlightBlock"](Object.assign({block:Lt.el},Lt))})}function NR(Ge){FR(Ge),bn.push(Ge)}function Ud(Ge,Lt){let pn=Ge;bn.forEach(function(Vn){Vn[pn]&&Vn[pn](Lt)})}function PR(Ge){return ni("10.7.0","highlightBlock will be removed entirely in v12.0"),ni("10.7.0","Please use highlightElement now."),Xp(Ge)}Object.assign(Z,{highlight:wi,highlightAuto:Jp,highlightAll:Vd,highlightElement:Xp,highlightBlock:PR,configure:CR,initHighlighting:MR,initHighlightingOnLoad:kR,registerLanguage:IR,unregisterLanguage:RR,listLanguages:LR,getLanguage:Qa,registerAliases:Jy,autoDetection:Xy,inherit:Wy,addPlugin:NR}),Z.debugMode=function(){pi=!1},Z.safeMode=function(){pi=!0},Z.versionString=AR,Z.regex={concat:xe,lookahead:te,either:at,optional:ge,anyNumberOfTimes:oe};for(let Ge in Bs)typeof Bs[Ge]=="object"&&a.exports(Bs[Ge]);return Object.assign(Z,Bs),Z},Gu=SR({});n.exports=Gu,Gu.HighlightJS=Gu,Gu.default=Gu}),v=d((e,n)=>{(function(){var a;typeof n<"u"?a=n.exports=p:a=function(){return this||(0,eval)("this")}(),a.format=p,a.vsprintf=u,typeof console<"u"&&typeof console.log=="function"&&(a.printf=s);function s(){console.log(p.apply(null,arguments))}function u(g,_){return p.apply(null,[g].concat(_))}function p(g){for(var _=1,x=[].slice.call(arguments),O=0,L=g.length,H="",U,W=!1,K,te,oe=!1,ge,xe=function(){return x[_++]},Le=function(){for(var at="";/\d/.test(g[O]);)at+=g[O++],U=g[O];return at.length>0?parseInt(at):null};O<L;++O)if(U=g[O],W)switch(W=!1,U=="."?(oe=!1,U=g[++O]):U=="0"&&g[O+1]=="."?(oe=!0,O+=2,U=g[O]):oe=!0,ge=Le(),U){case"b":H+=parseInt(xe(),10).toString(2);break;case"c":K=xe(),typeof K=="string"||K instanceof String?H+=K:H+=String.fromCharCode(parseInt(K,10));break;case"d":H+=parseInt(xe(),10);break;case"f":te=String(parseFloat(xe()).toFixed(ge||6)),H+=oe?te:te.replace(/^0/,"");break;case"j":H+=JSON.stringify(xe());break;case"o":H+="0"+parseInt(xe(),10).toString(8);break;case"s":H+=xe();break;case"x":H+="0x"+parseInt(xe(),10).toString(16);break;case"X":H+="0x"+parseInt(xe(),10).toString(16).toUpperCase();break;default:H+=U;break}else U==="%"?W=!0:H+=U;return H}})()});function E(e){this.content=e}E.prototype={constructor:E,find:function(e){for(var n=0;n<this.content.length;n+=2)if(this.content[n]===e)return n;return-1},get:function(e){var n=this.find(e);return n==-1?void 0:this.content[n+1]},update:function(e,n,a){var s=a&&a!=e?this.remove(a):this,u=s.find(e),p=s.content.slice();return u==-1?p.push(a||e,n):(p[u+1]=n,a&&(p[u]=a)),new E(p)},remove:function(e){var n=this.find(e);if(n==-1)return this;var a=this.content.slice();return a.splice(n,2),new E(a)},addToStart:function(e,n){return new E([e,n].concat(this.remove(e).content))},addToEnd:function(e,n){var a=this.remove(e).content.slice();return a.push(e,n),new E(a)},addBefore:function(e,n,a){var s=this.remove(n),u=s.content.slice(),p=s.find(e);return u.splice(p==-1?u.length:p,0,n,a),new E(u)},forEach:function(e){for(var n=0;n<this.content.length;n+=2)e(this.content[n],this.content[n+1])},prepend:function(e){return e=E.from(e),e.size?new E(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=E.from(e),e.size?new E(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var n=this;e=E.from(e);for(var a=0;a<e.content.length;a+=2)n=n.remove(e.content[a]);return n},toObject:function(){var e={};return this.forEach(function(n,a){e[n]=a}),e},get size(){return this.content.length>>1}},E.from=function(e){if(e instanceof E)return e;var n=[];if(e)for(var a in e)n.push(a,e[a]);return new E(n)};var b=E;function w(e,n,a){for(let s=0;;s++){if(s==e.childCount||s==n.childCount)return e.childCount==n.childCount?null:a;let u=e.child(s),p=n.child(s);if(u==p){a+=u.nodeSize;continue}if(!u.sameMarkup(p))return a;if(u.isText&&u.text!=p.text){for(let g=0;u.text[g]==p.text[g];g++)a++;return a}if(u.content.size||p.content.size){let g=w(u.content,p.content,a+1);if(g!=null)return g}a+=u.nodeSize}}function A(e,n,a,s){for(let u=e.childCount,p=n.childCount;;){if(u==0||p==0)return u==p?null:{a,b:s};let g=e.child(--u),_=n.child(--p),x=g.nodeSize;if(g==_){a-=x,s-=x;continue}if(!g.sameMarkup(_))return{a,b:s};if(g.isText&&g.text!=_.text){let O=0,L=Math.min(g.text.length,_.text.length);for(;O<L&&g.text[g.text.length-O-1]==_.text[_.text.length-O-1];)O++,a--,s--;return{a,b:s}}if(g.content.size||_.content.size){let O=A(g.content,_.content,a-1,s-1);if(O)return O}a-=x,s-=x}}var y=class{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let a=0;a<e.length;a++)this.size+=e[a].nodeSize}nodesBetween(e,n,a,s=0,u){for(let p=0,g=0;g<n;p++){let _=this.content[p],x=g+_.nodeSize;if(x>e&&a(_,s+g,u||null,p)!==!1&&_.content.size){let O=g+1;_.nodesBetween(Math.max(0,e-O),Math.min(_.content.size,n-O),a,s+O)}g=x}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,a,s){let u="",p=!0;return this.nodesBetween(e,n,(g,_)=>{g.isText?(u+=g.text.slice(Math.max(e,_)-_,n-_),p=!a):g.isLeaf?(s?u+=typeof s=="function"?s(g):s:g.type.spec.leafText&&(u+=g.type.spec.leafText(g)),p=!a):!p&&g.isBlock&&(u+=a,p=!0)},0),u}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,a=e.firstChild,s=this.content.slice(),u=0;for(n.isText&&n.sameMarkup(a)&&(s[s.length-1]=n.withText(n.text+a.text),u=1);u<e.content.length;u++)s.push(e.content[u]);return new y(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let a=[],s=0;if(n>e)for(let u=0,p=0;p<n;u++){let g=this.content[u],_=p+g.nodeSize;_>e&&((p<e||_>n)&&(g.isText?g=g.cut(Math.max(0,e-p),Math.min(g.text.length,n-p)):g=g.cut(Math.max(0,e-p-1),Math.min(g.content.size,n-p-1))),a.push(g),s+=g.nodeSize),p=_}return new y(a,s)}cutByIndex(e,n){return e==n?y.empty:e==0&&n==this.content.length?this:new y(this.content.slice(e,n))}replaceChild(e,n){let a=this.content[e];if(a==n)return this;let s=this.content.slice(),u=this.size+n.nodeSize-a.nodeSize;return s[e]=n,new y(s,u)}addToStart(e){return new y([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new y(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,a=0;n<this.content.length;n++){let s=this.content[n];e(s,a,n),a+=s.nodeSize}}findDiffStart(e,n=0){return w(this,e,n)}findDiffEnd(e,n=this.size,a=e.size){return A(this,e,n,a)}findIndex(e,n=-1){if(e==0)return T(0,e);if(e==this.size)return T(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let a=0,s=0;;a++){let u=this.child(a),p=s+u.nodeSize;if(p>=e)return p==e||n>0?T(a+1,p):T(a,s);s=p}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return y.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new y(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return y.empty;let n,a=0;for(let s=0;s<e.length;s++){let u=e[s];a+=u.nodeSize,s&&u.isText&&e[s-1].sameMarkup(u)?(n||(n=e.slice(0,s)),n[n.length-1]=u.withText(n[n.length-1].text+u.text)):n&&n.push(u)}return new y(n||e,a)}static from(e){if(!e)return y.empty;if(e instanceof y)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new y([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};y.empty=new y([],0);var S={index:0,offset:0};function T(e,n){return S.index=e,S.offset=n,S}function M(e,n){if(e===n)return!0;if(!(e&&typeof e=="object")||!(n&&typeof n=="object"))return!1;let a=Array.isArray(e);if(Array.isArray(n)!=a)return!1;if(a){if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!M(e[s],n[s]))return!1}else{for(let s in e)if(!(s in n)||!M(e[s],n[s]))return!1;for(let s in n)if(!(s in e))return!1}return!0}var D=class{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,a=!1;for(let s=0;s<e.length;s++){let u=e[s];if(this.eq(u))return e;if(this.type.excludes(u.type))n||(n=e.slice(0,s));else{if(u.type.excludes(this.type))return e;!a&&u.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),a=!0),n&&n.push(u)}}return n||(n=e.slice()),a||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&M(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let a=e.marks[n.type];if(!a)throw new RangeError(`There is no mark type ${n.type} in this schema`);return a.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let a=0;a<e.length;a++)if(!e[a].eq(n[a]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return D.none;if(e instanceof D)return[e];let n=e.slice();return n.sort((a,s)=>a.type.rank-s.type.rank),n}};D.none=[];var C=class extends Error{},k=class{constructor(e,n,a){this.content=e,this.openStart=n,this.openEnd=a}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let a=R(this.content,e+this.openStart,n);return a&&new k(a,this.openStart,this.openEnd)}removeBetween(e,n){return new k(I(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return k.empty;let a=n.openStart||0,s=n.openEnd||0;if(typeof a!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new k(y.fromJSON(e,n.content),a,s)}static maxOpen(e,n=!0){let a=0,s=0;for(let u=e.firstChild;u&&!u.isLeaf&&(n||!u.type.spec.isolating);u=u.firstChild)a++;for(let u=e.lastChild;u&&!u.isLeaf&&(n||!u.type.spec.isolating);u=u.lastChild)s++;return new k(e,a,s)}};k.empty=new k(y.empty,0,0);function I(e,n,a){let{index:s,offset:u}=e.findIndex(n),p=e.maybeChild(s),{index:g,offset:_}=e.findIndex(a);if(u==n||p.isText){if(_!=a&&!e.child(g).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(a))}if(s!=g)throw new RangeError("Removing non-flat range");return e.replaceChild(s,p.copy(I(p.content,n-u-1,a-u-1)))}function R(e,n,a,s){let{index:u,offset:p}=e.findIndex(n),g=e.maybeChild(u);if(p==n||g.isText)return s&&!s.canReplace(u,u,a)?null:e.cut(0,n).append(a).append(e.cut(n));let _=R(g.content,n-p-1,a);return _&&e.replaceChild(u,g.copy(_))}function F(e,n,a){if(a.openStart>e.depth)throw new C("Inserted content deeper than insertion position");if(e.depth-a.openStart!=n.depth-a.openEnd)throw new C("Inconsistent open depths");return j(e,n,a,0)}function j(e,n,a,s){let u=e.index(s),p=e.node(s);if(u==n.index(s)&&s<e.depth-a.openStart){let g=j(e,n,a,s+1);return p.copy(p.content.replaceChild(u,g))}else if(a.content.size)if(!a.openStart&&!a.openEnd&&e.depth==s&&n.depth==s){let g=e.parent,_=g.content;return z(g,_.cut(0,e.parentOffset).append(a.content).append(_.cut(n.parentOffset)))}else{let{start:g,end:_}=V(a,e);return z(p,$(e,g,_,n,s))}else return z(p,N(e,n,s))}function Y(e,n){if(!n.type.compatibleContent(e.type))throw new C("Cannot join "+n.type.name+" onto "+e.type.name)}function G(e,n,a){let s=e.node(a);return Y(s,n.node(a)),s}function B(e,n){let a=n.length-1;a>=0&&e.isText&&e.sameMarkup(n[a])?n[a]=e.withText(n[a].text+e.text):n.push(e)}function P(e,n,a,s){let u=(n||e).node(a),p=0,g=n?n.index(a):u.childCount;e&&(p=e.index(a),e.depth>a?p++:e.textOffset&&(B(e.nodeAfter,s),p++));for(let _=p;_<g;_++)B(u.child(_),s);n&&n.depth==a&&n.textOffset&&B(n.nodeBefore,s)}function z(e,n){if(!e.type.validContent(n))throw new C("Invalid content for node "+e.type.name);return e.copy(n)}function $(e,n,a,s,u){let p=e.depth>u&&G(e,n,u+1),g=s.depth>u&&G(a,s,u+1),_=[];return P(null,e,u,_),p&&g&&n.index(u)==a.index(u)?(Y(p,g),B(z(p,$(e,n,a,s,u+1)),_)):(p&&B(z(p,N(e,n,u+1)),_),P(n,a,u,_),g&&B(z(g,N(a,s,u+1)),_)),P(s,null,u,_),new y(_)}function N(e,n,a){let s=[];if(P(null,e,a,s),e.depth>a){let u=G(e,n,a+1);B(z(u,N(e,n,a+1)),s)}return P(n,null,a,s),new y(s)}function V(e,n){let a=n.depth-e.openStart,s=n.node(a).copy(e.content);for(let u=a-1;u>=0;u--)s=n.node(u).copy(y.from(s));return{start:s.resolveNoCache(e.openStart+a),end:s.resolveNoCache(s.content.size-e.openEnd-a)}}var q=class{constructor(e,n,a){this.pos=e,this.path=n,this.parentOffset=a,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let a=this.pos-this.path[this.path.length-1],s=e.child(n);return a?e.child(n).cut(a):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let a=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let u=0;u<e;u++)s+=a.child(u).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return D.none;if(this.textOffset)return e.child(n).marks;let a=e.maybeChild(n-1),s=e.maybeChild(n);if(!a){let g=a;a=s,s=g}let u=a.marks;for(var p=0;p<u.length;p++)u[p].type.spec.inclusive===!1&&(!s||!u[p].isInSet(s.marks))&&(u=u[p--].removeFromSet(u));return u}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let a=n.marks,s=e.parent.maybeChild(e.index());for(var u=0;u<a.length;u++)a[u].type.spec.inclusive===!1&&(!s||!a[u].isInSet(s.marks))&&(a=a[u--].removeFromSet(a));return a}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let a=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);a>=0;a--)if(e.pos<=this.end(a)&&(!n||n(this.node(a))))return new pe(this,e,a);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let a=[],s=0,u=n;for(let p=e;;){let{index:g,offset:_}=p.content.findIndex(u),x=u-_;if(a.push(p,g,s+_),!x||(p=p.child(g),p.isText))break;u=x-1,s+=_+1}return new q(n,a,u)}static resolveCached(e,n){for(let s=0;s<J.length;s++){let u=J[s];if(u.pos==n&&u.doc==e)return u}let a=J[ne]=q.resolve(e,n);return ne=(ne+1)%ue,a}},J=[],ne=0,ue=12,pe=class{constructor(e,n,a){this.$from=e,this.$to=n,this.depth=a}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},Ie=Object.create(null),we=class{constructor(e,n,a,s=D.none){this.type=e,this.attrs=n,this.marks=s,this.content=a||y.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,a,s=0){this.content.nodesBetween(e,n,a,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,a,s){return this.content.textBetween(e,n,a,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,a){return this.type==e&&M(this.attrs,n||e.defaultAttrs||Ie)&&D.sameSet(this.marks,a||D.none)}copy(e=null){return e==this.content?this:new we(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new we(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,a=!1){if(e==n)return k.empty;let s=this.resolve(e),u=this.resolve(n),p=a?0:s.sharedDepth(n),g=s.start(p),_=s.node(p).content.cut(s.pos-g,u.pos-g);return new k(_,s.depth-p,u.depth-p)}replace(e,n,a){return F(this.resolve(e),this.resolve(n),a)}nodeAt(e){for(let n=this;;){let{index:a,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(a),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:a}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:a}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:a}=this.content.findIndex(e);if(a<e)return{node:this.content.child(n),index:n,offset:a};let s=this.content.child(n-1);return{node:s,index:n-1,offset:a-s.nodeSize}}resolve(e){return q.resolveCached(this,e)}resolveNoCache(e){return q.resolve(this,e)}rangeHasMark(e,n,a){let s=!1;return n>e&&this.nodesBetween(e,n,u=>(a.isInSet(u.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Ae(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,a=y.empty,s=0,u=a.childCount){let p=this.contentMatchAt(e).matchFragment(a,s,u),g=p&&p.matchFragment(this.content,n);if(!g||!g.validEnd)return!1;for(let _=s;_<u;_++)if(!this.type.allowsMarks(a.child(_).marks))return!1;return!0}canReplaceWith(e,n,a,s){if(s&&!this.type.allowsMarks(s))return!1;let u=this.contentMatchAt(e).matchType(a),p=u&&u.matchFragment(this.content,n);return p?p.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=D.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!D.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let a=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");a=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,a)}let s=y.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,s,a)}};we.prototype.text=void 0;var st=class extends we{constructor(e,n,a,s){if(super(e,n,null,s),!a)throw new RangeError("Empty text nodes are not allowed");this.text=a}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ae(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new st(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new st(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function Ae(e,n){for(let a=e.length-1;a>=0;a--)n=e[a].type.name+"("+n+")";return n}var Oe=class{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let a=new $e(e,n);if(a.next==null)return Oe.empty;let s=et(a);a.next&&a.err("Unexpected trailing text");let u=no(to(s));return oi(u,a),u}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,a=e.childCount){let s=this;for(let u=n;s&&u<a;u++)s=s.matchType(e.child(u).type);return s}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let a=0;a<e.next.length;a++)if(this.next[n].type==e.next[a].type)return!0;return!1}fillBefore(e,n=!1,a=0){let s=[this];function u(p,g){let _=p.matchFragment(e,a);if(_&&(!n||_.validEnd))return y.from(g.map(x=>x.createAndFill()));for(let x=0;x<p.next.length;x++){let{type:O,next:L}=p.next[x];if(!(O.isText||O.hasRequiredAttrs())&&s.indexOf(L)==-1){s.push(L);let H=u(L,g.concat(O));if(H)return H}}return null}return u(this,[])}findWrapping(e){for(let a=0;a<this.wrapCache.length;a+=2)if(this.wrapCache[a]==e)return this.wrapCache[a+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),a=[{match:this,type:null,via:null}];for(;a.length;){let s=a.shift(),u=s.match;if(u.matchType(e)){let p=[];for(let g=s;g.type;g=g.via)p.push(g.type);return p.reverse()}for(let p=0;p<u.next.length;p++){let{type:g,next:_}=u.next[p];!g.isLeaf&&!g.hasRequiredAttrs()&&!(g.name in n)&&(!s.type||_.validEnd)&&(a.push({match:g.contentMatch,type:g,via:s}),n[g.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(a){e.push(a);for(let s=0;s<a.next.length;s++)e.indexOf(a.next[s].next)==-1&&n(a.next[s].next)}return n(this),e.map((a,s)=>{let u=s+(a.validEnd?"*":" ")+" ";for(let p=0;p<a.next.length;p++)u+=(p?", ":"")+a.next[p].type.name+"->"+e.indexOf(a.next[p].next);return u}).join(`
`)}};Oe.empty=new Oe(!0);var $e=class{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function et(e){let n=[];do n.push(Ue(e));while(e.eat("|"));return n.length==1?n[0]:{type:"choice",exprs:n}}function Ue(e){let n=[];do n.push(on(e));while(e.next&&e.next!=")"&&e.next!="|");return n.length==1?n[0]:{type:"seq",exprs:n}}function on(e){let n=ri(e);for(;;)if(e.eat("+"))n={type:"plus",expr:n};else if(e.eat("*"))n={type:"star",expr:n};else if(e.eat("?"))n={type:"opt",expr:n};else if(e.eat("{"))n=Ln(e,n);else break;return n}function Jt(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let n=Number(e.next);return e.pos++,n}function Ln(e,n){let a=Jt(e),s=a;return e.eat(",")&&(e.next!="}"?s=Jt(e):s=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:a,max:s,expr:n}}function Cn(e,n){let a=e.nodeTypes,s=a[n];if(s)return[s];let u=[];for(let p in a){let g=a[p];g.groups.indexOf(n)>-1&&u.push(g)}return u.length==0&&e.err("No node type or group '"+n+"' found"),u}function ri(e){if(e.eat("(")){let n=et(e);return e.eat(")")||e.err("Missing closing paren"),n}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let n=Cn(e,e.next).map(a=>(e.inline==null?e.inline=a.isInline:e.inline!=a.isInline&&e.err("Mixing inline and block content"),{type:"name",value:a}));return e.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function to(e){let n=[[]];return u(p(e,0),a()),n;function a(){return n.push([])-1}function s(g,_,x){let O={term:x,to:_};return n[g].push(O),O}function u(g,_){g.forEach(x=>x.to=_)}function p(g,_){if(g.type=="choice")return g.exprs.reduce((x,O)=>x.concat(p(O,_)),[]);if(g.type=="seq")for(let x=0;;x++){let O=p(g.exprs[x],_);if(x==g.exprs.length-1)return O;u(O,_=a())}else if(g.type=="star"){let x=a();return s(_,x),u(p(g.expr,x),x),[s(x)]}else if(g.type=="plus"){let x=a();return u(p(g.expr,_),x),u(p(g.expr,x),x),[s(x)]}else{if(g.type=="opt")return[s(_)].concat(p(g.expr,_));if(g.type=="range"){let x=_;for(let O=0;O<g.min;O++){let L=a();u(p(g.expr,x),L),x=L}if(g.max==-1)u(p(g.expr,x),x);else for(let O=g.min;O<g.max;O++){let L=a();s(x,L),u(p(g.expr,x),L),x=L}return[s(x)]}else{if(g.type=="name")return[s(_,void 0,g.value)];throw new Error("Unknown expr type")}}}}function On(e,n){return n-e}function Br(e,n){let a=[];return s(n),a.sort(On);function s(u){let p=e[u];if(p.length==1&&!p[0].term)return s(p[0].to);a.push(u);for(let g=0;g<p.length;g++){let{term:_,to:x}=p[g];!_&&a.indexOf(x)==-1&&s(x)}}}function no(e){let n=Object.create(null);return a(Br(e,0));function a(s){let u=[];s.forEach(g=>{e[g].forEach(({term:_,to:x})=>{if(!_)return;let O;for(let L=0;L<u.length;L++)u[L][0]==_&&(O=u[L][1]);Br(e,x).forEach(L=>{O||u.push([_,O=[]]),O.indexOf(L)==-1&&O.push(L)})})});let p=n[s.join(",")]=new Oe(s.indexOf(e.length-1)>-1);for(let g=0;g<u.length;g++){let _=u[g][1].sort(On);p.next.push({type:u[g][0],next:n[_.join(",")]||a(_)})}return p}}function oi(e,n){for(let a=0,s=[e];a<s.length;a++){let u=s[a],p=!u.validEnd,g=[];for(let _=0;_<u.next.length;_++){let{type:x,next:O}=u.next[_];g.push(x.name),p&&!(x.isText||x.hasRequiredAttrs())&&(p=!1),s.indexOf(O)==-1&&s.push(O)}p&&n.err("Only non-generatable nodes ("+g.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function io(e){let n=Object.create(null);for(let a in e){let s=e[a];if(!s.hasDefault)return null;n[a]=s.default}return n}function zr(e,n){let a=Object.create(null);for(let s in e){let u=n&&n[s];if(u===void 0){let p=e[s];if(p.hasDefault)u=p.default;else throw new RangeError("No value supplied for attribute "+s)}a[s]=u}return a}function ci(e){let n=Object.create(null);if(e)for(let a in e)n[a]=new ki(e[a]);return n}var Mi=class{constructor(e,n,a){this.name=e,this.schema=n,this.spec=a,this.markSet=null,this.groups=a.group?a.group.split(" "):[],this.attrs=ci(a.attrs),this.defaultAttrs=io(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(a.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Oe.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:zr(this.attrs,e)}create(e=null,n,a){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new we(this,this.computeAttrs(e),y.from(n),D.setFrom(a))}createChecked(e=null,n,a){if(n=y.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new we(this,this.computeAttrs(e),n,D.setFrom(a))}createAndFill(e=null,n,a){if(e=this.computeAttrs(e),n=y.from(n),n.size){let p=this.contentMatch.fillBefore(n);if(!p)return null;n=p.append(n)}let s=this.contentMatch.matchFragment(n),u=s&&s.fillBefore(y.empty,!0);return u?new we(this,e,n.append(u),D.setFrom(a)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let a=0;a<e.childCount;a++)if(!this.allowsMarks(e.child(a).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let a=0;a<e.length;a++)this.allowsMarkType(e[a].type)?n&&n.push(e[a]):n||(n=e.slice(0,a));return n?n.length?n:D.none:e}static compile(e,n){let a=Object.create(null);e.forEach((u,p)=>a[u]=new Mi(u,n,p));let s=n.spec.topNode||"doc";if(!a[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!a.text)throw new RangeError("Every schema needs a 'text' type");for(let u in a.text.attrs)throw new RangeError("The text node type should not have attributes");return a}},ki=class{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}},Xi=class{constructor(e,n,a,s){this.name=e,this.rank=n,this.schema=a,this.spec=s,this.attrs=ci(s.attrs),this.excluded=null;let u=io(this.attrs);this.instance=u?new D(this,u):null}create(e=null){return!e&&this.instance?this.instance:new D(this,zr(this.attrs,e))}static compile(e,n){let a=Object.create(null),s=0;return e.forEach((u,p)=>a[u]=new Xi(u,s++,n,p)),a}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}},ro=class{constructor(e){this.cached=Object.create(null),this.spec={nodes:b.from(e.nodes),marks:b.from(e.marks||{}),topNode:e.topNode},this.nodes=Mi.compile(this.spec.nodes,this),this.marks=Xi.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let s=this.nodes[a],u=s.spec.content||"",p=s.spec.marks;s.contentMatch=n[u]||(n[u]=Oe.parse(u,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=p=="_"?null:p?or(this,p.split(" ")):p==""||!s.inlineContent?[]:null}for(let a in this.marks){let s=this.marks[a],u=s.spec.excludes;s.excluded=u==null?[s]:u==""?[]:or(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,a,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Mi){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,a,s)}text(e,n){let a=this.nodes.text;return new st(a,a.defaultAttrs,e,D.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return we.fromJSON(this,e)}markFromJSON(e){return D.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function or(e,n){let a=[];for(let s=0;s<n.length;s++){let u=n[s],p=e.marks[u],g=p;if(p)a.push(p);else for(let _ in e.marks){let x=e.marks[_];(u=="_"||x.spec.group&&x.spec.group.split(" ").indexOf(u)>-1)&&a.push(g=x)}if(!g)throw new SyntaxError("Unknown mark type: '"+n[s]+"'")}return a}var Zi=class{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(a=>{a.tag?this.tags.push(a):a.style&&this.styles.push(a)}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let s=e.nodes[a.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let a=new oo(this,n,!1);return a.addAll(e,n.from,n.to),a.finish()}parseSlice(e,n={}){let a=new oo(this,n,!0);return a.addAll(e,n.from,n.to),k.maxOpen(a.finish())}matchTag(e,n,a){for(let s=a?this.tags.indexOf(a)+1:0;s<this.tags.length;s++){let u=this.tags[s];if(Vo(e,u.tag)&&(u.namespace===void 0||e.namespaceURI==u.namespace)&&(!u.context||n.matchesContext(u.context))){if(u.getAttrs){let p=u.getAttrs(e);if(p===!1)continue;u.attrs=p||void 0}return u}}}matchStyle(e,n,a,s){for(let u=s?this.styles.indexOf(s)+1:0;u<this.styles.length;u++){let p=this.styles[u],g=p.style;if(!(g.indexOf(e)!=0||p.context&&!a.matchesContext(p.context)||g.length>e.length&&(g.charCodeAt(e.length)!=61||g.slice(e.length+1)!=n))){if(p.getAttrs){let _=p.getAttrs(n);if(_===!1)continue;p.attrs=_||void 0}return p}}}static schemaRules(e){let n=[];function a(s){let u=s.priority==null?50:s.priority,p=0;for(;p<n.length;p++){let g=n[p];if((g.priority==null?50:g.priority)<u)break}n.splice(p,0,s)}for(let s in e.marks){let u=e.marks[s].spec.parseDOM;u&&u.forEach(p=>{a(p=Dn(p)),p.mark=s})}for(let s in e.nodes){let u=e.nodes[s].spec.parseDOM;u&&u.forEach(p=>{a(p=Dn(p)),p.node=s})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Zi(e,Zi.schemaRules(e)))}},$r={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},fr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Oi={ol:!0,ul:!0},di=1,En=2,Ii=4;function jr(e,n,a){return n!=null?(n?di:0)|(n==="full"?En:0):e&&e.whitespace=="pre"?di|En:a&~Ii}var ar=class{constructor(e,n,a,s,u,p,g){this.type=e,this.attrs=n,this.marks=a,this.pendingMarks=s,this.solid=u,this.options=g,this.content=[],this.activeMarks=D.none,this.stashMarks=[],this.match=p||(g&Ii?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(y.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let a=this.type.contentMatch,s;return(s=a.findWrapping(e.type))?(this.match=a,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&di)){let a=this.content[this.content.length-1],s;if(a&&a.isText&&(s=/[ \t\r\n\u000c]+$/.exec(a.text))){let u=a;a.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=u.withText(u.text.slice(0,u.text.length-s[0].length))}}let n=y.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(y.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,a=this.pendingMarks;n<a.length;n++){let s=a[n];(this.type?this.type.allowsMarkType(s.type):ei(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$r.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},oo=class{constructor(e,n,a){this.parser=e,this.options=n,this.isOpen=a,this.open=0;let s=n.topNode,u,p=jr(null,n.preserveWhitespace,0)|(a?Ii:0);s?u=new ar(s.type,s.attrs,D.none,D.none,!0,n.topMatch||s.type.contentMatch,p):a?u=new ar(null,null,D.none,D.none,!0,null,p):u=new ar(e.schema.topNodeType,null,D.none,D.none,!0,null,p),this.nodes=[u],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),a=n?this.readStyles(fa(n)):null,s=this.top;if(a!=null)for(let u=0;u<a.length;u++)this.addPendingMark(a[u]);if(this.addElement(e),a!=null)for(let u=0;u<a.length;u++)this.removePendingMark(a[u],s)}}addTextNode(e){let n=e.nodeValue,a=this.top;if(a.options&En||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a.options&di)a.options&En?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=a.content[a.content.length-1],u=e.previousSibling;(!s||u&&u.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let a=e.nodeName.toLowerCase(),s;Oi.hasOwnProperty(a)&&this.parser.normalizeLists&&bi(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(u?u.ignore:fr.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let p,g=this.top,_=this.needsBlock;if($r.hasOwnProperty(a))p=!0,g.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),p&&this.sync(g),this.needsBlock=_}else this.addElementByRule(e,u,u.consuming===!1?s:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=D.none;e:for(let a=0;a<e.length;a+=2)for(let s=void 0;;){let u=this.parser.matchStyle(e[a],e[a+1],this,s);if(!u)continue e;if(u.ignore)return null;if(n=this.parser.schema.marks[u.mark].create(u.attrs).addToSet(n),u.consuming===!1)s=u;else break}return n}addElementByRule(e,n,a){let s,u,p;n.node?(u=this.parser.schema.nodes[n.node],u.isLeaf?this.insertNode(u.create(n.attrs))||this.leafFallback(e):s=this.enter(u,n.attrs||null,n.preserveWhitespace)):(p=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(p));let g=this.top;if(u&&u.isLeaf)this.findInside(e);else if(a)this.addElement(e,a);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(_=>this.insertNode(_));else{let _=e;typeof n.contentElement=="string"?_=e.querySelector(n.contentElement):typeof n.contentElement=="function"?_=n.contentElement(e):n.contentElement&&(_=n.contentElement),this.findAround(e,_,!0),this.addAll(_)}s&&this.sync(g)&&this.open--,p&&this.removePendingMark(p,g)}addAll(e,n,a){let s=n||0;for(let u=n?e.childNodes[n]:e.firstChild,p=a==null?null:e.childNodes[a];u!=p;u=u.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(u);this.findAtPoint(e,s)}findPlace(e){let n,a;for(let s=this.open;s>=0;s--){let u=this.nodes[s],p=u.findWrapping(e);if(p&&(!n||n.length>p.length)&&(n=p,a=u,!p.length)||u.solid)break}if(!n)return!1;this.sync(a);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let a=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(a=e.marks[s].addToSet(a));return n.content.push(e.mark(a)),!0}return!1}enter(e,n,a){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,a),s}enterInner(e,n=null,a=!1,s){this.closeExtra();let u=this.top;u.applyPending(e),u.match=u.match&&u.match.matchType(e);let p=jr(e,s,u.options);u.options&Ii&&u.content.length==0&&(p|=Ii),this.nodes.push(new ar(e,n,u.activeMarks,u.pendingMarks,a,null,p)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let a=this.nodes[n].content;for(let s=a.length-1;s>=0;s--)e+=a[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let a=0;a<this.find.length;a++)this.find[a].node==e&&this.find[a].offset==n&&(this.find[a].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,a){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(a?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),a=this.options.context,s=!this.isOpen&&(!a||a.parent.type==this.nodes[0].type),u=-(a?a.depth+1:0)+(s?0:1),p=(g,_)=>{for(;g>=0;g--){let x=n[g];if(x==""){if(g==n.length-1||g==0)continue;for(;_>=u;_--)if(p(g-1,_))return!0;return!1}else{let O=_>0||_==0&&s?this.nodes[_].type:a&&_>=u?a.node(_-u).type:null;if(!O||O.name!=x&&O.groups.indexOf(x)==-1)return!1;_--}}return!0};return p(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let a=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(a&&a.isTextblock&&a.defaultAttrs)return a}for(let n in this.parser.schema.nodes){let a=this.parser.schema.nodes[n];if(a.isTextblock&&a.defaultAttrs)return a}}addPendingMark(e){let n=he(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let a=this.open;a>=0;a--){let s=this.nodes[a];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let u=s.popFromStashMark(e);u&&s.type&&s.type.allowsMarkType(u.type)&&(s.activeMarks=u.addToSet(s.activeMarks))}if(s==n)break}}};function bi(e){for(let n=e.firstChild,a=null;n;n=n.nextSibling){let s=n.nodeType==1?n.nodeName.toLowerCase():null;s&&Oi.hasOwnProperty(s)&&a?(a.appendChild(n),n=a):s=="li"?a=n:s&&(a=null)}}function Vo(e,n){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,n)}function fa(e){let n=/\s*([\w-]+)\s*:\s*([^;]+)/g,a,s=[];for(;a=n.exec(e);)s.push(a[1],a[2].trim());return s}function Dn(e){let n={};for(let a in e)n[a]=e[a];return n}function ei(e,n){let a=n.schema.nodes;for(let s in a){let u=a[s];if(!u.allowsMarkType(e))continue;let p=[],g=_=>{p.push(_);for(let x=0;x<_.edgeCount;x++){let{type:O,next:L}=_.edge(x);if(O==n||p.indexOf(L)<0&&g(L))return!0}};if(g(u.contentMatch))return!0}}function he(e,n){for(let a=0;a<n.length;a++)if(e.eq(n[a]))return n[a]}var ae=class{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},a){a||(a=_e(n).createDocumentFragment());let s=a,u=[];return e.forEach(p=>{if(u.length||p.marks.length){let g=0,_=0;for(;g<u.length&&_<p.marks.length;){let x=p.marks[_];if(!this.marks[x.type.name]){_++;continue}if(!x.eq(u[g][0])||x.type.spec.spanning===!1)break;g++,_++}for(;g<u.length;)s=u.pop()[1];for(;_<p.marks.length;){let x=p.marks[_++],O=this.serializeMark(x,p.isInline,n);O&&(u.push([x,s]),s.appendChild(O.dom),s=O.contentDOM||O.dom)}}s.appendChild(this.serializeNodeInner(p,n))}),a}serializeNodeInner(e,n){let{dom:a,contentDOM:s}=ae.renderSpec(_e(n),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return a}serializeNode(e,n={}){let a=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let u=this.serializeMark(e.marks[s],e.isInline,n);u&&((u.contentDOM||u.dom).appendChild(a),a=u.dom)}return a}serializeMark(e,n,a={}){let s=this.marks[e.type.name];return s&&ae.renderSpec(_e(a),s(e,n))}static renderSpec(e,n,a=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let s=n[0],u=s.indexOf(" ");u>0&&(a=s.slice(0,u),s=s.slice(u+1));let p,g=a?e.createElementNS(a,s):e.createElement(s),_=n[1],x=1;if(_&&typeof _=="object"&&_.nodeType==null&&!Array.isArray(_)){x=2;for(let O in _)if(_[O]!=null){let L=O.indexOf(" ");L>0?g.setAttributeNS(O.slice(0,L),O.slice(L+1),_[O]):g.setAttribute(O,_[O])}}for(let O=x;O<n.length;O++){let L=n[O];if(L===0){if(O<n.length-1||O>x)throw new RangeError("Content hole must be the only child of its parent node");return{dom:g,contentDOM:g}}else{let{dom:H,contentDOM:U}=ae.renderSpec(e,L,a);if(g.appendChild(H),U){if(p)throw new RangeError("Multiple content holes");p=U}}}return{dom:g,contentDOM:p}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ae(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=fe(e.nodes);return n.text||(n.text=a=>a.text),n}static marksFromSchema(e){return fe(e.marks)}};function fe(e){let n={};for(let a in e){let s=e[a].spec.toDOM;s&&(n[a]=s)}return n}function _e(e){return e.document||window.document}var Te=65535,Me=Math.pow(2,16);function Be(e,n){return e+n*Me}function We(e){return e&Te}function it(e){return(e-(e&Te))/Me}var Q=1,ie=2,le=4,be=8,Ne=class{constructor(e,n,a){this.pos=e,this.delInfo=n,this.recover=a}get deleted(){return(this.delInfo&be)>0}get deletedBefore(){return(this.delInfo&(Q|le))>0}get deletedAfter(){return(this.delInfo&(ie|le))>0}get deletedAcross(){return(this.delInfo&le)>0}},De=class{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&De.empty)return De.empty}recover(e){let n=0,a=We(e);if(!this.inverted)for(let s=0;s<a;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[a*3]+n+it(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,a){let s=0,u=this.inverted?2:1,p=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let _=this.ranges[g]-(this.inverted?s:0);if(_>e)break;let x=this.ranges[g+u],O=this.ranges[g+p],L=_+x;if(e<=L){let H=x?e==_?-1:e==L?1:n:n,U=_+s+(H<0?0:O);if(a)return U;let W=e==(n<0?_:L)?null:Be(g/3,e-_),K=e==_?ie:e==L?Q:le;return(n<0?e!=_:e!=L)&&(K|=be),new Ne(U,K,W)}s+=O-x}return a?e+s:new Ne(e+s,0,null)}touches(e,n){let a=0,s=We(n),u=this.inverted?2:1,p=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let _=this.ranges[g]-(this.inverted?a:0);if(_>e)break;let x=this.ranges[g+u],O=_+x;if(e<=O&&g==s*3)return!0;a+=this.ranges[g+p]-x}return!1}forEach(e){let n=this.inverted?2:1,a=this.inverted?1:2;for(let s=0,u=0;s<this.ranges.length;s+=3){let p=this.ranges[s],g=p-(this.inverted?u:0),_=p+(this.inverted?0:u),x=this.ranges[s+n],O=this.ranges[s+a];e(g,g+x,_,_+O),u+=O-x}}invert(){return new De(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?De.empty:new De(e<0?[0,-e,0]:[0,0,e])}};De.empty=new De([]);var Se=class{constructor(e=[],n,a=0,s=e.length){this.maps=e,this.mirror=n,this.from=a,this.to=s}slice(e=0,n=this.maps.length){return new Se(this.maps,this.mirror,e,n)}copy(){return new Se(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,a=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?a+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,a=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?a-s-1:void 0)}}invert(){let e=new Se;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let a=this.from;a<this.to;a++)e=this.maps[a].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,a){let s=0;for(let u=this.from;u<this.to;u++){let p=this.maps[u],g=p.mapResult(e,n);if(g.recover!=null){let _=this.getMirror(u);if(_!=null&&_>u&&_<this.to){u=_,e=this.maps[_].recover(g.recover);continue}}s|=g.delInfo,e=g.pos}return a?e:new Ne(e,s,null)}},xt=Object.create(null),Je=class{getMap(){return De.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let a=xt[n.stepType];if(!a)throw new RangeError(`No step type ${n.stepType} defined`);return a.fromJSON(e,n)}static jsonID(e,n){if(e in xt)throw new RangeError("Duplicate use of step JSON ID "+e);return xt[e]=n,n.prototype.jsonID=e,n}},tt=class{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new tt(e,null)}static fail(e){return new tt(null,e)}static fromReplace(e,n,a,s){try{return tt.ok(e.replace(n,a,s))}catch(u){if(u instanceof C)return tt.fail(u.message);throw u}}};function St(e,n,a){let s=[];for(let u=0;u<e.childCount;u++){let p=e.child(u);p.content.size&&(p=p.copy(St(p.content,n,p))),p.isInline&&(p=n(p,a,u)),s.push(p)}return y.fromArray(s)}var Vt=class extends Je{constructor(e,n,a){super(),this.from=e,this.to=n,this.mark=a}apply(e){let n=e.slice(this.from,this.to),a=e.resolve(this.from),s=a.node(a.sharedDepth(this.to)),u=new k(St(n.content,(p,g)=>!p.isAtom||!g.type.allowsMarkType(this.mark.type)?p:p.mark(this.mark.addToSet(p.marks)),s),n.openStart,n.openEnd);return tt.fromReplace(e,this.from,this.to,u)}invert(){return new Pe(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return n.deleted&&a.deleted||n.pos>=a.pos?null:new Vt(n.pos,a.pos,this.mark)}merge(e){return e instanceof Vt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vt(n.from,n.to,e.markFromJSON(n.mark))}};Je.jsonID("addMark",Vt);var Pe=class extends Je{constructor(e,n,a){super(),this.from=e,this.to=n,this.mark=a}apply(e){let n=e.slice(this.from,this.to),a=new k(St(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return tt.fromReplace(e,this.from,this.to,a)}invert(){return new Vt(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return n.deleted&&a.deleted||n.pos>=a.pos?null:new Pe(n.pos,a.pos,this.mark)}merge(e){return e instanceof Pe&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pe(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Pe(n.from,n.to,e.markFromJSON(n.mark))}};Je.jsonID("removeMark",Pe);var re=class extends Je{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at mark step's position");let a=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return tt.fromReplace(e,this.pos,this.pos+1,new k(y.from(a),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let a=this.mark.addToSet(n.marks);if(a.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(a))return new re(this.pos,n.marks[s]);return new re(this.pos,this.mark)}}return new me(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new re(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new re(n.pos,e.markFromJSON(n.mark))}};Je.jsonID("addNodeMark",re);var me=class extends Je{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at mark step's position");let a=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return tt.fromReplace(e,this.pos,this.pos+1,new k(y.from(a),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new re(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new me(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new me(n.pos,e.markFromJSON(n.mark))}};Je.jsonID("removeNodeMark",me);var de=class extends Je{constructor(e,n,a,s=!1){super(),this.from=e,this.to=n,this.slice=a,this.structure=s}apply(e){return this.structure&&ct(e,this.from,this.to)?tt.fail("Structure replace would overwrite content"):tt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new De([this.from,this.to-this.from,this.slice.size])}invert(e){return new de(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return n.deletedAcross&&a.deletedAcross?null:new de(n.pos,Math.max(n.pos,a.pos),this.slice)}merge(e){if(!(e instanceof de)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?k.empty:new k(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new de(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?k.empty:new k(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new de(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new de(n.from,n.to,k.fromJSON(e,n.slice),!!n.structure)}};Je.jsonID("replace",de);var ke=class extends Je{constructor(e,n,a,s,u,p,g=!1){super(),this.from=e,this.to=n,this.gapFrom=a,this.gapTo=s,this.slice=u,this.insert=p,this.structure=g}apply(e){if(this.structure&&(ct(e,this.from,this.gapFrom)||ct(e,this.gapTo,this.to)))return tt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return tt.fail("Gap is not a flat range");let a=this.slice.insertAt(this.insert,n.content);return a?tt.fromReplace(e,this.from,this.to,a):tt.fail("Content does not fit in gap")}getMap(){return new De([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ke(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),a=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),u=e.map(this.gapTo,1);return n.deletedAcross&&a.deletedAcross||s<n.pos||u>a.pos?null:new ke(n.pos,a.pos,s,u,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ke(n.from,n.to,n.gapFrom,n.gapTo,k.fromJSON(e,n.slice),n.insert,!!n.structure)}};Je.jsonID("replaceAround",ke);function ct(e,n,a){let s=e.resolve(n),u=a-n,p=s.depth;for(;u>0&&p>0&&s.indexAfter(p)==s.node(p).childCount;)p--,u--;if(u>0){let g=s.node(p).maybeChild(s.indexAfter(p));for(;u>0;){if(!g||g.isLeaf)return!0;g=g.firstChild,u--}}return!1}function qe(e,n,a,s){let u=[],p=[],g,_;e.doc.nodesBetween(n,a,(x,O,L)=>{if(!x.isInline)return;let H=x.marks;if(!s.isInSet(H)&&L.type.allowsMarkType(s.type)){let U=Math.max(O,n),W=Math.min(O+x.nodeSize,a),K=s.addToSet(H);for(let te=0;te<H.length;te++)H[te].isInSet(K)||(g&&g.to==U&&g.mark.eq(H[te])?g.to=W:u.push(g=new Pe(U,W,H[te])));_&&_.to==U?_.to=W:p.push(_=new Vt(U,W,s))}}),u.forEach(x=>e.step(x)),p.forEach(x=>e.step(x))}function Xe(e,n,a,s){let u=[],p=0;e.doc.nodesBetween(n,a,(g,_)=>{if(!g.isInline)return;p++;let x=null;if(s instanceof Xi){let O=g.marks,L;for(;L=s.isInSet(O);)(x||(x=[])).push(L),O=L.removeFromSet(O)}else s?s.isInSet(g.marks)&&(x=[s]):x=g.marks;if(x&&x.length){let O=Math.min(_+g.nodeSize,a);for(let L=0;L<x.length;L++){let H=x[L],U;for(let W=0;W<u.length;W++){let K=u[W];K.step==p-1&&H.eq(u[W].style)&&(U=K)}U?(U.to=O,U.step=p):u.push({style:H,from:Math.max(_,n),to:O,step:p})}}}),u.forEach(g=>e.step(new Pe(g.from,g.to,g.style)))}function ce(e,n,a,s=a.contentMatch){let u=e.doc.nodeAt(n),p=[],g=n+1;for(let _=0;_<u.childCount;_++){let x=u.child(_),O=g+x.nodeSize,L=s.matchType(x.type);if(!L)p.push(new de(g,O,k.empty));else{s=L;for(let H=0;H<x.marks.length;H++)a.allowsMarkType(x.marks[H].type)||e.step(new Pe(g,O,x.marks[H]))}g=O}if(!s.validEnd){let _=s.fillBefore(y.empty,!0);e.replace(g,g,new k(_,0,0))}for(let _=p.length-1;_>=0;_--)e.step(p[_])}function Tt(e,n,a){return(n==0||e.canReplace(n,e.childCount))&&(a==e.childCount||e.canReplace(0,a))}function mt(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let a=e.depth;;--a){let s=e.$from.node(a),u=e.$from.index(a),p=e.$to.indexAfter(a);if(a<e.depth&&s.canReplace(u,p,n))return a;if(a==0||s.type.spec.isolating||!Tt(s,u,p))break}return null}function Qi(e,n,a){let{$from:s,$to:u,depth:p}=n,g=s.before(p+1),_=u.after(p+1),x=g,O=_,L=y.empty,H=0;for(let K=p,te=!1;K>a;K--)te||s.index(K)>0?(te=!0,L=y.from(s.node(K).copy(L)),H++):x--;let U=y.empty,W=0;for(let K=p,te=!1;K>a;K--)te||u.after(K+1)<u.end(K)?(te=!0,U=y.from(u.node(K).copy(U)),W++):O++;e.step(new ke(x,O,g,_,new k(L.append(U),H,W),L.size-H,!0))}function sr(e,n,a=null,s=e){let u=Uo(e,n),p=u&&Yo(s,n);return p?u.map(Eo).concat({type:n,attrs:a}).concat(p.map(Eo)):null}function Eo(e){return{type:e,attrs:null}}function Uo(e,n){let{parent:a,startIndex:s,endIndex:u}=e,p=a.contentMatchAt(s).findWrapping(n);if(!p)return null;let g=p.length?p[0]:n;return a.canReplaceWith(s,u,g)?p:null}function Yo(e,n){let{parent:a,startIndex:s,endIndex:u}=e,p=a.child(s),g=n.contentMatch.findWrapping(p.type);if(!g)return null;let _=(g.length?g[g.length-1]:n).contentMatch;for(let x=s;_&&x<u;x++)_=_.matchType(a.child(x).type);return!_||!_.validEnd?null:g}function er(e,n,a){let s=y.empty;for(let g=a.length-1;g>=0;g--){if(s.size){let _=a[g].type.contentMatch.matchFragment(s);if(!_||!_.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=y.from(a[g].type.create(a[g].attrs,s))}let u=n.start,p=n.end;e.step(new ke(u,p,u,p,new k(s,0,0),a.length,!0))}function pr(e,n,a,s,u){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let p=e.steps.length;e.doc.nodesBetween(n,a,(g,_)=>{if(g.isTextblock&&!g.hasMarkup(s,u)&&Hr(e.doc,e.mapping.slice(p).map(_),s)){e.clearIncompatible(e.mapping.slice(p).map(_,1),s);let x=e.mapping.slice(p),O=x.map(_,1),L=x.map(_+g.nodeSize,1);return e.step(new ke(O,L,O+1,L-1,new k(y.from(s.create(u,null,g.marks)),0,0),1,!0)),!1}})}function Hr(e,n,a){let s=e.resolve(n),u=s.index();return s.parent.canReplaceWith(u,u+1,a)}function pa(e,n,a,s,u){let p=e.doc.nodeAt(n);if(!p)throw new RangeError("No node at given position");a||(a=p.type);let g=a.create(s,null,u||p.marks);if(p.isLeaf)return e.replaceWith(n,n+p.nodeSize,g);if(!a.validContent(p.content))throw new RangeError("Invalid content for node type "+a.name);e.step(new ke(n,n+p.nodeSize,n+1,n+p.nodeSize-1,new k(y.from(g),0,0),1,!0))}function ee(e,n,a=1,s){let u=e.resolve(n),p=u.depth-a,g=s&&s[s.length-1]||u.parent;if(p<0||u.parent.type.spec.isolating||!u.parent.canReplace(u.index(),u.parent.childCount)||!g.type.validContent(u.parent.content.cutByIndex(u.index(),u.parent.childCount)))return!1;for(let O=u.depth-1,L=a-2;O>p;O--,L--){let H=u.node(O),U=u.index(O);if(H.type.spec.isolating)return!1;let W=H.content.cutByIndex(U,H.childCount),K=s&&s[L]||H;if(K!=H&&(W=W.replaceChild(0,K.type.create(K.attrs))),!H.canReplace(U+1,H.childCount)||!K.type.validContent(W))return!1}let _=u.indexAfter(p),x=s&&s[0];return u.node(p).canReplaceWith(_,_,x?x.type:u.node(p+1).type)}function X(e,n,a=1,s){let u=e.doc.resolve(n),p=y.empty,g=y.empty;for(let _=u.depth,x=u.depth-a,O=a-1;_>x;_--,O--){p=y.from(u.node(_).copy(p));let L=s&&s[O];g=y.from(L?L.type.create(L.attrs,g):u.node(_).copy(g))}e.step(new de(n,n,new k(p.append(g),a,a),!0))}function se(e,n){let a=e.resolve(n),s=a.index();return ye(a.nodeBefore,a.nodeAfter)&&a.parent.canReplace(s,s+1)}function ye(e,n){return!!(e&&n&&!e.isLeaf&&e.canAppend(n))}function Ee(e,n,a){let s=new de(n-a,n+a,k.empty,!0);e.step(s)}function ze(e,n,a){let s=e.resolve(n);if(s.parent.canReplaceWith(s.index(),s.index(),a))return n;if(s.parentOffset==0)for(let u=s.depth-1;u>=0;u--){let p=s.index(u);if(s.node(u).canReplaceWith(p,p,a))return s.before(u+1);if(p>0)return null}if(s.parentOffset==s.parent.content.size)for(let u=s.depth-1;u>=0;u--){let p=s.indexAfter(u);if(s.node(u).canReplaceWith(p,p,a))return s.after(u+1);if(p<s.node(u).childCount)return null}return null}function Ze(e,n,a){let s=e.resolve(n);if(!a.content.size)return n;let u=a.content;for(let p=0;p<a.openStart;p++)u=u.firstChild.content;for(let p=1;p<=(a.openStart==0&&a.size?2:1);p++)for(let g=s.depth;g>=0;g--){let _=g==s.depth?0:s.pos<=(s.start(g+1)+s.end(g+1))/2?-1:1,x=s.index(g)+(_>0?1:0),O=s.node(g),L=!1;if(p==1)L=O.canReplace(x,x,u);else{let H=O.contentMatchAt(x).findWrapping(u.firstChild.type);L=H&&O.canReplaceWith(x,x,H[0])}if(L)return _==0?s.pos:_<0?s.before(g+1):s.after(g+1)}return null}function He(e,n,a=n,s=k.empty){if(n==a&&!s.size)return null;let u=e.resolve(n),p=e.resolve(a);return dt(u,p,s)?new de(n,a,s):new Ot(u,p,s).fit()}function dt(e,n,a){return!a.openStart&&!a.openEnd&&e.start()==n.start()&&e.parent.canReplace(e.index(),n.index(),a.content)}var Ot=class{constructor(e,n,a){this.$from=e,this.$to=n,this.unplaced=a,this.frontier=[],this.placed=y.empty;for(let s=0;s<=e.depth;s++){let u=e.node(s);this.frontier.push({type:u.type,match:u.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=y.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let x=this.findFittable();x?this.placeNodes(x):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,a=this.$from,s=this.close(e<0?this.$to:a.doc.resolve(e));if(!s)return null;let u=this.placed,p=a.depth,g=s.depth;for(;p&&g&&u.childCount==1;)u=u.firstChild.content,p--,g--;let _=new k(u,p,g);return e>-1?new ke(a.pos,e,this.$to.pos,this.$to.end(),_,n):_.size||a.pos!=this.$to.pos?new de(a.pos,s.pos,_):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let a,s=null;n?(s=Mn(this.unplaced.content,n-1).firstChild,a=s.content):a=this.unplaced.content;let u=a.firstChild;for(let p=this.depth;p>=0;p--){let{type:g,match:_}=this.frontier[p],x,O=null;if(e==1&&(u?_.matchType(u.type)||(O=_.fillBefore(y.from(u),!1)):s&&g.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:p,parent:s,inject:O};if(e==2&&u&&(x=_.findWrapping(u.type)))return{sliceDepth:n,frontierDepth:p,parent:s,wrap:x};if(s&&_.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:a}=this.unplaced,s=Mn(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new k(e,n+1,Math.max(a,s.size+n>=e.size-a?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:a}=this.unplaced,s=Mn(e,n);if(s.childCount<=1&&n>0){let u=e.size-n<=n+s.size;this.unplaced=new k(Ke(e,n-1,1),n-1,u?n-1:a)}else this.unplaced=new k(Ke(e,n,1),n,a)}placeNodes({sliceDepth:e,frontierDepth:n,parent:a,inject:s,wrap:u}){for(;this.depth>n;)this.closeFrontierNode();if(u)for(let K=0;K<u.length;K++)this.openFrontierNode(u[K]);let p=this.unplaced,g=a?a.content:p.content,_=p.openStart-e,x=0,O=[],{match:L,type:H}=this.frontier[n];if(s){for(let K=0;K<s.childCount;K++)O.push(s.child(K));L=L.matchFragment(s)}let U=g.size+e-(p.content.size-p.openEnd);for(;x<g.childCount;){let K=g.child(x),te=L.matchType(K.type);if(!te)break;x++,(x>1||_==0||K.content.size)&&(L=te,O.push(hn(K.mark(H.allowedMarks(K.marks)),x==1?_:0,x==g.childCount?U:-1)))}let W=x==g.childCount;W||(U=-1),this.placed=cn(this.placed,n,y.from(O)),this.frontier[n].match=L,W&&U<0&&a&&a.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let K=0,te=g;K<U;K++){let oe=te.lastChild;this.frontier.push({type:oe.type,match:oe.contentMatchAt(oe.childCount)}),te=oe.content}this.unplaced=W?e==0?k.empty:new k(Ke(p.content,e-1,1),e-1,U<0?p.openEnd:e-1):new k(Ke(p.content,e,x),p.openStart,p.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Xt(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:a}=this.$to,s=this.$to.after(a);for(;a>1&&s==this.$to.end(--a);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:a,type:s}=this.frontier[n],u=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),p=Xt(e,n,s,a,u);if(p){for(let g=n-1;g>=0;g--){let{match:_,type:x}=this.frontier[g],O=Xt(e,g,x,_,!0);if(!O||O.childCount)continue e}return{depth:n,fit:p,move:u?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=cn(this.placed,n.depth,n.fit)),e=n.move;for(let a=n.depth+1;a<=e.depth;a++){let s=e.node(a),u=s.type.contentMatch.fillBefore(s.content,!0,e.index(a));this.openFrontierNode(s.type,s.attrs,u)}return e}openFrontierNode(e,n=null,a){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=cn(this.placed,this.depth,y.from(e.create(n,a))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(y.empty,!0);e.childCount&&(this.placed=cn(this.placed,this.frontier.length,e))}};function Ke(e,n,a){return n==0?e.cutByIndex(a,e.childCount):e.replaceChild(0,e.firstChild.copy(Ke(e.firstChild.content,n-1,a)))}function cn(e,n,a){return n==0?e.append(a):e.replaceChild(e.childCount-1,e.lastChild.copy(cn(e.lastChild.content,n-1,a)))}function Mn(e,n){for(let a=0;a<n;a++)e=e.firstChild.content;return e}function hn(e,n,a){if(n<=0)return e;let s=e.content;return n>1&&(s=s.replaceChild(0,hn(s.firstChild,n-1,s.childCount==1?a-1:0))),n>0&&(s=e.type.contentMatch.fillBefore(s).append(s),a<=0&&(s=s.append(e.type.contentMatch.matchFragment(s).fillBefore(y.empty,!0)))),e.copy(s)}function Xt(e,n,a,s,u){let p=e.node(n),g=u?e.indexAfter(n):e.index(n);if(g==p.childCount&&!a.compatibleContent(p.type))return null;let _=s.fillBefore(p.content,!0,g);return _&&!kn(a,p.content,g)?_:null}function kn(e,n,a){for(let s=a;s<n.childCount;s++)if(!e.allowsMarks(n.child(s).marks))return!0;return!1}function fn(e){return e.spec.defining||e.spec.definingForContent}function Un(e,n,a,s){if(!s.size)return e.deleteRange(n,a);let u=e.doc.resolve(n),p=e.doc.resolve(a);if(dt(u,p,s))return e.step(new de(n,a,s));let g=_n(u,e.doc.resolve(a));g[g.length-1]==0&&g.pop();let _=-(u.depth+1);g.unshift(_);for(let U=u.depth,W=u.pos-1;U>0;U--,W--){let K=u.node(U).type.spec;if(K.defining||K.definingAsContext||K.isolating)break;g.indexOf(U)>-1?_=U:u.before(U)==W&&g.splice(1,0,-U)}let x=g.indexOf(_),O=[],L=s.openStart;for(let U=s.content,W=0;;W++){let K=U.firstChild;if(O.push(K),W==s.openStart)break;U=K.content}for(let U=L-1;U>=0;U--){let W=O[U].type,K=fn(W);if(K&&u.node(x).type!=W)L=U;else if(K||!W.isTextblock)break}for(let U=s.openStart;U>=0;U--){let W=(U+L+1)%(s.openStart+1),K=O[W];if(K)for(let te=0;te<g.length;te++){let oe=g[(te+x)%g.length],ge=!0;oe<0&&(ge=!1,oe=-oe);let xe=u.node(oe-1),Le=u.index(oe-1);if(xe.canReplaceWith(Le,Le,K.type,K.marks))return e.replace(u.before(oe),ge?p.after(oe):a,new k(xn(s.content,0,s.openStart,W),W,s.openEnd))}}let H=e.steps.length;for(let U=g.length-1;U>=0&&(e.replace(n,a,s),!(e.steps.length>H));U--){let W=g[U];W<0||(n=u.before(W),a=p.after(W))}}function xn(e,n,a,s,u){if(n<a){let p=e.firstChild;e=e.replaceChild(0,p.copy(xn(p.content,n+1,a,s,p)))}if(n>s){let p=u.contentMatchAt(0),g=p.fillBefore(e).append(e);e=g.append(p.matchFragment(g).fillBefore(y.empty,!0))}return e}function Yn(e,n,a,s){if(!s.isInline&&n==a&&e.doc.resolve(n).parent.content.size){let u=ze(e.doc,n,s.type);u!=null&&(n=a=u)}e.replaceRange(n,a,new k(y.from(s),0,0))}function Nt(e,n,a){let s=e.doc.resolve(n),u=e.doc.resolve(a),p=_n(s,u);for(let g=0;g<p.length;g++){let _=p[g],x=g==p.length-1;if(x&&_==0||s.node(_).type.contentMatch.validEnd)return e.delete(s.start(_),u.end(_));if(_>0&&(x||s.node(_-1).canReplace(s.index(_-1),u.indexAfter(_-1))))return e.delete(s.before(_),u.after(_))}for(let g=1;g<=s.depth&&g<=u.depth;g++)if(n-s.start(g)==s.depth-g&&a>s.end(g)&&u.end(g)-a!=u.depth-g)return e.delete(s.before(g),a);e.delete(n,a)}function _n(e,n){let a=[],s=Math.min(e.depth,n.depth);for(let u=s;u>=0;u--){let p=e.start(u);if(p<e.pos-(e.depth-u)||n.end(u)>n.pos+(n.depth-u)||e.node(u).type.spec.isolating||n.node(u).type.spec.isolating)break;(p==n.start(u)||u==e.depth&&u==n.depth&&e.parent.inlineContent&&n.parent.inlineContent&&u&&n.start(u-1)==p-1)&&a.push(u)}return a}var dn=class extends Je{constructor(e,n,a){super(),this.pos=e,this.attr=n,this.value=a}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at attribute step's position");let a=Object.create(null);for(let u in n.attrs)a[u]=n.attrs[u];a[this.attr]=this.value;let s=n.type.create(a,null,n.marks);return tt.fromReplace(e,this.pos,this.pos+1,new k(y.from(s),0,n.isLeaf?0:1))}getMap(){return De.empty}invert(e){return new dn(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new dn(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new dn(n.pos,n.attr,n.value)}};Je.jsonID("attr",dn);var vn=class extends Error{};vn=function e(n){let a=Error.call(this,n);return a.__proto__=e.prototype,a},vn.prototype=Object.create(Error.prototype),vn.prototype.constructor=vn,vn.prototype.name="TransformError";var Sn=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Se}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new vn(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,a=k.empty){let s=He(this.doc,e,n,a);return s&&this.step(s),this}replaceWith(e,n,a){return this.replace(e,n,new k(y.from(a),0,0))}delete(e,n){return this.replace(e,n,k.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,a){return Un(this,e,n,a),this}replaceRangeWith(e,n,a){return Yn(this,e,n,a),this}deleteRange(e,n){return Nt(this,e,n),this}lift(e,n){return Qi(this,e,n),this}join(e,n=1){return Ee(this,e,n),this}wrap(e,n){return er(this,e,n),this}setBlockType(e,n=e,a,s=null){return pr(this,e,n,a,s),this}setNodeMarkup(e,n,a=null,s=[]){return pa(this,e,n,a,s),this}setNodeAttribute(e,n,a){return this.step(new dn(e,n,a)),this}addNodeMark(e,n){return this.step(new re(e,n)),this}removeNodeMark(e,n){if(!(n instanceof D)){let a=this.doc.nodeAt(e);if(!a)throw new RangeError("No node at position "+e);if(n=n.isInSet(a.marks),!n)return this}return this.step(new me(e,n)),this}split(e,n=1,a){return X(this,e,n,a),this}addMark(e,n,a){return qe(this,e,n,a),this}removeMark(e,n,a){return Xe(this,e,n,a),this}clearIncompatible(e,n,a){return ce(this,e,n,a),this}},Gn=Object.create(null),Qe=class{constructor(e,n,a){this.$anchor=e,this.$head=n,this.ranges=a||[new Wn(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=k.empty){let a=n.content.lastChild,s=null;for(let g=0;g<n.openEnd;g++)s=a,a=a.lastChild;let u=e.steps.length,p=this.ranges;for(let g=0;g<p.length;g++){let{$from:_,$to:x}=p[g],O=e.mapping.slice(u);e.replaceRange(O.map(_.pos),O.map(x.pos),g?k.empty:n),g==0&&Fa(e,u,(a?a.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let a=e.steps.length,s=this.ranges;for(let u=0;u<s.length;u++){let{$from:p,$to:g}=s[u],_=e.mapping.slice(a),x=_.map(p.pos),O=_.map(g.pos);u?e.deleteRange(x,O):(e.replaceRangeWith(x,O,n),Fa(e,a,n.isInline?-1:1))}}static findFrom(e,n,a=!1){let s=e.parent.inlineContent?new Et(e):Vr(e.node(0),e.parent,e.pos,e.index(),n,a);if(s)return s;for(let u=e.depth-1;u>=0;u--){let p=n<0?Vr(e.node(0),e.node(u),e.before(u+1),e.index(u),n,a):Vr(e.node(0),e.node(u),e.after(u+1),e.index(u)+1,n,a);if(p)return p}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new lr(e.node(0))}static atStart(e){return Vr(e,e,0,0,1)||new lr(e)}static atEnd(e){return Vr(e,e,e.content.size,e.childCount,-1)||new lr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let a=Gn[n.type];if(!a)throw new RangeError(`No selection type ${n.type} defined`);return a.fromJSON(e,n)}static jsonID(e,n){if(e in Gn)throw new RangeError("Duplicate use of selection JSON ID "+e);return Gn[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Et.between(this.$anchor,this.$head).getBookmark()}};Qe.prototype.visible=!0;var Wn=class{constructor(e,n){this.$from=e,this.$to=n}},Tr=!1;function Ri(e){!Tr&&!e.parent.inlineContent&&(Tr=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var Et=class extends Qe{constructor(e,n=e){Ri(e),Ri(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let a=e.resolve(n.map(this.head));if(!a.parent.inlineContent)return Qe.near(a);let s=e.resolve(n.map(this.anchor));return new Et(s.parent.inlineContent?s:a,a)}replace(e,n=k.empty){if(super.replace(e,n),n==k.empty){let a=this.$from.marksAcross(this.$to);a&&e.ensureMarks(a)}}eq(e){return e instanceof Et&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _o(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Et(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,a=n){let s=e.resolve(n);return new this(s,a==n?s:e.resolve(a))}static between(e,n,a){let s=e.pos-n.pos;if((!a||s)&&(a=s>=0?1:-1),!n.parent.inlineContent){let u=Qe.findFrom(n,a,!0)||Qe.findFrom(n,-a,!0);if(u)n=u.$head;else return Qe.near(n,a)}return e.parent.inlineContent||(s==0?e=n:(e=(Qe.findFrom(e,-a,!0)||Qe.findFrom(e,a,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Et(e,n)}};Qe.jsonID("text",Et);var _o=class{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _o(e.map(this.anchor),e.map(this.head))}resolve(e){return Et.between(e.resolve(this.anchor),e.resolve(this.head))}},At=class extends Qe{constructor(e){let n=e.nodeAfter,a=e.node(0).resolve(e.pos+n.nodeSize);super(e,a),this.node=n}map(e,n){let{deleted:a,pos:s}=n.mapResult(this.anchor),u=e.resolve(s);return a?Qe.near(u):new At(u)}content(){return new k(y.from(this.node),0,0)}eq(e){return e instanceof At&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ao(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new At(e.resolve(n.anchor))}static create(e,n){return new At(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};At.prototype.visible=!1,Qe.jsonID("node",At);var ao=class{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:a}=e.mapResult(this.anchor);return n?new _o(a,a):new ao(a)}resolve(e){let n=e.resolve(this.anchor),a=n.nodeAfter;return a&&At.isSelectable(a)?new At(n):Qe.near(n)}},lr=class extends Qe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=k.empty){if(n==k.empty){e.delete(0,e.doc.content.size);let a=Qe.atStart(e.doc);a.eq(e.selection)||e.setSelection(a)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new lr(e)}map(e){return new lr(e)}eq(e){return e instanceof lr}getBookmark(){return Go}};Qe.jsonID("all",lr);var Go={map(){return this},resolve(e){return new lr(e)}};function Vr(e,n,a,s,u,p=!1){if(n.inlineContent)return Et.create(e,a);for(let g=s-(u>0?0:1);u>0?g<n.childCount:g>=0;g+=u){let _=n.child(g);if(_.isAtom){if(!p&&At.isSelectable(_))return At.create(e,a-(u<0?_.nodeSize:0))}else{let x=Vr(e,_,a+u,u<0?_.childCount:0,u,p);if(x)return x}a+=_.nodeSize*u}return null}function Fa(e,n,a){let s=e.steps.length-1;if(s<n)return;let u=e.steps[s];if(!(u instanceof de||u instanceof ke))return;let p=e.mapping.maps[s],g;p.forEach((_,x,O,L)=>{g==null&&(g=L)}),e.setSelection(Qe.near(e.doc.resolve(g),a))}var ve=1,lt=2,wt=4,Wt=class extends Sn{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ve)&~lt,this.storedMarks=null,this}get selectionSet(){return(this.updated&ve)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=lt,this}ensureMarks(e){return D.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&lt)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~lt,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let a=this.selection;return n&&(e=e.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||D.none))),a.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,a){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(a==null&&(a=n),a=a??n,!e)return this.deleteRange(n,a);let u=this.storedMarks;if(!u){let p=this.doc.resolve(n);u=a==n?p.marks():p.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(n,a,s.text(e,u)),this.selection.empty||this.setSelection(Qe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=wt,this}get scrolledIntoView(){return(this.updated&wt)>0}};function Zt(e,n){return!n||!e?e:e.bind(n)}var qn=class{constructor(e,n,a){this.name=e,this.init=Zt(n.init,a),this.apply=Zt(n.apply,a)}},hi=[new qn("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new qn("selection",{init(e,n){return e.selection||Qe.atStart(n.doc)},apply(e){return e.selection}}),new qn("storedMarks",{init(e){return e.storedMarks||null},apply(e,n,a,s){return s.selection.$cursor?e.storedMarks:null}}),new qn("scrollToSelection",{init(){return 0},apply(e,n){return e.scrolledIntoView?n+1:n}})],Cr=class{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=hi.slice(),n&&n.forEach(a=>{if(this.pluginsByKey[a.key])throw new RangeError("Adding different instances of a keyed plugin ("+a.key+")");this.plugins.push(a),this.pluginsByKey[a.key]=a,a.spec.state&&this.fields.push(new qn(a.key,a.spec.state,a))})}},wo=class{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let a=0;a<this.config.plugins.length;a++)if(a!=n){let s=this.config.plugins[a];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],a=this.applyInner(e),s=null;for(;;){let u=!1;for(let p=0;p<this.config.plugins.length;p++){let g=this.config.plugins[p];if(g.spec.appendTransaction){let _=s?s[p].n:0,x=s?s[p].state:this,O=_<n.length&&g.spec.appendTransaction.call(g,_?n.slice(_):n,x,a);if(O&&a.filterTransaction(O,p)){if(O.setMeta("appendedTransaction",e),!s){s=[];for(let L=0;L<this.config.plugins.length;L++)s.push(L<p?{state:a,n:n.length}:{state:this,n:0})}n.push(O),a=a.applyInner(O),u=!0}s&&(s[p]={state:a,n:n.length})}}if(!u)return{state:a,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new wo(this.config),a=this.config.fields;for(let s=0;s<a.length;s++){let u=a[s];n[u.name]=u.apply(e,this[u.name],this,n)}return n}get tr(){return new Wt(this)}static create(e){let n=new Cr(e.doc?e.doc.type.schema:e.schema,e.plugins),a=new wo(n);for(let s=0;s<n.fields.length;s++)a[n.fields[s].name]=n.fields[s].init(e,a);return a}reconfigure(e){let n=new Cr(this.schema,e.plugins),a=n.fields,s=new wo(n);for(let u=0;u<a.length;u++){let p=a[u].name;s[p]=this.hasOwnProperty(p)?this[p]:a[u].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(a=>a.toJSON())),e&&typeof e=="object")for(let a in e){if(a=="doc"||a=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[a],u=s.spec.state;u&&u.toJSON&&(n[a]=u.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,a){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Cr(e.schema,e.plugins),u=new wo(s);return s.fields.forEach(p=>{if(p.name=="doc")u.doc=we.fromJSON(e.schema,n.doc);else if(p.name=="selection")u.selection=Qe.fromJSON(u.doc,n.selection);else if(p.name=="storedMarks")n.storedMarks&&(u.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(a)for(let g in a){let _=a[g],x=_.spec.state;if(_.key==p.name&&x&&x.fromJSON&&Object.prototype.hasOwnProperty.call(n,g)){u[p.name]=x.fromJSON.call(_,e,n[g],u);return}}u[p.name]=p.init(e,u)}}),u}};function Ur(e,n,a){for(let s in e){let u=e[s];u instanceof Function?u=u.bind(n):s=="handleDOMEvents"&&(u=Ur(u,n,{})),a[s]=u}return a}var Kn=class{constructor(e){this.spec=e,this.props={},e.props&&Ur(e.props,this,this.props),this.key=e.key?e.key.key:Do("plugin")}getState(e){return e[this.key]}},Ao=Object.create(null);function Do(e){return e in Ao?e+"$"+ ++Ao[e]:(Ao[e]=0,e+"$")}var Li=class{constructor(e="key"){this.key=Do(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}},ai=function(e){for(var n=0;;n++)if(e=e.previousSibling,!e)return n},Yr=function(e){let n=e.assignedSlot||e.parentNode;return n&&n.nodeType==11?n.host:n},_u=null,so=function(e,n,a){let s=_u||(_u=document.createRange());return s.setEnd(e,a??e.nodeValue.length),s.setStart(e,n||0),s},ws=function(e,n,a,s){return a&&(L0(e,n,a,s,-1)||L0(e,n,a,s,1))},mx=/^(img|br|input|textarea|hr)$/i;function L0(e,n,a,s,u){for(;;){if(e==a&&n==s)return!0;if(n==(u<0?0:Wo(e))){let p=e.parentNode;if(!p||p.nodeType!=1||vx(e)||mx.test(e.nodeName)||e.contentEditable=="false")return!1;n=ai(e)+(u<0?0:1),e=p}else if(e.nodeType==1){if(e=e.childNodes[n+(u<0?-1:0)],e.contentEditable=="false")return!1;n=u<0?Wo(e):0}else return!1}}function Wo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function gx(e,n,a){for(let s=n==0,u=n==Wo(e);s||u;){if(e==a)return!0;let p=ai(e);if(e=e.parentNode,!e)return!1;s=s&&p==0,u=u&&p==Wo(e)}}function vx(e){let n;for(let a=e;a&&!(n=a.pmViewDesc);a=a.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==e||n.contentDOM==e)}var Pc=function(e){return e.focusNode&&ws(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function dl(e,n){let a=document.createEvent("Event");return a.initEvent("keydown",!0,!0),a.keyCode=e,a.key=a.code=n,a}function bx(e){let n=e.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}var Na=typeof navigator<"u"?navigator:null,F0=typeof document<"u"?document:null,Pa=Na&&Na.userAgent||"",Of=/Edge\/(\d+)/.exec(Pa),N0=/MSIE \d/.exec(Pa),If=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pa),Mr=!!(N0||If||Of),Ba=N0?document.documentMode:If?+If[1]:Of?+Of[1]:0,xo=!Mr&&/gecko\/(\d+)/i.test(Pa);xo&&+(/Firefox\/(\d+)/.exec(Pa)||[0,0])[1];var Rf=!Mr&&/Chrome\/(\d+)/.exec(Pa),kr=!!Rf,yx=Rf?+Rf[1]:0,mr=!Mr&&!!Na&&/Apple Computer/.test(Na.vendor),hl=mr&&(/Mobile\/\w+/.test(Pa)||!!Na&&Na.maxTouchPoints>2),lo=hl||(Na?/Mac/.test(Na.platform):!1),qo=/Android \d/.test(Pa),Bc=!!F0&&"webkitFontSmoothing"in F0.documentElement.style,Ex=Bc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _x(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function za(e,n){return typeof e=="number"?e:e[n]}function wx(e){let n=e.getBoundingClientRect(),a=n.width/e.offsetWidth||1,s=n.height/e.offsetHeight||1;return{left:n.left,right:n.left+e.clientWidth*a,top:n.top,bottom:n.top+e.clientHeight*s}}function P0(e,n,a){let s=e.someProp("scrollThreshold")||0,u=e.someProp("scrollMargin")||5,p=e.dom.ownerDocument;for(let g=a||e.dom;g;g=Yr(g)){if(g.nodeType!=1)continue;let _=g,x=_==p.body,O=x?_x(p):wx(_),L=0,H=0;if(n.top<O.top+za(s,"top")?H=-(O.top-n.top+za(u,"top")):n.bottom>O.bottom-za(s,"bottom")&&(H=n.bottom-O.bottom+za(u,"bottom")),n.left<O.left+za(s,"left")?L=-(O.left-n.left+za(u,"left")):n.right>O.right-za(s,"right")&&(L=n.right-O.right+za(u,"right")),L||H)if(x)p.defaultView.scrollBy(L,H);else{let U=_.scrollLeft,W=_.scrollTop;H&&(_.scrollTop+=H),L&&(_.scrollLeft+=L);let K=_.scrollLeft-U,te=_.scrollTop-W;n={left:n.left-K,top:n.top-te,right:n.right-K,bottom:n.bottom-te}}if(x)break}}function Ax(e){let n=e.dom.getBoundingClientRect(),a=Math.max(0,n.top),s,u;for(let p=(n.left+n.right)/2,g=a+1;g<Math.min(innerHeight,n.bottom);g+=5){let _=e.root.elementFromPoint(p,g);if(!_||_==e.dom||!e.dom.contains(_))continue;let x=_.getBoundingClientRect();if(x.top>=a-20){s=_,u=x.top;break}}return{refDOM:s,refTop:u,stack:B0(e.dom)}}function B0(e){let n=[],a=e.ownerDocument;for(let s=e;s&&(n.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),e!=a);s=Yr(s));return n}function Dx({refDOM:e,refTop:n,stack:a}){let s=e?e.getBoundingClientRect().top:0;z0(a,s==0?0:s-n)}function z0(e,n){for(let a=0;a<e.length;a++){let{dom:s,top:u,left:p}=e[a];s.scrollTop!=u+n&&(s.scrollTop=u+n),s.scrollLeft!=p&&(s.scrollLeft=p)}}var fl=null;function xx(e){if(e.setActive)return e.setActive();if(fl)return e.focus(fl);let n=B0(e);e.focus(fl==null?{get preventScroll(){return fl={preventScroll:!0},!0}}:void 0),fl||(fl=!1,z0(n,0))}function $0(e,n){let a,s=2e8,u,p=0,g=n.top,_=n.top;for(let x=e.firstChild,O=0;x;x=x.nextSibling,O++){let L;if(x.nodeType==1)L=x.getClientRects();else if(x.nodeType==3)L=so(x).getClientRects();else continue;for(let H=0;H<L.length;H++){let U=L[H];if(U.top<=g&&U.bottom>=_){g=Math.max(U.bottom,g),_=Math.min(U.top,_);let W=U.left>n.left?U.left-n.left:U.right<n.left?n.left-U.right:0;if(W<s){a=x,s=W,u=W&&a.nodeType==3?{left:U.right<n.left?U.right:U.left,top:n.top}:n,x.nodeType==1&&W&&(p=O+(n.left>=(U.left+U.right)/2?1:0));continue}}!a&&(n.left>=U.right&&n.top>=U.top||n.left>=U.left&&n.top>=U.bottom)&&(p=O+1)}}return a&&a.nodeType==3?Sx(a,u):!a||s&&a.nodeType==1?{node:e,offset:p}:$0(a,u)}function Sx(e,n){let a=e.nodeValue.length,s=document.createRange();for(let u=0;u<a;u++){s.setEnd(e,u+1),s.setStart(e,u);let p=$a(s,1);if(p.top!=p.bottom&&Lf(n,p))return{node:e,offset:u+(n.left>=(p.left+p.right)/2?1:0)}}return{node:e,offset:0}}function Lf(e,n){return e.left>=n.left-1&&e.left<=n.right+1&&e.top>=n.top-1&&e.top<=n.bottom+1}function Tx(e,n){let a=e.parentNode;return a&&/^li$/i.test(a.nodeName)&&n.left<e.getBoundingClientRect().left?a:e}function Cx(e,n,a){let{node:s,offset:u}=$0(n,a),p=-1;if(s.nodeType==1&&!s.firstChild){let g=s.getBoundingClientRect();p=g.left!=g.right&&a.left>(g.left+g.right)/2?1:-1}return e.docView.posFromDOM(s,u,p)}function Mx(e,n,a,s){let u=-1;for(let p=n;p!=e.dom;){let g=e.docView.nearestDesc(p,!0);if(!g)return null;if(g.node.isBlock&&g.parent){let _=g.dom.getBoundingClientRect();if(_.left>s.left||_.top>s.top)u=g.posBefore;else if(_.right<s.left||_.bottom<s.top)u=g.posAfter;else break}p=g.dom.parentNode}return u>-1?u:e.docView.posFromDOM(n,a,1)}function j0(e,n,a){let s=e.childNodes.length;if(s&&a.top<a.bottom)for(let u=Math.max(0,Math.min(s-1,Math.floor(s*(n.top-a.top)/(a.bottom-a.top))-2)),p=u;;){let g=e.childNodes[p];if(g.nodeType==1){let _=g.getClientRects();for(let x=0;x<_.length;x++){let O=_[x];if(Lf(n,O))return j0(g,n,O)}}if((p=(p+1)%s)==u)break}return e}function kx(e,n){let a=e.dom.ownerDocument,s,u=0;if(a.caretPositionFromPoint)try{let x=a.caretPositionFromPoint(n.left,n.top);x&&({offsetNode:s,offset:u}=x)}catch{}if(!s&&a.caretRangeFromPoint){let x=a.caretRangeFromPoint(n.left,n.top);x&&({startContainer:s,startOffset:u}=x)}let p=(e.root.elementFromPoint?e.root:a).elementFromPoint(n.left,n.top),g;if(!p||!e.dom.contains(p.nodeType!=1?p.parentNode:p)){let x=e.dom.getBoundingClientRect();if(!Lf(n,x)||(p=j0(e.dom,n,x),!p))return null}if(mr)for(let x=p;s&&x;x=Yr(x))x.draggable&&(s=void 0);if(p=Tx(p,n),s){if(xo&&s.nodeType==1&&(u=Math.min(u,s.childNodes.length),u<s.childNodes.length)){let x=s.childNodes[u],O;x.nodeName=="IMG"&&(O=x.getBoundingClientRect()).right<=n.left&&O.bottom>n.top&&u++}s==e.dom&&u==s.childNodes.length-1&&s.lastChild.nodeType==1&&n.top>s.lastChild.getBoundingClientRect().bottom?g=e.state.doc.content.size:(u==0||s.nodeType!=1||s.childNodes[u-1].nodeName!="BR")&&(g=Mx(e,s,u,n))}g==null&&(g=Cx(e,p,n));let _=e.docView.nearestDesc(p,!0);return{pos:g,inside:_?_.posAtStart-_.border:-1}}function $a(e,n){let a=e.getClientRects();return a.length?a[n<0?0:a.length-1]:e.getBoundingClientRect()}var Ox=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function H0(e,n,a){let{node:s,offset:u,atom:p}=e.docView.domFromPos(n,a<0?-1:1),g=Bc||xo;if(s.nodeType==3)if(g&&(Ox.test(s.nodeValue)||(a<0?!u:u==s.nodeValue.length))){let _=$a(so(s,u,u),a);if(xo&&u&&/\s/.test(s.nodeValue[u-1])&&u<s.nodeValue.length){let x=$a(so(s,u-1,u-1),-1);if(x.top==_.top){let O=$a(so(s,u,u+1),-1);if(O.top!=_.top)return wu(O,O.left<x.left)}}return _}else{let _=u,x=u,O=a<0?1:-1;return a<0&&!u?(x++,O=-1):a>=0&&u==s.nodeValue.length?(_--,O=1):a<0?_--:x++,wu($a(so(s,_,x),1),O<0)}if(!e.state.doc.resolve(n-(p||0)).parent.inlineContent){if(p==null&&u&&(a<0||u==Wo(s))){let _=s.childNodes[u-1];if(_.nodeType==1)return Ff(_.getBoundingClientRect(),!1)}if(p==null&&u<Wo(s)){let _=s.childNodes[u];if(_.nodeType==1)return Ff(_.getBoundingClientRect(),!0)}return Ff(s.getBoundingClientRect(),a>=0)}if(p==null&&u&&(a<0||u==Wo(s))){let _=s.childNodes[u-1],x=_.nodeType==3?so(_,Wo(_)-(g?0:1)):_.nodeType==1&&(_.nodeName!="BR"||!_.nextSibling)?_:null;if(x)return wu($a(x,1),!1)}if(p==null&&u<Wo(s)){let _=s.childNodes[u];for(;_.pmViewDesc&&_.pmViewDesc.ignoreForCoords;)_=_.nextSibling;let x=_?_.nodeType==3?so(_,0,g?0:1):_.nodeType==1?_:null:null;if(x)return wu($a(x,-1),!0)}return wu($a(s.nodeType==3?so(s):s,-a),a>=0)}function wu(e,n){if(e.width==0)return e;let a=n?e.left:e.right;return{top:e.top,bottom:e.bottom,left:a,right:a}}function Ff(e,n){if(e.height==0)return e;let a=n?e.top:e.bottom;return{top:a,bottom:a,left:e.left,right:e.right}}function V0(e,n,a){let s=e.state,u=e.root.activeElement;s!=n&&e.updateState(n),u!=e.dom&&e.focus();try{return a()}finally{s!=n&&e.updateState(s),u!=e.dom&&u&&u.focus()}}function Ix(e,n,a){let s=n.selection,u=a=="up"?s.$from:s.$to;return V0(e,n,()=>{let{node:p}=e.docView.domFromPos(u.pos,a=="up"?-1:1);for(;;){let _=e.docView.nearestDesc(p,!0);if(!_)break;if(_.node.isBlock){p=_.dom;break}p=_.dom.parentNode}let g=H0(e,u.pos,1);for(let _=p.firstChild;_;_=_.nextSibling){let x;if(_.nodeType==1)x=_.getClientRects();else if(_.nodeType==3)x=so(_,0,_.nodeValue.length).getClientRects();else continue;for(let O=0;O<x.length;O++){let L=x[O];if(L.bottom>L.top+1&&(a=="up"?g.top-L.top>(L.bottom-g.top)*2:L.bottom-g.bottom>(g.bottom-L.top)*2))return!1}}return!0})}var Rx=/[\u0590-\u08ac]/;function Lx(e,n,a){let{$head:s}=n.selection;if(!s.parent.isTextblock)return!1;let u=s.parentOffset,p=!u,g=u==s.parent.content.size,_=e.domSelection();return!Rx.test(s.parent.textContent)||!_.modify?a=="left"||a=="backward"?p:g:V0(e,n,()=>{let{focusNode:x,focusOffset:O,anchorNode:L,anchorOffset:H}=e.domSelectionRange(),U=_.caretBidiLevel;_.modify("move",a,"character");let W=s.depth?e.docView.domAfterPos(s.before()):e.dom,{focusNode:K,focusOffset:te}=e.domSelectionRange(),oe=K&&!W.contains(K.nodeType==1?K:K.parentNode)||x==K&&O==te;try{_.collapse(L,H),x&&(x!=L||O!=H)&&_.extend&&_.extend(x,O)}catch{}return U!=null&&(_.caretBidiLevel=U),oe})}var U0=null,Y0=null,G0=!1;function Fx(e,n,a){return U0==n&&Y0==a?G0:(U0=n,Y0=a,G0=a=="up"||a=="down"?Ix(e,n,a):Lx(e,n,a))}var So=0,W0=1,pl=2,Ko=3,Au=class{constructor(e,n,a,s){this.parent=e,this.children=n,this.dom=a,this.contentDOM=s,this.dirty=So,a.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,a){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,a=this.posAtStart;;n++){let s=this.children[n];if(s==e)return a;a+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,a){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(a<0){let u,p;if(e==this.contentDOM)u=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;u=e.previousSibling}for(;u&&!((p=u.pmViewDesc)&&p.parent==this);)u=u.previousSibling;return u?this.posBeforeChild(p)+p.size:this.posAtStart}else{let u,p;if(e==this.contentDOM)u=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;u=e.nextSibling}for(;u&&!((p=u.pmViewDesc)&&p.parent==this);)u=u.nextSibling;return u?this.posBeforeChild(p):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>ai(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let u=e;;u=u.parentNode){if(u==this.dom){s=!1;break}if(u.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let u=e;;u=u.parentNode){if(u==this.dom){s=!0;break}if(u.nextSibling)break}}return s??a>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let a=!0,s=e;s;s=s.parentNode){let u=this.getDesc(s),p;if(u&&(!n||u.node))if(a&&(p=u.nodeDOM)&&!(p.nodeType==1?p.contains(e.nodeType==1?e:e.parentNode):p==e))a=!1;else return u}}getDesc(e){let n=e.pmViewDesc;for(let a=n;a;a=a.parent)if(a==this)return n}posFromDOM(e,n,a){for(let s=e;s;s=s.parentNode){let u=this.getDesc(s);if(u)return u.localPosFromDOM(e,n,a)}return-1}descAt(e){for(let n=0,a=0;n<this.children.length;n++){let s=this.children[n],u=a+s.size;if(a==e&&u!=a){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<u)return s.descAt(e-a-s.border);a=u}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let a=0,s=0;for(let u=0;a<this.children.length;a++){let p=this.children[a],g=u+p.size;if(g>e||p instanceof J0){s=e-u;break}u=g}if(s)return this.children[a].domFromPos(s-this.children[a].border,n);for(let u;a&&!(u=this.children[a-1]).size&&u instanceof q0&&u.side>=0;a--);if(n<=0){let u,p=!0;for(;u=a?this.children[a-1]:null,!(!u||u.dom.parentNode==this.contentDOM);a--,p=!1);return u&&n&&p&&!u.border&&!u.domAtom?u.domFromPos(u.size,n):{node:this.contentDOM,offset:u?ai(u.dom)+1:0}}else{let u,p=!0;for(;u=a<this.children.length?this.children[a]:null,!(!u||u.dom.parentNode==this.contentDOM);a++,p=!1);return u&&p&&!u.border&&!u.domAtom?u.domFromPos(0,n):{node:this.contentDOM,offset:u?ai(u.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,a=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,u=-1;for(let p=a,g=0;;g++){let _=this.children[g],x=p+_.size;if(s==-1&&e<=x){let O=p+_.border;if(e>=O&&n<=x-_.border&&_.node&&_.contentDOM&&this.contentDOM.contains(_.contentDOM))return _.parseRange(e,n,O);e=p;for(let L=g;L>0;L--){let H=this.children[L-1];if(H.size&&H.dom.parentNode==this.contentDOM&&!H.emptyChildAt(1)){s=ai(H.dom)+1;break}e-=H.size}s==-1&&(s=0)}if(s>-1&&(x>n||g==this.children.length-1)){n=x;for(let O=g+1;O<this.children.length;O++){let L=this.children[O];if(L.size&&L.dom.parentNode==this.contentDOM&&!L.emptyChildAt(-1)){u=ai(L.dom);break}n+=L.size}u==-1&&(u=this.contentDOM.childNodes.length);break}p=x}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:u}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:a}=this.domFromPos(e,0);if(n.nodeType!=1||a==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[a]}setSelection(e,n,a,s=!1){let u=Math.min(e,n),p=Math.max(e,n);for(let H=0,U=0;H<this.children.length;H++){let W=this.children[H],K=U+W.size;if(u>U&&p<K)return W.setSelection(e-U-W.border,n-U-W.border,a,s);U=K}let g=this.domFromPos(e,e?-1:1),_=n==e?g:this.domFromPos(n,n?-1:1),x=a.getSelection(),O=!1;if((xo||mr)&&e==n){let{node:H,offset:U}=g;if(H.nodeType==3){if(O=!!(U&&H.nodeValue[U-1]==`
`),O&&U==H.nodeValue.length)for(let W=H,K;W;W=W.parentNode){if(K=W.nextSibling){K.nodeName=="BR"&&(g=_={node:K.parentNode,offset:ai(K)+1});break}let te=W.pmViewDesc;if(te&&te.node&&te.node.isBlock)break}}else{let W=H.childNodes[U-1];O=W&&(W.nodeName=="BR"||W.contentEditable=="false")}}if(xo&&x.focusNode&&x.focusNode!=_.node&&x.focusNode.nodeType==1){let H=x.focusNode.childNodes[x.focusOffset];H&&H.contentEditable=="false"&&(s=!0)}if(!(s||O&&mr)&&ws(g.node,g.offset,x.anchorNode,x.anchorOffset)&&ws(_.node,_.offset,x.focusNode,x.focusOffset))return;let L=!1;if((x.extend||e==n)&&!O){x.collapse(g.node,g.offset);try{e!=n&&x.extend(_.node,_.offset),L=!0}catch{}}if(!L){if(e>n){let U=g;g=_,_=U}let H=document.createRange();H.setEnd(_.node,_.offset),H.setStart(g.node,g.offset),x.removeAllRanges(),x.addRange(H)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let a=0,s=0;s<this.children.length;s++){let u=this.children[s],p=a+u.size;if(a==p?e<=p&&n>=a:e<p&&n>a){let g=a+u.border,_=p-u.border;if(e>=g&&n<=_){this.dirty=e==a||n==p?pl:W0,e==g&&n==_&&(u.contentLost||u.dom.parentNode!=this.contentDOM)?u.dirty=Ko:u.markDirty(e-g,n-g);return}else u.dirty=u.dom==u.contentDOM&&u.dom.parentNode==this.contentDOM&&!u.children.length?pl:Ko}a=p}this.dirty=pl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let a=e==1?pl:W0;n.dirty<a&&(n.dirty=a)}}get domAtom(){return!1}get ignoreForCoords(){return!1}},q0=class extends Au{constructor(e,n,a,s){let u,p=n.type.toDOM;if(typeof p=="function"&&(p=p(a,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)})),!n.type.spec.raw){if(p.nodeType!=1){let g=document.createElement("span");g.appendChild(p),p=g}p.contentEditable="false",p.classList.add("ProseMirror-widget")}super(e,[],p,null),this.widget=n,this.widget=n,u=this}matchesWidget(e){return this.dirty==So&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},Nx=class extends Au{constructor(e,n,a,s){super(e,[],n,null),this.textDOM=a,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},ml=class extends Au{constructor(e,n,a,s){super(e,[],a,s),this.mark=n}static create(e,n,a,s){let u=s.nodeViews[n.type.name],p=u&&u(n,s,a);return(!p||!p.dom)&&(p=ae.renderSpec(document,n.type.spec.toDOM(n,a))),new ml(e,n,p.dom,p.contentDOM||p.dom)}parseRule(){return this.dirty&Ko||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Ko&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=So){let a=this.parent;for(;!a.node;)a=a.parent;a.dirty<this.dirty&&(a.dirty=this.dirty),this.dirty=So}}slice(e,n,a){let s=ml.create(this.parent,this.mark,!0,a),u=this.children,p=this.size;n<p&&(u=zf(u,n,p,a)),e>0&&(u=zf(u,0,e,a));for(let g=0;g<u.length;g++)u[g].parent=s;return s.children=u,s}},gl=class extends Au{constructor(e,n,a,s,u,p,g,_,x){super(e,[],u,p),this.node=n,this.outerDeco=a,this.innerDeco=s,this.nodeDOM=g,p&&this.updateChildren(_,x)}static create(e,n,a,s,u,p){let g=u.nodeViews[n.type.name],_,x=g&&g(n,u,()=>{if(!_)return p;if(_.parent)return _.parent.posBeforeChild(_)},a,s),O=x&&x.dom,L=x&&x.contentDOM;if(n.isText){if(!O)O=document.createTextNode(n.text);else if(O.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else O||({dom:O,contentDOM:L}=ae.renderSpec(document,n.type.spec.toDOM(n)));!L&&!n.isText&&O.nodeName!="BR"&&(O.hasAttribute("contenteditable")||(O.contentEditable="false"),n.type.spec.draggable&&(O.draggable=!0));let H=O;return O=Q0(O,a,n),x?_=new Px(e,n,a,s,O,L||null,H,x,u,p+1):n.isText?new Nf(e,n,a,s,O,H,u):new gl(e,n,a,s,O,L||null,H,u,p+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let a=this.children[n];if(this.dom.contains(a.dom.parentNode)){e.contentElement=a.dom.parentNode;break}}e.contentElement||(e.getContent=()=>y.empty)}return e}matchesNode(e,n,a){return this.dirty==So&&e.eq(this.node)&&Bf(n,this.outerDeco)&&a.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let a=this.node.inlineContent,s=n,u=e.composing?this.localCompositionInfo(e,n):null,p=u&&u.pos>-1?u:null,g=u&&u.pos<0,_=new zx(this,p&&p.node,e);Hx(this.node,this.innerDeco,(x,O,L)=>{x.spec.marks?_.syncToMarks(x.spec.marks,a,e):x.type.side>=0&&!L&&_.syncToMarks(O==this.node.childCount?D.none:this.node.child(O).marks,a,e),_.placeWidget(x,e,s)},(x,O,L,H)=>{_.syncToMarks(x.marks,a,e);let U;_.findNodeMatch(x,O,L,H)||g&&e.state.selection.from>s&&e.state.selection.to<s+x.nodeSize&&(U=_.findIndexWithChild(u.node))>-1&&_.updateNodeAt(x,O,L,U,e)||_.updateNextNode(x,O,L,e,H)||_.addNode(x,O,L,e,s),s+=x.nodeSize}),_.syncToMarks([],a,e),this.node.isTextblock&&_.addTextblockHacks(),_.destroyRest(),(_.changed||this.dirty==pl)&&(p&&this.protectLocalComposition(e,p),X0(this.contentDOM,this.children,e),hl&&Vx(this.dom))}localCompositionInfo(e,n){let{from:a,to:s}=e.state.selection;if(!(e.state.selection instanceof Et)||a<n||s>n+this.node.content.size)return null;let u=e.domSelectionRange(),p=Ux(u.focusNode,u.focusOffset);if(!p||!this.dom.contains(p.parentNode))return null;if(this.node.inlineContent){let g=p.nodeValue,_=Yx(this.node.content,g,a-n,s-n);return _<0?null:{node:p,pos:_,text:g}}else return{node:p,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:a,text:s}){if(this.getDesc(n))return;let u=n;for(;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=void 0)}let p=new Nx(this,u,n,s);e.input.compositionNodes.push(p),this.children=zf(this.children,a,a+s.length,e,p)}update(e,n,a,s){return this.dirty==Ko||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,a,s),!0)}updateInner(e,n,a,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=a,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=So}updateOuterDeco(e){if(Bf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=Z0(this.dom,this.nodeDOM,Pf(this.outerDeco,this.node,n),Pf(e,this.node,n)),this.dom!=a&&(a.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}};function K0(e,n,a,s,u){return Q0(s,n,e),new gl(void 0,e,n,a,s,s,s,u,0)}var Nf=class extends gl{constructor(e,n,a,s,u,p,g){super(e,n,a,s,u,null,p,g,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,a,s){return this.dirty==Ko||this.dirty!=So&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=So||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=So,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,a){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,a)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,a){let s=this.node.cut(e,n),u=document.createTextNode(s.text);return new Nf(this.parent,s,this.outerDeco,this.innerDeco,u,u,a)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ko)}get domAtom(){return!1}},J0=class extends Au{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==So&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Px=class extends gl{constructor(e,n,a,s,u,p,g,_,x,O){super(e,n,a,s,u,p,g,x,O),this.spec=_}update(e,n,a,s){if(this.dirty==Ko)return!1;if(this.spec.update){let u=this.spec.update(e,n,a);return u&&this.updateInner(e,n,a,s),u}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,a,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,a,s){this.spec.setSelection?this.spec.setSelection(e,n,a):super.setSelection(e,n,a,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function X0(e,n,a){let s=e.firstChild,u=!1;for(let p=0;p<n.length;p++){let g=n[p],_=g.dom;if(_.parentNode==e){for(;_!=s;)s=ev(s),u=!0;s=s.nextSibling}else u=!0,e.insertBefore(_,s);if(g instanceof ml){let x=s?s.previousSibling:e.lastChild;X0(g.contentDOM,g.children,a),s=x?x.nextSibling:e.firstChild}}for(;s;)s=ev(s),u=!0;u&&a.trackWrites==e&&(a.trackWrites=null)}var Du=function(e){e&&(this.nodeName=e)};Du.prototype=Object.create(null);var As=[new Du];function Pf(e,n,a){if(e.length==0)return As;let s=a?As[0]:new Du,u=[s];for(let p=0;p<e.length;p++){let g=e[p].type.attrs;if(g){g.nodeName&&u.push(s=new Du(g.nodeName));for(let _ in g){let x=g[_];x!=null&&(a&&u.length==1&&u.push(s=new Du(n.isInline?"span":"div")),_=="class"?s.class=(s.class?s.class+" ":"")+x:_=="style"?s.style=(s.style?s.style+";":"")+x:_!="nodeName"&&(s[_]=x))}}}return u}function Z0(e,n,a,s){if(a==As&&s==As)return n;let u=n;for(let p=0;p<s.length;p++){let g=s[p],_=a[p];if(p){let x;_&&_.nodeName==g.nodeName&&u!=e&&(x=u.parentNode)&&x.nodeName.toLowerCase()==g.nodeName||(x=document.createElement(g.nodeName),x.pmIsDeco=!0,x.appendChild(u),_=As[0]),u=x}Bx(u,_||As[0],g)}return u}function Bx(e,n,a){for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&!(s in a)&&e.removeAttribute(s);for(let s in a)s!="class"&&s!="style"&&s!="nodeName"&&a[s]!=n[s]&&e.setAttribute(s,a[s]);if(n.class!=a.class){let s=n.class?n.class.split(" ").filter(Boolean):[],u=a.class?a.class.split(" ").filter(Boolean):[];for(let p=0;p<s.length;p++)u.indexOf(s[p])==-1&&e.classList.remove(s[p]);for(let p=0;p<u.length;p++)s.indexOf(u[p])==-1&&e.classList.add(u[p]);e.classList.length==0&&e.removeAttribute("class")}if(n.style!=a.style){if(n.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,u;for(;u=s.exec(n.style);)e.style.removeProperty(u[1])}a.style&&(e.style.cssText+=a.style)}}function Q0(e,n,a){return Z0(e,e,As,Pf(n,a,e.nodeType!=1))}function Bf(e,n){if(e.length!=n.length)return!1;for(let a=0;a<e.length;a++)if(!e[a].type.eq(n[a].type))return!1;return!0}function ev(e){let n=e.nextSibling;return e.parentNode.removeChild(e),n}var zx=class{constructor(e,n,a){this.lock=n,this.view=a,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$x(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let a=e;a<n;a++)this.top.children[a].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,a){let s=0,u=this.stack.length>>1,p=Math.min(u,e.length);for(;s<p&&(s==u-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<u;)this.destroyRest(),this.top.dirty=So,this.index=this.stack.pop(),this.top=this.stack.pop(),u--;for(;u<e.length;){this.stack.push(this.top,this.index+1);let g=-1;for(let _=this.index;_<Math.min(this.index+3,this.top.children.length);_++)if(this.top.children[_].matchesMark(e[u])){g=_;break}if(g>-1)g>this.index&&(this.changed=!0,this.destroyBetween(this.index,g)),this.top=this.top.children[this.index];else{let _=ml.create(this.top,e[u],n,a);this.top.children.splice(this.index,0,_),this.top=_,this.changed=!0}this.index=0,u++}}findNodeMatch(e,n,a,s){let u=-1,p;if(s>=this.preMatch.index&&(p=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&p.matchesNode(e,n,a))u=this.top.children.indexOf(p,this.index);else for(let g=this.index,_=Math.min(this.top.children.length,g+5);g<_;g++){let x=this.top.children[g];if(x.matchesNode(e,n,a)&&!this.preMatch.matched.has(x)){u=g;break}}return u<0?!1:(this.destroyBetween(this.index,u),this.index++,!0)}updateNodeAt(e,n,a,s,u){let p=this.top.children[s];return p.dirty==Ko&&p.dom==p.contentDOM&&(p.dirty=pl),p.update(e,n,a,u)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let a=e.pmViewDesc;if(a){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==a)return s}return-1}e=n}}updateNextNode(e,n,a,s,u){for(let p=this.index;p<this.top.children.length;p++){let g=this.top.children[p];if(g instanceof gl){let _=this.preMatch.matched.get(g);if(_!=null&&_!=u)return!1;let x=g.dom;if(!(this.lock&&(x==this.lock||x.nodeType==1&&x.contains(this.lock.parentNode))&&!(e.isText&&g.node&&g.node.isText&&g.nodeDOM.nodeValue==e.text&&g.dirty!=Ko&&Bf(n,g.outerDeco)))&&g.update(e,n,a,s))return this.destroyBetween(this.index,p),g.dom!=x&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,a,s,u){this.top.children.splice(this.index++,0,gl.create(this.top,e,n,a,s,u)),this.changed=!0}placeWidget(e,n,a){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let u=new q0(this.top,e,n,a);this.top.children.splice(this.index++,0,u),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ml;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Nf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((mr||kr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let a=document.createElement(e);e=="IMG"&&(a.className="ProseMirror-separator",a.alt=""),e=="BR"&&(a.className="ProseMirror-trailingBreak");let s=new J0(this.top,[],a,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}};function $x(e,n){let a=n,s=a.children.length,u=e.childCount,p=new Map,g=[];e:for(;u>0;){let _;for(;;)if(s){let O=a.children[s-1];if(O instanceof ml)a=O,s=O.children.length;else{_=O,s--;break}}else{if(a==n)break e;s=a.parent.children.indexOf(a),a=a.parent}let x=_.node;if(x){if(x!=e.child(u-1))break;--u,p.set(_,u),g.push(_)}}return{index:u,matched:p,matches:g.reverse()}}function jx(e,n){return e.type.side-n.type.side}function Hx(e,n,a,s){let u=n.locals(e),p=0;if(u.length==0){for(let O=0;O<e.childCount;O++){let L=e.child(O);s(L,u,n.forChild(p,L),O),p+=L.nodeSize}return}let g=0,_=[],x=null;for(let O=0;;){if(g<u.length&&u[g].to==p){let K=u[g++],te;for(;g<u.length&&u[g].to==p;)(te||(te=[K])).push(u[g++]);if(te){te.sort(jx);for(let oe=0;oe<te.length;oe++)a(te[oe],O,!!x)}else a(K,O,!!x)}let L,H;if(x)H=-1,L=x,x=null;else if(O<e.childCount)H=O,L=e.child(O++);else break;for(let K=0;K<_.length;K++)_[K].to<=p&&_.splice(K--,1);for(;g<u.length&&u[g].from<=p&&u[g].to>p;)_.push(u[g++]);let U=p+L.nodeSize;if(L.isText){let K=U;g<u.length&&u[g].from<K&&(K=u[g].from);for(let te=0;te<_.length;te++)_[te].to<K&&(K=_[te].to);K<U&&(x=L.cut(K-p),L=L.cut(0,K-p),U=K,H=-1)}let W=L.isInline&&!L.isLeaf?_.filter(K=>!K.inline):_.slice();s(L,W,n.forChild(p,L),H),p=U}}function Vx(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let n=e.style.cssText;e.style.cssText=n+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=n}}function Ux(e,n){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&n>0){if(e.childNodes.length>n&&e.childNodes[n].nodeType==3)return e.childNodes[n];e=e.childNodes[n-1],n=Wo(e)}else if(e.nodeType==1&&n<e.childNodes.length)e=e.childNodes[n],n=0;else return null}}function Yx(e,n,a,s){for(let u=0,p=0;u<e.childCount&&p<=s;){let g=e.child(u++),_=p;if(p+=g.nodeSize,!g.isText)continue;let x=g.text;for(;u<e.childCount;){let O=e.child(u++);if(p+=O.nodeSize,!O.isText)break;x+=O.text}if(p>=a){let O=_<s?x.lastIndexOf(n,s-_-1):-1;if(O>=0&&O+n.length+_>=a)return _+O;if(a==s&&x.length>=s+n.length-_&&x.slice(s-_,s-_+n.length)==n)return s}}return-1}function zf(e,n,a,s,u){let p=[];for(let g=0,_=0;g<e.length;g++){let x=e[g],O=_,L=_+=x.size;O>=a||L<=n?p.push(x):(O<n&&p.push(x.slice(0,n-O,s)),u&&(p.push(u),u=void 0),L>a&&p.push(x.slice(a-O,x.size,s)))}return p}function $f(e,n=null){let a=e.domSelectionRange(),s=e.state.doc;if(!a.focusNode)return null;let u=e.docView.nearestDesc(a.focusNode),p=u&&u.size==0,g=e.docView.posFromDOM(a.focusNode,a.focusOffset,1);if(g<0)return null;let _=s.resolve(g),x,O;if(Pc(a)){for(x=_;u&&!u.node;)u=u.parent;let L=u.node;if(u&&L.isAtom&&At.isSelectable(L)&&u.parent&&!(L.isInline&&gx(a.focusNode,a.focusOffset,u.dom))){let H=u.posBefore;O=new At(g==H?_:s.resolve(H))}}else{let L=e.docView.posFromDOM(a.anchorNode,a.anchorOffset,1);if(L<0)return null;x=s.resolve(L)}if(!O){let L=n=="pointer"||e.state.selection.head<_.pos&&!p?1:-1;O=Hf(e,x,_,L)}return O}function tv(e){return e.editable?e.hasFocus():lv(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ma(e,n=!1){let a=e.state.selection;if(ov(e,a),!!tv(e)){if(!n&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&kr){let s=e.domSelectionRange(),u=e.domObserver.currentSelection;if(s.anchorNode&&u.anchorNode&&ws(s.anchorNode,s.anchorOffset,u.anchorNode,u.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Wx(e);else{let{anchor:s,head:u}=a,p,g;nv&&!(a instanceof Et)&&(a.$from.parent.inlineContent||(p=iv(e,a.from)),!a.empty&&!a.$from.parent.inlineContent&&(g=iv(e,a.to))),e.docView.setSelection(s,u,e.root,n),nv&&(p&&rv(p),g&&rv(g)),a.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Gx(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var nv=mr||kr&&yx<63;function iv(e,n){let{node:a,offset:s}=e.docView.domFromPos(n,0),u=s<a.childNodes.length?a.childNodes[s]:null,p=s?a.childNodes[s-1]:null;if(mr&&u&&u.contentEditable=="false")return jf(u);if((!u||u.contentEditable=="false")&&(!p||p.contentEditable=="false")){if(u)return jf(u);if(p)return jf(p)}}function jf(e){return e.contentEditable="true",mr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function rv(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Gx(e){let n=e.dom.ownerDocument;n.removeEventListener("selectionchange",e.input.hideSelectionGuard);let a=e.domSelectionRange(),s=a.anchorNode,u=a.anchorOffset;n.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(a.anchorNode!=s||a.anchorOffset!=u)&&(n.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!tv(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Wx(e){let n=e.domSelection(),a=document.createRange(),s=e.cursorWrapper.dom,u=s.nodeName=="IMG";u?a.setEnd(s.parentNode,ai(s)+1):a.setEnd(s,0),a.collapse(!1),n.removeAllRanges(),n.addRange(a),!u&&!e.state.selection.visible&&Mr&&Ba<=11&&(s.disabled=!0,s.disabled=!1)}function ov(e,n){if(n instanceof At){let a=e.docView.descAt(n.from);a!=e.lastSelectedViewDesc&&(av(e),a&&a.selectNode(),e.lastSelectedViewDesc=a)}else av(e)}function av(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Hf(e,n,a,s){return e.someProp("createSelectionBetween",u=>u(e,n,a))||Et.between(n,a,s)}function sv(e){return e.editable&&!e.hasFocus()?!1:lv(e)}function lv(e){let n=e.domSelectionRange();if(!n.anchorNode)return!1;try{return e.dom.contains(n.anchorNode.nodeType==3?n.anchorNode.parentNode:n.anchorNode)&&(e.editable||e.dom.contains(n.focusNode.nodeType==3?n.focusNode.parentNode:n.focusNode))}catch{return!1}}function qx(e){let n=e.docView.domFromPos(e.state.selection.anchor,0),a=e.domSelectionRange();return ws(n.node,n.offset,a.anchorNode,a.anchorOffset)}function Vf(e,n){let{$anchor:a,$head:s}=e.selection,u=n>0?a.max(s):a.min(s),p=u.parent.inlineContent?u.depth?e.doc.resolve(n>0?u.after():u.before()):null:u;return p&&Qe.findFrom(p,n)}function Ds(e,n){return e.dispatch(e.state.tr.setSelection(n).scrollIntoView()),!0}function uv(e,n,a){let s=e.state.selection;if(s instanceof Et){if(!s.empty||a.indexOf("s")>-1)return!1;if(e.endOfTextblock(n>0?"right":"left")){let u=Vf(e.state,n);return u&&u instanceof At?Ds(e,u):!1}else if(!(lo&&a.indexOf("m")>-1)){let u=s.$head,p=u.textOffset?null:n<0?u.nodeBefore:u.nodeAfter,g;if(!p||p.isText)return!1;let _=n<0?u.pos-p.nodeSize:u.pos;return p.isAtom||(g=e.docView.descAt(_))&&!g.contentDOM?At.isSelectable(p)?Ds(e,new At(n<0?e.state.doc.resolve(u.pos-p.nodeSize):u)):Bc?Ds(e,new Et(e.state.doc.resolve(n<0?_:_+p.nodeSize))):!1:!1}}else{if(s instanceof At&&s.node.isInline)return Ds(e,new Et(n>0?s.$to:s.$from));{let u=Vf(e.state,n);return u?Ds(e,u):!1}}}function zc(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function xu(e){let n=e.pmViewDesc;return n&&n.size==0&&(e.nextSibling||e.nodeName!="BR")}function Uf(e){let n=e.domSelectionRange(),a=n.focusNode,s=n.focusOffset;if(!a)return;let u,p,g=!1;for(xo&&a.nodeType==1&&s<zc(a)&&xu(a.childNodes[s])&&(g=!0);;)if(s>0){if(a.nodeType!=1)break;{let _=a.childNodes[s-1];if(xu(_))u=a,p=--s;else if(_.nodeType==3)a=_,s=a.nodeValue.length;else break}}else{if(cv(a))break;{let _=a.previousSibling;for(;_&&xu(_);)u=a.parentNode,p=ai(_),_=_.previousSibling;if(_)a=_,s=zc(a);else{if(a=a.parentNode,a==e.dom)break;s=0}}}g?Gf(e,a,s):u&&Gf(e,u,p)}function Yf(e){let n=e.domSelectionRange(),a=n.focusNode,s=n.focusOffset;if(!a)return;let u=zc(a),p,g;for(;;)if(s<u){if(a.nodeType!=1)break;let _=a.childNodes[s];if(xu(_))p=a,g=++s;else break}else{if(cv(a))break;{let _=a.nextSibling;for(;_&&xu(_);)p=_.parentNode,g=ai(_)+1,_=_.nextSibling;if(_)a=_,s=0,u=zc(a);else{if(a=a.parentNode,a==e.dom)break;s=u=0}}}p&&Gf(e,p,g)}function cv(e){let n=e.pmViewDesc;return n&&n.node&&n.node.isBlock}function Gf(e,n,a){let s=e.domSelection();if(Pc(s)){let p=document.createRange();p.setEnd(n,a),p.setStart(n,a),s.removeAllRanges(),s.addRange(p)}else s.extend&&s.extend(n,a);e.domObserver.setCurSelection();let{state:u}=e;setTimeout(()=>{e.state==u&&ma(e)},50)}function dv(e,n,a){let s=e.state.selection;if(s instanceof Et&&!s.empty||a.indexOf("s")>-1||lo&&a.indexOf("m")>-1)return!1;let{$from:u,$to:p}=s;if(!u.parent.inlineContent||e.endOfTextblock(n<0?"up":"down")){let g=Vf(e.state,n);if(g&&g instanceof At)return Ds(e,g)}if(!u.parent.inlineContent){let g=n<0?u:p,_=s instanceof lr?Qe.near(g,n):Qe.findFrom(g,n);return _?Ds(e,_):!1}return!1}function hv(e,n){if(!(e.state.selection instanceof Et))return!0;let{$head:a,$anchor:s,empty:u}=e.state.selection;if(!a.sameParent(s))return!0;if(!u)return!1;if(e.endOfTextblock(n>0?"forward":"backward"))return!0;let p=!a.textOffset&&(n<0?a.nodeBefore:a.nodeAfter);if(p&&!p.isText){let g=e.state.tr;return n<0?g.delete(a.pos-p.nodeSize,a.pos):g.delete(a.pos,a.pos+p.nodeSize),e.dispatch(g),!0}return!1}function fv(e,n,a){e.domObserver.stop(),n.contentEditable=a,e.domObserver.start()}function Kx(e){if(!mr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:n,focusOffset:a}=e.domSelectionRange();if(n&&n.nodeType==1&&a==0&&n.firstChild&&n.firstChild.contentEditable=="false"){let s=n.firstChild;fv(e,s,"true"),setTimeout(()=>fv(e,s,"false"),20)}return!1}function Jx(e){let n="";return e.ctrlKey&&(n+="c"),e.metaKey&&(n+="m"),e.altKey&&(n+="a"),e.shiftKey&&(n+="s"),n}function Xx(e,n){let a=n.keyCode,s=Jx(n);return a==8||lo&&a==72&&s=="c"?hv(e,-1)||Uf(e):a==46||lo&&a==68&&s=="c"?hv(e,1)||Yf(e):a==13||a==27?!0:a==37||lo&&a==66&&s=="c"?uv(e,-1,s)||Uf(e):a==39||lo&&a==70&&s=="c"?uv(e,1,s)||Yf(e):a==38||lo&&a==80&&s=="c"?dv(e,-1,s)||Uf(e):a==40||lo&&a==78&&s=="c"?Kx(e)||dv(e,1,s)||Yf(e):s==(lo?"m":"c")&&(a==66||a==73||a==89||a==90)}function pv(e,n){e.someProp("transformCopied",W=>{n=W(n,e)});let a=[],{content:s,openStart:u,openEnd:p}=n;for(;u>1&&p>1&&s.childCount==1&&s.firstChild.childCount==1;){u--,p--;let W=s.firstChild;a.push(W.type.name,W.attrs!=W.type.defaultAttrs?W.attrs:null),s=W.content}let g=e.someProp("clipboardSerializer")||ae.fromSchema(e.state.schema),_=wv(),x=_.createElement("div");x.appendChild(g.serializeFragment(s,{document:_}));let O=x.firstChild,L,H=0;for(;O&&O.nodeType==1&&(L=Ev[O.nodeName.toLowerCase()]);){for(let W=L.length-1;W>=0;W--){let K=_.createElement(L[W]);for(;x.firstChild;)K.appendChild(x.firstChild);x.appendChild(K),H++}O=x.firstChild}O&&O.nodeType==1&&O.setAttribute("data-pm-slice",`${u} ${p}${H?` -${H}`:""} ${JSON.stringify(a)}`);let U=e.someProp("clipboardTextSerializer",W=>W(n,e))||n.content.textBetween(0,n.content.size,`

`);return{dom:x,text:U}}function mv(e,n,a,s,u){let p=u.parent.type.spec.code,g,_;if(!a&&!n)return null;let x=n&&(s||p||!a);if(x){if(e.someProp("transformPastedText",U=>{n=U(n,p||s,e)}),p)return n?new k(y.from(e.state.schema.text(n.replace(/\r\n?/g,`
`))),0,0):k.empty;let H=e.someProp("clipboardTextParser",U=>U(n,u,s,e));if(H)_=H;else{let U=u.marks(),{schema:W}=e.state,K=ae.fromSchema(W);g=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach(te=>{let oe=g.appendChild(document.createElement("p"));te&&oe.appendChild(K.serializeNode(W.text(te,U)))})}}else e.someProp("transformPastedHTML",H=>{a=H(a,e)}),g=eS(a),Bc&&tS(g);let O=g&&g.querySelector("[data-pm-slice]"),L=O&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(O.getAttribute("data-pm-slice")||"");if(L&&L[3])for(let H=+L[3];H>0;H--){let U=g.firstChild;for(;U&&U.nodeType!=1;)U=U.nextSibling;if(!U)break;g=U}if(_||(_=(e.someProp("clipboardParser")||e.someProp("domParser")||Zi.fromSchema(e.state.schema)).parseSlice(g,{preserveWhitespace:!!(x||L),context:u,ruleFromNode(H){return H.nodeName=="BR"&&!H.nextSibling&&H.parentNode&&!Zx.test(H.parentNode.nodeName)?{ignore:!0}:null}})),L)_=nS(yv(_,+L[1],+L[2]),L[4]);else if(_=k.maxOpen(Qx(_.content,u),!0),_.openStart||_.openEnd){let H=0,U=0;for(let W=_.content.firstChild;H<_.openStart&&!W.type.spec.isolating;H++,W=W.firstChild);for(let W=_.content.lastChild;U<_.openEnd&&!W.type.spec.isolating;U++,W=W.lastChild);_=yv(_,H,U)}return e.someProp("transformPasted",H=>{_=H(_,e)}),_}var Zx=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Qx(e,n){if(e.childCount<2)return e;for(let a=n.depth;a>=0;a--){let s=n.node(a).contentMatchAt(n.index(a)),u,p=[];if(e.forEach(g=>{if(!p)return;let _=s.findWrapping(g.type),x;if(!_)return p=null;if(x=p.length&&u.length&&vv(_,u,g,p[p.length-1],0))p[p.length-1]=x;else{p.length&&(p[p.length-1]=bv(p[p.length-1],u.length));let O=gv(g,_);p.push(O),s=s.matchType(O.type),u=_}}),p)return y.from(p)}return e}function gv(e,n,a=0){for(let s=n.length-1;s>=a;s--)e=n[s].create(null,y.from(e));return e}function vv(e,n,a,s,u){if(u<e.length&&u<n.length&&e[u]==n[u]){let p=vv(e,n,a,s.lastChild,u+1);if(p)return s.copy(s.content.replaceChild(s.childCount-1,p));if(s.contentMatchAt(s.childCount).matchType(u==e.length-1?a.type:e[u+1]))return s.copy(s.content.append(y.from(gv(a,e,u+1))))}}function bv(e,n){if(n==0)return e;let a=e.content.replaceChild(e.childCount-1,bv(e.lastChild,n-1)),s=e.contentMatchAt(e.childCount).fillBefore(y.empty,!0);return e.copy(a.append(s))}function Wf(e,n,a,s,u,p){let g=n<0?e.firstChild:e.lastChild,_=g.content;return u<s-1&&(_=Wf(_,n,a,s,u+1,p)),u>=a&&(_=n<0?g.contentMatchAt(0).fillBefore(_,e.childCount>1||p<=u).append(_):_.append(g.contentMatchAt(g.childCount).fillBefore(y.empty,!0))),e.replaceChild(n<0?0:e.childCount-1,g.copy(_))}function yv(e,n,a){return n<e.openStart&&(e=new k(Wf(e.content,-1,n,e.openStart,0,e.openEnd),n,e.openEnd)),a<e.openEnd&&(e=new k(Wf(e.content,1,a,e.openEnd,0,0),e.openStart,a)),e}var Ev={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},_v=null;function wv(){return _v||(_v=document.implementation.createHTMLDocument("title"))}function eS(e){let n=/^(\s*<meta [^>]*>)*/.exec(e);n&&(e=e.slice(n[0].length));let a=wv().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(e),u;if((u=s&&Ev[s[1].toLowerCase()])&&(e=u.map(p=>"<"+p+">").join("")+e+u.map(p=>"</"+p+">").reverse().join("")),a.innerHTML=e,u)for(let p=0;p<u.length;p++)a=a.querySelector(u[p])||a;return a}function tS(e){let n=e.querySelectorAll(kr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let a=0;a<n.length;a++){let s=n[a];s.childNodes.length==1&&s.textContent==" "&&s.parentNode&&s.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),s)}}function nS(e,n){if(!e.size)return e;let a=e.content.firstChild.type.schema,s;try{s=JSON.parse(n)}catch{return e}let{content:u,openStart:p,openEnd:g}=e;for(let _=s.length-2;_>=0;_-=2){let x=a.nodes[s[_]];if(!x||x.hasRequiredAttrs())break;u=y.from(x.create(s[_+1],u)),p++,g++}return new k(u,p,g)}var gr={},vr={},iS={touchstart:!0,touchmove:!0},rS=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function oS(e){for(let n in gr){let a=gr[n];e.dom.addEventListener(n,e.input.eventHandlers[n]=s=>{sS(e,s)&&!Kf(e,s)&&(e.editable||!(s.type in vr))&&a(e,s)},iS[n]?{passive:!0}:void 0)}mr&&e.dom.addEventListener("input",()=>null),qf(e)}function ja(e,n){e.input.lastSelectionOrigin=n,e.input.lastSelectionTime=Date.now()}function aS(e){e.domObserver.stop();for(let n in e.input.eventHandlers)e.dom.removeEventListener(n,e.input.eventHandlers[n]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function qf(e){e.someProp("handleDOMEvents",n=>{for(let a in n)e.input.eventHandlers[a]||e.dom.addEventListener(a,e.input.eventHandlers[a]=s=>Kf(e,s))})}function Kf(e,n){return e.someProp("handleDOMEvents",a=>{let s=a[n.type];return s?s(e,n)||n.defaultPrevented:!1})}function sS(e,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let a=n.target;a!=e.dom;a=a.parentNode)if(!a||a.nodeType==11||a.pmViewDesc&&a.pmViewDesc.stopEvent(n))return!1;return!0}function lS(e,n){!Kf(e,n)&&gr[n.type]&&(e.editable||!(n.type in vr))&&gr[n.type](e,n)}vr.keydown=(e,n)=>{let a=n;if(e.input.shiftKey=a.keyCode==16||a.shiftKey,!Dv(e,a)&&(e.input.lastKeyCode=a.keyCode,e.input.lastKeyCodeTime=Date.now(),!(qo&&kr&&a.keyCode==13)))if(a.keyCode!=229&&e.domObserver.forceFlush(),hl&&a.keyCode==13&&!a.ctrlKey&&!a.altKey&&!a.metaKey){let s=Date.now();e.input.lastIOSEnter=s,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==s&&(e.someProp("handleKeyDown",u=>u(e,dl(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",s=>s(e,a))||Xx(e,a)?a.preventDefault():ja(e,"key")},vr.keyup=(e,n)=>{n.keyCode==16&&(e.input.shiftKey=!1)},vr.keypress=(e,n)=>{let a=n;if(Dv(e,a)||!a.charCode||a.ctrlKey&&!a.altKey||lo&&a.metaKey)return;if(e.someProp("handleKeyPress",u=>u(e,a))){a.preventDefault();return}let s=e.state.selection;if(!(s instanceof Et)||!s.$from.sameParent(s.$to)){let u=String.fromCharCode(a.charCode);e.someProp("handleTextInput",p=>p(e,s.$from.pos,s.$to.pos,u))||e.dispatch(e.state.tr.insertText(u).scrollIntoView()),a.preventDefault()}};function $c(e){return{left:e.clientX,top:e.clientY}}function uS(e,n){let a=n.x-e.clientX,s=n.y-e.clientY;return a*a+s*s<100}function Jf(e,n,a,s,u){if(s==-1)return!1;let p=e.state.doc.resolve(s);for(let g=p.depth+1;g>0;g--)if(e.someProp(n,_=>g>p.depth?_(e,a,p.nodeAfter,p.before(g),u,!0):_(e,a,p.node(g),p.before(g),u,!1)))return!0;return!1}function vl(e,n,a){e.focused||e.focus();let s=e.state.tr.setSelection(n);a=="pointer"&&s.setMeta("pointer",!0),e.dispatch(s)}function cS(e,n){if(n==-1)return!1;let a=e.state.doc.resolve(n),s=a.nodeAfter;return s&&s.isAtom&&At.isSelectable(s)?(vl(e,new At(a),"pointer"),!0):!1}function dS(e,n){if(n==-1)return!1;let a=e.state.selection,s,u;a instanceof At&&(s=a.node);let p=e.state.doc.resolve(n);for(let g=p.depth+1;g>0;g--){let _=g>p.depth?p.nodeAfter:p.node(g);if(At.isSelectable(_)){s&&a.$from.depth>0&&g>=a.$from.depth&&p.before(a.$from.depth+1)==a.$from.pos?u=p.before(a.$from.depth):u=p.before(g);break}}return u!=null?(vl(e,At.create(e.state.doc,u),"pointer"),!0):!1}function hS(e,n,a,s,u){return Jf(e,"handleClickOn",n,a,s)||e.someProp("handleClick",p=>p(e,n,s))||(u?dS(e,a):cS(e,a))}function fS(e,n,a,s){return Jf(e,"handleDoubleClickOn",n,a,s)||e.someProp("handleDoubleClick",u=>u(e,n,s))}function pS(e,n,a,s){return Jf(e,"handleTripleClickOn",n,a,s)||e.someProp("handleTripleClick",u=>u(e,n,s))||mS(e,a,s)}function mS(e,n,a){if(a.button!=0)return!1;let s=e.state.doc;if(n==-1)return s.inlineContent?(vl(e,Et.create(s,0,s.content.size),"pointer"),!0):!1;let u=s.resolve(n);for(let p=u.depth+1;p>0;p--){let g=p>u.depth?u.nodeAfter:u.node(p),_=u.before(p);if(g.inlineContent)vl(e,Et.create(s,_+1,_+1+g.content.size),"pointer");else if(At.isSelectable(g))vl(e,At.create(s,_),"pointer");else continue;return!0}}function Xf(e){return jc(e)}var Av=lo?"metaKey":"ctrlKey";gr.mousedown=(e,n)=>{let a=n;e.input.shiftKey=a.shiftKey;let s=Xf(e),u=Date.now(),p="singleClick";u-e.input.lastClick.time<500&&uS(a,e.input.lastClick)&&!a[Av]&&(e.input.lastClick.type=="singleClick"?p="doubleClick":e.input.lastClick.type=="doubleClick"&&(p="tripleClick")),e.input.lastClick={time:u,x:a.clientX,y:a.clientY,type:p};let g=e.posAtCoords($c(a));!g||(p=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new gS(e,g,a,!!s)):(p=="doubleClick"?fS:pS)(e,g.pos,g.inside,a)?a.preventDefault():ja(e,"pointer"))};var gS=class{constructor(e,n,a,s){this.view=e,this.pos=n,this.event=a,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!a[Av],this.allowDefault=a.shiftKey;let u,p;if(n.inside>-1)u=e.state.doc.nodeAt(n.inside),p=n.inside;else{let O=e.state.doc.resolve(n.pos);u=O.parent,p=O.depth?O.before():0}let g=s?null:a.target,_=g?e.docView.nearestDesc(g,!0):null;this.target=_?_.dom:null;let{selection:x}=e.state;(a.button==0&&u.type.spec.draggable&&u.type.spec.selectable!==!1||x instanceof At&&x.from<=p&&x.to>p)&&(this.mightDrag={node:u,pos:p,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&xo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ja(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ma(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords($c(e))),this.updateAllowDefault(e),this.allowDefault||!n?ja(this.view,"pointer"):hS(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||mr&&this.mightDrag&&!this.mightDrag.node.isAtom||kr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vl(this.view,Qe.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):ja(this.view,"pointer")}move(e){this.updateAllowDefault(e),ja(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};gr.touchstart=e=>{e.input.lastTouch=Date.now(),Xf(e),ja(e,"pointer")},gr.touchmove=e=>{e.input.lastTouch=Date.now(),ja(e,"pointer")},gr.contextmenu=e=>Xf(e);function Dv(e,n){return e.composing?!0:mr&&Math.abs(n.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}var vS=qo?5e3:-1;vr.compositionstart=vr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:n}=e,a=n.selection.$from;if(n.selection.empty&&(n.storedMarks||!a.textOffset&&a.parentOffset&&a.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||a.marks(),jc(e,!0),e.markCursor=null;else if(jc(e),xo&&n.selection.empty&&a.parentOffset&&!a.textOffset&&a.nodeBefore.marks.length){let s=e.domSelectionRange();for(let u=s.focusNode,p=s.focusOffset;u&&u.nodeType==1&&p!=0;){let g=p<0?u.lastChild:u.childNodes[p-1];if(!g)break;if(g.nodeType==3){e.domSelection().collapse(g,g.nodeValue.length);break}else u=g,p=-1}}e.input.composing=!0}xv(e,vS)},vr.compositionend=(e,n)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=n.timeStamp,xv(e,20))};function xv(e,n){clearTimeout(e.input.composingTimeout),n>-1&&(e.input.composingTimeout=setTimeout(()=>jc(e),n))}function Sv(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=bS());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function bS(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function jc(e,n=!1){if(!(qo&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Sv(e),n||e.docView&&e.docView.dirty){let a=$f(e);return a&&!a.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(a)):e.updateState(e.state),!0}return!1}}function yS(e,n){if(!e.dom.parentNode)return;let a=e.dom.parentNode.appendChild(document.createElement("div"));a.appendChild(n),a.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),u=document.createRange();u.selectNodeContents(n),e.dom.blur(),s.removeAllRanges(),s.addRange(u),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a),e.focus()},50)}var bl=Mr&&Ba<15||hl&&Ex<604;gr.copy=vr.cut=(e,n)=>{let a=n,s=e.state.selection,u=a.type=="cut";if(s.empty)return;let p=bl?null:a.clipboardData,g=s.content(),{dom:_,text:x}=pv(e,g);p?(a.preventDefault(),p.clearData(),p.setData("text/html",_.innerHTML),p.setData("text/plain",x)):yS(e,_),u&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ES(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function _S(e,n){if(!e.dom.parentNode)return;let a=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,s=e.dom.parentNode.appendChild(document.createElement(a?"textarea":"div"));a||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{e.focus(),s.parentNode&&s.parentNode.removeChild(s),a?Zf(e,s.value,null,n):Zf(e,s.textContent,s.innerHTML,n)},50)}function Zf(e,n,a,s){let u=mv(e,n,a,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",_=>_(e,s,u||k.empty)))return!0;if(!u)return!1;let p=ES(u),g=p?e.state.tr.replaceSelectionWith(p,e.input.shiftKey):e.state.tr.replaceSelection(u);return e.dispatch(g.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}vr.paste=(e,n)=>{let a=n;if(e.composing&&!qo)return;let s=bl?null:a.clipboardData;s&&Zf(e,s.getData("text/plain"),s.getData("text/html"),a)?a.preventDefault():_S(e,a)};var wS=class{constructor(e,n){this.slice=e,this.move=n}},Tv=lo?"altKey":"ctrlKey";gr.dragstart=(e,n)=>{let a=n,s=e.input.mouseDown;if(s&&s.done(),!a.dataTransfer)return;let u=e.state.selection,p=u.empty?null:e.posAtCoords($c(a));if(!(p&&p.pos>=u.from&&p.pos<=(u instanceof At?u.to-1:u.to))){if(s&&s.mightDrag)e.dispatch(e.state.tr.setSelection(At.create(e.state.doc,s.mightDrag.pos)));else if(a.target&&a.target.nodeType==1){let O=e.docView.nearestDesc(a.target,!0);O&&O.node.type.spec.draggable&&O!=e.docView&&e.dispatch(e.state.tr.setSelection(At.create(e.state.doc,O.posBefore)))}}let g=e.state.selection.content(),{dom:_,text:x}=pv(e,g);a.dataTransfer.clearData(),a.dataTransfer.setData(bl?"Text":"text/html",_.innerHTML),a.dataTransfer.effectAllowed="copyMove",bl||a.dataTransfer.setData("text/plain",x),e.dragging=new wS(g,!a[Tv])},gr.dragend=e=>{let n=e.dragging;window.setTimeout(()=>{e.dragging==n&&(e.dragging=null)},50)},vr.dragover=vr.dragenter=(e,n)=>n.preventDefault(),vr.drop=(e,n)=>{let a=n,s=e.dragging;if(e.dragging=null,!a.dataTransfer)return;let u=e.posAtCoords($c(a));if(!u)return;let p=e.state.doc.resolve(u.pos),g=s&&s.slice;g?e.someProp("transformPasted",K=>{g=K(g,e)}):g=mv(e,a.dataTransfer.getData(bl?"Text":"text/plain"),bl?null:a.dataTransfer.getData("text/html"),!1,p);let _=!!(s&&!a[Tv]);if(e.someProp("handleDrop",K=>K(e,a,g||k.empty,_))){a.preventDefault();return}if(!g)return;a.preventDefault();let x=g?Ze(e.state.doc,p.pos,g):p.pos;x==null&&(x=p.pos);let O=e.state.tr;_&&O.deleteSelection();let L=O.mapping.map(x),H=g.openStart==0&&g.openEnd==0&&g.content.childCount==1,U=O.doc;if(H?O.replaceRangeWith(L,L,g.content.firstChild):O.replaceRange(L,L,g),O.doc.eq(U))return;let W=O.doc.resolve(L);if(H&&At.isSelectable(g.content.firstChild)&&W.nodeAfter&&W.nodeAfter.sameMarkup(g.content.firstChild))O.setSelection(new At(W));else{let K=O.mapping.map(x);O.mapping.maps[O.mapping.maps.length-1].forEach((te,oe,ge,xe)=>K=xe),O.setSelection(Hf(e,W,O.doc.resolve(K)))}e.focus(),e.dispatch(O.setMeta("uiEvent","drop"))},gr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ma(e)},20))},gr.blur=(e,n)=>{let a=n;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),a.relatedTarget&&e.dom.contains(a.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},gr.beforeinput=(e,n)=>{if(kr&&qo&&n.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:a}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=a||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",u=>u(e,dl(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in vr)gr[e]=vr[e];function Su(e,n){if(e==n)return!0;for(let a in e)if(e[a]!==n[a])return!1;for(let a in n)if(!(a in e))return!1;return!0}var Cv=class{constructor(e,n){this.toDOM=e,this.spec=n||Ss,this.side=this.spec.side||0}map(e,n,a,s){let{pos:u,deleted:p}=e.mapResult(n.from+s,this.side<0?-1:1);return p?null:new Or(u-a,u-a,this)}valid(){return!0}eq(e){return this==e||e instanceof Cv&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Su(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},xs=class{constructor(e,n){this.attrs=e,this.spec=n||Ss}map(e,n,a,s){let u=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-a,p=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-a;return u>=p?null:new Or(u,p,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof xs&&Su(this.attrs,e.attrs)&&Su(this.spec,e.spec)}static is(e){return e.type instanceof xs}destroy(){}},Mv=class{constructor(e,n){this.attrs=e,this.spec=n||Ss}map(e,n,a,s){let u=e.mapResult(n.from+s,1);if(u.deleted)return null;let p=e.mapResult(n.to+s,-1);return p.deleted||p.pos<=u.pos?null:new Or(u.pos-a,p.pos-a,this)}valid(e,n){let{index:a,offset:s}=e.content.findIndex(n.from),u;return s==n.from&&!(u=e.child(a)).isText&&s+u.nodeSize==n.to}eq(e){return this==e||e instanceof Mv&&Su(this.attrs,e.attrs)&&Su(this.spec,e.spec)}destroy(){}},Or=class{constructor(e,n,a){this.from=e,this.to=n,this.type=a}copy(e,n){return new Or(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,a){return this.type.map(e,this,n,a)}static widget(e,n,a){return new Or(e,e,new Cv(n,a))}static inline(e,n,a,s){return new Or(e,n,new xs(a,s))}static node(e,n,a,s){return new Or(e,n,new Mv(a,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof xs}},yl=[],Ss={},Fi=class{constructor(e,n){this.local=e.length?e:yl,this.children=n.length?n:yl}static create(e,n){return n.length?Hc(n,e,0,Ss):ur}find(e,n,a){let s=[];return this.findInner(e??0,n??1e9,s,0,a),s}findInner(e,n,a,s,u){for(let p=0;p<this.local.length;p++){let g=this.local[p];g.from<=n&&g.to>=e&&(!u||u(g.spec))&&a.push(g.copy(g.from+s,g.to+s))}for(let p=0;p<this.children.length;p+=3)if(this.children[p]<n&&this.children[p+1]>e){let g=this.children[p]+1;this.children[p+2].findInner(e-g,n-g,a,s+g,u)}}map(e,n,a){return this==ur||e.maps.length==0?this:this.mapInner(e,n,0,0,a||Ss)}mapInner(e,n,a,s,u){let p;for(let g=0;g<this.local.length;g++){let _=this.local[g].map(e,a,s);_&&_.type.valid(n,_)?(p||(p=[])).push(_):u.onRemove&&u.onRemove(this.local[g].spec)}return this.children.length?AS(this.children,p||[],e,n,a,s,u):p?new Fi(p.sort(Cs),yl):ur}add(e,n){return n.length?this==ur?Fi.create(e,n):this.addInner(e,n,0):this}addInner(e,n,a){let s,u=0;e.forEach((g,_)=>{let x=_+a,O;if(O=Ov(n,g,x)){for(s||(s=this.children.slice());u<s.length&&s[u]<_;)u+=3;s[u]==_?s[u+2]=s[u+2].addInner(g,O,x+1):s.splice(u,0,_,_+g.nodeSize,Hc(O,g,x+1,Ss)),u+=3}});let p=kv(u?Iv(n):n,-a);for(let g=0;g<p.length;g++)p[g].type.valid(e,p[g])||p.splice(g--,1);return new Fi(p.length?this.local.concat(p).sort(Cs):this.local,s||this.children)}remove(e){return e.length==0||this==ur?this:this.removeInner(e,0)}removeInner(e,n){let a=this.children,s=this.local;for(let u=0;u<a.length;u+=3){let p,g=a[u]+n,_=a[u+1]+n;for(let O=0,L;O<e.length;O++)(L=e[O])&&L.from>g&&L.to<_&&(e[O]=null,(p||(p=[])).push(L));if(!p)continue;a==this.children&&(a=this.children.slice());let x=a[u+2].removeInner(p,g+1);x!=ur?a[u+2]=x:(a.splice(u,3),u-=3)}if(s.length){for(let u=0,p;u<e.length;u++)if(p=e[u])for(let g=0;g<s.length;g++)s[g].eq(p,n)&&(s==this.local&&(s=this.local.slice()),s.splice(g--,1))}return a==this.children&&s==this.local?this:s.length||a.length?new Fi(s,a):ur}forChild(e,n){if(this==ur)return this;if(n.isLeaf)return Fi.empty;let a,s;for(let g=0;g<this.children.length;g+=3)if(this.children[g]>=e){this.children[g]==e&&(a=this.children[g+2]);break}let u=e+1,p=u+n.content.size;for(let g=0;g<this.local.length;g++){let _=this.local[g];if(_.from<p&&_.to>u&&_.type instanceof xs){let x=Math.max(u,_.from)-u,O=Math.min(p,_.to)-u;x<O&&(s||(s=[])).push(_.copy(x,O))}}if(s){let g=new Fi(s.sort(Cs),yl);return a?new Ts([g,a]):g}return a||ur}eq(e){if(this==e)return!0;if(!(e instanceof Fi)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Qf(this.localsInner(e))}localsInner(e){if(this==ur)return yl;if(e.inlineContent||!this.local.some(xs.is))return this.local;let n=[];for(let a=0;a<this.local.length;a++)this.local[a].type instanceof xs||n.push(this.local[a]);return n}};Fi.empty=new Fi([],[]),Fi.removeOverlap=Qf;var ur=Fi.empty,Ts=class{constructor(e){this.members=e}map(e,n){let a=this.members.map(s=>s.map(e,n,Ss));return Ts.from(a)}forChild(e,n){if(n.isLeaf)return Fi.empty;let a=[];for(let s=0;s<this.members.length;s++){let u=this.members[s].forChild(e,n);u!=ur&&(u instanceof Ts?a=a.concat(u.members):a.push(u))}return Ts.from(a)}eq(e){if(!(e instanceof Ts)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,a=!0;for(let s=0;s<this.members.length;s++){let u=this.members[s].localsInner(e);if(u.length)if(!n)n=u;else{a&&(n=n.slice(),a=!1);for(let p=0;p<u.length;p++)n.push(u[p])}}return n?Qf(a?n:n.sort(Cs)):yl}static from(e){switch(e.length){case 0:return ur;case 1:return e[0];default:return new Ts(e)}}};function AS(e,n,a,s,u,p,g){let _=e.slice();for(let O=0,L=p;O<a.maps.length;O++){let H=0;a.maps[O].forEach((U,W,K,te)=>{let oe=te-K-(W-U);for(let ge=0;ge<_.length;ge+=3){let xe=_[ge+1];if(xe<0||U>xe+L-H)continue;let Le=_[ge]+L-H;W>=Le?_[ge+1]=U<=Le?-2:-1:K>=u&&oe&&(_[ge]+=oe,_[ge+1]+=oe)}H+=oe}),L=a.maps[O].map(L,-1)}let x=!1;for(let O=0;O<_.length;O+=3)if(_[O+1]<0){if(_[O+1]==-2){x=!0,_[O+1]=-1;continue}let L=a.map(e[O]+p),H=L-u;if(H<0||H>=s.content.size){x=!0;continue}let U=a.map(e[O+1]+p,-1),W=U-u,{index:K,offset:te}=s.content.findIndex(H),oe=s.maybeChild(K);if(oe&&te==H&&te+oe.nodeSize==W){let ge=_[O+2].mapInner(a,oe,L+1,e[O]+p+1,g);ge!=ur?(_[O]=H,_[O+1]=W,_[O+2]=ge):(_[O+1]=-2,x=!0)}else x=!0}if(x){let O=DS(_,e,n,a,u,p,g),L=Hc(O,s,0,g);n=L.local;for(let H=0;H<_.length;H+=3)_[H+1]<0&&(_.splice(H,3),H-=3);for(let H=0,U=0;H<L.children.length;H+=3){let W=L.children[H];for(;U<_.length&&_[U]<W;)U+=3;_.splice(U,0,L.children[H],L.children[H+1],L.children[H+2])}}return new Fi(n.sort(Cs),_)}function kv(e,n){if(!n||!e.length)return e;let a=[];for(let s=0;s<e.length;s++){let u=e[s];a.push(new Or(u.from+n,u.to+n,u.type))}return a}function DS(e,n,a,s,u,p,g){function _(x,O){for(let L=0;L<x.local.length;L++){let H=x.local[L].map(s,u,O);H?a.push(H):g.onRemove&&g.onRemove(x.local[L].spec)}for(let L=0;L<x.children.length;L+=3)_(x.children[L+2],x.children[L]+O+1)}for(let x=0;x<e.length;x+=3)e[x+1]==-1&&_(e[x+2],n[x]+p+1);return a}function Ov(e,n,a){if(n.isLeaf)return null;let s=a+n.nodeSize,u=null;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>a&&g.to<s&&((u||(u=[])).push(g),e[p]=null);return u}function Iv(e){let n=[];for(let a=0;a<e.length;a++)e[a]!=null&&n.push(e[a]);return n}function Hc(e,n,a,s){let u=[],p=!1;n.forEach((_,x)=>{let O=Ov(e,_,x+a);if(O){p=!0;let L=Hc(O,_,a+x+1,s);L!=ur&&u.push(x,x+_.nodeSize,L)}});let g=kv(p?Iv(e):e,-a).sort(Cs);for(let _=0;_<g.length;_++)g[_].type.valid(n,g[_])||(s.onRemove&&s.onRemove(g[_].spec),g.splice(_--,1));return g.length||u.length?new Fi(g,u):ur}function Cs(e,n){return e.from-n.from||e.to-n.to}function Qf(e){let n=e;for(let a=0;a<n.length-1;a++){let s=n[a];if(s.from!=s.to)for(let u=a+1;u<n.length;u++){let p=n[u];if(p.from==s.from){p.to!=s.to&&(n==e&&(n=e.slice()),n[u]=p.copy(p.from,s.to),Rv(n,u+1,p.copy(s.to,p.to)));continue}else{p.from<s.to&&(n==e&&(n=e.slice()),n[a]=s.copy(s.from,p.from),Rv(n,u,s.copy(p.from,s.to)));break}}}return n}function Rv(e,n,a){for(;n<e.length&&Cs(a,e[n])>0;)n++;e.splice(n,0,a)}function ep(e){let n=[];return e.someProp("decorations",a=>{let s=a(e.state);s&&s!=ur&&n.push(s)}),e.cursorWrapper&&n.push(Fi.create(e.state.doc,[e.cursorWrapper.deco])),Ts.from(n)}var xS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},SS=Mr&&Ba<=11,TS=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},CS=class{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new TS,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(a=>{for(let s=0;s<a.length;s++)this.queue.push(a[s]);Mr&&Ba<=11&&a.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),SS&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xS)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(sv(this.view)){if(this.suppressingSelectionUpdates)return ma(this.view);if(Mr&&Ba<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ws(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,a;for(let u=e.focusNode;u;u=Yr(u))n.add(u);for(let u=e.anchorNode;u;u=Yr(u))if(n.has(u)){a=u;break}let s=a&&this.view.docView.nearestDesc(a);if(s&&s.ignoreMutation({type:"selection",target:a.nodeType==3?a.parentNode:a}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let a=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(a)&&sv(e)&&!this.ignoreSelectionChange(a),u=-1,p=-1,g=!1,_=[];if(e.editable)for(let O=0;O<n.length;O++){let L=this.registerMutation(n[O],_);L&&(u=u<0?L.from:Math.min(L.from,u),p=p<0?L.to:Math.max(L.to,p),L.typeOver&&(g=!0))}if(xo&&_.length>1){let O=_.filter(L=>L.nodeName=="BR");if(O.length==2){let L=O[0],H=O[1];L.parentNode&&L.parentNode.parentNode==H.parentNode?H.remove():L.remove()}}let x=null;u<0&&s&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&Pc(a)&&(x=$f(e))&&x.eq(Qe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ma(e),this.currentSelection.set(a),e.scrollToSelection()):(u>-1||s)&&(u>-1&&(e.docView.markDirty(u,p),MS(e)),this.handleDOMChange(u,p,g,_),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(a)||ma(e),this.currentSelection.set(a))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let a=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(a==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!a||a.ignoreMutation(e))return null;if(e.type=="childList"){for(let O=0;O<e.addedNodes.length;O++)n.push(e.addedNodes[O]);if(a.contentDOM&&a.contentDOM!=a.dom&&!a.contentDOM.contains(e.target))return{from:a.posBefore,to:a.posAfter};let s=e.previousSibling,u=e.nextSibling;if(Mr&&Ba<=11&&e.addedNodes.length)for(let O=0;O<e.addedNodes.length;O++){let{previousSibling:L,nextSibling:H}=e.addedNodes[O];(!L||Array.prototype.indexOf.call(e.addedNodes,L)<0)&&(s=L),(!H||Array.prototype.indexOf.call(e.addedNodes,H)<0)&&(u=H)}let p=s&&s.parentNode==e.target?ai(s)+1:0,g=a.localPosFromDOM(e.target,p,-1),_=u&&u.parentNode==e.target?ai(u):e.target.childNodes.length,x=a.localPosFromDOM(e.target,_,1);return{from:g,to:x}}else return e.type=="attributes"?{from:a.posAtStart-a.border,to:a.posAtEnd+a.border}:{from:a.posAtStart,to:a.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}},Lv=new WeakMap,Fv=!1;function MS(e){if(!Lv.has(e)&&(Lv.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=xo,Fv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Fv=!0}}function kS(e){let n;function a(x){x.preventDefault(),x.stopImmediatePropagation(),n=x.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",a,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",a,!0);let s=n.startContainer,u=n.startOffset,p=n.endContainer,g=n.endOffset,_=e.domAtPos(e.state.selection.anchor);return ws(_.node,_.offset,p,g)&&([s,u,p,g]=[p,g,s,u]),{anchorNode:s,anchorOffset:u,focusNode:p,focusOffset:g}}function OS(e,n,a){let{node:s,fromOffset:u,toOffset:p,from:g,to:_}=e.docView.parseRange(n,a),x=e.domSelectionRange(),O,L=x.anchorNode;if(L&&e.dom.contains(L.nodeType==1?L:L.parentNode)&&(O=[{node:L,offset:x.anchorOffset}],Pc(x)||O.push({node:x.focusNode,offset:x.focusOffset})),kr&&e.input.lastKeyCode===8)for(let oe=p;oe>u;oe--){let ge=s.childNodes[oe-1],xe=ge.pmViewDesc;if(ge.nodeName=="BR"&&!xe){p=oe;break}if(!xe||xe.size)break}let H=e.state.doc,U=e.someProp("domParser")||Zi.fromSchema(e.state.schema),W=H.resolve(g),K=null,te=U.parse(s,{topNode:W.parent,topMatch:W.parent.contentMatchAt(W.index()),topOpen:!0,from:u,to:p,preserveWhitespace:W.parent.type.whitespace=="pre"?"full":!0,findPositions:O,ruleFromNode:IS,context:W});if(O&&O[0].pos!=null){let oe=O[0].pos,ge=O[1]&&O[1].pos;ge==null&&(ge=oe),K={anchor:oe+g,head:ge+g}}return{doc:te,sel:K,from:g,to:_}}function IS(e){let n=e.pmViewDesc;if(n)return n.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(mr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let a=document.createElement("div");return a.appendChild(document.createElement("li")),{skip:a}}else if(e.parentNode.lastChild==e||mr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function RS(e,n,a,s,u){if(n<0){let rt=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,tn=$f(e,rt);if(tn&&!e.state.selection.eq(tn)){let ti=e.state.tr.setSelection(tn);rt=="pointer"?ti.setMeta("pointer",!0):rt=="key"&&ti.scrollIntoView(),e.dispatch(ti)}return}let p=e.state.doc.resolve(n),g=p.sharedDepth(a);n=p.before(g+1),a=e.state.doc.resolve(a).after(g+1);let _=e.state.selection,x=OS(e,n,a),O=e.state.doc,L=O.slice(x.from,x.to),H,U;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(H=e.state.selection.to,U="end"):(H=e.state.selection.from,U="start"),e.input.lastKeyCode=null;let W=NS(L.content,x.doc.content,x.from,H,U);if((hl&&e.input.lastIOSEnter>Date.now()-225||qo)&&u.some(rt=>rt.nodeName=="DIV"||rt.nodeName=="P"||rt.nodeName=="LI")&&(!W||W.endA>=W.endB)&&e.someProp("handleKeyDown",rt=>rt(e,dl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!W)if(s&&_ instanceof Et&&!_.empty&&_.$head.sameParent(_.$anchor)&&!e.composing&&!(x.sel&&x.sel.anchor!=x.sel.head))W={start:_.from,endA:_.to,endB:_.to};else{if(x.sel){let rt=Nv(e,e.state.doc,x.sel);rt&&!rt.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(rt))}return}if(kr&&e.cursorWrapper&&x.sel&&x.sel.anchor==e.cursorWrapper.deco.from&&x.sel.head==x.sel.anchor){let rt=W.endB-W.start;x.sel={anchor:x.sel.anchor+rt,head:x.sel.anchor+rt}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&W.start==W.endB&&e.state.selection instanceof Et&&(W.start>e.state.selection.from&&W.start<=e.state.selection.from+2&&e.state.selection.from>=x.from?W.start=e.state.selection.from:W.endA<e.state.selection.to&&W.endA>=e.state.selection.to-2&&e.state.selection.to<=x.to&&(W.endB+=e.state.selection.to-W.endA,W.endA=e.state.selection.to)),Mr&&Ba<=11&&W.endB==W.start+1&&W.endA==W.start&&W.start>x.from&&x.doc.textBetween(W.start-x.from-1,W.start-x.from+1)=="  "&&(W.start--,W.endA--,W.endB--);let K=x.doc.resolveNoCache(W.start-x.from),te=x.doc.resolveNoCache(W.endB-x.from),oe=O.resolve(W.start),ge=K.sameParent(te)&&K.parent.inlineContent&&oe.end()>=W.endA,xe;if((hl&&e.input.lastIOSEnter>Date.now()-225&&(!ge||u.some(rt=>rt.nodeName=="DIV"||rt.nodeName=="P"))||!ge&&K.pos<x.doc.content.size&&(xe=Qe.findFrom(x.doc.resolve(K.pos+1),1,!0))&&xe.head==te.pos)&&e.someProp("handleKeyDown",rt=>rt(e,dl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>W.start&&FS(O,W.start,W.endA,K,te)&&e.someProp("handleKeyDown",rt=>rt(e,dl(8,"Backspace")))){qo&&kr&&e.domObserver.suppressSelectionUpdates();return}kr&&qo&&W.endB==W.start&&(e.input.lastAndroidDelete=Date.now()),qo&&!ge&&K.start()!=te.start()&&te.parentOffset==0&&K.depth==te.depth&&x.sel&&x.sel.anchor==x.sel.head&&x.sel.head==W.endA&&(W.endB-=2,te=x.doc.resolveNoCache(W.endB-x.from),setTimeout(()=>{e.someProp("handleKeyDown",function(rt){return rt(e,dl(13,"Enter"))})},20));let Le=W.start,at=W.endA,ft,Yt,Ct;if(ge){if(K.pos==te.pos)Mr&&Ba<=11&&K.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>ma(e),20)),ft=e.state.tr.delete(Le,at),Yt=O.resolve(W.start).marksAcross(O.resolve(W.endA));else if(W.endA==W.endB&&(Ct=LS(K.parent.content.cut(K.parentOffset,te.parentOffset),oe.parent.content.cut(oe.parentOffset,W.endA-oe.start()))))ft=e.state.tr,Ct.type=="add"?ft.addMark(Le,at,Ct.mark):ft.removeMark(Le,at,Ct.mark);else if(K.parent.child(K.index()).isText&&K.index()==te.index()-(te.textOffset?0:1)){let rt=K.parent.textBetween(K.parentOffset,te.parentOffset);if(e.someProp("handleTextInput",tn=>tn(e,Le,at,rt)))return;ft=e.state.tr.insertText(rt,Le,at)}}if(ft||(ft=e.state.tr.replace(Le,at,x.doc.slice(W.start-x.from,W.endB-x.from))),x.sel){let rt=Nv(e,ft.doc,x.sel);rt&&!(kr&&qo&&e.composing&&rt.empty&&(W.start!=W.endB||e.input.lastAndroidDelete<Date.now()-100)&&(rt.head==Le||rt.head==ft.mapping.map(at)-1)||Mr&&rt.empty&&rt.head==Le)&&ft.setSelection(rt)}Yt&&ft.ensureMarks(Yt),e.dispatch(ft.scrollIntoView())}function Nv(e,n,a){return Math.max(a.anchor,a.head)>n.content.size?null:Hf(e,n.resolve(a.anchor),n.resolve(a.head))}function LS(e,n){let a=e.firstChild.marks,s=n.firstChild.marks,u=a,p=s,g,_,x;for(let L=0;L<s.length;L++)u=s[L].removeFromSet(u);for(let L=0;L<a.length;L++)p=a[L].removeFromSet(p);if(u.length==1&&p.length==0)_=u[0],g="add",x=L=>L.mark(_.addToSet(L.marks));else if(u.length==0&&p.length==1)_=p[0],g="remove",x=L=>L.mark(_.removeFromSet(L.marks));else return null;let O=[];for(let L=0;L<n.childCount;L++)O.push(x(n.child(L)));if(y.from(O).eq(e))return{mark:_,type:g}}function FS(e,n,a,s,u){if(!s.parent.isTextblock||a-n<=u.pos-s.pos||tp(s,!0,!1)<u.pos)return!1;let p=e.resolve(n);if(p.parentOffset<p.parent.content.size||!p.parent.isTextblock)return!1;let g=e.resolve(tp(p,!0,!0));return!g.parent.isTextblock||g.pos>a||tp(g,!0,!1)<a?!1:s.parent.content.cut(s.parentOffset).eq(g.parent.content)}function tp(e,n,a){let s=e.depth,u=n?e.end():e.pos;for(;s>0&&(n||e.indexAfter(s)==e.node(s).childCount);)s--,u++,n=!1;if(a){let p=e.node(s).maybeChild(e.indexAfter(s));for(;p&&!p.isLeaf;)p=p.firstChild,u++}return u}function NS(e,n,a,s,u){let p=e.findDiffStart(n,a);if(p==null)return null;let{a:g,b:_}=e.findDiffEnd(n,a+e.size,a+n.size);if(u=="end"){let x=Math.max(0,p-Math.min(g,_));s-=g+x-p}return g<p&&e.size<n.size?(p-=s<=p&&s>=g?p-s:0,_=p+(_-g),g=p):_<p&&(p-=s<=p&&s>=_?p-s:0,g=p+(g-_),_=p),{start:p,endA:g,endB:_}}var PS=class{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rS,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(jv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=zv(this),Bv(this),this.nodeViews=$v(this),this.docView=K0(this.state.doc,Pv(this),ep(this),this.dom,this),this.domObserver=new CS(this,(a,s,u,p)=>RS(this,a,s,u,p)),this.domObserver.start(),oS(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&qf(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jv),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let a in this._props)n[a]=this._props[a];n.state=this.state;for(let a in e)n[a]=e[a];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let a=this.state,s=!1,u=!1;e.storedMarks&&this.composing&&(Sv(this),u=!0),this.state=e;let p=a.plugins!=e.plugins||this._props.plugins!=n.plugins;if(p||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let H=$v(this);zS(H,this.nodeViews)&&(this.nodeViews=H,s=!0)}(p||n.handleDOMEvents!=this._props.handleDOMEvents)&&qf(this),this.editable=zv(this),Bv(this);let g=ep(this),_=Pv(this),x=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",O=s||!this.docView.matchesNode(e.doc,_,g);(O||!e.selection.eq(a.selection))&&(u=!0);let L=x=="preserve"&&u&&this.dom.style.overflowAnchor==null&&Ax(this);if(u){this.domObserver.stop();let H=O&&(Mr||kr)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&BS(a.selection,e.selection);if(O){let U=kr?this.trackWrites=this.domSelectionRange().focusNode:null;(s||!this.docView.update(e.doc,_,g,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=K0(e.doc,_,g,this.dom,this)),U&&!this.trackWrites&&(H=!0)}H||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qx(this))?ma(this,H):(ov(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),x=="reset"?this.dom.scrollTop=0:x=="to selection"?this.scrollToSelection():L&&Dx(L)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof At){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&P0(this,n.getBoundingClientRect(),e)}else P0(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let a=this.directPlugins[n];a.spec.view&&this.pluginViews.push(a.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let a=this.state.plugins[n];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let a=this.pluginViews[n];a.update&&a.update(this,e)}}someProp(e,n){let a=this._props&&this._props[e],s;if(a!=null&&(s=n?n(a):a))return s;for(let p=0;p<this.directPlugins.length;p++){let g=this.directPlugins[p].props[e];if(g!=null&&(s=n?n(g):g))return s}let u=this.state.plugins;if(u)for(let p=0;p<u.length;p++){let g=u[p].props[e];if(g!=null&&(s=n?n(g):g))return s}}hasFocus(){if(Mr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&xx(this.dom),ma(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return kx(this,e)}coordsAtPos(e,n=1){return H0(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,a=-1){let s=this.docView.posFromDOM(e,n,a);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return Fx(this,n||this.state,e)}destroy(){!this.docView||(aS(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ep(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return lS(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return mr&&this.root.nodeType===11&&bx(this.dom.ownerDocument)==this.dom?kS(this):this.domSelection()}domSelection(){return this.root.getSelection()}};function Pv(e){let n=Object.create(null);return n.class="ProseMirror",n.contenteditable=String(e.editable),n.translate="no",e.someProp("attributes",a=>{if(typeof a=="function"&&(a=a(e.state)),a)for(let s in a)s=="class"&&(n.class+=" "+a[s]),s=="style"?n.style=(n.style?n.style+";":"")+a[s]:!n[s]&&s!="contenteditable"&&s!="nodeName"&&(n[s]=String(a[s]))}),[Or.node(0,e.state.doc.content.size,n)]}function Bv(e){if(e.markCursor){let n=document.createElement("img");n.className="ProseMirror-separator",n.setAttribute("mark-placeholder","true"),n.setAttribute("alt",""),e.cursorWrapper={dom:n,deco:Or.widget(e.state.selection.head,n,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function zv(e){return!e.someProp("editable",n=>n(e.state)===!1)}function BS(e,n){let a=Math.min(e.$anchor.sharedDepth(e.head),n.$anchor.sharedDepth(n.head));return e.$anchor.start(a)!=n.$anchor.start(a)}function $v(e){let n=Object.create(null);function a(s){for(let u in s)Object.prototype.hasOwnProperty.call(n,u)||(n[u]=s[u])}return e.someProp("nodeViews",a),e.someProp("markViews",a),n}function zS(e,n){let a=0,s=0;for(let u in e){if(e[u]!=n[u])return!0;a++}for(let u in n)s++;return a!=s}function jv(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ha={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Vc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Hv=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),$S=typeof navigator<"u"&&/Mac/.test(navigator.platform),jS=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),HS=$S||Hv&&+Hv[1]<57;for(yi=0;yi<10;yi++)Ha[48+yi]=Ha[96+yi]=String(yi);var yi;for(yi=1;yi<=24;yi++)Ha[yi+111]="F"+yi;var yi;for(yi=65;yi<=90;yi++)Ha[yi]=String.fromCharCode(yi+32),Vc[yi]=String.fromCharCode(yi);var yi;for(Uc in Ha)Vc.hasOwnProperty(Uc)||(Vc[Uc]=Ha[Uc]);var Uc;function VS(e){var n=HS&&(e.ctrlKey||e.altKey||e.metaKey)||jS&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",a=!n&&e.key||(e.shiftKey?Vc:Ha)[e.keyCode]||e.key||"Unidentified";return a=="Esc"&&(a="Escape"),a=="Del"&&(a="Delete"),a=="Left"&&(a="ArrowLeft"),a=="Up"&&(a="ArrowUp"),a=="Right"&&(a="ArrowRight"),a=="Down"&&(a="ArrowDown"),a}var US=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function YS(e){let n=e.split(/-(?!$)/),a=n[n.length-1];a=="Space"&&(a=" ");let s,u,p,g;for(let _=0;_<n.length-1;_++){let x=n[_];if(/^(cmd|meta|m)$/i.test(x))g=!0;else if(/^a(lt)?$/i.test(x))s=!0;else if(/^(c|ctrl|control)$/i.test(x))u=!0;else if(/^s(hift)?$/i.test(x))p=!0;else if(/^mod$/i.test(x))US?g=!0:u=!0;else throw new Error("Unrecognized modifier name: "+x)}return s&&(a="Alt-"+a),u&&(a="Ctrl-"+a),g&&(a="Meta-"+a),p&&(a="Shift-"+a),a}function GS(e){let n=Object.create(null);for(let a in e)n[YS(a)]=e[a];return n}function np(e,n,a){return n.altKey&&(e="Alt-"+e),n.ctrlKey&&(e="Ctrl-"+e),n.metaKey&&(e="Meta-"+e),a!==!1&&n.shiftKey&&(e="Shift-"+e),e}function WS(e){return new Kn({props:{handleKeyDown:ip(e)}})}function ip(e){let n=GS(e);return function(a,s){let u=VS(s),p=u.length==1&&u!=" ",g,_=n[np(u,s,!p)];if(_&&_(a.state,a.dispatch,a))return!0;if(p&&(s.shiftKey||s.altKey||s.metaKey||u.charCodeAt(0)>127)&&(g=Ha[s.keyCode])&&g!=u){let x=n[np(g,s,!0)];if(x&&x(a.state,a.dispatch,a))return!0}else if(p&&s.shiftKey){let x=n[np(u,s,!0)];if(x&&x(a.state,a.dispatch,a))return!0}return!1}}var qS=(e,n)=>e.selection.empty?!1:(n&&n(e.tr.deleteSelection().scrollIntoView()),!0),KS=(e,n,a)=>{let{$cursor:s}=e.selection;if(!s||(a?!a.endOfTextblock("backward",e):s.parentOffset>0))return!1;let u=Vv(s);if(!u){let g=s.blockRange(),_=g&&mt(g);return _==null?!1:(n&&n(e.tr.lift(g,_).scrollIntoView()),!0)}let p=u.nodeBefore;if(!p.type.spec.isolating&&Gv(e,u,n))return!0;if(s.parent.content.size==0&&(El(p,"end")||At.isSelectable(p))){let g=He(e.doc,s.before(),s.after(),k.empty);if(g&&g.slice.size<g.to-g.from){if(n){let _=e.tr.step(g);_.setSelection(El(p,"end")?Qe.findFrom(_.doc.resolve(_.mapping.map(u.pos,-1)),-1):At.create(_.doc,u.pos-p.nodeSize)),n(_.scrollIntoView())}return!0}}return p.isAtom&&u.depth==s.depth-1?(n&&n(e.tr.delete(u.pos-p.nodeSize,u.pos).scrollIntoView()),!0):!1};function El(e,n,a=!1){for(let s=e;s;s=n=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(a&&s.childCount!=1)return!1}return!1}var JS=(e,n,a)=>{let{$head:s,empty:u}=e.selection,p=s;if(!u)return!1;if(s.parent.isTextblock){if(a?!a.endOfTextblock("backward",e):s.parentOffset>0)return!1;p=Vv(s)}let g=p&&p.nodeBefore;return!g||!At.isSelectable(g)?!1:(n&&n(e.tr.setSelection(At.create(e.doc,p.pos-g.nodeSize)).scrollIntoView()),!0)};function Vv(e){if(!e.parent.type.spec.isolating)for(let n=e.depth-1;n>=0;n--){if(e.index(n)>0)return e.doc.resolve(e.before(n+1));if(e.node(n).type.spec.isolating)break}return null}var XS=(e,n,a)=>{let{$cursor:s}=e.selection;if(!s||(a?!a.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size))return!1;let u=Uv(s);if(!u)return!1;let p=u.nodeAfter;if(Gv(e,u,n))return!0;if(s.parent.content.size==0&&(El(p,"start")||At.isSelectable(p))){let g=He(e.doc,s.before(),s.after(),k.empty);if(g&&g.slice.size<g.to-g.from){if(n){let _=e.tr.step(g);_.setSelection(El(p,"start")?Qe.findFrom(_.doc.resolve(_.mapping.map(u.pos)),1):At.create(_.doc,_.mapping.map(u.pos))),n(_.scrollIntoView())}return!0}}return p.isAtom&&u.depth==s.depth-1?(n&&n(e.tr.delete(u.pos,u.pos+p.nodeSize).scrollIntoView()),!0):!1},ZS=(e,n,a)=>{let{$head:s,empty:u}=e.selection,p=s;if(!u)return!1;if(s.parent.isTextblock){if(a?!a.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size)return!1;p=Uv(s)}let g=p&&p.nodeAfter;return!g||!At.isSelectable(g)?!1:(n&&n(e.tr.setSelection(At.create(e.doc,p.pos)).scrollIntoView()),!0)};function Uv(e){if(!e.parent.type.spec.isolating)for(let n=e.depth-1;n>=0;n--){let a=e.node(n);if(e.index(n)+1<a.childCount)return e.doc.resolve(e.after(n+1));if(a.type.spec.isolating)break}return null}var QS=(e,n)=>{let{$from:a,$to:s}=e.selection,u=a.blockRange(s),p=u&&mt(u);return p==null?!1:(n&&n(e.tr.lift(u,p).scrollIntoView()),!0)},eT=(e,n)=>{let{$head:a,$anchor:s}=e.selection;return!a.parent.type.spec.code||!a.sameParent(s)?!1:(n&&n(e.tr.insertText(`
`).scrollIntoView()),!0)};function Yv(e){for(let n=0;n<e.edgeCount;n++){let{type:a}=e.edge(n);if(a.isTextblock&&!a.hasRequiredAttrs())return a}return null}var tT=(e,n)=>{let{$head:a,$anchor:s}=e.selection;if(!a.parent.type.spec.code||!a.sameParent(s))return!1;let u=a.node(-1),p=a.indexAfter(-1),g=Yv(u.contentMatchAt(p));if(!g||!u.canReplaceWith(p,p,g))return!1;if(n){let _=a.after(),x=e.tr.replaceWith(_,_,g.createAndFill());x.setSelection(Qe.near(x.doc.resolve(_),1)),n(x.scrollIntoView())}return!0},nT=(e,n)=>{let a=e.selection,{$from:s,$to:u}=a;if(a instanceof lr||s.parent.inlineContent||u.parent.inlineContent)return!1;let p=Yv(u.parent.contentMatchAt(u.indexAfter()));if(!p||!p.isTextblock)return!1;if(n){let g=(!s.parentOffset&&u.index()<u.parent.childCount?s:u).pos,_=e.tr.insert(g,p.createAndFill());_.setSelection(Et.create(_.doc,g+1)),n(_.scrollIntoView())}return!0},iT=(e,n)=>{let{$cursor:a}=e.selection;if(!a||a.parent.content.size)return!1;if(a.depth>1&&a.after()!=a.end(-1)){let p=a.before();if(ee(e.doc,p))return n&&n(e.tr.split(p).scrollIntoView()),!0}let s=a.blockRange(),u=s&&mt(s);return u==null?!1:(n&&n(e.tr.lift(s,u).scrollIntoView()),!0)},rT=(e,n)=>{let{$from:a,to:s}=e.selection,u,p=a.sharedDepth(s);return p==0?!1:(u=a.before(p),n&&n(e.tr.setSelection(At.create(e.doc,u))),!0)};function oT(e,n,a){let s=n.nodeBefore,u=n.nodeAfter,p=n.index();return!s||!u||!s.type.compatibleContent(u.type)?!1:!s.content.size&&n.parent.canReplace(p-1,p)?(a&&a(e.tr.delete(n.pos-s.nodeSize,n.pos).scrollIntoView()),!0):!n.parent.canReplace(p,p+1)||!(u.isTextblock||se(e.doc,n.pos))?!1:(a&&a(e.tr.clearIncompatible(n.pos,s.type,s.contentMatchAt(s.childCount)).join(n.pos).scrollIntoView()),!0)}function Gv(e,n,a){let s=n.nodeBefore,u=n.nodeAfter,p,g;if(s.type.spec.isolating||u.type.spec.isolating)return!1;if(oT(e,n,a))return!0;let _=n.parent.canReplace(n.index(),n.index()+1);if(_&&(p=(g=s.contentMatchAt(s.childCount)).findWrapping(u.type))&&g.matchType(p[0]||u.type).validEnd){if(a){let H=n.pos+u.nodeSize,U=y.empty;for(let te=p.length-1;te>=0;te--)U=y.from(p[te].create(null,U));U=y.from(s.copy(U));let W=e.tr.step(new ke(n.pos-1,H,n.pos,H,new k(U,1,0),p.length,!0)),K=H+2*p.length;se(W.doc,K)&&W.join(K),a(W.scrollIntoView())}return!0}let x=Qe.findFrom(n,1),O=x&&x.$from.blockRange(x.$to),L=O&&mt(O);if(L!=null&&L>=n.depth)return a&&a(e.tr.lift(O,L).scrollIntoView()),!0;if(_&&El(u,"start",!0)&&El(s,"end")){let H=s,U=[];for(;U.push(H),!H.isTextblock;)H=H.lastChild;let W=u,K=1;for(;!W.isTextblock;W=W.firstChild)K++;if(H.canReplace(H.childCount,H.childCount,W.content)){if(a){let te=y.empty;for(let ge=U.length-1;ge>=0;ge--)te=y.from(U[ge].copy(te));let oe=e.tr.step(new ke(n.pos-U.length,n.pos+u.nodeSize,n.pos+K,n.pos+u.nodeSize-K,new k(te,U.length,0),0,!0));a(oe.scrollIntoView())}return!0}}return!1}function Wv(e){return function(n,a){let s=n.selection,u=e<0?s.$from:s.$to,p=u.depth;for(;u.node(p).isInline;){if(!p)return!1;p--}return u.node(p).isTextblock?(a&&a(n.tr.setSelection(Et.create(n.doc,e<0?u.start(p):u.end(p)))),!0):!1}}var aT=Wv(-1),sT=Wv(1);function lT(e,n=null){return function(a,s){let{$from:u,$to:p}=a.selection,g=u.blockRange(p),_=g&&sr(g,e,n);return _?(s&&s(a.tr.wrap(g,_).scrollIntoView()),!0):!1}}function qv(e,n=null){return function(a,s){let{from:u,to:p}=a.selection,g=!1;return a.doc.nodesBetween(u,p,(_,x)=>{if(g)return!1;if(!(!_.isTextblock||_.hasMarkup(e,n)))if(_.type==e)g=!0;else{let O=a.doc.resolve(x),L=O.index();g=O.parent.canReplaceWith(L,L+1,e)}}),g?(s&&s(a.tr.setBlockType(u,p,e,n).scrollIntoView()),!0):!1}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function uT(e,n=null){return function(a,s){let{$from:u,$to:p}=a.selection,g=u.blockRange(p),_=!1,x=g;if(!g)return!1;if(g.depth>=2&&u.node(g.depth-1).type.compatibleContent(e)&&g.startIndex==0){if(u.index(g.depth-1)==0)return!1;let L=a.doc.resolve(g.start-2);x=new pe(L,L,g.depth),g.endIndex<g.parent.childCount&&(g=new pe(u,a.doc.resolve(p.end(g.depth)),g.depth)),_=!0}let O=sr(x,e,n,g);return O?(s&&s(cT(a.tr,g,O,_,e).scrollIntoView()),!0):!1}}function cT(e,n,a,s,u){let p=y.empty;for(let L=a.length-1;L>=0;L--)p=y.from(a[L].type.create(a[L].attrs,p));e.step(new ke(n.start-(s?2:0),n.end,n.start,n.end,new k(p,0,0),a.length,!0));let g=0;for(let L=0;L<a.length;L++)a[L].type==u&&(g=L+1);let _=a.length-g,x=n.start+a.length-(s?2:0),O=n.parent;for(let L=n.startIndex,H=n.endIndex,U=!0;L<H;L++,U=!1)!U&&ee(e.doc,x,_)&&(e.split(x,_),x+=2*_),x+=O.child(L).nodeSize;return e}function dT(e){return function(n,a){let{$from:s,$to:u}=n.selection,p=s.blockRange(u,g=>g.childCount>0&&g.firstChild.type==e);return p?a?s.node(p.depth-1).type==e?hT(n,a,e,p):fT(n,a,p):!0:!1}}function hT(e,n,a,s){let u=e.tr,p=s.end,g=s.$to.end(s.depth);p<g&&(u.step(new ke(p-1,g,p,g,new k(y.from(a.create(null,s.parent.copy())),1,0),1,!0)),s=new pe(u.doc.resolve(s.$from.pos),u.doc.resolve(g),s.depth));let _=mt(s);if(_==null)return!1;u.lift(s,_);let x=u.mapping.map(p,-1)-1;return se(u.doc,x)&&u.join(x),n(u.scrollIntoView()),!0}function fT(e,n,a){let s=e.tr,u=a.parent;for(let W=a.end,K=a.endIndex-1,te=a.startIndex;K>te;K--)W-=u.child(K).nodeSize,s.delete(W-1,W+1);let p=s.doc.resolve(a.start),g=p.nodeAfter;if(s.mapping.map(a.end)!=a.start+p.nodeAfter.nodeSize)return!1;let _=a.startIndex==0,x=a.endIndex==u.childCount,O=p.node(-1),L=p.index(-1);if(!O.canReplace(L+(_?0:1),L+1,g.content.append(x?y.empty:y.from(u))))return!1;let H=p.pos,U=H+g.nodeSize;return s.step(new ke(H-(_?1:0),U+(x?1:0),H+1,U-1,new k((_?y.empty:y.from(u.copy(y.empty))).append(x?y.empty:y.from(u.copy(y.empty))),_?0:1,x?0:1),_?0:1)),n(s.scrollIntoView()),!0}function pT(e){return function(n,a){let{$from:s,$to:u}=n.selection,p=s.blockRange(u,O=>O.childCount>0&&O.firstChild.type==e);if(!p)return!1;let g=p.startIndex;if(g==0)return!1;let _=p.parent,x=_.child(g-1);if(x.type!=e)return!1;if(a){let O=x.lastChild&&x.lastChild.type==_.type,L=y.from(O?e.create():null),H=new k(y.from(e.create(null,y.from(_.type.create(null,L)))),O?3:1,0),U=p.start,W=p.end;a(n.tr.step(new ke(U-(O?3:1),W,U,W,H,1,!0)).scrollIntoView())}return!0}}function Yc(e){let{state:n,transaction:a}=e,{selection:s}=a,{doc:u}=a,{storedMarks:p}=a;return{...n,apply:n.apply.bind(n),applyTransaction:n.applyTransaction.bind(n),filterTransaction:n.filterTransaction,plugins:n.plugins,schema:n.schema,reconfigure:n.reconfigure.bind(n),toJSON:n.toJSON.bind(n),get storedMarks(){return p},get selection(){return s},get doc(){return u},get tr(){return s=a.selection,u=a.doc,p=a.storedMarks,a}}}var Gc=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:n,state:a}=this,{view:s}=n,{tr:u}=a,p=this.buildProps(u);return Object.fromEntries(Object.entries(e).map(([g,_])=>[g,(...x)=>{let O=_(...x)(p);return!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),O}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){let{rawCommands:a,editor:s,state:u}=this,{view:p}=s,g=[],_=!!e,x=e||u.tr,O=()=>(!_&&n&&!x.getMeta("preventDispatch")&&!this.hasCustomState&&p.dispatch(x),g.every(H=>H===!0)),L={...Object.fromEntries(Object.entries(a).map(([H,U])=>[H,(...W)=>{let K=this.buildProps(x,n),te=U(...W)(K);return g.push(te),L}])),run:O};return L}createCan(e){let{rawCommands:n,state:a}=this,s=!1,u=e||a.tr,p=this.buildProps(u,s);return{...Object.fromEntries(Object.entries(n).map(([g,_])=>[g,(...x)=>_(...x)({...p,dispatch:void 0})])),chain:()=>this.createChain(u,s)}}buildProps(e,n=!0){let{rawCommands:a,editor:s,state:u}=this,{view:p}=s;u.storedMarks&&e.setStoredMarks(u.storedMarks);let g={tr:e,editor:s,view:p,state:Yc({state:u,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(a).map(([_,x])=>[_,(...O)=>x(...O)(g)]))}};return g}},mT=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){let a=this.callbacks[e];return a&&a.forEach(s=>s.apply(this,n)),this}off(e,n){let a=this.callbacks[e];return a&&(n?this.callbacks[e]=a.filter(s=>s!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}};function ht(e,n,a){return e.config[n]===void 0&&e.parent?ht(e.parent,n,a):typeof e.config[n]=="function"?e.config[n].bind({...a,parent:e.parent?ht(e.parent,n,a):null}):e.config[n]}function Wc(e){let n=e.filter(u=>u.type==="extension"),a=e.filter(u=>u.type==="node"),s=e.filter(u=>u.type==="mark");return{baseExtensions:n,nodeExtensions:a,markExtensions:s}}function Kv(e){let n=[],{nodeExtensions:a,markExtensions:s}=Wc(e),u=[...a,...s],p={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(g=>{let _={name:g.name,options:g.options,storage:g.storage},x=ht(g,"addGlobalAttributes",_);x&&x().forEach(O=>{O.types.forEach(L=>{Object.entries(O.attributes).forEach(([H,U])=>{n.push({type:L,name:H,attribute:{...p,...U}})})})})}),u.forEach(g=>{let _={name:g.name,options:g.options,storage:g.storage},x=ht(g,"addAttributes",_);if(!x)return;let O=x();Object.entries(O).forEach(([L,H])=>{let U={...p,...H};H?.isRequired&&H?.default===void 0&&delete U.default,n.push({type:g.name,name:L,attribute:U})})}),n}function ji(e,n){if(typeof e=="string"){if(!n.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return n.nodes[e]}return e}function sn(...e){return e.filter(n=>!!n).reduce((n,a)=>{let s={...n};return Object.entries(a).forEach(([u,p])=>{if(!s[u]){s[u]=p;return}u==="class"?s[u]=[s[u],p].join(" "):u==="style"?s[u]=[s[u],p].join("; "):s[u]=p}),s},{})}function rp(e,n){return n.filter(a=>a.attribute.rendered).map(a=>a.attribute.renderHTML?a.attribute.renderHTML(e.attrs)||{}:{[a.name]:e.attrs[a.name]}).reduce((a,s)=>sn(a,s),{})}function Jv(e){return typeof e=="function"}function qt(e,n=void 0,...a){return Jv(e)?n?e.bind(n)(...a):e(...a):e}function gT(e={}){return Object.keys(e).length===0&&e.constructor===Object}function vT(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Xv(e,n){return e.style?e:{...e,getAttrs:a=>{let s=e.getAttrs?e.getAttrs(a):e.attrs;if(s===!1)return!1;let u=n.reduce((p,g)=>{let _=g.attribute.parseHTML?g.attribute.parseHTML(a):vT(a.getAttribute(g.name));return _==null?p:{...p,[g.name]:_}},{});return{...s,...u}}}}function Zv(e){return Object.fromEntries(Object.entries(e).filter(([n,a])=>n==="attrs"&&gT(a)?!1:a!=null))}function bT(e){var n;let a=Kv(e),{nodeExtensions:s,markExtensions:u}=Wc(e),p=(n=s.find(x=>ht(x,"topNode")))===null||n===void 0?void 0:n.name,g=Object.fromEntries(s.map(x=>{let O=a.filter(oe=>oe.type===x.name),L={name:x.name,options:x.options,storage:x.storage},H=e.reduce((oe,ge)=>{let xe=ht(ge,"extendNodeSchema",L);return{...oe,...xe?xe(x):{}}},{}),U=Zv({...H,content:qt(ht(x,"content",L)),marks:qt(ht(x,"marks",L)),group:qt(ht(x,"group",L)),inline:qt(ht(x,"inline",L)),atom:qt(ht(x,"atom",L)),selectable:qt(ht(x,"selectable",L)),draggable:qt(ht(x,"draggable",L)),code:qt(ht(x,"code",L)),defining:qt(ht(x,"defining",L)),isolating:qt(ht(x,"isolating",L)),attrs:Object.fromEntries(O.map(oe=>{var ge;return[oe.name,{default:(ge=oe?.attribute)===null||ge===void 0?void 0:ge.default}]}))}),W=qt(ht(x,"parseHTML",L));W&&(U.parseDOM=W.map(oe=>Xv(oe,O)));let K=ht(x,"renderHTML",L);K&&(U.toDOM=oe=>K({node:oe,HTMLAttributes:rp(oe,O)}));let te=ht(x,"renderText",L);return te&&(U.toText=te),[x.name,U]})),_=Object.fromEntries(u.map(x=>{let O=a.filter(te=>te.type===x.name),L={name:x.name,options:x.options,storage:x.storage},H=e.reduce((te,oe)=>{let ge=ht(oe,"extendMarkSchema",L);return{...te,...ge?ge(x):{}}},{}),U=Zv({...H,inclusive:qt(ht(x,"inclusive",L)),excludes:qt(ht(x,"excludes",L)),group:qt(ht(x,"group",L)),spanning:qt(ht(x,"spanning",L)),code:qt(ht(x,"code",L)),attrs:Object.fromEntries(O.map(te=>{var oe;return[te.name,{default:(oe=te?.attribute)===null||oe===void 0?void 0:oe.default}]}))}),W=qt(ht(x,"parseHTML",L));W&&(U.parseDOM=W.map(te=>Xv(te,O)));let K=ht(x,"renderHTML",L);return K&&(U.toDOM=te=>K({mark:te,HTMLAttributes:rp(te,O)})),[x.name,U]}));return new ro({topNode:p,nodes:g,marks:_})}function op(e,n){return n.nodes[e]||n.marks[e]||null}function Qv(e,n){return Array.isArray(n)?n.some(a=>(typeof a=="string"?a:a.name)===e.name):n}var yT=(e,n=500)=>{let a="",s=e.parentOffset;return e.parent.nodesBetween(Math.max(0,s-n),s,(u,p,g,_)=>{var x,O;a+=(((O=(x=u.type.spec).toText)===null||O===void 0?void 0:O.call(x,{node:u,pos:p,parent:g,index:_}))||u.textContent||"%leaf%").slice(0,Math.max(0,s-p))}),a};function ap(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var qc=class{constructor(e){this.find=e.find,this.handler=e.handler}},ET=(e,n)=>{if(ap(n))return n.exec(e);let a=n(e);if(!a)return null;let s=[];return s.push(a.text),s.index=a.index,s.input=e,s.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(a.replaceWith)),s};function sp(e){var n;let{editor:a,from:s,to:u,text:p,rules:g,plugin:_}=e,{view:x}=a;if(x.composing)return!1;let O=x.state.doc.resolve(s);if(O.parent.type.spec.code||!((n=O.nodeBefore||O.nodeAfter)===null||n===void 0)&&n.marks.find(U=>U.type.spec.code))return!1;let L=!1,H=yT(O)+p;return g.forEach(U=>{if(L)return;let W=ET(H,U.find);if(!W)return;let K=x.state.tr,te=Yc({state:x.state,transaction:K}),oe={from:s-(W[0].length-p.length),to:u},{commands:ge,chain:xe,can:Le}=new Gc({editor:a,state:te});U.handler({state:te,range:oe,match:W,commands:ge,chain:xe,can:Le})===null||!K.steps.length||(K.setMeta(_,{transform:K,from:s,to:u,text:p}),x.dispatch(K),L=!0)}),L}function _T(e){let{editor:n,rules:a}=e,s=new Kn({state:{init(){return null},apply(u,p){return u.getMeta(s)||(u.selectionSet||u.docChanged?null:p)}},props:{handleTextInput(u,p,g,_){return sp({editor:n,from:p,to:g,text:_,rules:a,plugin:s})},handleDOMEvents:{compositionend:u=>(setTimeout(()=>{let{$cursor:p}=u.state.selection;p&&sp({editor:n,from:p.pos,to:p.pos,text:"",rules:a,plugin:s})}),!1)},handleKeyDown(u,p){if(p.key!=="Enter")return!1;let{$cursor:g}=u.state.selection;return g?sp({editor:n,from:g.pos,to:g.pos,text:`
`,rules:a,plugin:s}):!1}},isInputRules:!0});return s}function wT(e){return typeof e=="number"}var AT=class{constructor(e){this.find=e.find,this.handler=e.handler}},DT=(e,n)=>{if(ap(n))return[...e.matchAll(n)];let a=n(e);return a?a.map(s=>{let u=[];return u.push(s.text),u.index=s.index,u.input=e,u.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),u.push(s.replaceWith)),u}):[]};function xT(e){let{editor:n,state:a,from:s,to:u,rule:p}=e,{commands:g,chain:_,can:x}=new Gc({editor:n,state:a}),O=[];return a.doc.nodesBetween(s,u,(L,H)=>{if(!L.isTextblock||L.type.spec.code)return;let U=Math.max(s,H),W=Math.min(u,H+L.content.size),K=L.textBetween(U-H,W-H,void 0,"￼");DT(K,p.find).forEach(te=>{if(te.index===void 0)return;let oe=U+te.index+1,ge=oe+te[0].length,xe={from:a.tr.mapping.map(oe),to:a.tr.mapping.map(ge)},Le=p.handler({state:a,range:xe,match:te,commands:g,chain:_,can:x});O.push(Le)})}),O.every(L=>L!==null)}function ST(e){let{editor:n,rules:a}=e,s=null,u=!1,p=!1;return a.map(g=>new Kn({view(_){let x=O=>{var L;s=!((L=_.dom.parentElement)===null||L===void 0)&&L.contains(O.target)?_.dom.parentElement:null};return window.addEventListener("dragstart",x),{destroy(){window.removeEventListener("dragstart",x)}}},props:{handleDOMEvents:{drop:_=>(p=s===_.dom.parentElement,!1),paste:(_,x)=>{var O;return u=!!((O=x.clipboardData)===null||O===void 0?void 0:O.getData("text/html"))?.includes("data-pm-slice"),!1}}},appendTransaction:(_,x,O)=>{let L=_[0],H=L.getMeta("uiEvent")==="paste"&&!u,U=L.getMeta("uiEvent")==="drop"&&!p;if(!H&&!U)return;let W=x.doc.content.findDiffStart(O.doc.content),K=x.doc.content.findDiffEnd(O.doc.content);if(!wT(W)||!K||W===K.b)return;let te=O.tr,oe=Yc({state:O,transaction:te});if(!(!xT({editor:n,state:oe,from:Math.max(W-1,0),to:K.b-1,rule:g})||!te.steps.length))return te}}))}function TT(e){let n=e.filter((a,s)=>e.indexOf(a)!==s);return[...new Set(n)]}var Tu=class{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Tu.resolve(e),this.schema=bT(this.extensions),this.extensions.forEach(a=>{var s;this.editor.extensionStorage[a.name]=a.storage;let u={name:a.name,options:a.options,storage:a.storage,editor:this.editor,type:op(a.name,this.schema)};a.type==="mark"&&(!((s=qt(ht(a,"keepOnSplit",u)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(a.name);let p=ht(a,"onBeforeCreate",u);p&&this.editor.on("beforeCreate",p);let g=ht(a,"onCreate",u);g&&this.editor.on("create",g);let _=ht(a,"onUpdate",u);_&&this.editor.on("update",_);let x=ht(a,"onSelectionUpdate",u);x&&this.editor.on("selectionUpdate",x);let O=ht(a,"onTransaction",u);O&&this.editor.on("transaction",O);let L=ht(a,"onFocus",u);L&&this.editor.on("focus",L);let H=ht(a,"onBlur",u);H&&this.editor.on("blur",H);let U=ht(a,"onDestroy",u);U&&this.editor.on("destroy",U)})}static resolve(e){let n=Tu.sort(Tu.flatten(e)),a=TT(n.map(s=>s.name));return a.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${a.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{let a={name:n.name,options:n.options,storage:n.storage},s=ht(n,"addExtensions",a);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((n,a)=>{let s=ht(n,"priority")||100,u=ht(a,"priority")||100;return s>u?-1:s<u?1:0})}get commands(){return this.extensions.reduce((e,n)=>{let a={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:op(n.name,this.schema)},s=ht(n,"addCommands",a);return s?{...e,...s()}:e},{})}get plugins(){let{editor:e}=this,n=Tu.sort([...this.extensions].reverse()),a=[],s=[],u=n.map(p=>{let g={name:p.name,options:p.options,storage:p.storage,editor:e,type:op(p.name,this.schema)},_=[],x=ht(p,"addKeyboardShortcuts",g),O={};if(p.type==="mark"&&p.config.exitable&&(O.ArrowRight=()=>Ir.handleExit({editor:e,mark:p})),x){let K=Object.fromEntries(Object.entries(x()).map(([te,oe])=>[te,()=>oe({editor:e})]));O={...O,...K}}let L=WS(O);_.push(L);let H=ht(p,"addInputRules",g);Qv(p,e.options.enableInputRules)&&H&&a.push(...H());let U=ht(p,"addPasteRules",g);Qv(p,e.options.enablePasteRules)&&U&&s.push(...U());let W=ht(p,"addProseMirrorPlugins",g);if(W){let K=W();_.push(...K)}return _}).flat();return[_T({editor:e,rules:a}),...ST({editor:e,rules:s}),...u]}get attributes(){return Kv(this.extensions)}get nodeViews(){let{editor:e}=this,{nodeExtensions:n}=Wc(this.extensions);return Object.fromEntries(n.filter(a=>!!ht(a,"addNodeView")).map(a=>{let s=this.attributes.filter(_=>_.type===a.name),u={name:a.name,options:a.options,storage:a.storage,editor:e,type:ji(a.name,this.schema)},p=ht(a,"addNodeView",u);if(!p)return[];let g=(_,x,O,L)=>{let H=rp(_,s);return p()({editor:e,node:_,getPos:O,decorations:L,HTMLAttributes:H,extension:a})};return[a.name,g]}))}};function CT(e){return Object.prototype.toString.call(e).slice(8,-1)}function lp(e){return CT(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Kc(e,n){let a={...e};return lp(e)&&lp(n)&&Object.keys(n).forEach(s=>{lp(n[s])?s in e?a[s]=Kc(e[s],n[s]):Object.assign(a,{[s]:n[s]}):Object.assign(a,{[s]:n[s]})}),a}var Gr=class{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qt(ht(this,"addOptions",{name:this.name}))),this.storage=qt(ht(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Gr(e)}configure(e={}){let n=this.extend();return n.options=Kc(this.options,e),n.storage=qt(ht(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){let n=new Gr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=qt(ht(n,"addOptions",{name:n.name})),n.storage=qt(ht(n,"addStorage",{name:n.name,options:n.options})),n}};function eb(e,n,a){let{from:s,to:u}=n,{blockSeparator:p=`

`,textSerializers:g={}}=a||{},_="",x=!0;return e.nodesBetween(s,u,(O,L,H,U)=>{var W;let K=g?.[O.type.name];K?(O.isBlock&&!x&&(_+=p,x=!0),H&&(_+=K({node:O,pos:L,parent:H,index:U,range:n}))):O.isText?(_+=(W=O?.text)===null||W===void 0?void 0:W.slice(Math.max(s,L)-L,u-L),x=!1):O.isBlock&&!x&&(_+=p,x=!0)}),_}function tb(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,n])=>n.spec.toText).map(([n,a])=>[n,a.spec.toText]))}var MT=Gr.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Kn({key:new Li("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:e}=this,{state:n,schema:a}=e,{doc:s,selection:u}=n,{ranges:p}=u,g=Math.min(...p.map(O=>O.$from.pos)),_=Math.max(...p.map(O=>O.$to.pos)),x=tb(a);return eb(s,{from:g,to:_},{textSerializers:x})}}})]}}),kT=()=>({editor:e,view:n})=>(requestAnimationFrame(()=>{var a;e.isDestroyed||(n.dom.blur(),(a=window?.getSelection())===null||a===void 0||a.removeAllRanges())}),!0),OT=(e=!1)=>({commands:n})=>n.setContent("",e),IT=()=>({state:e,tr:n,dispatch:a})=>{let{selection:s}=n,{ranges:u}=s;return a&&u.forEach(({$from:p,$to:g})=>{e.doc.nodesBetween(p.pos,g.pos,(_,x)=>{if(_.type.isText)return;let{doc:O,mapping:L}=n,H=O.resolve(L.map(x)),U=O.resolve(L.map(x+_.nodeSize)),W=H.blockRange(U);if(!W)return;let K=mt(W);if(_.type.isTextblock){let{defaultType:te}=H.parent.contentMatchAt(H.index());n.setNodeMarkup(W.start,te)}(K||K===0)&&n.lift(W,K)})}),!0},RT=e=>n=>e(n),LT=()=>({state:e,dispatch:n})=>nT(e,n),FT=e=>({tr:n,state:a,dispatch:s})=>{let u=ji(e,a.schema),p=n.selection.$anchor;for(let g=p.depth;g>0;g-=1)if(p.node(g).type===u){if(s){let _=p.before(g),x=p.after(g);n.delete(_,x).scrollIntoView()}return!0}return!1},NT=e=>({tr:n,dispatch:a})=>{let{from:s,to:u}=e;return a&&n.delete(s,u),!0},PT=()=>({state:e,dispatch:n})=>qS(e,n),BT=()=>({commands:e})=>e.keyboardShortcut("Enter"),zT=()=>({state:e,dispatch:n})=>tT(e,n);function Jc(e,n,a={strict:!0}){let s=Object.keys(n);return s.length?s.every(u=>a.strict?n[u]===e[u]:ap(n[u])?n[u].test(e[u]):n[u]===e[u]):!0}function up(e,n,a={}){return e.find(s=>s.type===n&&Jc(s.attrs,a))}function $T(e,n,a={}){return!!up(e,n,a)}function cp(e,n,a={}){if(!e||!n)return;let s=e.parent.childAfter(e.parentOffset);if(e.parentOffset===s.offset&&s.offset!==0&&(s=e.parent.childBefore(e.parentOffset)),!s.node)return;let u=up([...s.node.marks],n,a);if(!u)return;let p=s.index,g=e.start()+s.offset,_=p+1,x=g+s.node.nodeSize;for(up([...s.node.marks],n,a);p>0&&u.isInSet(e.parent.child(p-1).marks);)p-=1,g-=e.parent.child(p).nodeSize;for(;_<e.parent.childCount&&$T([...e.parent.child(_).marks],n,a);)x+=e.parent.child(_).nodeSize,_+=1;return{from:g,to:x}}function Va(e,n){if(typeof e=="string"){if(!n.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return n.marks[e]}return e}var jT=(e,n={})=>({tr:a,state:s,dispatch:u})=>{let p=Va(e,s.schema),{doc:g,selection:_}=a,{$from:x,from:O,to:L}=_;if(u){let H=cp(x,p,n);if(H&&H.from<=O&&H.to>=L){let U=Et.create(g,H.from,H.to);a.setSelection(U)}}return!0},HT=e=>n=>{let a=typeof e=="function"?e(n):e;for(let s=0;s<a.length;s+=1)if(a[s](n))return!0;return!1};function nb(e){return e instanceof Et}function Ms(e=0,n=0,a=0){return Math.min(Math.max(e,n),a)}function ib(e,n=null){if(!n)return null;let a=Qe.atStart(e),s=Qe.atEnd(e);if(n==="start"||n===!0)return a;if(n==="end")return s;let u=a.from,p=s.to;return n==="all"?Et.create(e,Ms(0,u,p),Ms(e.content.size,u,p)):Et.create(e,Ms(n,u,p),Ms(n,u,p))}function dp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var VT=(e=null,n={})=>({editor:a,view:s,tr:u,dispatch:p})=>{n={scrollIntoView:!0,...n};let g=()=>{dp()&&s.dom.focus(),requestAnimationFrame(()=>{a.isDestroyed||(s.focus(),n?.scrollIntoView&&a.commands.scrollIntoView())})};if(s.hasFocus()&&e===null||e===!1)return!0;if(p&&e===null&&!nb(a.state.selection))return g(),!0;let _=ib(u.doc,e)||a.state.selection,x=a.state.selection.eq(_);return p&&(x||u.setSelection(_),x&&u.storedMarks&&u.setStoredMarks(u.storedMarks),g()),!0},UT=(e,n)=>a=>e.every((s,u)=>n(s,{...a,index:u})),YT=(e,n)=>({tr:a,commands:s})=>s.insertContentAt({from:a.selection.from,to:a.selection.to},e,n);function rb(e){let n=`<body>${e}</body>`;return new window.DOMParser().parseFromString(n,"text/html").body}function Xc(e,n,a){if(a={slice:!0,parseOptions:{},...a},typeof e=="object"&&e!==null)try{return Array.isArray(e)?y.fromArray(e.map(s=>n.nodeFromJSON(s))):n.nodeFromJSON(e)}catch(s){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Xc("",n,a)}if(typeof e=="string"){let s=Zi.fromSchema(n);return a.slice?s.parseSlice(rb(e),a.parseOptions).content:s.parse(rb(e),a.parseOptions)}return Xc("",n,a)}function GT(e,n,a){let s=e.steps.length-1;if(s<n)return;let u=e.steps[s];if(!(u instanceof de||u instanceof ke))return;let p=e.mapping.maps[s],g=0;p.forEach((_,x,O,L)=>{g===0&&(g=L)}),e.setSelection(Qe.near(e.doc.resolve(g),a))}var WT=e=>e.toString().startsWith("<"),qT=(e,n,a)=>({tr:s,dispatch:u,editor:p})=>{if(u){a={parseOptions:{},updateSelection:!0,...a};let g=Xc(n,p.schema,{parseOptions:{preserveWhitespace:"full",...a.parseOptions}});if(g.toString()==="<>")return!0;let{from:_,to:x}=typeof e=="number"?{from:e,to:e}:e,O=!0,L=!0;if((WT(g)?g:[g]).forEach(H=>{H.check(),O=O?H.isText&&H.marks.length===0:!1,L=L?H.isBlock:!1}),_===x&&L){let{parent:H}=s.doc.resolve(_);H.isTextblock&&!H.type.spec.code&&!H.childCount&&(_-=1,x+=1)}O?s.insertText(n,_,x):s.replaceWith(_,x,g),a.updateSelection&&GT(s,s.steps.length-1,-1)}return!0},KT=()=>({state:e,dispatch:n})=>KS(e,n),JT=()=>({state:e,dispatch:n})=>XS(e,n);function ob(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function XT(e){let n=e.split(/-(?!$)/),a=n[n.length-1];a==="Space"&&(a=" ");let s,u,p,g;for(let _=0;_<n.length-1;_+=1){let x=n[_];if(/^(cmd|meta|m)$/i.test(x))g=!0;else if(/^a(lt)?$/i.test(x))s=!0;else if(/^(c|ctrl|control)$/i.test(x))u=!0;else if(/^s(hift)?$/i.test(x))p=!0;else if(/^mod$/i.test(x))dp()||ob()?g=!0:u=!0;else throw new Error(`Unrecognized modifier name: ${x}`)}return s&&(a=`Alt-${a}`),u&&(a=`Ctrl-${a}`),g&&(a=`Meta-${a}`),p&&(a=`Shift-${a}`),a}var ZT=e=>({editor:n,view:a,tr:s,dispatch:u})=>{let p=XT(e).split(/-(?!$)/),g=p.find(O=>!["Alt","Ctrl","Meta","Shift"].includes(O)),_=new KeyboardEvent("keydown",{key:g==="Space"?" ":g,altKey:p.includes("Alt"),ctrlKey:p.includes("Ctrl"),metaKey:p.includes("Meta"),shiftKey:p.includes("Shift"),bubbles:!0,cancelable:!0});return n.captureTransaction(()=>{a.someProp("handleKeyDown",O=>O(a,_))})?.steps.forEach(O=>{let L=O.map(s.mapping);L&&u&&s.maybeStep(L)}),!0};function Cu(e,n,a={}){let{from:s,to:u,empty:p}=e.selection,g=n?ji(n,e.schema):null,_=[];e.doc.nodesBetween(s,u,(L,H)=>{if(L.isText)return;let U=Math.max(s,H),W=Math.min(u,H+L.nodeSize);_.push({node:L,from:U,to:W})});let x=u-s,O=_.filter(L=>g?g.name===L.node.type.name:!0).filter(L=>Jc(L.node.attrs,a,{strict:!1}));return p?!!O.length:O.reduce((L,H)=>L+H.to-H.from,0)>=x}var QT=(e,n={})=>({state:a,dispatch:s})=>{let u=ji(e,a.schema);return Cu(a,u,n)?QS(a,s):!1},eC=()=>({state:e,dispatch:n})=>iT(e,n),tC=e=>({state:n,dispatch:a})=>{let s=ji(e,n.schema);return dT(s)(n,a)},nC=()=>({state:e,dispatch:n})=>eT(e,n);function Zc(e,n){return n.nodes[e]?"node":n.marks[e]?"mark":null}function ab(e,n){let a=typeof n=="string"?[n]:n;return Object.keys(e).reduce((s,u)=>(a.includes(u)||(s[u]=e[u]),s),{})}var iC=(e,n)=>({tr:a,state:s,dispatch:u})=>{let p=null,g=null,_=Zc(typeof e=="string"?e:e.name,s.schema);return _?(_==="node"&&(p=ji(e,s.schema)),_==="mark"&&(g=Va(e,s.schema)),u&&a.selection.ranges.forEach(x=>{s.doc.nodesBetween(x.$from.pos,x.$to.pos,(O,L)=>{p&&p===O.type&&a.setNodeMarkup(L,void 0,ab(O.attrs,n)),g&&O.marks.length&&O.marks.forEach(H=>{g===H.type&&a.addMark(L,L+O.nodeSize,g.create(ab(H.attrs,n)))})})}),!0):!1},rC=()=>({tr:e,dispatch:n})=>(n&&e.scrollIntoView(),!0),oC=()=>({tr:e,commands:n})=>n.setTextSelection({from:0,to:e.doc.content.size}),aC=()=>({state:e,dispatch:n})=>JS(e,n),sC=()=>({state:e,dispatch:n})=>ZS(e,n),lC=()=>({state:e,dispatch:n})=>rT(e,n),uC=()=>({state:e,dispatch:n})=>sT(e,n),cC=()=>({state:e,dispatch:n})=>aT(e,n);function sb(e,n,a={}){return Xc(e,n,{slice:!1,parseOptions:a})}var dC=(e,n=!1,a={})=>({tr:s,editor:u,dispatch:p})=>{let{doc:g}=s,_=sb(e,u.schema,a);return p&&s.replaceWith(0,g.content.size,_).setMeta("preventUpdate",!n),!0};function hC(e,n){let a=new Sn(e);return n.forEach(s=>{s.steps.forEach(u=>{a.step(u)})}),a}function lb(e){for(let n=0;n<e.edgeCount;n+=1){let{type:a}=e.edge(n);if(a.isTextblock&&!a.hasRequiredAttrs())return a}return null}function Mu(e,n){let a=[];return e.descendants((s,u)=>{n(s)&&a.push({node:s,pos:u})}),a}function fC(e,n,a){let s=[];return e.nodesBetween(n.from,n.to,(u,p)=>{a(u)&&s.push({node:u,pos:p})}),s}function ub(e,n){for(let a=e.depth;a>0;a-=1){let s=e.node(a);if(n(s))return{pos:a>0?e.before(a):0,start:e.start(a),depth:a,node:s}}}function ku(e){return n=>ub(n.$from,e)}function pC(e,n){let a=ae.fromSchema(n).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(a),s.innerHTML}function mC(e,n){let a={from:0,to:e.content.size};return eb(e,a,n)}function hp(e,n){let a=Va(n,e.schema),{from:s,to:u,empty:p}=e.selection,g=[];p?(e.storedMarks&&g.push(...e.storedMarks),g.push(...e.selection.$head.marks())):e.doc.nodesBetween(s,u,x=>{g.push(...x.marks)});let _=g.find(x=>x.type.name===a.name);return _?{..._.attrs}:{}}function gC(e,n){let a=ji(n,e.schema),{from:s,to:u}=e.selection,p=[];e.doc.nodesBetween(s,u,_=>{p.push(_)});let g=p.reverse().find(_=>_.type.name===a.name);return g?{...g.attrs}:{}}function cb(e,n){let a=Zc(typeof n=="string"?n:n.name,e.schema);return a==="node"?gC(e,n):a==="mark"?hp(e,n):{}}function vC(e,n=JSON.stringify){let a={};return e.filter(s=>{let u=n(s);return Object.prototype.hasOwnProperty.call(a,u)?!1:a[u]=!0})}function bC(e){let n=vC(e);return n.length===1?n:n.filter((a,s)=>!n.filter((u,p)=>p!==s).some(u=>a.oldRange.from>=u.oldRange.from&&a.oldRange.to<=u.oldRange.to&&a.newRange.from>=u.newRange.from&&a.newRange.to<=u.newRange.to))}function yC(e){let{mapping:n,steps:a}=e,s=[];return n.maps.forEach((u,p)=>{let g=[];if(u.ranges.length)u.forEach((_,x)=>{g.push({from:_,to:x})});else{let{from:_,to:x}=a[p];if(_===void 0||x===void 0)return;g.push({from:_,to:x})}g.forEach(({from:_,to:x})=>{let O=n.slice(p).map(_,-1),L=n.slice(p).map(x),H=n.invert().map(O,-1),U=n.invert().map(L);s.push({oldRange:{from:H,to:U},newRange:{from:O,to:L}})})}),bC(s)}function Qc(e,n,a){let s=[];return e===n?a.resolve(e).marks().forEach(u=>{let p=a.resolve(e-1),g=cp(p,u.type);!g||s.push({mark:u,...g})}):a.nodesBetween(e,n,(u,p)=>{s.push(...u.marks.map(g=>({from:p,to:p+u.nodeSize,mark:g})))}),s}function fp(e,n,a={}){let{empty:s,ranges:u}=e.selection,p=n?Va(n,e.schema):null;if(s)return!!(e.storedMarks||e.selection.$from.marks()).filter(L=>p?p.name===L.type.name:!0).find(L=>Jc(L.attrs,a,{strict:!1}));let g=0,_=[];if(u.forEach(({$from:L,$to:H})=>{let U=L.pos,W=H.pos;e.doc.nodesBetween(U,W,(K,te)=>{if(!K.isText&&!K.marks.length)return;let oe=Math.max(U,te),ge=Math.min(W,te+K.nodeSize);g+=ge-oe,_.push(...K.marks.map(xe=>({mark:xe,from:oe,to:ge})))})}),g===0)return!1;let x=_.filter(L=>p?p.name===L.mark.type.name:!0).filter(L=>Jc(L.mark.attrs,a,{strict:!1})).reduce((L,H)=>L+H.to-H.from,0),O=_.filter(L=>p?L.mark.type!==p&&L.mark.type.excludes(p):!0).reduce((L,H)=>L+H.to-H.from,0);return(x>0?x+O:x)>=g}function EC(e,n,a={}){if(!n)return Cu(e,null,a)||fp(e,null,a);let s=Zc(n,e.schema);return s==="node"?Cu(e,n,a):s==="mark"?fp(e,n,a):!1}function db(e,n){let{nodeExtensions:a}=Wc(n),s=a.find(g=>g.name===e);if(!s)return!1;let u={name:s.name,options:s.options,storage:s.storage},p=qt(ht(s,"group",u));return typeof p!="string"?!1:p.split(" ").includes("list")}function _C(e){var n;let a=(n=e.type.createAndFill())===null||n===void 0?void 0:n.toJSON(),s=e.toJSON();return JSON.stringify(a)===JSON.stringify(s)}function wC(e,n,a){var s;let{selection:u}=n,p=null;if(nb(u)&&(p=u.$cursor),p){let _=(s=e.storedMarks)!==null&&s!==void 0?s:p.marks();return!!a.isInSet(_)||!_.some(x=>x.type.excludes(a))}let{ranges:g}=u;return g.some(({$from:_,$to:x})=>{let O=_.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(a):!1;return e.doc.nodesBetween(_.pos,x.pos,(L,H,U)=>{if(O)return!1;if(L.isInline){let W=!U||U.type.allowsMarkType(a),K=!!a.isInSet(L.marks)||!L.marks.some(te=>te.type.excludes(a));O=W&&K}return!O}),O})}var AC=(e,n={})=>({tr:a,state:s,dispatch:u})=>{let{selection:p}=a,{empty:g,ranges:_}=p,x=Va(e,s.schema);if(u)if(g){let O=hp(s,x);a.addStoredMark(x.create({...O,...n}))}else _.forEach(O=>{let L=O.$from.pos,H=O.$to.pos;s.doc.nodesBetween(L,H,(U,W)=>{let K=Math.max(W,L),te=Math.min(W+U.nodeSize,H);U.marks.find(oe=>oe.type===x)?U.marks.forEach(oe=>{x===oe.type&&a.addMark(K,te,x.create({...oe.attrs,...n}))}):a.addMark(K,te,x.create(n))})});return wC(s,a,x)},DC=(e,n)=>({tr:a})=>(a.setMeta(e,n),!0),xC=(e,n={})=>({state:a,dispatch:s,chain:u})=>{let p=ji(e,a.schema);return p.isTextblock?u().command(({commands:g})=>qv(p,n)(a)?!0:g.clearNodes()).command(({state:g})=>qv(p,n)(g,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},SC=e=>({tr:n,dispatch:a})=>{if(a){let{doc:s}=n,u=Ms(e,0,s.content.size),p=At.create(s,u);n.setSelection(p)}return!0},TC=e=>({tr:n,dispatch:a})=>{if(a){let{doc:s}=n,{from:u,to:p}=typeof e=="number"?{from:e,to:e}:e,g=Et.atStart(s).from,_=Et.atEnd(s).to,x=Ms(u,g,_),O=Ms(p,g,_),L=Et.create(s,x,O);n.setSelection(L)}return!0},CC=e=>({state:n,dispatch:a})=>{let s=ji(e,n.schema);return pT(s)(n,a)};function ed(e,n,a){return Object.fromEntries(Object.entries(a).filter(([s])=>{let u=e.find(p=>p.type===n&&p.name===s);return u?u.attribute.keepOnSplit:!1}))}function hb(e,n){let a=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(a){let s=a.filter(u=>n?.includes(u.type.name));e.tr.ensureMarks(s)}}var MC=({keepMarks:e=!0}={})=>({tr:n,state:a,dispatch:s,editor:u})=>{let{selection:p,doc:g}=n,{$from:_,$to:x}=p,O=u.extensionManager.attributes,L=ed(O,_.node().type.name,_.node().attrs);if(p instanceof At&&p.node.isBlock)return!_.parentOffset||!ee(g,_.pos)?!1:(s&&(e&&hb(a,u.extensionManager.splittableMarks),n.split(_.pos).scrollIntoView()),!0);if(!_.parent.isBlock)return!1;if(s){let H=x.parentOffset===x.parent.content.size;p instanceof Et&&n.deleteSelection();let U=_.depth===0?void 0:lb(_.node(-1).contentMatchAt(_.indexAfter(-1))),W=H&&U?[{type:U,attrs:L}]:void 0,K=ee(n.doc,n.mapping.map(_.pos),1,W);if(!W&&!K&&ee(n.doc,n.mapping.map(_.pos),1,U?[{type:U}]:void 0)&&(K=!0,W=U?[{type:U,attrs:L}]:void 0),K&&(n.split(n.mapping.map(_.pos),1,W),U&&!H&&!_.parentOffset&&_.parent.type!==U)){let te=n.mapping.map(_.before()),oe=n.doc.resolve(te);_.node(-1).canReplaceWith(oe.index(),oe.index()+1,U)&&n.setNodeMarkup(n.mapping.map(_.before()),U)}e&&hb(a,u.extensionManager.splittableMarks),n.scrollIntoView()}return!0},kC=e=>({tr:n,state:a,dispatch:s,editor:u})=>{var p;let g=ji(e,a.schema),{$from:_,$to:x}=a.selection,O=a.selection.node;if(O&&O.isBlock||_.depth<2||!_.sameParent(x))return!1;let L=_.node(-1);if(L.type!==g)return!1;let H=u.extensionManager.attributes;if(_.parent.content.size===0&&_.node(-1).childCount===_.indexAfter(-1)){if(_.depth===2||_.node(-3).type!==g||_.index(-2)!==_.node(-2).childCount-1)return!1;if(s){let oe=y.empty,ge=_.index(-1)?1:_.index(-2)?2:3;for(let Ct=_.depth-ge;Ct>=_.depth-3;Ct-=1)oe=y.from(_.node(Ct).copy(oe));let xe=_.indexAfter(-1)<_.node(-2).childCount?1:_.indexAfter(-2)<_.node(-3).childCount?2:3,Le=ed(H,_.node().type.name,_.node().attrs),at=((p=g.contentMatch.defaultType)===null||p===void 0?void 0:p.createAndFill(Le))||void 0;oe=oe.append(y.from(g.createAndFill(null,at)||void 0));let ft=_.before(_.depth-(ge-1));n.replace(ft,_.after(-xe),new k(oe,4-ge,0));let Yt=-1;n.doc.nodesBetween(ft,n.doc.content.size,(Ct,rt)=>{if(Yt>-1)return!1;Ct.isTextblock&&Ct.content.size===0&&(Yt=rt+1)}),Yt>-1&&n.setSelection(Et.near(n.doc.resolve(Yt))),n.scrollIntoView()}return!0}let U=x.pos===_.end()?L.contentMatchAt(0).defaultType:null,W=ed(H,L.type.name,L.attrs),K=ed(H,_.node().type.name,_.node().attrs);n.delete(_.pos,x.pos);let te=U?[{type:g,attrs:W},{type:U,attrs:K}]:[{type:g,attrs:W}];return ee(n.doc,_.pos,2)?(s&&n.split(_.pos,2,te).scrollIntoView(),!0):!1},fb=(e,n)=>{let a=ku(p=>p.type===n)(e.selection);if(!a)return!0;let s=e.doc.resolve(Math.max(0,a.pos-1)).before(a.depth);if(s===void 0)return!0;let u=e.doc.nodeAt(s);return a.node.type===u?.type&&se(e.doc,a.pos)&&e.join(a.pos),!0},pb=(e,n)=>{let a=ku(p=>p.type===n)(e.selection);if(!a)return!0;let s=e.doc.resolve(a.start).after(a.depth);if(s===void 0)return!0;let u=e.doc.nodeAt(s);return a.node.type===u?.type&&se(e.doc,s)&&e.join(s),!0},OC=(e,n)=>({editor:a,tr:s,state:u,dispatch:p,chain:g,commands:_,can:x})=>{let{extensions:O}=a.extensionManager,L=ji(e,u.schema),H=ji(n,u.schema),{selection:U}=u,{$from:W,$to:K}=U,te=W.blockRange(K);if(!te)return!1;let oe=ku(ge=>db(ge.type.name,O))(U);if(te.depth>=1&&oe&&te.depth-oe.depth<=1){if(oe.node.type===L)return _.liftListItem(H);if(db(oe.node.type.name,O)&&L.validContent(oe.node.content)&&p)return g().command(()=>(s.setNodeMarkup(oe.pos,L),!0)).command(()=>fb(s,L)).command(()=>pb(s,L)).run()}return g().command(()=>x().wrapInList(L)?!0:_.clearNodes()).wrapInList(L).command(()=>fb(s,L)).command(()=>pb(s,L)).run()},IC=(e,n={},a={})=>({state:s,commands:u})=>{let{extendEmptyMarkRange:p=!1}=a,g=Va(e,s.schema);return fp(s,g,n)?u.unsetMark(g,{extendEmptyMarkRange:p}):u.setMark(g,n)},RC=(e,n,a={})=>({state:s,commands:u})=>{let p=ji(e,s.schema),g=ji(n,s.schema);return Cu(s,p,a)?u.setNode(g):u.setNode(p,a)},LC=(e,n={})=>({state:a,commands:s})=>{let u=ji(e,a.schema);return Cu(a,u,n)?s.lift(u):s.wrapIn(u,n)},FC=()=>({state:e,dispatch:n})=>{let a=e.plugins;for(let s=0;s<a.length;s+=1){let u=a[s],p;if(u.spec.isInputRules&&(p=u.getState(e))){if(n){let g=e.tr,_=p.transform;for(let x=_.steps.length-1;x>=0;x-=1)g.step(_.steps[x].invert(_.docs[x]));if(p.text){let x=g.doc.resolve(p.from).marks();g.replaceWith(p.from,p.to,e.schema.text(p.text,x))}else g.delete(p.from,p.to)}return!0}}return!1},NC=()=>({tr:e,dispatch:n})=>{let{selection:a}=e,{empty:s,ranges:u}=a;return s||n&&u.forEach(p=>{e.removeMark(p.$from.pos,p.$to.pos)}),!0},PC=(e,n={})=>({tr:a,state:s,dispatch:u})=>{var p;let{extendEmptyMarkRange:g=!1}=n,{selection:_}=a,x=Va(e,s.schema),{$from:O,empty:L,ranges:H}=_;if(!u)return!0;if(L&&g){let{from:U,to:W}=_,K=(p=O.marks().find(oe=>oe.type===x))===null||p===void 0?void 0:p.attrs,te=cp(O,x,K);te&&(U=te.from,W=te.to),a.removeMark(U,W,x)}else H.forEach(U=>{a.removeMark(U.$from.pos,U.$to.pos,x)});return a.removeStoredMark(x),!0},BC=(e,n={})=>({tr:a,state:s,dispatch:u})=>{let p=null,g=null,_=Zc(typeof e=="string"?e:e.name,s.schema);return _?(_==="node"&&(p=ji(e,s.schema)),_==="mark"&&(g=Va(e,s.schema)),u&&a.selection.ranges.forEach(x=>{let O=x.$from.pos,L=x.$to.pos;s.doc.nodesBetween(O,L,(H,U)=>{p&&p===H.type&&a.setNodeMarkup(U,void 0,{...H.attrs,...n}),g&&H.marks.length&&H.marks.forEach(W=>{if(g===W.type){let K=Math.max(U,O),te=Math.min(U+H.nodeSize,L);a.addMark(K,te,g.create({...W.attrs,...n}))}})})}),!0):!1},zC=(e,n={})=>({state:a,dispatch:s})=>{let u=ji(e,a.schema);return lT(u,n)(a,s)},$C=(e,n={})=>({state:a,dispatch:s})=>{let u=ji(e,a.schema);return uT(u,n)(a,s)},jC=Object.freeze({__proto__:null,blur:kT,clearContent:OT,clearNodes:IT,command:RT,createParagraphNear:LT,deleteNode:FT,deleteRange:NT,deleteSelection:PT,enter:BT,exitCode:zT,extendMarkRange:jT,first:HT,focus:VT,forEach:UT,insertContent:YT,insertContentAt:qT,joinBackward:KT,joinForward:JT,keyboardShortcut:ZT,lift:QT,liftEmptyBlock:eC,liftListItem:tC,newlineInCode:nC,resetAttributes:iC,scrollIntoView:rC,selectAll:oC,selectNodeBackward:aC,selectNodeForward:sC,selectParentNode:lC,selectTextblockEnd:uC,selectTextblockStart:cC,setContent:dC,setMark:AC,setMeta:DC,setNode:xC,setNodeSelection:SC,setTextSelection:TC,sinkListItem:CC,splitBlock:MC,splitListItem:kC,toggleList:OC,toggleMark:IC,toggleNode:RC,toggleWrap:LC,undoInputRule:FC,unsetAllMarks:NC,unsetMark:PC,updateAttributes:BC,wrapIn:zC,wrapInList:$C}),HC=Gr.create({name:"commands",addCommands(){return{...jC}}}),VC=Gr.create({name:"editable",addProseMirrorPlugins(){return[new Kn({key:new Li("editable"),props:{editable:()=>this.editor.options.editable}})]}}),UC=Gr.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:e}=this;return[new Kn({key:new Li("focusEvents"),props:{handleDOMEvents:{focus:(n,a)=>{e.isFocused=!0;let s=e.state.tr.setMeta("focus",{event:a}).setMeta("addToHistory",!1);return n.dispatch(s),!1},blur:(n,a)=>{e.isFocused=!1;let s=e.state.tr.setMeta("blur",{event:a}).setMeta("addToHistory",!1);return n.dispatch(s),!1}}}})]}}),YC=Gr.create({name:"keymap",addKeyboardShortcuts(){let e=()=>this.editor.commands.first(({commands:p})=>[()=>p.undoInputRule(),()=>p.command(({tr:g})=>{let{selection:_,doc:x}=g,{empty:O,$anchor:L}=_,{pos:H,parent:U}=L,W=Qe.atStart(x).from===H;return!O||!W||!U.type.isTextblock||U.textContent.length?!1:p.clearNodes()}),()=>p.deleteSelection(),()=>p.joinBackward(),()=>p.selectNodeBackward()]),n=()=>this.editor.commands.first(({commands:p})=>[()=>p.deleteSelection(),()=>p.joinForward(),()=>p.selectNodeForward()]),a={Enter:()=>this.editor.commands.first(({commands:p})=>[()=>p.newlineInCode(),()=>p.createParagraphNear(),()=>p.liftEmptyBlock(),()=>p.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:n,"Mod-Delete":n,"Mod-a":()=>this.editor.commands.selectAll()},s={...a},u={...a,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":n,"Ctrl-Alt-Backspace":n,"Alt-Delete":n,"Alt-d":n,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return dp()||ob()?u:s},addProseMirrorPlugins(){return[new Kn({key:new Li("clearDocument"),appendTransaction:(e,n,a)=>{if(!(e.some(W=>W.docChanged)&&!n.doc.eq(a.doc)))return;let{empty:s,from:u,to:p}=n.selection,g=Qe.atStart(n.doc).from,_=Qe.atEnd(n.doc).to,x=u===g&&p===_,O=a.doc.textBetween(0,a.doc.content.size," "," ").length===0;if(s||!x||!O)return;let L=a.tr,H=Yc({state:a,transaction:L}),{commands:U}=new Gc({editor:this.editor,state:H});if(U.clearNodes(),!!L.steps.length)return L}})]}}),GC=Gr.create({name:"tabindex",addProseMirrorPlugins(){return[new Kn({key:new Li("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}}),WC=Object.freeze({__proto__:null,ClipboardTextSerializer:MT,Commands:HC,Editable:VC,FocusEvents:UC,Keymap:YC,Tabindex:GC}),qC=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function KC(e,n){let a=document.querySelector("style[data-tiptap-style]");if(a!==null)return a;let s=document.createElement("style");return n&&s.setAttribute("nonce",n),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}var JC=class extends mT{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=KC(qC,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){let a=Jv(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:a});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;let n=typeof e=="string"?`${e}$`:e.key,a=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});this.view.updateState(a)}createExtensionManager(){let e=[...this.options.enableCoreExtensions?Object.values(WC):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n?.type));this.extensionManager=new Tu(e,this)}createCommandManager(){this.commandManager=new Gc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e=sb(this.options.content,this.schema,this.options.parseOptions),n=ib(e,this.options.autofocus);this.view=new PS(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:wo.create({doc:e,selection:n||void 0})});let a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.createNodeViews();let s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(p=>{var g;return(g=this.capturedTransaction)===null||g===void 0?void 0:g.step(p)});return}let n=this.state.apply(e),a=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),a&&this.emit("selectionUpdate",{editor:this,transaction:e});let s=e.getMeta("focus"),u=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),u&&this.emit("blur",{editor:this,event:u.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return cb(this.state,e)}isActive(e,n){let a=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return EC(this.state,a,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return pC(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:n=`

`,textSerializers:a={}}=e||{};return mC(this.state.doc,{blockSeparator:n,textSerializers:{...a,...tb(this.schema)}})}get isEmpty(){return _C(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function ks(e){return new qc({find:e.find,handler:({state:n,range:a,match:s})=>{let u=qt(e.getAttributes,void 0,s);if(u===!1||u===null)return null;let{tr:p}=n,g=s[s.length-1],_=s[0],x=a.to;if(g){let O=_.search(/\S/),L=a.from+_.indexOf(g),H=L+g.length;if(Qc(a.from,a.to,n.doc).filter(U=>U.mark.type.excluded.find(W=>W===e.type&&W!==U.mark.type)).filter(U=>U.to>L).length)return null;H<a.to&&p.delete(H,a.to),L>a.from&&p.delete(a.from+O,L),x=a.from+O+g.length,p.addMark(a.from+O,x,e.type.create(u||{})),p.removeStoredMark(e.type)}}})}function mb(e){return new qc({find:e.find,handler:({state:n,range:a,match:s})=>{let u=qt(e.getAttributes,void 0,s)||{},{tr:p}=n,g=a.from,_=a.to;if(s[1]){let x=s[0].lastIndexOf(s[1]),O=g+x;O>_?O=_:_=O+s[1].length;let L=s[0][s[0].length-1];p.insertText(L,g+s[0].length-1),p.replaceWith(O,_,e.type.create(u))}else s[0]&&p.replaceWith(g,_,e.type.create(u))}})}function pp(e){return new qc({find:e.find,handler:({state:n,range:a,match:s})=>{let u=n.doc.resolve(a.from),p=qt(e.getAttributes,void 0,s)||{};if(!u.node(-1).canReplaceWith(u.index(-1),u.indexAfter(-1),e.type))return null;n.tr.delete(a.from,a.to).setBlockType(a.from,a.from,e.type,p)}})}function mp(e){return new qc({find:e.find,handler:({state:n,range:a,match:s})=>{let u=qt(e.getAttributes,void 0,s)||{},p=n.tr.delete(a.from,a.to),g=p.doc.resolve(a.from).blockRange(),_=g&&sr(g,e.type,u);if(!_)return null;p.wrap(g,_);let x=p.doc.resolve(a.from-1).nodeBefore;x&&x.type===e.type&&se(p.doc,a.from-1)&&(!e.joinPredicate||e.joinPredicate(s,x))&&p.join(a.from-1)}})}var Ir=class{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qt(ht(this,"addOptions",{name:this.name}))),this.storage=qt(ht(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ir(e)}configure(e={}){let n=this.extend();return n.options=Kc(this.options,e),n.storage=qt(ht(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){let n=new Ir(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=qt(ht(n,"addOptions",{name:n.name})),n.storage=qt(ht(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){let{tr:a}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){let u=s.marks();if(!u.find(g=>g?.type.name===n.name))return!1;let p=u.find(g=>g?.type.name===n.name);return p&&a.removeStoredMark(p),a.insertText(" ",s.pos),e.view.dispatch(a),!0}return!1}},Fn=class{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qt(ht(this,"addOptions",{name:this.name}))),this.storage=qt(ht(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Fn(e)}configure(e={}){let n=this.extend();return n.options=Kc(this.options,e),n.storage=qt(ht(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){let n=new Fn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=qt(ht(n,"addOptions",{name:n.name})),n.storage=qt(ht(n,"addStorage",{name:n.name,options:n.options})),n}};function Ua(e){return new AT({find:e.find,handler:({state:n,range:a,match:s})=>{let u=qt(e.getAttributes,void 0,s);if(u===!1||u===null)return null;let{tr:p}=n,g=s[s.length-1],_=s[0],x=a.to;if(g){let O=_.search(/\S/),L=a.from+_.indexOf(g),H=L+g.length;if(Qc(a.from,a.to,n.doc).filter(U=>U.mark.type.excluded.find(W=>W===e.type&&W!==U.mark.type)).filter(U=>U.to>L).length)return null;H<a.to&&p.delete(H,a.to),L>a.from&&p.delete(a.from+O,L),x=a.from+O+g.length,p.addMark(a.from+O,x,e.type.create(u||{})),p.removeStoredMark(e.type)}}})}var XC=/^\s*>\s$/,ZC=Fn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[mp({find:XC,type:this.type})]}}),QC=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,eM=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,tM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,nM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,iM=Ir.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ks({find:QC,type:this.type}),ks({find:tM,type:this.type})]},addPasteRules(){return[Ua({find:eM,type:this.type}),Ua({find:nM,type:this.type})]}}),rM=/^\s*([-+*])\s$/,oM=Fn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[mp({find:rM,type:this.type})]}}),aM=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,sM=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,lM=Ir.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ks({find:aM,type:this.type})]},addPasteRules(){return[Ua({find:sM,type:this.type})]}}),uM=Ir.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:n})=>{let a=hp(e,this.type);return Object.entries(a).some(([,s])=>!!s)?!0:n.unsetMark(this.name)}}}}),cM=Gr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var n;return(n=e.style.color)===null||n===void 0?void 0:n.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:n})=>n().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),dM=Fn.create({name:"doc",topNode:!0,content:"block+"});function hM(e={}){return new Kn({view(n){return new fM(n,e)}})}var fM=class{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let s=u=>{this[a](u)};return e.dom.addEventListener(a,s),{name:a,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let _=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0)).getBoundingClientRect(),x=p?_.bottom:_.top;p&&g&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:_.left,right:_.right,top:x-this.width/2,bottom:x+this.width/2}}}if(!n){let p=this.editorView.coordsAtPos(this.cursorPos);n={left:p.left-this.width/2,right:p.left+this.width/2,top:p.top,bottom:p.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let s,u;if(!a||a==document.body&&getComputedStyle(a).position=="static")s=-pageXOffset,u=-pageYOffset;else{let p=a.getBoundingClientRect();s=p.left-a.scrollLeft,u=p.top-a.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-u+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),a=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=a&&a.type.spec.disableDropCursor,u=typeof s=="function"?s(this.editorView,n):s;if(n&&!u){let p=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(p=Ze(this.editorView.state.doc,p,this.editorView.dragging.slice),p==null))return this.setCursor(null);this.setCursor(p),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}},pM=Gr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hM(this.options)]}}),fi=class extends Qe{constructor(e){super(e,e)}map(e,n){let a=e.resolve(n.map(this.head));return fi.valid(a)?new fi(a):Qe.near(a)}content(){return k.empty}eq(e){return e instanceof fi&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new fi(e.resolve(n.pos))}getBookmark(){return new gb(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!mM(e)||!gM(e))return!1;let a=n.type.spec.allowGapCursor;if(a!=null)return a;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,a=!1){e:for(;;){if(!a&&fi.valid(e))return e;let s=e.pos,u=null;for(let p=e.depth;;p--){let g=e.node(p);if(n>0?e.indexAfter(p)<g.childCount:e.index(p)>0){u=g.child(n>0?e.indexAfter(p):e.index(p)-1);break}else if(p==0)return null;s+=n;let _=e.doc.resolve(s);if(fi.valid(_))return _}for(;;){let p=n>0?u.firstChild:u.lastChild;if(!p){if(u.isAtom&&!u.isText&&!At.isSelectable(u)){e=e.doc.resolve(s+u.nodeSize*n),a=!1;continue e}break}u=p,s+=n;let g=e.doc.resolve(s);if(fi.valid(g))return g}return null}}};fi.prototype.visible=!1,fi.findFrom=fi.findGapCursorFrom,Qe.jsonID("gapcursor",fi);var gb=class{constructor(e){this.pos=e}map(e){return new gb(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return fi.valid(n)?new fi(n):Qe.near(n)}};function mM(e){for(let n=e.depth;n>=0;n--){let a=e.index(n),s=e.node(n);if(a==0){if(s.type.spec.isolating)return!0;continue}for(let u=s.child(a-1);;u=u.lastChild){if(u.childCount==0&&!u.inlineContent||u.isAtom||u.type.spec.isolating)return!0;if(u.inlineContent)return!1}}return!0}function gM(e){for(let n=e.depth;n>=0;n--){let a=e.indexAfter(n),s=e.node(n);if(a==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let u=s.child(a);;u=u.firstChild){if(u.childCount==0&&!u.inlineContent||u.isAtom||u.type.spec.isolating)return!0;if(u.inlineContent)return!1}}return!0}function vM(){return new Kn({props:{decorations:_M,createSelectionBetween(e,n,a){return n.pos==a.pos&&fi.valid(a)?new fi(a):null},handleClick:yM,handleKeyDown:bM,handleDOMEvents:{beforeinput:EM}}})}var bM=ip({ArrowLeft:td("horiz",-1),ArrowRight:td("horiz",1),ArrowUp:td("vert",-1),ArrowDown:td("vert",1)});function td(e,n){let a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return function(s,u,p){let g=s.selection,_=n>0?g.$to:g.$from,x=g.empty;if(g instanceof Et){if(!p.endOfTextblock(a)||_.depth==0)return!1;x=!1,_=s.doc.resolve(n>0?_.after():_.before())}let O=fi.findGapCursorFrom(_,n,x);return O?(u&&u(s.tr.setSelection(new fi(O))),!0):!1}}function yM(e,n,a){if(!e||!e.editable)return!1;let s=e.state.doc.resolve(n);if(!fi.valid(s))return!1;let u=e.posAtCoords({left:a.clientX,top:a.clientY});return u&&u.inside>-1&&At.isSelectable(e.state.doc.nodeAt(u.inside))?!1:(e.dispatch(e.state.tr.setSelection(new fi(s))),!0)}function EM(e,n){if(n.inputType!="insertCompositionText"||!(e.state.selection instanceof fi))return!1;let{$from:a}=e.state.selection,s=a.parent.contentMatchAt(a.index()).findWrapping(e.state.schema.nodes.text);if(!s)return!1;let u=y.empty;for(let g=s.length-1;g>=0;g--)u=y.from(s[g].createAndFill(null,u));let p=e.state.tr.replace(a.pos,a.pos,new k(u,0,0));return p.setSelection(Et.near(p.doc.resolve(a.pos+1))),e.dispatch(p),!1}function _M(e){if(!(e.selection instanceof fi))return null;let n=document.createElement("div");return n.className="ProseMirror-gapcursor",Fi.create(e.doc,[Or.widget(e.selection.head,n,{key:"gapcursor"})])}var wM=Gr.create({name:"gapCursor",addProseMirrorPlugins(){return[vM()]},extendNodeSchema(e){var n;let a={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(n=qt(ht(e,"allowGapCursor",a)))!==null&&n!==void 0?n:null}}}),AM=Fn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",sn(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:n,state:a,editor:s})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:u,storedMarks:p}=a;if(u.$from.parent.type.spec.isolating)return!1;let{keepMarks:g}=this.options,{splittableMarks:_}=s.extensionManager,x=p||u.$to.parentOffset&&u.$from.marks();return n().insertContent({type:this.name}).command(({tr:O,dispatch:L})=>{if(L&&x&&g){let H=x.filter(U=>_.includes(U.type.name));O.ensureMarks(H)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),DM=Fn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:n}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,sn(this.options.HTMLAttributes,n),0]},addCommands(){return{setHeading:e=>({commands:n})=>this.options.levels.includes(e.level)?n.setNode(this.name,e):!1,toggleHeading:e=>({commands:n})=>this.options.levels.includes(e.level)?n.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,n)=>({...e,[`Mod-Alt-${n}`]:()=>this.editor.commands.toggleHeading({level:n})}),{})},addInputRules(){return this.options.levels.map(e=>pp({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),nd=200,tr=function(){};tr.prototype.append=function(e){return e.length?(e=tr.from(e),!this.length&&e||e.length<nd&&this.leafAppend(e)||this.length<nd&&e.leafPrepend(this)||this.appendInner(e)):this},tr.prototype.prepend=function(e){return e.length?tr.from(e).append(this):this},tr.prototype.appendInner=function(e){return new xM(this,e)},tr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?tr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},tr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},tr.prototype.forEach=function(e,n,a){n===void 0&&(n=0),a===void 0&&(a=this.length),n<=a?this.forEachInner(e,n,a,0):this.forEachInvertedInner(e,n,a,0)},tr.prototype.map=function(e,n,a){n===void 0&&(n=0),a===void 0&&(a=this.length);var s=[];return this.forEach(function(u,p){return s.push(e(u,p))},n,a),s},tr.from=function(e){return e instanceof tr?e:e&&e.length?new vb(e):tr.empty};var vb=function(e){function n(s){e.call(this),this.values=s}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var a={length:{configurable:!0},depth:{configurable:!0}};return n.prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(s,u){return s==0&&u==this.length?this:new n(this.values.slice(s,u))},n.prototype.getInner=function(s){return this.values[s]},n.prototype.forEachInner=function(s,u,p,g){for(var _=u;_<p;_++)if(s(this.values[_],g+_)===!1)return!1},n.prototype.forEachInvertedInner=function(s,u,p,g){for(var _=u-1;_>=p;_--)if(s(this.values[_],g+_)===!1)return!1},n.prototype.leafAppend=function(s){if(this.length+s.length<=nd)return new n(this.values.concat(s.flatten()))},n.prototype.leafPrepend=function(s){if(this.length+s.length<=nd)return new n(s.flatten().concat(this.values))},a.length.get=function(){return this.values.length},a.depth.get=function(){return 0},Object.defineProperties(n.prototype,a),n}(tr);tr.empty=new vb([]);var xM=function(e){function n(a,s){e.call(this),this.left=a,this.right=s,this.length=a.length+s.length,this.depth=Math.max(a.depth,s.depth)+1}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},n.prototype.getInner=function(a){return a<this.left.length?this.left.get(a):this.right.get(a-this.left.length)},n.prototype.forEachInner=function(a,s,u,p){var g=this.left.length;if(s<g&&this.left.forEachInner(a,s,Math.min(u,g),p)===!1||u>g&&this.right.forEachInner(a,Math.max(s-g,0),Math.min(this.length,u)-g,p+g)===!1)return!1},n.prototype.forEachInvertedInner=function(a,s,u,p){var g=this.left.length;if(s>g&&this.right.forEachInvertedInner(a,s-g,Math.max(u,g)-g,p+g)===!1||u<g&&this.left.forEachInvertedInner(a,Math.min(s,g),u,p)===!1)return!1},n.prototype.sliceInner=function(a,s){if(a==0&&s==this.length)return this;var u=this.left.length;return s<=u?this.left.slice(a,s):a>=u?this.right.slice(a-u,s-u):this.left.slice(a,u).append(this.right.slice(0,s-u))},n.prototype.leafAppend=function(a){var s=this.right.leafAppend(a);if(s)return new n(this.left,s)},n.prototype.leafPrepend=function(a){var s=this.left.leafPrepend(a);if(s)return new n(s,this.right)},n.prototype.appendInner=function(a){return this.left.depth>=Math.max(this.right.depth,a.depth)+1?new n(this.left,new n(this.right,a)):new n(this,a)},n}(tr),SM=tr,bb=SM,TM=500,Jo=class{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let a=this.items.length;for(;;a--)if(this.items.get(a-1).selection){--a;break}let s,u;n&&(s=this.remapping(a,this.items.length),u=s.maps.length);let p=e.tr,g,_,x=[],O=[];return this.items.forEach((L,H)=>{if(!L.step){s||(s=this.remapping(a,H+1),u=s.maps.length),u--,O.push(L);return}if(s){O.push(new ga(L.map));let U=L.step.map(s.slice(u)),W;U&&p.maybeStep(U).doc&&(W=p.mapping.maps[p.mapping.maps.length-1],x.push(new ga(W,void 0,void 0,x.length+O.length))),u--,W&&s.appendMap(W,u)}else p.maybeStep(L.step);if(L.selection)return g=s?L.selection.map(s.slice(u)):L.selection,_=new Jo(this.items.slice(0,a).append(O.reverse().concat(x)),this.eventCount-1),!1},this.items.length,0),{remaining:_,transform:p,selection:g}}addTransform(e,n,a,s){let u=[],p=this.eventCount,g=this.items,_=!s&&g.length?g.get(g.length-1):null;for(let O=0;O<e.steps.length;O++){let L=e.steps[O].invert(e.docs[O]),H=new ga(e.mapping.maps[O],L,n),U;(U=_&&_.merge(H))&&(H=U,O?u.pop():g=g.slice(0,g.length-1)),u.push(H),n&&(p++,n=void 0),s||(_=H)}let x=p-a.depth;return x>MM&&(g=CM(g,x),p-=x),new Jo(g.append(u),p)}remapping(e,n){let a=new Se;return this.items.forEach((s,u)=>{let p=s.mirrorOffset!=null&&u-s.mirrorOffset>=e?a.maps.length-s.mirrorOffset:void 0;a.appendMap(s.map,p)},e,n),a}addMaps(e){return this.eventCount==0?this:new Jo(this.items.append(e.map(n=>new ga(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let a=[],s=Math.max(0,this.items.length-n),u=e.mapping,p=e.steps.length,g=this.eventCount;this.items.forEach(H=>{H.selection&&g--},s);let _=n;this.items.forEach(H=>{let U=u.getMirror(--_);if(U==null)return;p=Math.min(p,U);let W=u.maps[U];if(H.step){let K=e.steps[U].invert(e.docs[U]),te=H.selection&&H.selection.map(u.slice(_+1,U));te&&g++,a.push(new ga(W,K,te))}else a.push(new ga(W))},s);let x=[];for(let H=n;H<p;H++)x.push(new ga(u.maps[H]));let O=this.items.slice(0,s).append(x).append(a),L=new Jo(O,g);return L.emptyItemCount()>TM&&(L=L.compress(this.items.length-a.length)),L}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),a=n.maps.length,s=[],u=0;return this.items.forEach((p,g)=>{if(g>=e)s.push(p),p.selection&&u++;else if(p.step){let _=p.step.map(n.slice(a)),x=_&&_.getMap();if(a--,x&&n.appendMap(x,a),_){let O=p.selection&&p.selection.map(n.slice(a));O&&u++;let L=new ga(x.invert(),_,O),H,U=s.length-1;(H=s.length&&s[U].merge(L))?s[U]=H:s.push(L)}}else p.map&&a--},this.items.length,0),new Jo(bb.from(s.reverse()),u)}};Jo.empty=new Jo(bb.empty,0);function CM(e,n){let a;return e.forEach((s,u)=>{if(s.selection&&n--==0)return a=u,!1}),e.slice(a)}var ga=class{constructor(e,n,a,s){this.map=e,this.step=n,this.selection=a,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ga(n.getMap().invert(),n,this.selection)}}},Ya=class{constructor(e,n,a,s){this.done=e,this.undone=n,this.prevRanges=a,this.prevTime=s}},MM=20;function kM(e,n,a,s){let u=a.getMeta(Ga),p;if(u)return u.historyState;a.getMeta(IM)&&(e=new Ya(e.done,e.undone,null,0));let g=a.getMeta("appendedTransaction");if(a.steps.length==0)return e;if(g&&g.getMeta(Ga))return g.getMeta(Ga).redo?new Ya(e.done.addTransform(a,void 0,s,id(n)),e.undone,yb(a.mapping.maps[a.steps.length-1]),e.prevTime):new Ya(e.done,e.undone.addTransform(a,void 0,s,id(n)),null,e.prevTime);if(a.getMeta("addToHistory")!==!1&&!(g&&g.getMeta("addToHistory")===!1)){let _=e.prevTime==0||!g&&(e.prevTime<(a.time||0)-s.newGroupDelay||!OM(a,e.prevRanges)),x=g?gp(e.prevRanges,a.mapping):yb(a.mapping.maps[a.steps.length-1]);return new Ya(e.done.addTransform(a,_?n.selection.getBookmark():void 0,s,id(n)),Jo.empty,x,a.time)}else return(p=a.getMeta("rebased"))?new Ya(e.done.rebased(a,p),e.undone.rebased(a,p),gp(e.prevRanges,a.mapping),e.prevTime):new Ya(e.done.addMaps(a.mapping.maps),e.undone.addMaps(a.mapping.maps),gp(e.prevRanges,a.mapping),e.prevTime)}function OM(e,n){if(!n)return!1;if(!e.docChanged)return!0;let a=!1;return e.mapping.maps[0].forEach((s,u)=>{for(let p=0;p<n.length;p+=2)s<=n[p+1]&&u>=n[p]&&(a=!0)}),a}function yb(e){let n=[];return e.forEach((a,s,u,p)=>n.push(u,p)),n}function gp(e,n){if(!e)return null;let a=[];for(let s=0;s<e.length;s+=2){let u=n.map(e[s],1),p=n.map(e[s+1],-1);u<=p&&a.push(u,p)}return a}function Eb(e,n,a,s){let u=id(n),p=Ga.get(n).spec.config,g=(s?e.undone:e.done).popEvent(n,u);if(!g)return;let _=g.selection.resolve(g.transform.doc),x=(s?e.done:e.undone).addTransform(g.transform,n.selection.getBookmark(),p,u),O=new Ya(s?x:g.remaining,s?g.remaining:x,null,0);a(g.transform.setSelection(_).setMeta(Ga,{redo:s,historyState:O}).scrollIntoView())}var vp=!1,_b=null;function id(e){let n=e.plugins;if(_b!=n){vp=!1,_b=n;for(let a=0;a<n.length;a++)if(n[a].spec.historyPreserveItems){vp=!0;break}}return vp}var Ga=new Li("history"),IM=new Li("closeHistory");function RM(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Kn({key:Ga,state:{init(){return new Ya(Jo.empty,Jo.empty,null,0)},apply(n,a,s){return kM(a,s,n,e)}},config:e,props:{handleDOMEvents:{beforeinput(n,a){let s=a.inputType,u=s=="historyUndo"?wb:s=="historyRedo"?Ab:null;return u?(a.preventDefault(),u(n.state,n.dispatch)):!1}}}})}var wb=(e,n)=>{let a=Ga.getState(e);return!a||a.done.eventCount==0?!1:(n&&Eb(a,e,n,!1),!0)},Ab=(e,n)=>{let a=Ga.getState(e);return!a||a.undone.eventCount==0?!1:(n&&Eb(a,e,n,!0),!0)},LM=Gr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:n})=>wb(e,n),redo:()=>({state:e,dispatch:n})=>Ab(e,n)}},addProseMirrorPlugins(){return[RM(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),FM=Fn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",sn(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:n,dispatch:a})=>{var s;if(a){let{$to:u}=n.selection,p=u.end();if(u.nodeAfter)n.setSelection(Et.create(n.doc,u.pos));else{let g=(s=u.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();g&&(n.insert(p,g),n.setSelection(Et.create(n.doc,p)))}n.scrollIntoView()}return!0}).run()}},addInputRules(){return[mb({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),NM=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,PM=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,BM=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,zM=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,$M=Ir.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ks({find:NM,type:this.type}),ks({find:BM,type:this.type})]},addPasteRules(){return[Ua({find:PM,type:this.type}),Ua({find:zM,type:this.type})]}}),jM=Fn.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",sn(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),HM=/^(\d+)\.\s$/,VM=Fn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){let{start:n,...a}=e;return n===1?["ol",sn(this.options.HTMLAttributes,a),0]:["ol",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[mp({find:HM,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]})]}}),UM=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,YM=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,GM=Ir.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ks({find:UM,type:this.type})]},addPasteRules(){return[Ua({find:YM,type:this.type})]}}),WM=Ir.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),qM=Ir.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),bp,yp;if(typeof WeakMap<"u"){let e=new WeakMap;bp=n=>e.get(n),yp=(n,a)=>(e.set(n,a),a)}else{let e=[],n=10,a=0;bp=s=>{for(let u=0;u<e.length;u+=2)if(e[u]==s)return e[u+1]},yp=(s,u)=>(a==n&&(a=0),e[a++]=s,e[a++]=u)}var _l=class{constructor(e,n,a,s){this.left=e,this.top=n,this.right=a,this.bottom=s}},si=class{constructor(e,n,a,s){this.width=e,this.height=n,this.map=a,this.problems=s}findCell(e){for(let n=0;n<this.map.length;n++){let a=this.map[n];if(a!=e)continue;let s=n%this.width,u=n/this.width|0,p=s+1,g=u+1;for(let _=1;p<this.width&&this.map[n+_]==a;_++)p++;for(let _=1;g<this.height&&this.map[n+this.width*_]==a;_++)g++;return new _l(s,u,p,g)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,n,a){let{left:s,right:u,top:p,bottom:g}=this.findCell(e);return n=="horiz"?(a<0?s==0:u==this.width)?null:this.map[p*this.width+(a<0?s-1:u)]:(a<0?p==0:g==this.height)?null:this.map[s+this.width*(a<0?p-1:g)]}rectBetween(e,n){let{left:a,right:s,top:u,bottom:p}=this.findCell(e),{left:g,right:_,top:x,bottom:O}=this.findCell(n);return new _l(Math.min(a,g),Math.min(u,x),Math.max(s,_),Math.max(p,O))}cellsInRect(e){let n=[],a={};for(let s=e.top;s<e.bottom;s++)for(let u=e.left;u<e.right;u++){let p=s*this.width+u,g=this.map[p];a[g]||(a[g]=!0,(u!=e.left||!u||this.map[p-1]!=g)&&(s!=e.top||!s||this.map[p-this.width]!=g)&&n.push(g))}return n}positionAt(e,n,a){for(let s=0,u=0;;s++){let p=u+a.child(s).nodeSize;if(s==e){let g=n+e*this.width,_=(e+1)*this.width;for(;g<_&&this.map[g]<u;)g++;return g==_?p-1:this.map[g]}u=p}}static get(e){return bp(e)||yp(e,KM(e))}};function KM(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);let n=JM(e),a=e.childCount,s=[],u=0,p=null,g=[];for(let O=0,L=n*a;O<L;O++)s[O]=0;for(let O=0,L=0;O<a;O++){let H=e.child(O);L++;for(let K=0;;K++){for(;u<s.length&&s[u]!=0;)u++;if(K==H.childCount)break;let te=H.child(K),{colspan:oe,rowspan:ge,colwidth:xe}=te.attrs;for(let Le=0;Le<ge;Le++){if(Le+O>=a){(p||(p=[])).push({type:"overlong_rowspan",pos:L,n:ge-Le});break}let at=u+Le*n;for(let ft=0;ft<oe;ft++){s[at+ft]==0?s[at+ft]=L:(p||(p=[])).push({type:"collision",row:O,pos:L,n:oe-ft});let Yt=xe&&xe[ft];if(Yt){let Ct=(at+ft)%n*2,rt=g[Ct];rt==null||rt!=Yt&&g[Ct+1]==1?(g[Ct]=Yt,g[Ct+1]=1):rt==Yt&&g[Ct+1]++}}}u+=oe,L+=te.nodeSize}let U=(O+1)*n,W=0;for(;u<U;)s[u++]==0&&W++;W&&(p||(p=[])).push({type:"missing",row:O,n:W}),L++}let _=new si(n,a,s,p),x=!1;for(let O=0;!x&&O<g.length;O+=2)g[O]!=null&&g[O+1]<a&&(x=!0);return x&&XM(_,g,e),_}function JM(e){let n=-1,a=!1;for(let s=0;s<e.childCount;s++){let u=e.child(s),p=0;if(a)for(let g=0;g<s;g++){let _=e.child(g);for(let x=0;x<_.childCount;x++){let O=_.child(x);g+O.attrs.rowspan>s&&(p+=O.attrs.colspan)}}for(let g=0;g<u.childCount;g++){let _=u.child(g);p+=_.attrs.colspan,_.attrs.rowspan>1&&(a=!0)}n==-1?n=p:n!=p&&(n=Math.max(n,p))}return n}function XM(e,n,a){e.problems||(e.problems=[]);for(let s=0,u={};s<e.map.length;s++){let p=e.map[s];if(u[p])continue;u[p]=!0;let g=a.nodeAt(p),_=null;for(let x=0;x<g.attrs.colspan;x++){let O=(s+x)%e.width,L=n[O*2];L!=null&&(!g.attrs.colwidth||g.attrs.colwidth[x]!=L)&&((_||(_=ZM(g.attrs)))[x]=L)}_&&e.problems.unshift({type:"colwidth mismatch",pos:p,colwidth:_})}}function ZM(e){if(e.colwidth)return e.colwidth.slice();let n=[];for(let a=0;a<e.colspan;a++)n.push(0);return n}function cr(e){let n=e.cached.tableNodeTypes;if(!n){n=e.cached.tableNodeTypes={};for(let a in e.nodes){let s=e.nodes[a],u=s.spec.tableRole;u&&(n[u]=s)}}return n}var Wa=new Li("selectingCells");function wl(e){for(let n=e.depth-1;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return e.node(0).resolve(e.before(n+1));return null}function QM(e){for(let n=e.depth;n>0;n--){let a=e.node(n).type.spec.tableRole;if(a==="cell"||a==="header_cell")return e.node(n)}return null}function To(e){let n=e.selection.$head;for(let a=n.depth;a>0;a--)if(n.node(a).type.spec.tableRole=="row")return!0;return!1}function rd(e){let n=e.selection;return n.$anchorCell?n.$anchorCell.pos>n.$headCell.pos?n.$anchorCell:n.$headCell:n.node&&n.node.type.spec.tableRole=="cell"?n.$anchor:wl(n.$head)||ek(n.$head)}function ek(e){for(let n=e.nodeAfter,a=e.pos;n;n=n.firstChild,a++){let s=n.type.spec.tableRole;if(s=="cell"||s=="header_cell")return e.doc.resolve(a)}for(let n=e.nodeBefore,a=e.pos;n;n=n.lastChild,a--){let s=n.type.spec.tableRole;if(s=="cell"||s=="header_cell")return e.doc.resolve(a-n.nodeSize)}}function Ep(e){return e.parent.type.spec.tableRole=="row"&&e.nodeAfter}function tk(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function _p(e,n){return e.depth==n.depth&&e.pos>=n.start(-1)&&e.pos<=n.end(-1)}function Db(e,n,a){let s=e.start(-1),u=si.get(e.node(-1)).nextCell(e.pos-s,n,a);return u==null?null:e.node(0).resolve(s+u)}function Hi(e,n,a){let s={};for(let u in e)s[u]=e[u];return s[n]=a,s}function Os(e,n,a=1){let s=Hi(e,"colspan",e.colspan-a);return s.colwidth&&(s.colwidth=s.colwidth.slice(),s.colwidth.splice(n,a),s.colwidth.some(u=>u>0)||(s.colwidth=null)),s}function xb(e,n,a=1){let s=Hi(e,"colspan",e.colspan+a);if(s.colwidth){s.colwidth=s.colwidth.slice();for(let u=0;u<a;u++)s.colwidth.splice(n,0,0)}return s}function nk(e,n,a){let s=cr(n.type.schema).header_cell;for(let u=0;u<e.height;u++)if(n.nodeAt(e.map[a+u*e.width]).type!=s)return!1;return!0}var mn=class extends Qe{constructor(e,n=e){let a=e.node(-1),s=si.get(a),u=e.start(-1),p=s.rectBetween(e.pos-u,n.pos-u),g=e.node(0),_=s.cellsInRect(p).filter(O=>O!=n.pos-u);_.unshift(n.pos-u);let x=_.map(O=>{let L=a.nodeAt(O),H=O+u+1;return new Wn(g.resolve(H),g.resolve(H+L.content.size))});super(x[0].$from,x[0].$to,x),this.$anchorCell=e,this.$headCell=n}map(e,n){let a=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(Ep(a)&&Ep(s)&&_p(a,s)){let u=this.$anchorCell.node(-1)!=a.node(-1);return u&&this.isRowSelection()?mn.rowSelection(a,s):u&&this.isColSelection()?mn.colSelection(a,s):new mn(a,s)}return Et.between(a,s)}content(){let e=this.$anchorCell.node(-1),n=si.get(e),a=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a),u={},p=[];for(let _=s.top;_<s.bottom;_++){let x=[];for(let O=_*n.width+s.left,L=s.left;L<s.right;L++,O++){let H=n.map[O];if(!u[H]){u[H]=!0;let U=n.findCell(H),W=e.nodeAt(H),K=s.left-U.left,te=U.right-s.right;if(K>0||te>0){let oe=W.attrs;K>0&&(oe=Os(oe,0,K)),te>0&&(oe=Os(oe,oe.colspan-te,te)),U.left<s.left?W=W.type.createAndFill(oe):W=W.type.create(oe,W.content)}if(U.top<s.top||U.bottom>s.bottom){let oe=Hi(W.attrs,"rowspan",Math.min(U.bottom,s.bottom)-Math.max(U.top,s.top));U.top<s.top?W=W.type.createAndFill(oe):W=W.type.create(oe,W.content)}x.push(W)}}p.push(e.child(_).copy(y.from(x)))}let g=this.isColSelection()&&this.isRowSelection()?e:p;return new k(y.from(g),1,1)}replace(e,n=k.empty){let a=e.steps.length,s=this.ranges;for(let p=0;p<s.length;p++){let{$from:g,$to:_}=s[p],x=e.mapping.slice(a);e.replace(x.map(g.pos),x.map(_.pos),p?k.empty:n)}let u=Qe.findFrom(e.doc.resolve(e.mapping.slice(a).map(this.to)),-1);u&&e.setSelection(u)}replaceWith(e,n){this.replace(e,new k(y.from(n),0,0))}forEachCell(e){let n=this.$anchorCell.node(-1),a=si.get(n),s=this.$anchorCell.start(-1),u=a.cellsInRect(a.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let p=0;p<u.length;p++)e(n.nodeAt(u[p]),s+u[p])}isColSelection(){let e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;let a=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(a,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){let a=si.get(e.node(-1)),s=e.start(-1),u=a.findCell(e.pos-s),p=a.findCell(n.pos-s),g=e.node(0);return u.top<=p.top?(u.top>0&&(e=g.resolve(s+a.map[u.left])),p.bottom<a.height&&(n=g.resolve(s+a.map[a.width*(a.height-1)+p.right-1]))):(p.top>0&&(n=g.resolve(s+a.map[p.left])),u.bottom<a.height&&(e=g.resolve(s+a.map[a.width*(a.height-1)+u.right-1]))),new mn(e,n)}isRowSelection(){let e=si.get(this.$anchorCell.node(-1)),n=this.$anchorCell.start(-1),a=e.colCount(this.$anchorCell.pos-n),s=e.colCount(this.$headCell.pos-n);if(Math.min(a,s)>0)return!1;let u=a+this.$anchorCell.nodeAfter.attrs.colspan,p=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(u,p)==e.width}eq(e){return e instanceof mn&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){let a=si.get(e.node(-1)),s=e.start(-1),u=a.findCell(e.pos-s),p=a.findCell(n.pos-s),g=e.node(0);return u.left<=p.left?(u.left>0&&(e=g.resolve(s+a.map[u.top*a.width])),p.right<a.width&&(n=g.resolve(s+a.map[a.width*(p.top+1)-1]))):(p.left>0&&(n=g.resolve(s+a.map[p.top*a.width])),u.right<a.width&&(e=g.resolve(s+a.map[a.width*(u.top+1)-1]))),new mn(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new mn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,a=n){return new mn(e.resolve(n),e.resolve(a))}getBookmark(){return new Sb(this.$anchorCell.pos,this.$headCell.pos)}};mn.prototype.visible=!1,Qe.jsonID("cell",mn);var Sb=class{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Sb(e.map(this.anchor),e.map(this.head))}resolve(e){let n=e.resolve(this.anchor),a=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&a.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&a.index()<a.parent.childCount&&_p(n,a)?new mn(n,a):Qe.near(a,1)}};function ik(e){if(!(e.selection instanceof mn))return null;let n=[];return e.selection.forEachCell((a,s)=>{n.push(Or.node(s,s+a.nodeSize,{class:"selectedCell"}))}),Fi.create(e.doc,n)}function rk({$from:e,$to:n}){if(e.pos==n.pos||e.pos<e.pos-6)return!1;let a=e.pos,s=n.pos,u=e.depth;for(;u>=0&&!(e.after(u+1)<e.end(u));u--,a++);for(let p=n.depth;p>=0&&!(n.before(p+1)>n.start(p));p--,s--);return a==s&&/row|table/.test(e.node(u).type.spec.tableRole)}function ok({$from:e,$to:n}){let a,s;for(let u=e.depth;u>0;u--){let p=e.node(u);if(p.type.spec.tableRole==="cell"||p.type.spec.tableRole==="header_cell"){a=p;break}}for(let u=n.depth;u>0;u--){let p=n.node(u);if(p.type.spec.tableRole==="cell"||p.type.spec.tableRole==="header_cell"){s=p;break}}return a!==s&&n.parentOffset===0}function ak(e,n,a){let s=(n||e).selection,u=(n||e).doc,p,g;if(s instanceof At&&(g=s.node.type.spec.tableRole)){if(g=="cell"||g=="header_cell")p=mn.create(u,s.from);else if(g=="row"){let _=u.resolve(s.from+1);p=mn.rowSelection(_,_)}else if(!a){let _=si.get(s.node),x=s.from+1,O=x+_.map[_.width*_.height-1];p=mn.create(u,x+1,O)}}else s instanceof Et&&rk(s)?p=Et.create(u,s.from):s instanceof Et&&ok(s)&&(p=Et.create(u,s.$from.start(),s.$from.end()));return p&&(n||(n=e.tr)).setSelection(p),n}function sk(e){if(!e.size)return null;let{content:n,openStart:a,openEnd:s}=e;for(;n.childCount==1&&(a>0&&s>0||n.firstChild.type.spec.tableRole=="table");)a--,s--,n=n.firstChild.content;let u=n.firstChild,p=u.type.spec.tableRole,g=u.type.schema,_=[];if(p=="row")for(let x=0;x<n.childCount;x++){let O=n.child(x).content,L=x?0:Math.max(0,a-1),H=x<n.childCount-1?0:Math.max(0,s-1);(L||H)&&(O=wp(cr(g).row,new k(O,L,H)).content),_.push(O)}else if(p=="cell"||p=="header_cell")_.push(a||s?wp(cr(g).row,new k(n,a,s)).content:n);else return null;return lk(g,_)}function lk(e,n){let a=[];for(let u=0;u<n.length;u++){let p=n[u];for(let g=p.childCount-1;g>=0;g--){let{rowspan:_,colspan:x}=p.child(g).attrs;for(let O=u;O<u+_;O++)a[O]=(a[O]||0)+x}}let s=0;for(let u=0;u<a.length;u++)s=Math.max(s,a[u]);for(let u=0;u<a.length;u++)if(u>=n.length&&n.push(y.empty),a[u]<s){let p=cr(e).cell.createAndFill(),g=[];for(let _=a[u];_<s;_++)g.push(p);n[u]=n[u].append(y.from(g))}return{height:n.length,width:s,rows:n}}function wp(e,n){let a=e.createAndFill();return new Sn(a).replace(0,a.content.size,n).doc}function uk({width:e,height:n,rows:a},s,u){if(e!=s){let p=[],g=[];for(let _=0;_<a.length;_++){let x=a[_],O=[];for(let L=p[_]||0,H=0;L<s;H++){let U=x.child(H%x.childCount);L+U.attrs.colspan>s&&(U=U.type.create(Os(U.attrs,U.attrs.colspan,L+U.attrs.colspan-s),U.content)),O.push(U),L+=U.attrs.colspan;for(let W=1;W<U.attrs.rowspan;W++)p[_+W]=(p[_+W]||0)+U.attrs.colspan}g.push(y.from(O))}a=g,e=s}if(n!=u){let p=[];for(let g=0,_=0;g<u;g++,_++){let x=[],O=a[_%n];for(let L=0;L<O.childCount;L++){let H=O.child(L);g+H.attrs.rowspan>u&&(H=H.type.create(Hi(H.attrs,"rowspan",Math.max(1,u-H.attrs.rowspan)),H.content)),x.push(H)}p.push(y.from(x))}a=p,n=u}return{width:e,height:n,rows:a}}function ck(e,n,a,s,u,p,g){let _=e.doc.type.schema,x=cr(_),O,L;if(u>n.width)for(let H=0,U=0;H<n.height;H++){let W=a.child(H);U+=W.nodeSize;let K=[],te;W.lastChild==null||W.lastChild.type==x.cell?te=O||(O=x.cell.createAndFill()):te=L||(L=x.header_cell.createAndFill());for(let oe=n.width;oe<u;oe++)K.push(te);e.insert(e.mapping.slice(g).map(U-1+s),K)}if(p>n.height){let H=[];for(let K=0,te=(n.height-1)*n.width;K<Math.max(n.width,u);K++){let oe=K>=n.width?!1:a.nodeAt(n.map[te+K]).type==x.header_cell;H.push(oe?L||(L=x.header_cell.createAndFill()):O||(O=x.cell.createAndFill()))}let U=x.row.create(null,y.from(H)),W=[];for(let K=n.height;K<p;K++)W.push(U);e.insert(e.mapping.slice(g).map(s+a.nodeSize-2),W)}return!!(O||L)}function Tb(e,n,a,s,u,p,g,_){if(g==0||g==n.height)return!1;let x=!1;for(let O=u;O<p;O++){let L=g*n.width+O,H=n.map[L];if(n.map[L-n.width]==H){x=!0;let U=a.nodeAt(H),{top:W,left:K}=n.findCell(H);e.setNodeMarkup(e.mapping.slice(_).map(H+s),null,Hi(U.attrs,"rowspan",g-W)),e.insert(e.mapping.slice(_).map(n.positionAt(g,K,a)),U.type.createAndFill(Hi(U.attrs,"rowspan",W+U.attrs.rowspan-g))),O+=U.attrs.colspan-1}}return x}function Cb(e,n,a,s,u,p,g,_){if(g==0||g==n.width)return!1;let x=!1;for(let O=u;O<p;O++){let L=O*n.width+g,H=n.map[L];if(n.map[L-1]==H){x=!0;let U=a.nodeAt(H),W=n.colCount(H),K=e.mapping.slice(_).map(H+s);e.setNodeMarkup(K,null,Os(U.attrs,g-W,U.attrs.colspan-(g-W))),e.insert(K+U.nodeSize,U.type.createAndFill(Os(U.attrs,0,g-W))),O+=U.attrs.rowspan-1}}return x}function Mb(e,n,a,s,u){let p=a?e.doc.nodeAt(a-1):e.doc,g=si.get(p),{top:_,left:x}=s,O=x+u.width,L=_+u.height,H=e.tr,U=0;function W(){p=a?H.doc.nodeAt(a-1):H.doc,g=si.get(p),U=H.mapping.maps.length}ck(H,g,p,a,O,L,U)&&W(),Tb(H,g,p,a,x,O,_,U)&&W(),Tb(H,g,p,a,x,O,L,U)&&W(),Cb(H,g,p,a,_,L,x,U)&&W(),Cb(H,g,p,a,_,L,O,U)&&W();for(let K=_;K<L;K++){let te=g.positionAt(K,x,p),oe=g.positionAt(K,O,p);H.replace(H.mapping.slice(U).map(te+a),H.mapping.slice(U).map(oe+a),new k(u.rows[K-_],0,0))}W(),H.setSelection(new mn(H.doc.resolve(a+g.positionAt(_,x,p)),H.doc.resolve(a+g.positionAt(L-1,O-1,p)))),n(H)}var dk=ip({ArrowLeft:ad("horiz",-1),ArrowRight:ad("horiz",1),ArrowUp:ad("vert",-1),ArrowDown:ad("vert",1),"Shift-ArrowLeft":sd("horiz",-1),"Shift-ArrowRight":sd("horiz",1),"Shift-ArrowUp":sd("vert",-1),"Shift-ArrowDown":sd("vert",1),Backspace:ld,"Mod-Backspace":ld,Delete:ld,"Mod-Delete":ld});function od(e,n,a){return a.eq(e.selection)?!1:(n&&n(e.tr.setSelection(a).scrollIntoView()),!0)}function ad(e,n){return(a,s,u)=>{let p=a.selection;if(p instanceof mn)return od(a,s,Qe.near(p.$headCell,n));if(e!="horiz"&&!p.empty)return!1;let g=kb(u,e,n);if(g==null)return!1;if(e=="horiz")return od(a,s,Qe.near(a.doc.resolve(p.head+n),n));{let _=a.doc.resolve(g),x=Db(_,e,n),O;return x?O=Qe.near(x,1):n<0?O=Qe.near(a.doc.resolve(_.before(-1)),-1):O=Qe.near(a.doc.resolve(_.after(-1)),1),od(a,s,O)}}}function sd(e,n){return(a,s,u)=>{let p=a.selection;if(!(p instanceof mn)){let _=kb(u,e,n);if(_==null)return!1;p=new mn(a.doc.resolve(_))}let g=Db(p.$headCell,e,n);return g?od(a,s,new mn(p.$anchorCell,g)):!1}}function ld(e,n){let a=e.selection;if(!(a instanceof mn))return!1;if(n){let s=e.tr,u=cr(e.schema).cell.createAndFill().content;a.forEachCell((p,g)=>{p.content.eq(u)||s.replace(s.mapping.map(g+1),s.mapping.map(g+p.nodeSize-1),new k(u,0,0))}),s.docChanged&&n(s)}return!0}function hk(e,n){let a=e.state.doc,s=wl(a.resolve(n));return s?(e.dispatch(e.state.tr.setSelection(new mn(s))),!0):!1}function fk(e,n,a){if(!To(e.state))return!1;let s=sk(a),u=e.state.selection;if(u instanceof mn){s||(s={width:1,height:1,rows:[y.from(wp(cr(e.state.schema).cell,a))]});let p=u.$anchorCell.node(-1),g=u.$anchorCell.start(-1),_=si.get(p).rectBetween(u.$anchorCell.pos-g,u.$headCell.pos-g);return s=uk(s,_.right-_.left,_.bottom-_.top),Mb(e.state,e.dispatch,g,_,s),!0}else if(s){let p=rd(e.state),g=p.start(-1);return Mb(e.state,e.dispatch,g,si.get(p.node(-1)).findCell(p.pos-g),s),!0}else return!1}function pk(e,n){if(n.ctrlKey||n.metaKey)return;let a=Ob(e,n.target),s;if(n.shiftKey&&e.state.selection instanceof mn)u(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&a&&(s=wl(e.state.selection.$anchor))!=null&&Ap(e,n).pos!=s.pos)u(s,n),n.preventDefault();else if(!a)return;function u(_,x){let O=Ap(e,x),L=Wa.getState(e.state)==null;if(!O||!_p(_,O))if(L)O=_;else return;let H=new mn(_,O);if(L||!e.state.selection.eq(H)){let U=e.state.tr.setSelection(H);L&&U.setMeta(Wa,_.pos),e.dispatch(U)}}function p(){e.root.removeEventListener("mouseup",p),e.root.removeEventListener("dragstart",p),e.root.removeEventListener("mousemove",g),Wa.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Wa,-1))}function g(_){let x=Wa.getState(e.state),O;if(x!=null)O=e.state.doc.resolve(x);else if(Ob(e,_.target)!=a&&(O=Ap(e,n),!O))return p();O&&u(O,_)}e.root.addEventListener("mouseup",p),e.root.addEventListener("dragstart",p),e.root.addEventListener("mousemove",g)}function kb(e,n,a){if(!(e.state.selection instanceof Et))return null;let{$head:s}=e.state.selection;for(let u=s.depth-1;u>=0;u--){let p=s.node(u);if((a<0?s.index(u):s.indexAfter(u))!=(a<0?0:p.childCount))return null;if(p.type.spec.tableRole=="cell"||p.type.spec.tableRole=="header_cell"){let g=s.before(u),_=n=="vert"?a>0?"down":"up":a>0?"right":"left";return e.endOfTextblock(_)?g:null}}return null}function Ob(e,n){for(;n&&n!=e.dom;n=n.parentNode)if(n.nodeName=="TD"||n.nodeName=="TH")return n}function Ap(e,n){let a=e.posAtCoords({left:n.clientX,top:n.clientY});return a&&a?wl(e.state.doc.resolve(a.pos)):null}var mk=new Li("fix-tables");function Ib(e,n,a,s){let u=e.childCount,p=n.childCount;e:for(let g=0,_=0;g<p;g++){let x=n.child(g);for(let O=_,L=Math.min(u,g+3);O<L;O++)if(e.child(O)==x){_=O+1,a+=x.nodeSize;continue e}s(x,a),_<u&&e.child(_).sameMarkup(x)?Ib(e.child(_),x,a+1,s):x.nodesBetween(0,x.content.size,s,a+1),a+=x.nodeSize}}function Rb(e,n){let a,s=(u,p)=>{u.type.spec.tableRole=="table"&&(a=gk(e,u,p,a))};return n?n.doc!=e.doc&&Ib(n.doc,e.doc,0,s):e.doc.descendants(s),a}function gk(e,n,a,s){let u=si.get(n);if(!u.problems)return s;s||(s=e.tr);let p=[];for(let x=0;x<u.height;x++)p.push(0);for(let x=0;x<u.problems.length;x++){let O=u.problems[x];if(O.type=="collision"){let L=n.nodeAt(O.pos);for(let H=0;H<L.attrs.rowspan;H++)p[O.row+H]+=O.n;s.setNodeMarkup(s.mapping.map(a+1+O.pos),null,Os(L.attrs,L.attrs.colspan-O.n,O.n))}else if(O.type=="missing")p[O.row]+=O.n;else if(O.type=="overlong_rowspan"){let L=n.nodeAt(O.pos);s.setNodeMarkup(s.mapping.map(a+1+O.pos),null,Hi(L.attrs,"rowspan",L.attrs.rowspan-O.n))}else if(O.type=="colwidth mismatch"){let L=n.nodeAt(O.pos);s.setNodeMarkup(s.mapping.map(a+1+O.pos),null,Hi(L.attrs,"colwidth",O.colwidth))}}let g,_;for(let x=0;x<p.length;x++)p[x]&&(g==null&&(g=x),_=x);for(let x=0,O=a+1;x<u.height;x++){let L=n.child(x),H=O+L.nodeSize,U=p[x];if(U>0){let W="cell";L.firstChild&&(W=L.firstChild.type.spec.tableRole);let K=[];for(let oe=0;oe<U;oe++)K.push(cr(e.schema)[W].createAndFill());let te=(x==0||g==x-1)&&_==x?O+1:H-1;s.insert(s.mapping.map(te),K)}O=H}return s.setMeta(mk,{fixTables:!0})}function Xo(e){let n=e.selection,a=rd(e),s=a.node(-1),u=a.start(-1),p=si.get(s),g;return n instanceof mn?g=p.rectBetween(n.$anchorCell.pos-u,n.$headCell.pos-u):g=p.findCell(a.pos-u),g.tableStart=u,g.map=p,g.table=s,g}function Lb(e,{map:n,tableStart:a,table:s},u){let p=u>0?-1:0;nk(n,s,u+p)&&(p=u==0||u==n.width?null:0);for(let g=0;g<n.height;g++){let _=g*n.width+u;if(u>0&&u<n.width&&n.map[_-1]==n.map[_]){let x=n.map[_],O=s.nodeAt(x);e.setNodeMarkup(e.mapping.map(a+x),null,xb(O.attrs,u-n.colCount(x))),g+=O.attrs.rowspan-1}else{let x=p==null?cr(s.type.schema).cell:s.nodeAt(n.map[_+p]).type,O=n.positionAt(g,u,s);e.insert(e.mapping.map(a+O),x.createAndFill())}}return e}function vk(e,n){if(!To(e))return!1;if(n){let a=Xo(e);n(Lb(e.tr,a,a.left))}return!0}function bk(e,n){if(!To(e))return!1;if(n){let a=Xo(e);n(Lb(e.tr,a,a.right))}return!0}function yk(e,{map:n,table:a,tableStart:s},u){let p=e.mapping.maps.length;for(let g=0;g<n.height;){let _=g*n.width+u,x=n.map[_],O=a.nodeAt(x);if(u>0&&n.map[_-1]==x||u<n.width-1&&n.map[_+1]==x)e.setNodeMarkup(e.mapping.slice(p).map(s+x),null,Os(O.attrs,u-n.colCount(x)));else{let L=e.mapping.slice(p).map(s+x);e.delete(L,L+O.nodeSize)}g+=O.attrs.rowspan}}function Ek(e,n){if(!To(e))return!1;if(n){let a=Xo(e),s=e.tr;if(a.left==0&&a.right==a.map.width)return!1;for(let u=a.right-1;yk(s,a,u),u!=a.left;u--)a.table=a.tableStart?s.doc.nodeAt(a.tableStart-1):s.doc,a.map=si.get(a.table);n(s)}return!0}function _k(e,n,a){let s=cr(n.type.schema).header_cell;for(let u=0;u<e.width;u++)if(n.nodeAt(e.map[u+a*e.width]).type!=s)return!1;return!0}function Fb(e,{map:n,tableStart:a,table:s},u){let p=a;for(let x=0;x<u;x++)p+=s.child(x).nodeSize;let g=[],_=u>0?-1:0;_k(n,s,u+_)&&(_=u==0||u==n.height?null:0);for(let x=0,O=n.width*u;x<n.width;x++,O++)if(u>0&&u<n.height&&n.map[O]==n.map[O-n.width]){let L=n.map[O],H=s.nodeAt(L).attrs;e.setNodeMarkup(a+L,null,Hi(H,"rowspan",H.rowspan+1)),x+=H.colspan-1}else{let L=_==null?cr(s.type.schema).cell:s.nodeAt(n.map[O+_*n.width]).type;g.push(L.createAndFill())}return e.insert(p,cr(s.type.schema).row.create(null,g)),e}function wk(e,n){if(!To(e))return!1;if(n){let a=Xo(e);n(Fb(e.tr,a,a.top))}return!0}function Ak(e,n){if(!To(e))return!1;if(n){let a=Xo(e);n(Fb(e.tr,a,a.bottom))}return!0}function Dk(e,{map:n,table:a,tableStart:s},u){let p=0;for(let x=0;x<u;x++)p+=a.child(x).nodeSize;let g=p+a.child(u).nodeSize,_=e.mapping.maps.length;e.delete(p+s,g+s);for(let x=0,O=u*n.width;x<n.width;x++,O++){let L=n.map[O];if(u>0&&L==n.map[O-n.width]){let H=a.nodeAt(L).attrs;e.setNodeMarkup(e.mapping.slice(_).map(L+s),null,Hi(H,"rowspan",H.rowspan-1)),x+=H.colspan-1}else if(u<n.width&&L==n.map[O+n.width]){let H=a.nodeAt(L),U=H.type.create(Hi(H.attrs,"rowspan",H.attrs.rowspan-1),H.content),W=n.positionAt(u+1,x,a);e.insert(e.mapping.slice(_).map(s+W),U),x+=H.attrs.colspan-1}}}function xk(e,n){if(!To(e))return!1;if(n){let a=Xo(e),s=e.tr;if(a.top==0&&a.bottom==a.map.height)return!1;for(let u=a.bottom-1;Dk(s,a,u),u!=a.top;u--)a.table=a.tableStart?s.doc.nodeAt(a.tableStart-1):s.doc,a.map=si.get(a.table);n(s)}return!0}function Nb(e){let n=e.content;return n.childCount==1&&n.firstChild.isTextblock&&n.firstChild.childCount==0}function Sk({width:e,height:n,map:a},s){let u=s.top*e+s.left,p=u,g=(s.bottom-1)*e+s.left,_=u+(s.right-s.left-1);for(let x=s.top;x<s.bottom;x++){if(s.left>0&&a[p]==a[p-1]||s.right<e&&a[_]==a[_+1])return!0;p+=e,_+=e}for(let x=s.left;x<s.right;x++){if(s.top>0&&a[u]==a[u-e]||s.bottom<n&&a[g]==a[g+e])return!0;u++,g++}return!1}function Pb(e,n){let a=e.selection;if(!(a instanceof mn)||a.$anchorCell.pos==a.$headCell.pos)return!1;let s=Xo(e),{map:u}=s;if(Sk(u,s))return!1;if(n){let p=e.tr,g={},_=y.empty,x,O;for(let L=s.top;L<s.bottom;L++)for(let H=s.left;H<s.right;H++){let U=u.map[L*u.width+H],W=s.table.nodeAt(U);if(!g[U])if(g[U]=!0,x==null)x=U,O=W;else{Nb(W)||(_=_.append(W.content));let K=p.mapping.map(U+s.tableStart);p.delete(K,K+W.nodeSize)}}if(p.setNodeMarkup(x+s.tableStart,null,Hi(xb(O.attrs,O.attrs.colspan,s.right-s.left-O.attrs.colspan),"rowspan",s.bottom-s.top)),_.size){let L=x+1+O.content.size,H=Nb(O)?x+1:L;p.replaceWith(H+s.tableStart,L+s.tableStart,_)}p.setSelection(new mn(p.doc.resolve(x+s.tableStart))),n(p)}return!0}function Bb(e,n){let a=cr(e.schema);return Tk(({node:s})=>a[s.type.spec.tableRole])(e,n)}function Tk(e){return(n,a)=>{let s=n.selection,u,p;if(s instanceof mn){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;u=s.$anchorCell.nodeAfter,p=s.$anchorCell.pos}else{if(u=QM(s.$from),!u)return!1;p=wl(s.$from).pos}if(u.attrs.colspan==1&&u.attrs.rowspan==1)return!1;if(a){let g=u.attrs,_=[],x=g.colwidth;g.rowspan>1&&(g=Hi(g,"rowspan",1)),g.colspan>1&&(g=Hi(g,"colspan",1));let O=Xo(n),L=n.tr;for(let U=0;U<O.right-O.left;U++)_.push(x?Hi(g,"colwidth",x&&x[U]?[x[U]]:null):g);let H;for(let U=O.top;U<O.bottom;U++){let W=O.map.positionAt(U,O.left,O.table);U==O.top&&(W+=u.nodeSize);for(let K=O.left,te=0;K<O.right;K++,te++)K==O.left&&U==O.top||L.insert(H=L.mapping.map(W+O.tableStart,1),e({node:u,row:U,col:K}).createAndFill(_[te]))}L.setNodeMarkup(p,e({node:u,row:O.top,col:O.left}),_[0]),s instanceof mn&&L.setSelection(new mn(L.doc.resolve(s.$anchorCell.pos),H&&L.doc.resolve(H))),a(L)}return!0}}function Ck(e,n){return function(a,s){if(!To(a))return!1;let u=rd(a);if(u.nodeAfter.attrs[e]===n)return!1;if(s){let p=a.tr;a.selection instanceof mn?a.selection.forEachCell((g,_)=>{g.attrs[e]!==n&&p.setNodeMarkup(_,null,Hi(g.attrs,e,n))}):p.setNodeMarkup(u.pos,null,Hi(u.nodeAfter.attrs,e,n)),s(p)}return!0}}function Mk(e){return function(n,a){if(!To(n))return!1;if(a){let s=cr(n.schema),u=Xo(n),p=n.tr,g=u.map.cellsInRect(e=="column"?new _l(u.left,0,u.right,u.map.height):e=="row"?new _l(0,u.top,u.map.width,u.bottom):u),_=g.map(x=>u.table.nodeAt(x));for(let x=0;x<g.length;x++)_[x].type==s.header_cell&&p.setNodeMarkup(u.tableStart+g[x],s.cell,_[x].attrs);if(p.steps.length==0)for(let x=0;x<g.length;x++)p.setNodeMarkup(u.tableStart+g[x],s.header_cell,_[x].attrs);a(p)}return!0}}function zb(e,n,a){let s=n.map.cellsInRect({left:0,top:0,right:e=="row"?n.map.width:1,bottom:e=="column"?n.map.height:1});for(let u=0;u<s.length;u++){let p=n.table.nodeAt(s[u]);if(p&&p.type!==a.header_cell)return!1}return!0}function Ou(e,n){return n=n||{useDeprecatedLogic:!1},n.useDeprecatedLogic?Mk(e):function(a,s){if(!To(a))return!1;if(s){let u=cr(a.schema),p=Xo(a),g=a.tr,_=zb("row",p,u),x=zb("column",p,u),O=(e==="column"?_:e==="row"&&x)?1:0,L=e=="column"?new _l(0,O,1,p.map.height):e=="row"?new _l(O,0,p.map.width,1):p,H=e=="column"?x?u.cell:u.header_cell:e=="row"?_?u.cell:u.header_cell:u.cell;p.map.cellsInRect(L).forEach(U=>{let W=U+p.tableStart,K=g.doc.nodeAt(W);K&&g.setNodeMarkup(W,H,K.attrs)}),s(g)}return!0}}Ou("row",{useDeprecatedLogic:!0}),Ou("column",{useDeprecatedLogic:!0});var kk=Ou("cell",{useDeprecatedLogic:!0});function Ok(e,n){if(n<0){let a=e.nodeBefore;if(a)return e.pos-a.nodeSize;for(let s=e.index(-1)-1,u=e.before();s>=0;s--){let p=e.node(-1).child(s);if(p.childCount)return u-1-p.lastChild.nodeSize;u-=p.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let a=e.node(-1);for(let s=e.indexAfter(-1),u=e.after();s<a.childCount;s++){let p=a.child(s);if(p.childCount)return u+1;u+=p.nodeSize}}}function $b(e){return function(n,a){if(!To(n))return!1;let s=Ok(rd(n),e);if(s!=null){if(a){let u=n.doc.resolve(s);a(n.tr.setSelection(Et.between(u,tk(u))).scrollIntoView())}return!0}}}function Ik(e,n){let a=e.selection.$anchor;for(let s=a.depth;s>0;s--)if(a.node(s).type.spec.tableRole=="table")return n&&n(e.tr.delete(a.before(s),a.after(s)).scrollIntoView()),!0;return!1}var Rk=class{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Dp(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Dp(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Dp(e,n,a,s,u,p){let g=0,_=!0,x=n.firstChild,O=e.firstChild;for(let L=0,H=0;L<O.childCount;L++){let{colspan:U,colwidth:W}=O.child(L).attrs;for(let K=0;K<U;K++,H++){let te=u==H?p:W&&W[K],oe=te?te+"px":"";g+=te||s,te||(_=!1),x?(x.style.width!=oe&&(x.style.width=oe),x=x.nextSibling):n.appendChild(document.createElement("col")).style.width=oe}}for(;x;){let L=x.nextSibling;x.parentNode.removeChild(x),x=L}_?(a.style.width=g+"px",a.style.minWidth=""):(a.style.width="",a.style.minWidth=g+"px")}var uo=new Li("tableColumnResizing");function Lk({handleWidth:e=5,cellMinWidth:n=25,View:a=Rk,lastColumnResizable:s=!0}={}){return new Kn({key:uo,state:{init(u,p){return this.spec.props.nodeViews[cr(p.schema).table.name]=(g,_)=>new a(g,n,_),new ud(-1,!1)},apply(u,p){return p.apply(u)}},props:{attributes(u){return uo.getState(u).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove(u,p){Fk(u,p,e,n,s)},mouseleave(u){Nk(u)},mousedown(u,p){Pk(u,p,n)}},decorations(u){let p=uo.getState(u);if(p.activeHandle>-1)return Vk(u,p.activeHandle)},nodeViews:{}}})}var ud=class{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){let n=this,a=e.getMeta(uo);if(a&&a.setHandle!=null)return new ud(a.setHandle,null);if(a&&a.setDragging!==void 0)return new ud(n.activeHandle,a.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);Ep(e.doc.resolve(s))||(s=null),n=new ud(s,n.dragging)}return n}};function Fk(e,n,a,s,u){let p=uo.getState(e.state);if(!p.dragging){let g=zk(n.target),_=-1;if(g){let{left:x,right:O}=g.getBoundingClientRect();n.clientX-x<=a?_=jb(e,n,"left"):O-n.clientX<=a&&(_=jb(e,n,"right"))}if(_!=p.activeHandle){if(!u&&_!==-1){let x=e.state.doc.resolve(_),O=x.node(-1),L=si.get(O),H=x.start(-1);if(L.colCount(x.pos-H)+x.nodeAfter.attrs.colspan-1==L.width-1)return}Vb(e,_)}}}function Nk(e){let n=uo.getState(e.state);n.activeHandle>-1&&!n.dragging&&Vb(e,-1)}function Pk(e,n,a){let s=uo.getState(e.state);if(s.activeHandle==-1||s.dragging)return!1;let u=e.state.doc.nodeAt(s.activeHandle),p=Bk(e,s.activeHandle,u.attrs);e.dispatch(e.state.tr.setMeta(uo,{setDragging:{startX:n.clientX,startWidth:p}}));function g(x){window.removeEventListener("mouseup",g),window.removeEventListener("mousemove",_);let O=uo.getState(e.state);O.dragging&&($k(e,O.activeHandle,Hb(O.dragging,x,a)),e.dispatch(e.state.tr.setMeta(uo,{setDragging:null})))}function _(x){if(!x.which)return g(x);let O=uo.getState(e.state),L=Hb(O.dragging,x,a);jk(e,O.activeHandle,L,a)}return window.addEventListener("mouseup",g),window.addEventListener("mousemove",_),n.preventDefault(),!0}function Bk(e,n,{colspan:a,colwidth:s}){let u=s&&s[s.length-1];if(u)return u;let p=e.domAtPos(n),g=p.node.childNodes[p.offset].offsetWidth,_=a;if(s)for(let x=0;x<a;x++)s[x]&&(g-=s[x],_--);return g/_}function zk(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}function jb(e,n,a){let s=e.posAtCoords({left:n.clientX,top:n.clientY});if(!s)return-1;let{pos:u}=s,p=wl(e.state.doc.resolve(u));if(!p)return-1;if(a=="right")return p.pos;let g=si.get(p.node(-1)),_=p.start(-1),x=g.map.indexOf(p.pos-_);return x%g.width==0?-1:_+g.map[x-1]}function Hb(e,n,a){let s=n.clientX-e.startX;return Math.max(a,e.startWidth+s)}function Vb(e,n){e.dispatch(e.state.tr.setMeta(uo,{setHandle:n}))}function $k(e,n,a){let s=e.state.doc.resolve(n),u=s.node(-1),p=si.get(u),g=s.start(-1),_=p.colCount(s.pos-g)+s.nodeAfter.attrs.colspan-1,x=e.state.tr;for(let O=0;O<p.height;O++){let L=O*p.width+_;if(O&&p.map[L]==p.map[L-p.width])continue;let H=p.map[L],{attrs:U}=u.nodeAt(H),W=U.colspan==1?0:_-p.colCount(H);if(U.colwidth&&U.colwidth[W]==a)continue;let K=U.colwidth?U.colwidth.slice():Hk(U.colspan);K[W]=a,x.setNodeMarkup(g+H,null,Hi(U,"colwidth",K))}x.docChanged&&e.dispatch(x)}function jk(e,n,a,s){let u=e.state.doc.resolve(n),p=u.node(-1),g=u.start(-1),_=si.get(p).colCount(u.pos-g)+u.nodeAfter.attrs.colspan-1,x=e.domAtPos(u.start(-1)).node;for(;x.nodeName!="TABLE";)x=x.parentNode;Dp(p,x.firstChild,x,s,_,a)}function Hk(e){let n=[];for(let a=0;a<e;a++)n.push(0);return n}function Vk(e,n){let a=[],s=e.doc.resolve(n),u=s.node(-1),p=si.get(u),g=s.start(-1),_=p.colCount(s.pos-g)+s.nodeAfter.attrs.colspan;for(let x=0;x<p.height;x++){let O=_+x*p.width-1;if((_==p.width||p.map[O]!=p.map[O+1])&&(x==0||p.map[O-1]!=p.map[O-1-p.width])){let L=p.map[O],H=g+L+u.nodeAt(L).nodeSize-1,U=document.createElement("div");U.className="column-resize-handle",a.push(Or.widget(H,U))}}return Fi.create(e.doc,a)}function Uk({allowTableNodeSelection:e=!1}={}){return new Kn({key:Wa,state:{init(){return null},apply(n,a){let s=n.getMeta(Wa);if(s!=null)return s==-1?null:s;if(a==null||!n.docChanged)return a;let{deleted:u,pos:p}=n.mapping.mapResult(a);return u?null:p}},props:{decorations:ik,handleDOMEvents:{mousedown:pk},createSelectionBetween(n){if(Wa.getState(n.state)!=null)return n.state.selection},handleTripleClick:hk,handleKeyDown:dk,handlePaste:fk},appendTransaction(n,a,s){return ak(s,Rb(s,a),e)}})}function Ub(e,n,a,s,u,p){let g=0,_=!0,x=n.firstChild,O=e.firstChild;for(let L=0,H=0;L<O.childCount;L+=1){let{colspan:U,colwidth:W}=O.child(L).attrs;for(let K=0;K<U;K+=1,H+=1){let te=u===H?p:W&&W[K],oe=te?`${te}px`:"";g+=te||s,te||(_=!1),x?(x.style.width!==oe&&(x.style.width=oe),x=x.nextSibling):n.appendChild(document.createElement("col")).style.width=oe}}for(;x;){let L=x.nextSibling;x.parentNode.removeChild(x),x=L}_?(a.style.width=`${g}px`,a.style.minWidth=""):(a.style.width="",a.style.minWidth=`${g}px`)}var Yk=class{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ub(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Ub(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}};function Yb(e,n){return n?e.createChecked(null,n):e.createAndFill()}function Gk(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let n={};return Object.keys(e.nodes).forEach(a=>{let s=e.nodes[a];s.spec.tableRole&&(n[s.spec.tableRole]=s)}),e.cached.tableNodeTypes=n,n}function Wk(e,n,a,s,u){let p=Gk(e),g=[],_=[];for(let O=0;O<a;O+=1){let L=Yb(p.cell,u);if(L&&_.push(L),s){let H=Yb(p.header_cell,u);H&&g.push(H)}}let x=[];for(let O=0;O<n;O+=1)x.push(p.row.createChecked(null,s&&O===0?g:_));return p.table.createChecked(null,x)}function qk(e){return e instanceof mn}var cd=({editor:e})=>{let{selection:n}=e.state;if(!qk(n))return!1;let a=0;return ub(n.ranges[0].$from,u=>u.type.name==="table")?.node.descendants(u=>{if(u.type.name==="table")return!1;["tableCell","tableHeader"].includes(u.type.name)&&(a+=1)}),a===n.ranges.length?(e.commands.deleteTable(),!0):!1},Kk=Fn.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Yk,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:e}){return["table",sn(this.options.HTMLAttributes,e),["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:n=3,withHeaderRow:a=!0}={})=>({tr:s,dispatch:u,editor:p})=>{let g=Wk(p.schema,e,n,a);if(u){let _=s.selection.anchor+1;s.replaceSelectionWith(g).scrollIntoView().setSelection(Et.near(s.doc.resolve(_)))}return!0},addColumnBefore:()=>({state:e,dispatch:n})=>vk(e,n),addColumnAfter:()=>({state:e,dispatch:n})=>bk(e,n),deleteColumn:()=>({state:e,dispatch:n})=>Ek(e,n),addRowBefore:()=>({state:e,dispatch:n})=>wk(e,n),addRowAfter:()=>({state:e,dispatch:n})=>Ak(e,n),deleteRow:()=>({state:e,dispatch:n})=>xk(e,n),deleteTable:()=>({state:e,dispatch:n})=>Ik(e,n),mergeCells:()=>({state:e,dispatch:n})=>Pb(e,n),splitCell:()=>({state:e,dispatch:n})=>Bb(e,n),toggleHeaderColumn:()=>({state:e,dispatch:n})=>Ou("column")(e,n),toggleHeaderRow:()=>({state:e,dispatch:n})=>Ou("row")(e,n),toggleHeaderCell:()=>({state:e,dispatch:n})=>kk(e,n),mergeOrSplit:()=>({state:e,dispatch:n})=>Pb(e,n)?!0:Bb(e,n),setCellAttribute:(e,n)=>({state:a,dispatch:s})=>Ck(e,n)(a,s),goToNextCell:()=>({state:e,dispatch:n})=>$b(1)(e,n),goToPreviousCell:()=>({state:e,dispatch:n})=>$b(-1)(e,n),fixTables:()=>({state:e,dispatch:n})=>(n&&Rb(e),!0),setCellSelection:e=>({tr:n,dispatch:a})=>{if(a){let s=mn.create(n.doc,e.anchorCell,e.headCell);n.setSelection(s)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:cd,"Mod-Backspace":cd,Delete:cd,"Mod-Delete":cd}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Lk({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Uk({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){let n={name:e.name,options:e.options,storage:e.storage};return{tableRole:qt(ht(e,"tableRole",n))}}}),Jk=Fn.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let n=e.getAttribute("colwidth");return n?[parseInt(n,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",sn(this.options.HTMLAttributes,e),0]}}),Xk=Fn.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let n=e.getAttribute("colwidth");return n?[parseInt(n,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",sn(this.options.HTMLAttributes,e),0]}}),Zk=Fn.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",sn(this.options.HTMLAttributes,e),0]}}),Qk=Fn.create({name:"text",group:"inline"}),eO=Gr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:n})=>this.options.alignments.includes(e)?this.options.types.every(a=>n.updateAttributes(a,{textAlign:e})):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.every(n=>e.resetAttributes(n,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),tO=Ir.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),nO=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,iO=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,rO=Ir.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:n})=>n.setMark(this.name,e),toggleHighlight:e=>({commands:n})=>n.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ks({find:nO,type:this.type})]},addPasteRules(){return[Ua({find:iO,type:this.type})]}}),oO=Fn.create({name:"checkedList",priority:50,addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{class:"checked-list"}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul",getAttrs:e=>e.classList.contains("checked-list"),priority:1e3}]},renderHTML({HTMLAttributes:e}){return["ul",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleCheckedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}}}),aO=Fn.create({name:"lead",group:"block",content:"block+",addOptions(){return{HTMLAttributes:{class:"lead"}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("lead")}]},renderHTML({node:e,HTMLAttributes:n}){return["div",sn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleLead:()=>({commands:e})=>e.toggleWrap(this.name)}}});function xp(e){this.j={},this.jr=[],this.jd=null,this.t=e}xp.prototype={accepts:function(){return!!this.t},tt:function(e,n){if(n&&n.j)return this.j[e]=n,n;var a=n,s=this.j[e];if(s)return a&&(s.t=a),s;s=In();var u=dd(this,e);return u?(Object.assign(s.j,u.j),s.jr.append(u.jr),s.jr=u.jd,s.t=a||u.t):s.t=a,this.j[e]=s,s}};var In=function(){return new xp},kt=function(e){return new xp(e)},Ye=function(e,n,a){e.j[n]||(e.j[n]=a)},Vi=function(e,n,a){e.jr.push([n,a])},dd=function(e,n){var a=e.j[n];if(a)return a;for(var s=0;s<e.jr.length;s++){var u=e.jr[s][0],p=e.jr[s][1];if(u.test(n))return p}return e.jd},ln=function(e,n,a){for(var s=0;s<n.length;s++)Ye(e,n[s],a)},sO=function(e,n){for(var a=0;a<n.length;a++){var s=n[a][0],u=n[a][1];Ye(e,s,u)}},Is=function(e,n,a,s){for(var u=0,p=n.length,g;u<p&&(g=e.j[n[u]]);)e=g,u++;if(u>=p)return[];for(;u<p-1;)g=s(),Ye(e,n[u],g),e=g,u++;Ye(e,n[p-1],a)},Co="DOMAIN",va="LOCALHOST",Zo="TLD",co="NUM",Al="PROTOCOL",Sp="MAILTO",Gb="WS",Tp="NL",Dl="OPENBRACE",Iu="OPENBRACKET",Ru="OPENANGLEBRACKET",Lu="OPENPAREN",Rs="CLOSEBRACE",xl="CLOSEBRACKET",Sl="CLOSEANGLEBRACKET",Tl="CLOSEPAREN",hd="AMPERSAND",fd="APOSTROPHE",pd="ASTERISK",Cl="AT",md="BACKSLASH",gd="BACKTICK",vd="CARET",Fu="COLON",Cp="COMMA",bd="DOLLAR",qa="DOT",yd="EQUALS",Mp="EXCLAMATION",Ed="HYPHEN",_d="PERCENT",wd="PIPE",Ad="PLUS",Dd="POUND",xd="QUERY",kp="QUOTE",Op="SEMI",ba="SLASH",Sd="TILDE",Td="UNDERSCORE",Cd="SYM",lO=Object.freeze({__proto__:null,DOMAIN:Co,LOCALHOST:va,TLD:Zo,NUM:co,PROTOCOL:Al,MAILTO:Sp,WS:Gb,NL:Tp,OPENBRACE:Dl,OPENBRACKET:Iu,OPENANGLEBRACKET:Ru,OPENPAREN:Lu,CLOSEBRACE:Rs,CLOSEBRACKET:xl,CLOSEANGLEBRACKET:Sl,CLOSEPAREN:Tl,AMPERSAND:hd,APOSTROPHE:fd,ASTERISK:pd,AT:Cl,BACKSLASH:md,BACKTICK:gd,CARET:vd,COLON:Fu,COMMA:Cp,DOLLAR:bd,DOT:qa,EQUALS:yd,EXCLAMATION:Mp,HYPHEN:Ed,PERCENT:_d,PIPE:wd,PLUS:Ad,POUND:Dd,QUERY:xd,QUOTE:kp,SEMI:Op,SLASH:ba,TILDE:Sd,UNDERSCORE:Td,SYM:Cd}),Wb="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermögensberater-ctb vermögensberatung-pwb ελ ευ бг бел дети ею католик ком қаз мкд мон москва онлайн орг рус рф сайт срб укр გე հայ ישראל קום ابوظبي اتصالات ارامكو الاردن البحرين الجزائر السعودية العليان المغرب امارات ایران بارت بازار بھارت بيتك پاکستان ڀارت تونس سودان سورية شبكة عراق عرب عمان فلسطين قطر كاثوليك كوم مصر مليسيا موريتانيا موقع همراه कॉम नेट भारत भारतम् भारोत संगठन বাংলা ভারত ভাৰত ਭਾਰਤ ભારત ଭାରତ இந்தியா இலங்கை சிங்கப்பூர் భారత్ ಭಾರತ ഭാരതം ලංකා คอม ไทย ລາວ 닷넷 닷컴 삼성 한국 アマゾン グーグル クラウド コム ストア セール ファッション ポイント みんな 世界 中信 中国 中國 中文网 亚马逊 企业 佛山 信息 健康 八卦 公司 公益 台湾 台灣 商城 商店 商标 嘉里 嘉里大酒店 在线 大众汽车 大拿 天主教 娱乐 家電 广东 微博 慈善 我爱你 手机 招聘 政务 政府 新加坡 新闻 时尚 書籍 机构 淡马锡 游戏 澳門 点看 移动 组织机构 网址 网店 网站 网络 联通 诺基亚 谷歌 购物 通販 集团 電訊盈科 飞利浦 食品 餐厅 香格里拉 香港".split(" "),Nu=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Pu=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,Bu=/\uFE0F/,zu=/\d/,qb=/\s/;function uO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=In(),a=kt(co),s=kt(Co),u=In(),p=kt(Gb),g=[[zu,s],[Nu,s],[Pu,s],[Bu,s]],_=function(){var Le=kt(Co);return Le.j={"-":u},Le.jr=[].concat(g),Le},x=function(Le){var at=_();return at.t=Le,at};sO(n,[["'",kt(fd)],["{",kt(Dl)],["[",kt(Iu)],["<",kt(Ru)],["(",kt(Lu)],["}",kt(Rs)],["]",kt(xl)],[">",kt(Sl)],[")",kt(Tl)],["&",kt(hd)],["*",kt(pd)],["@",kt(Cl)],["`",kt(gd)],["^",kt(vd)],[":",kt(Fu)],[",",kt(Cp)],["$",kt(bd)],[".",kt(qa)],["=",kt(yd)],["!",kt(Mp)],["-",kt(Ed)],["%",kt(_d)],["|",kt(wd)],["+",kt(Ad)],["#",kt(Dd)],["?",kt(xd)],['"',kt(kp)],["/",kt(ba)],[";",kt(Op)],["~",kt(Sd)],["_",kt(Td)],["\\",kt(md)]]),Ye(n,`
`,kt(Tp)),Vi(n,qb,p),Ye(p,`
`,In()),Vi(p,qb,p);for(var O=0;O<Wb.length;O++)Is(n,Wb[O],x(Zo),_);var L=_(),H=_(),U=_(),W=_();Is(n,"file",L,_),Is(n,"ftp",H,_),Is(n,"http",U,_),Is(n,"mailto",W,_);var K=_(),te=kt(Al),oe=kt(Sp);Ye(H,"s",K),Ye(H,":",te),Ye(U,"s",K),Ye(U,":",te),Ye(L,":",te),Ye(K,":",te),Ye(W,":",oe);for(var ge=_(),xe=0;xe<e.length;xe++)Is(n,e[xe],ge,_);return Ye(ge,":",te),Is(n,"localhost",x(va),_),Vi(n,zu,a),Vi(n,Nu,s),Vi(n,Pu,s),Vi(n,Bu,s),Vi(a,zu,a),Vi(a,Nu,s),Vi(a,Pu,s),Vi(a,Bu,s),Ye(a,"-",u),Ye(s,"-",u),Ye(u,"-",u),Vi(s,zu,s),Vi(s,Nu,s),Vi(s,Pu,s),Vi(s,Bu,s),Vi(u,zu,s),Vi(u,Nu,s),Vi(u,Pu,s),Vi(u,Bu,s),n.jd=kt(Cd),n}function cO(e,n){for(var a=dO(n.replace(/[A-Z]/g,function(W){return W.toLowerCase()})),s=a.length,u=[],p=0,g=0;g<s;){for(var _=e,x=null,O=0,L=null,H=-1,U=-1;g<s&&(x=dd(_,a[g]));)_=x,_.accepts()?(H=0,U=0,L=_):H>=0&&(H+=a[g].length,U++),O+=a[g].length,p+=a[g].length,g++;p-=H,g-=U,O-=H,u.push({t:L.t,v:n.substr(p-O,O),s:p-O,e:p})}return u}function dO(e){for(var n=[],a=e.length,s=0;s<a;){var u=e.charCodeAt(s),p=void 0,g=u<55296||u>56319||s+1===a||(p=e.charCodeAt(s+1))<56320||p>57343?e[s]:e.slice(s,s+2);n.push(g),s+=g.length}return n}var Kb={defaultProtocol:"http",events:null,format:Jb,formatHref:Jb,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function Jb(e){return e}function hO(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Object.create(e.prototype);for(var u in a)s[u]=a[u];return s.constructor=n,n.prototype=s,n}function Md(){}Md.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kb.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Ls(e,n){function a(s,u){this.t=e,this.v=s,this.tk=u}return hO(Md,a,n),a}var Xb=Ls("email",{isLink:!0}),Ip=Ls("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Rp=Ls("text"),Zb=Ls("nl"),Ka=Ls("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kb.defaultProtocol,n=this.tk,a=!1,s=!1,u=[],p=0;n[p].t===Al;)a=!0,u.push(n[p].v),p++;for(;n[p].t===ba;)s=!0,u.push(n[p].v),p++;for(;p<n.length;p++)u.push(n[p].v);return u=u.join(""),a||s||(u="".concat(e,"://").concat(u)),u},hasProtocol:function(){return this.tk[0].t===Al}}),fO=Object.freeze({__proto__:null,MultiToken:Md,Base:Md,createTokenClass:Ls,MailtoEmail:Xb,Email:Ip,Text:Rp,Nl:Zb,Url:Ka});function pO(){var e=In(),n=In(),a=In(),s=In(),u=In(),p=In(),g=In(),_=kt(Ka),x=In(),O=kt(Ka),L=kt(Ka),H=In(),U=In(),W=In(),K=In(),te=In(),oe=kt(Ka),ge=kt(Ka),xe=kt(Ka),Le=kt(Ka),at=In(),ft=In(),Yt=In(),Ct=In(),rt=In(),tn=In(),ti=kt(Ip),Ni=In(),Pi=kt(Ip),Nn=kt(Xb),Ui=In(),Ei=In(),Re=In(),je=In(),vt=kt(Zb);Ye(e,Tp,vt),Ye(e,Al,n),Ye(e,Sp,a),Ye(n,ba,s),Ye(s,ba,u),Ye(e,Zo,p),Ye(e,Co,p),Ye(e,va,_),Ye(e,co,p),Ye(u,Zo,L),Ye(u,Co,L),Ye(u,co,L),Ye(u,va,L),Ye(p,qa,g),Ye(rt,qa,tn),Ye(g,Zo,_),Ye(g,Co,p),Ye(g,co,p),Ye(g,va,p),Ye(tn,Zo,ti),Ye(tn,Co,rt),Ye(tn,co,rt),Ye(tn,va,rt),Ye(_,qa,g),Ye(ti,qa,tn),Ye(_,Fu,x),Ye(_,ba,L),Ye(x,co,O),Ye(O,ba,L),Ye(ti,Fu,Ni),Ye(Ni,co,Pi);var bt=[hd,pd,Cl,md,gd,vd,bd,Co,yd,Ed,va,co,_d,wd,Ad,Dd,Al,ba,Cd,Sd,Zo,Td],Pt=[fd,Sl,Rs,xl,Tl,Fu,Cp,qa,Mp,Ru,Dl,Iu,Lu,xd,kp,Op];Ye(L,Dl,U),Ye(L,Iu,W),Ye(L,Ru,K),Ye(L,Lu,te),Ye(H,Dl,U),Ye(H,Iu,W),Ye(H,Ru,K),Ye(H,Lu,te),Ye(U,Rs,L),Ye(W,xl,L),Ye(K,Sl,L),Ye(te,Tl,L),Ye(oe,Rs,L),Ye(ge,xl,L),Ye(xe,Sl,L),Ye(Le,Tl,L),Ye(at,Rs,L),Ye(ft,xl,L),Ye(Yt,Sl,L),Ye(Ct,Tl,L),ln(U,bt,oe),ln(W,bt,ge),ln(K,bt,xe),ln(te,bt,Le),ln(U,Pt,at),ln(W,Pt,ft),ln(K,Pt,Yt),ln(te,Pt,Ct),ln(oe,bt,oe),ln(ge,bt,ge),ln(xe,bt,xe),ln(Le,bt,Le),ln(oe,Pt,oe),ln(ge,Pt,ge),ln(xe,Pt,xe),ln(Le,Pt,Le),ln(at,bt,oe),ln(ft,bt,ge),ln(Yt,bt,xe),ln(Ct,bt,Le),ln(at,Pt,at),ln(ft,Pt,ft),ln(Yt,Pt,Yt),ln(Ct,Pt,Ct),ln(L,bt,L),ln(H,bt,L),ln(L,Pt,H),ln(H,Pt,H),Ye(a,Zo,Nn),Ye(a,Co,Nn),Ye(a,co,Nn),Ye(a,va,Nn),ln(Nn,bt,Nn),ln(Nn,Pt,Ui),ln(Ui,bt,Nn),ln(Ui,Pt,Ui);var Tn=[hd,fd,pd,md,gd,vd,Rs,bd,Co,yd,Ed,co,Dl,_d,wd,Ad,Dd,xd,ba,Cd,Sd,Zo,Td];return ln(p,Tn,Ei),Ye(p,Cl,Re),ln(_,Tn,Ei),Ye(_,Cl,Re),ln(g,Tn,Ei),ln(Ei,Tn,Ei),Ye(Ei,Cl,Re),Ye(Ei,qa,je),ln(je,Tn,Ei),Ye(Re,Zo,rt),Ye(Re,Co,rt),Ye(Re,co,rt),Ye(Re,va,ti),e}function mO(e,n,a){for(var s=a.length,u=0,p=[],g=[];u<s;){for(var _=e,x=null,O=null,L=0,H=null,U=-1;u<s&&!(x=dd(_,a[u].t));)g.push(a[u++]);for(;u<s&&(O=x||dd(_,a[u].t));)x=null,_=O,_.accepts()?(U=0,H=_):U>=0&&U++,u++,L++;if(U<0)for(var W=u-L;W<u;W++)g.push(a[W]);else{g.length>0&&(p.push(Lp(Rp,n,g)),g=[]),u-=U,L-=U;var K=H.t,te=a.slice(u-L,u);p.push(Lp(K,n,te))}}return g.length>0&&p.push(Lp(Rp,n,g)),p}function Lp(e,n,a){var s=a[0].s,u=a[a.length-1].e,p=n.substr(s,u-s);return new e(p,a)}var gO=typeof console<"u"&&console&&console.warn||function(){},Wr={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function vO(e){if(Wr.initialized&&gO('linkifyjs: already initialized - will not register custom protocol "'.concat(e,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(e))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Wr.customProtocols.push(e)}function bO(){Wr.scanner={start:uO(Wr.customProtocols),tokens:lO},Wr.parser={start:pO(),tokens:fO};for(var e={createTokenClass:Ls},n=0;n<Wr.pluginQueue.length;n++)Wr.pluginQueue[n][1]({scanner:Wr.scanner,parser:Wr.parser,utils:e});Wr.initialized=!0}function Qb(e){return Wr.initialized||bO(),mO(Wr.parser.start,e,cO(Wr.scanner.start,e))}function Fp(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=Qb(e),s=[],u=0;u<a.length;u++){var p=a[u];p.isLink&&(!n||p.t===n)&&s.push(p.toObject())}return s}function ey(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=Qb(e);return a.length===1&&a[0].isLink&&(!n||a[0].t===n)}function yO(e){return new Kn({key:new Li("autolink"),appendTransaction:(n,a,s)=>{let u=n.some(O=>O.docChanged)&&!a.doc.eq(s.doc),p=n.some(O=>O.getMeta("preventAutolink"));if(!u||p)return;let{tr:g}=s,_=hC(a.doc,[...n]),{mapping:x}=_;if(yC(_).forEach(({oldRange:O,newRange:L})=>{Qc(O.from,O.to,a.doc).filter(K=>K.mark.type===e.type).forEach(K=>{let te=x.map(K.from),oe=x.map(K.to),ge=Qc(te,oe,s.doc).filter(Ct=>Ct.mark.type===e.type);if(!ge.length)return;let xe=ge[0],Le=a.doc.textBetween(K.from,K.to,void 0," "),at=s.doc.textBetween(xe.from,xe.to,void 0," "),ft=ey(Le),Yt=ey(at);ft&&!Yt&&g.removeMark(xe.from,xe.to,e.type)});let H=fC(s.doc,L,K=>K.isTextblock),U,W;if(H.length>1?(U=H[0],W=s.doc.textBetween(U.pos,U.pos+U.node.nodeSize,void 0," ")):H.length&&s.doc.textBetween(L.from,L.to," "," ").endsWith(" ")&&(U=H[0],W=s.doc.textBetween(U.pos,L.to,void 0," ")),U&&W){let K=W.split(" ").filter(ge=>ge!=="");if(K.length<=0)return!1;let te=K[K.length-1],oe=U.pos+W.lastIndexOf(te);if(!te)return!1;Fp(te).filter(ge=>ge.isLink).filter(ge=>e.validate?e.validate(ge.value):!0).map(ge=>({...ge,from:oe+ge.start+1,to:oe+ge.end+1})).forEach(ge=>{g.addMark(ge.from,ge.to,e.type.create({href:ge.href}))})}}),!!g.steps.length)return g}})}function EO(e){return new Kn({key:new Li("handleClickLink"),props:{handleClick:(n,a,s)=>{var u;let p=cb(n.state,e.type.name);return!((u=s.target)===null||u===void 0)&&u.closest("a")&&p.href?(window.open(p.href,p.target),!0):!1}}})}function _O(e){return new Kn({key:new Li("handlePasteLink"),props:{handlePaste:(n,a,s)=>{let{state:u}=n,{selection:p}=u,{empty:g}=p;if(g)return!1;let _="";s.content.forEach(O=>{_+=O.textContent});let x=Fp(_).find(O=>O.isLink&&O.value===_);return!_||!x?!1:(e.editor.commands.setMark(e.type,{href:x.href}),!0)}}})}var wO=Ir.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(vO)},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:n})=>n().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:n})=>n().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ua({find:e=>Fp(e).filter(n=>this.options.validate?this.options.validate(n.value):!0).filter(n=>n.isLink).map(n=>({text:n.value,index:n.start,data:n})),type:this.type,getAttributes:e=>{var n;return{href:(n=e.data)===null||n===void 0?void 0:n.href}}})]},addProseMirrorPlugins(){let e=[];return this.options.autolink&&e.push(yO({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(EO({type:this.type})),this.options.linkOnPaste&&e.push(_O({editor:this.editor,type:this.type})),e}}),AO=wO.extend({addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},hreflang:{default:null},rel:{default:null},class:{default:null},as_button:{default:!1},button_theme:{default:""}}}}),DO=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,xO=Fn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",sn(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:n})=>n.insertContent({type:this.name,attrs:e})}},addInputRules(){return[mb({find:DO,type:this.type,getAttributes:e=>{let[,,n,a,s]=e;return{src:a,alt:n,title:s}}})]}}),SO=xO.extend({addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}}}),TO=Fn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),CO=TO.extend({addAttributes(){return{class:{default:null}}}}),MO=Ir.create({name:"small",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"small"}]},renderHTML({HTMLAttributes:e}){return["small",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSmall:()=>({commands:e})=>e.setMark(this.name),toggleSmall:()=>({commands:e})=>e.toggleMark(this.name),unsetSmall:()=>({commands:e})=>e.unsetMark(this.name)}}});function kO(e,n=null){return n?e.createChecked(null,n):e.createAndFill()}function OO(e){if(e.cached.gridNodeTypes)return e.cached.gridNodeTypes;let n={};return Object.keys(e.nodes).forEach(a=>{let s=e.nodes[a];s.spec.gridRole&&(n[s.spec.gridRole]=s)}),e.cached.gridNodeTypes=n,n}function IO(e,n,a,s){let u=OO(e),p=[];for(let g=0;g<n;g+=1){let _=kO(u.column,s);_&&p.push(_)}return u.grid.createChecked({cols:n,type:a},p)}var RO=Fn.create({name:"grid",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,content:"gridColumn+",gridRole:"grid",addOptions(){return{HTMLAttributes:{class:"filament-tiptap-grid"}}},addAttributes(){return{type:{default:"responsive",parseHTML:e=>e.getAttribute("type")},cols:{default:2,parseHTML:e=>e.getAttribute("cols")}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("filament-tiptap-grid")&&null}]},renderHTML({HTMLAttributes:e}){return["div",sn(this.options.HTMLAttributes,e),0]},addCommands(){return{insertGrid:({cols:e=3,type:n="responsive"}={})=>({tr:a,dispatch:s,editor:u})=>{let p=IO(u.schema,e,n);if(s){let g=a.selection.anchor+1;a.replaceSelectionWith(p).scrollIntoView().setSelection(Et.near(a.doc.resolve(g)))}return!0}}},addKeyboardShortcuts(){return{"Mod-Alt-G":()=>this.editor.commands.insertGrid()}},extendNodeSchema(e){let n={name:e.name,options:e.options,storage:e.storage};return{gridRole:qt(ht(e,"gridRole",n))}}}),LO=Fn.create({name:"gridColumn",content:"block+",gridRole:"column",isolating:!0,addOptions(){return{HTMLAttributes:{class:"filament-tiptap-grid__column"}}},parseHTML(){return[{tag:"div",getAttrs:e=>e.classList.contains("filament-tiptap-grid__column")&&null}]},renderHTML({HTMLAttributes:e}){return["div",sn(this.options.HTMLAttributes,e),0]}}),FO=e=>e.match(/^(https?:\/\/)?(www\.|music\.)?(youtube\.com|youtu\.be)(.+)?$/),ty=(e=!1)=>e?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",NO=e=>{let{url:n,controls:a,nocookie:s,startAt:u}=e;if(n.includes("/embed/"))return n;if(n.includes("youtu.be")){let x=n.split("/").pop();return x?`${ty(s)}${x}`:null}let p=/v=([-\w]+)/gm.exec(n);if(!p||!p[1])return null;let g=`${ty(s)}${p[1]}`,_=[];return a||_.push("controls=0"),u&&_.push(`start=${u}`),_.length&&(g+=`?${_.join("&")}`),g},PO=Fn.create({name:"youtube",selectable:!0,draggable:!0,atom:!0,addOptions(){return{inline:!1,controls:!0,HTMLAttributes:{},nocookie:!1,allowFullscreen:!1,width:640,height:480}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addAttributes(){return{style:{default:null,parseHTML:e=>e.getAttribute("style")},src:{default:null},start:{default:0},width:{default:this.options.width,parseHTML:e=>e.getAttribute("width")},height:{default:this.options.height,parseHTML:e=>e.getAttribute("height")},responsive:{default:!0},aspectWidth:{default:16,parseHTML:e=>e.getAttribute("aspect-width")},aspectHeight:{default:9,parseHTML:e=>e.getAttribute("aspect-height")}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:e=>({commands:n})=>FO(e.src)?n.insertContent({type:this.name,attrs:e}):!1}},renderHTML({HTMLAttributes:e}){let n=NO({url:e.src,controls:this.options.controls,nocookie:this.options.nocookie,startAt:e.start||0});return["div",{"data-youtube-video":"",class:e.responsive?"responsive":null},["iframe",sn(this.options.HTMLAttributes,{src:n,width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,style:e.responsive?`aspect-ratio: ${e.aspectWidth} / ${e.aspectHeight}; width: 100%; height: auto;`:null,aspectWidth:e.responsive?e.aspectWidth:e.width,aspectHeight:e.responsive?e.aspectHeight:e.height})]]}}),BO=e=>e.match(/^(https?:\/\/)?(www\.)?(vimeo\.com)(.+)?$/),zO=e=>{let{url:n,autoplay:a,loop:s,title:u,byline:p,portrait:g}=e;if(n.includes("/video/"))return n;let _=/\.com\/([0-9]+)/gm.exec(n);if(!_||!_[1])return null;let x=`https://player.vimeo.com/video/${_[1]}`;return x+=`?${[`autoplay=${a}`,`loop=${s}`,`title=${u}`,`byline=${p}`,`portrait=${g}`].join("&")}`,x},$O=Fn.create({name:"vimeo",selectable:!0,draggable:!0,atom:!0,addOptions(){return{inline:!1,HTMLAttributes:{},allowFullscreen:!0,width:640,height:480}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addAttributes(){return{style:{default:null,parseHTML:e=>e.getAttribute("style")},src:{default:null},width:{default:this.options.width,parseHTML:e=>e.getAttribute("width")},height:{default:this.options.height,parseHTML:e=>e.getAttribute("height")},autoplay:{default:0},loop:{default:0},title:{default:0},byline:{default:0},portrait:{default:0},responsive:{default:!0},aspectWidth:{default:16,parseHTML:e=>e.getAttribute("aspect-width")},aspectHeight:{default:9,parseHTML:e=>e.getAttribute("aspect-height")}}},parseHTML(){return[{tag:"div[data-vimeo-video] iframe"}]},addCommands(){return{setVimeoVideo:e=>({commands:n})=>BO(e.src)?n.insertContent({type:this.name,attrs:e}):!1}},renderHTML({HTMLAttributes:e}){let n=zO({url:e.src,autoplay:e?.autoplay||0,loop:e?.loop||0,title:e?.title||0,byline:e?.byline||0,portrait:e?.portrait||0});return["div",{"data-vimeo-video":"",class:e.responsive?"responsive":null},["iframe",sn(this.options.HTMLAttributes,{src:n,width:this.options.width,height:this.options.height,allowfullscreen:"",frameborder:0,allow:"autoplay; fullscreen; picture-in-picture",style:e.responsive?`aspect-ratio: ${e.aspectWidth} / ${e.aspectHeight}; width: 100%; height: auto;`:null,aspectWidth:e.responsive?e.aspectWidth:e.width,aspectHeight:e.responsive?e.aspectHeight:e.height})]]}}),jO=e=>{var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*n.length));for(var a="",s=0;s<e;s++)a+=n[Math.floor(Math.random()*n.length)];return a},HO=Fn.create({name:"details",content:"detailsSummary detailsContent",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,addOptions(){return{HTMLAttributes:{}}},addAttributes(){return{}},parseHTML(){return[{tag:"details"}]},renderHTML({HTMLAttributes:e}){return["details",sn(this.options.HTMLAttributes,e),0]},addNodeView(){return({editor:e,getPos:n,node:a,HTMLAttributes:s})=>{let u=document.createElement("div");document.createElement("div");let p=sn(this.options.HTMLAttributes,s,{"data-type":this.name});return Object.entries(p).forEach(([g,_])=>u.setAttribute(g,_)),{dom:u,contentDOM:u,ignoreMutation(g){return g.type==="selection"?!1:!u.contains(g.target)||u===g.target},update:g=>g.type===this.type}}},addCommands(){return{setDetails:()=>({state:e,chain:n})=>{var a;let{schema:s,selection:u}=e,{$from:p,$to:g}=u,_=p.blockRange(g);if(!_)return!1;let x=e.doc.slice(_.start,_.end);if(!s.nodes.detailsContent.contentMatch.matchFragment(x.content))return!1;let O=((a=x.toJSON())===null||a===void 0?void 0:a.content)||[];return n().insertContentAt({from:_.start,to:_.end},{type:this.name,content:[{type:"detailsSummary"},{type:"detailsContent",content:O}]}).setTextSelection(_.start+2).run()},unsetDetails:()=>({state:e,chain:n})=>{let{selection:a,schema:s}=e,u=ku(oe=>oe.type===this.type)(a);if(!u)return!1;let p=Mu(u.node,oe=>oe.type===s.nodes.detailsSummary),g=Mu(u.node,oe=>oe.type===s.nodes.detailsContent);if(!p.length||!g.length)return!1;let _=p[0],x=g[0],O=u.pos,L=e.doc.resolve(O),H=O+u.node.nodeSize,U={from:O,to:H},W=x.node.content.toJSON()||[],K=L.parent.type.contentMatch.defaultType,te=[K?.create(null,_.node.content).toJSON(),...W];return n().insertContentAt(U,te).setTextSelection(O+1).run()}}},addKeyboardShortcuts(){return{Backspace:()=>{let{schema:e,selection:n}=this.editor.state,{empty:a,$anchor:s}=n;return!a||s.parent.type!==e.nodes.detailsSummary?!1:s.parentOffset!==0?this.editor.commands.command(({tr:u})=>{let p=s.pos-1,g=s.pos;return u.delete(p,g),!0}):this.editor.commands.unsetDetails()}}}}),VO=Fn.create({name:"detailsSummary",content:"text*",defining:!0,selectable:!1,isolating:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"summary"}]},renderHTML({HTMLAttributes:e}){return["summary",sn(this.options.HTMLAttributes,e),0]}}),UO=Fn.create({name:"detailsContent",content:"block+",defining:!0,selectable:!1,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="details-content"]'}]},renderHTML({HTMLAttributes:e}){return["div",sn(this.options.HTMLAttributes,e,{"data-type":"details-content"}),0]},addKeyboardShortcuts(){return{Enter:({editor:e})=>{let{state:n,view:a}=e,{selection:s}=n,{$from:u,empty:p}=s,g=ku(tn=>tn.type===this.type)(s);if(!p||!g||!g.node.childCount)return!1;let _=u.index(g.depth),{childCount:x}=g.node;if(x!==_+1)return!1;let O=g.node.type.contentMatch.defaultType,L=O?.createAndFill();if(!L)return!1;let H=n.doc.resolve(g.pos+1),U=x-1,W=g.node.child(U),K=H.posAtIndex(U,g.depth);if(!W.eq(L))return!1;let te=u.node(-3);if(!te)return!1;let oe=u.indexAfter(-3),ge=lb(te.contentMatchAt(oe));if(!ge||!te.canReplaceWith(oe,oe,ge))return!1;let xe=ge.createAndFill();if(!xe)return!1;let{tr:Le}=n,at=u.after(-2);Le.replaceWith(at,at,xe);let ft=Le.doc.resolve(at),Yt=Qe.near(ft,1);Le.setSelection(Yt);let Ct=K,rt=K+W.nodeSize;return Le.delete(Ct,rt),Le.scrollIntoView(),a.dispatch(Le),!0}}}}),YO=/^```([a-z]+)?[\s\n]$/,GO=/^~~~([a-z]+)?[\s\n]$/,WO=Fn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var n;let{languageClassPrefix:a}=this.options;return[...((n=e.firstElementChild)===null||n===void 0?void 0:n.classList)||[]].filter(u=>u.startsWith(a)).map(u=>u.replace(a,""))[0]||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:n}){return["pre",sn(this.options.HTMLAttributes,n),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:n})=>n.setNode(this.name,e),toggleCodeBlock:e=>({commands:n})=>n.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:e,$anchor:n}=this.editor.state.selection,a=n.pos===1;return!e||n.parent.type.name!==this.name?!1:a||!n.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:n}=e,{selection:a}=n,{$from:s,empty:u}=a;if(!u||s.parent.type!==this.type)return!1;let p=s.parentOffset===s.parent.nodeSize-2,g=s.parent.textContent.endsWith(`

`);return!p||!g?!1:e.chain().command(({tr:_})=>(_.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;let{state:n}=e,{selection:a,doc:s}=n,{$from:u,empty:p}=a;if(!p||u.parent.type!==this.type||u.parentOffset!==u.parent.nodeSize-2)return!1;let g=u.after();return g===void 0||s.nodeAt(g)?!1:e.commands.exitCode()}}},addInputRules(){return[pp({find:YO,type:this.type,getAttributes:e=>({language:e[1]})}),pp({find:GO,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Kn({key:new Li("codeBlockVSCodeHandler"),props:{handlePaste:(e,n)=>{if(!n.clipboardData||this.editor.isActive(this.type.name))return!1;let a=n.clipboardData.getData("text/plain"),s=n.clipboardData.getData("vscode-editor-data"),u=s?JSON.parse(s):void 0,p=u?.mode;if(!a||!p)return!1;let{tr:g}=e.state;return g.replaceSelectionWith(this.type.create({language:p})),g.setSelection(Et.near(g.doc.resolve(Math.max(0,g.selection.from-2)))),g.insertText(a.replace(/\r\n?/g,`
`)),g.setMeta("paste",!0),e.dispatch(g),!0}}})]}}),Np={exports:{}};function Pp(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(n){var a=e[n];typeof a=="object"&&!Object.isFrozen(a)&&Pp(a)}),e}Np.exports=Pp,Np.exports.default=Pp;var ny=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function iy(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ja(e,...n){let a=Object.create(null);for(let s in e)a[s]=e[s];return n.forEach(function(s){for(let u in s)a[u]=s[u]}),a}var qO="</span>",ry=e=>!!e.scope||e.sublanguage&&e.language,KO=(e,{prefix:n})=>{if(e.includes(".")){let a=e.split(".");return[`${n}${a.shift()}`,...a.map((s,u)=>`${s}${"_".repeat(u+1)}`)].join(" ")}return`${n}${e}`},JO=class{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=iy(e)}openNode(e){if(!ry(e))return;let n="";e.sublanguage?n=`language-${e.language}`:n=KO(e.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(e){!ry(e)||(this.buffer+=qO)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}},oy=(e={})=>{let n={children:[]};return Object.assign(n,e),n},ay=class{constructor(){this.rootNode=oy(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let n=oy({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(a=>this._walk(e,a)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{ay._collapse(n)})))}},XO=class extends ay{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){let a=e.root;a.sublanguage=!0,a.language=n,this.add(a)}toHTML(){return new JO(this,this.options).value()}finalize(){return!0}};function $u(e){return e?typeof e=="string"?e:e.source:null}function sy(e){return Fs("(?=",e,")")}function ZO(e){return Fs("(?:",e,")*")}function QO(e){return Fs("(?:",e,")?")}function Fs(...e){return e.map(n=>$u(n)).join("")}function eI(e){let n=e[e.length-1];return typeof n=="object"&&n.constructor===Object?(e.splice(e.length-1,1),n):{}}function Bp(...e){return"("+(eI(e).capture?"":"?:")+e.map(a=>$u(a)).join("|")+")"}function ly(e){return new RegExp(e.toString()+"|").exec("").length-1}function tI(e,n){let a=e&&e.exec(n);return a&&a.index===0}var nI=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function zp(e,{joinWith:n}){let a=0;return e.map(s=>{a+=1;let u=a,p=$u(s),g="";for(;p.length>0;){let _=nI.exec(p);if(!_){g+=p;break}g+=p.substring(0,_.index),p=p.substring(_.index+_[0].length),_[0][0]==="\\"&&_[1]?g+="\\"+String(Number(_[1])+u):(g+=_[0],_[0]==="("&&a++)}return g}).map(s=>`(${s})`).join(n)}var iI=/\b\B/,uy="[a-zA-Z]\\w*",$p="[a-zA-Z_]\\w*",cy="\\b\\d+(\\.\\d+)?",dy="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",hy="\\b(0b[01]+)",rI="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",oI=(e={})=>{let n=/^#![ ]*\//;return e.binary&&(e.begin=Fs(n,/.*\b/,e.binary,/\b.*/)),Ja({scope:"meta",begin:n,end:/$/,relevance:0,"on:begin":(a,s)=>{a.index!==0&&s.ignoreMatch()}},e)},ju={begin:"\\\\[\\s\\S]",relevance:0},aI={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ju]},sI={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ju]},lI={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},kd=function(e,n,a={}){let s=Ja({scope:"comment",begin:e,end:n,contains:[]},a);s.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let u=Bp("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return s.contains.push({begin:Fs(/[ ]+/,"(",u,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),s},uI=kd("//","$"),cI=kd("/\\*","\\*/"),dI=kd("#","$"),hI={scope:"number",begin:cy,relevance:0},fI={scope:"number",begin:dy,relevance:0},pI={scope:"number",begin:hy,relevance:0},mI={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ju,{begin:/\[/,end:/\]/,relevance:0,contains:[ju]}]}]},gI={scope:"title",begin:uy,relevance:0},vI={scope:"title",begin:$p,relevance:0},bI={begin:"\\.\\s*"+$p,relevance:0},yI=function(e){return Object.assign(e,{"on:begin":(n,a)=>{a.data._beginMatch=n[1]},"on:end":(n,a)=>{a.data._beginMatch!==n[1]&&a.ignoreMatch()}})},Od=Object.freeze({__proto__:null,MATCH_NOTHING_RE:iI,IDENT_RE:uy,UNDERSCORE_IDENT_RE:$p,NUMBER_RE:cy,C_NUMBER_RE:dy,BINARY_NUMBER_RE:hy,RE_STARTERS_RE:rI,SHEBANG:oI,BACKSLASH_ESCAPE:ju,APOS_STRING_MODE:aI,QUOTE_STRING_MODE:sI,PHRASAL_WORDS_MODE:lI,COMMENT:kd,C_LINE_COMMENT_MODE:uI,C_BLOCK_COMMENT_MODE:cI,HASH_COMMENT_MODE:dI,NUMBER_MODE:hI,C_NUMBER_MODE:fI,BINARY_NUMBER_MODE:pI,REGEXP_MODE:mI,TITLE_MODE:gI,UNDERSCORE_TITLE_MODE:vI,METHOD_GUARD:bI,END_SAME_AS_BEGIN:yI});function EI(e,n){e.input[e.index-1]==="."&&n.ignoreMatch()}function _I(e,n){e.className!==void 0&&(e.scope=e.className,delete e.className)}function wI(e,n){!n||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=EI,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function AI(e,n){!Array.isArray(e.illegal)||(e.illegal=Bp(...e.illegal))}function DI(e,n){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function xI(e,n){e.relevance===void 0&&(e.relevance=1)}var SI=(e,n)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");let a=Object.assign({},e);Object.keys(e).forEach(s=>{delete e[s]}),e.keywords=a.keywords,e.begin=Fs(a.beforeMatch,sy(a.begin)),e.starts={relevance:0,contains:[Object.assign(a,{endsParent:!0})]},e.relevance=0,delete a.beforeMatch},TI=["of","and","for","in","not","or","if","then","parent","list","value"],CI="keyword";function fy(e,n,a=CI){let s=Object.create(null);return typeof e=="string"?u(a,e.split(" ")):Array.isArray(e)?u(a,e):Object.keys(e).forEach(function(p){Object.assign(s,fy(e[p],n,p))}),s;function u(p,g){n&&(g=g.map(_=>_.toLowerCase())),g.forEach(function(_){let x=_.split("|");s[x[0]]=[p,MI(x[0],x[1])]})}}function MI(e,n){return n?Number(n):kI(e)?0:1}function kI(e){return TI.includes(e.toLowerCase())}var py={},Ns=e=>{console.error(e)},my=(e,...n)=>{console.log(`WARN: ${e}`,...n)},Ml=(e,n)=>{py[`${e}/${n}`]||(console.log(`Deprecated as of ${e}. ${n}`),py[`${e}/${n}`]=!0)},Id=new Error;function gy(e,n,{key:a}){let s=0,u=e[a],p={},g={};for(let _=1;_<=n.length;_++)g[_+s]=u[_],p[_+s]=!0,s+=ly(n[_-1]);e[a]=g,e[a]._emit=p,e[a]._multi=!0}function OI(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Ns("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Id;if(typeof e.beginScope!="object"||e.beginScope===null)throw Ns("beginScope must be object"),Id;gy(e,e.begin,{key:"beginScope"}),e.begin=zp(e.begin,{joinWith:""})}}function II(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Ns("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Id;if(typeof e.endScope!="object"||e.endScope===null)throw Ns("endScope must be object"),Id;gy(e,e.end,{key:"endScope"}),e.end=zp(e.end,{joinWith:""})}}function RI(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function LI(e){RI(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),OI(e),II(e)}function FI(e){function n(g,_){return new RegExp($u(g),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(_?"g":""))}class a{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(_,x){x.position=this.position++,this.matchIndexes[this.matchAt]=x,this.regexes.push([x,_]),this.matchAt+=ly(_)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let _=this.regexes.map(x=>x[1]);this.matcherRe=n(zp(_,{joinWith:"|"}),!0),this.lastIndex=0}exec(_){this.matcherRe.lastIndex=this.lastIndex;let x=this.matcherRe.exec(_);if(!x)return null;let O=x.findIndex((H,U)=>U>0&&H!==void 0),L=this.matchIndexes[O];return x.splice(0,O),Object.assign(x,L)}}class s{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(_){if(this.multiRegexes[_])return this.multiRegexes[_];let x=new a;return this.rules.slice(_).forEach(([O,L])=>x.addRule(O,L)),x.compile(),this.multiRegexes[_]=x,x}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(_,x){this.rules.push([_,x]),x.type==="begin"&&this.count++}exec(_){let x=this.getMatcher(this.regexIndex);x.lastIndex=this.lastIndex;let O=x.exec(_);if(this.resumingScanAtSamePosition()&&!(O&&O.index===this.lastIndex)){let L=this.getMatcher(0);L.lastIndex=this.lastIndex+1,O=L.exec(_)}return O&&(this.regexIndex+=O.position+1,this.regexIndex===this.count&&this.considerAll()),O}}function u(g){let _=new s;return g.contains.forEach(x=>_.addRule(x.begin,{rule:x,type:"begin"})),g.terminatorEnd&&_.addRule(g.terminatorEnd,{type:"end"}),g.illegal&&_.addRule(g.illegal,{type:"illegal"}),_}function p(g,_){let x=g;if(g.isCompiled)return x;[_I,DI,LI,SI].forEach(L=>L(g,_)),e.compilerExtensions.forEach(L=>L(g,_)),g.__beforeBegin=null,[wI,AI,xI].forEach(L=>L(g,_)),g.isCompiled=!0;let O=null;return typeof g.keywords=="object"&&g.keywords.$pattern&&(g.keywords=Object.assign({},g.keywords),O=g.keywords.$pattern,delete g.keywords.$pattern),O=O||/\w+/,g.keywords&&(g.keywords=fy(g.keywords,e.case_insensitive)),x.keywordPatternRe=n(O,!0),_&&(g.begin||(g.begin=/\B|\b/),x.beginRe=n(x.begin),!g.end&&!g.endsWithParent&&(g.end=/\B|\b/),g.end&&(x.endRe=n(x.end)),x.terminatorEnd=$u(x.end)||"",g.endsWithParent&&_.terminatorEnd&&(x.terminatorEnd+=(g.end?"|":"")+_.terminatorEnd)),g.illegal&&(x.illegalRe=n(g.illegal)),g.contains||(g.contains=[]),g.contains=[].concat(...g.contains.map(function(L){return NI(L==="self"?g:L)})),g.contains.forEach(function(L){p(L,x)}),g.starts&&p(g.starts,_),x.matcher=u(x),x}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Ja(e.classNameAliases||{}),p(e)}function vy(e){return e?e.endsWithParent||vy(e.starts):!1}function NI(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(n){return Ja(e,{variants:null},n)})),e.cachedVariants?e.cachedVariants:vy(e)?Ja(e,{starts:e.starts?Ja(e.starts):null}):Object.isFrozen(e)?Ja(e):e}var PI="11.6.0",BI=class extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}},jp=iy,by=Ja,yy=Symbol("nomatch"),zI=7,$I=function(e){let n=Object.create(null),a=Object.create(null),s=[],u=!0,p="Could not find the language '{}', did you forget to load/include a language module?",g={disableAutodetect:!0,name:"Plain text",contains:[]},_={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:XO};function x(Re){return _.noHighlightRe.test(Re)}function O(Re){let je=Re.className+" ";je+=Re.parentNode?Re.parentNode.className:"";let vt=_.languageDetectRe.exec(je);if(vt){let bt=tn(vt[1]);return bt||(my(p.replace("{}",vt[1])),my("Falling back to no-highlight mode for this block.",Re)),bt?vt[1]:"no-highlight"}return je.split(/\s+/).find(bt=>x(bt)||tn(bt))}function L(Re,je,vt){let bt="",Pt="";typeof je=="object"?(bt=Re,vt=je.ignoreIllegals,Pt=je.language):(Ml("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ml("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Pt=Re,bt=je),vt===void 0&&(vt=!0);let Tn={code:bt,language:Pt};Ui("before:highlight",Tn);let qr=Tn.result?Tn.result:H(Tn.language,Tn.code,vt);return qr.code=Tn.code,Ui("after:highlight",qr),qr}function H(Re,je,vt,bt){let Pt=Object.create(null);function Tn(nt,yt){return nt.keywords[yt]}function qr(){if(!Ht.keywords){_i.addText(Bn);return}let nt=0;Ht.keywordPatternRe.lastIndex=0;let yt=Ht.keywordPatternRe.exec(Bn),$t="";for(;yt;){$t+=Bn.substring(nt,yt.index);let wn=Qo.case_insensitive?yt[0].toLowerCase():yt[0],ni=Tn(Ht,wn);if(ni){let[Lr,Hd]=ni;if(_i.addText($t),$t="",Pt[wn]=(Pt[wn]||0)+1,Pt[wn]<=zI&&(Nl+=Hd),Lr.startsWith("_"))$t+=yt[0];else{let Wp=Qo.classNameAliases[Lr]||Lr;_i.addKeyword(yt[0],Wp)}}else $t+=yt[0];nt=Ht.keywordPatternRe.lastIndex,yt=Ht.keywordPatternRe.exec(Bn)}$t+=Bn.substring(nt),_i.addText($t)}function Xa(){if(Bn==="")return;let nt=null;if(typeof Ht.subLanguage=="string"){if(!n[Ht.subLanguage]){_i.addText(Bn);return}nt=H(Ht.subLanguage,Bn,!0,jd[Ht.subLanguage]),jd[Ht.subLanguage]=nt._top}else nt=W(Bn,Ht.subLanguage.length?Ht.subLanguage:null);Ht.relevance>0&&(Nl+=nt.relevance),_i.addSublanguage(nt._emitter,nt.language)}function Yi(){Ht.subLanguage!=null?Xa():qr(),Bn=""}function ho(nt,yt){let $t=1,wn=yt.length-1;for(;$t<=wn;){if(!nt._emit[$t]){$t++;continue}let ni=Qo.classNameAliases[nt[$t]]||nt[$t],Lr=yt[$t];ni?_i.addKeyword(Lr,ni):(Bn=Lr,qr(),Bn=""),$t++}}function Il(nt,yt){return nt.scope&&typeof nt.scope=="string"&&_i.openNode(Qo.classNameAliases[nt.scope]||nt.scope),nt.beginScope&&(nt.beginScope._wrap?(_i.addKeyword(Bn,Qo.classNameAliases[nt.beginScope._wrap]||nt.beginScope._wrap),Bn=""):nt.beginScope._multi&&(ho(nt.beginScope,yt),Bn="")),Ht=Object.create(nt,{parent:{value:Ht}}),Ht}function Rl(nt,yt,$t){let wn=tI(nt.endRe,$t);if(wn){if(nt["on:end"]){let ni=new ny(nt);nt["on:end"](yt,ni),ni.isMatchIgnored&&(wn=!1)}if(wn){for(;nt.endsParent&&nt.parent;)nt=nt.parent;return nt}}if(nt.endsWithParent)return Rl(nt.parent,yt,$t)}function Vu(nt){return Ht.matcher.regexIndex===0?(Bn+=nt[0],1):(Yu=!0,0)}function Pn(nt){let yt=nt[0],$t=nt.rule,wn=new ny($t),ni=[$t.__beforeBegin,$t["on:begin"]];for(let Lr of ni)if(Lr&&(Lr(nt,wn),wn.isMatchIgnored))return Vu(yt);return $t.skip?Bn+=yt:($t.excludeBegin&&(Bn+=yt),Yi(),!$t.returnBegin&&!$t.excludeBegin&&(Bn=yt)),Il($t,nt),$t.returnBegin?0:yt.length}function Ll(nt){let yt=nt[0],$t=je.substring(nt.index),wn=Rl(Ht,nt,$t);if(!wn)return yy;let ni=Ht;Ht.endScope&&Ht.endScope._wrap?(Yi(),_i.addKeyword(yt,Ht.endScope._wrap)):Ht.endScope&&Ht.endScope._multi?(Yi(),ho(Ht.endScope,nt)):ni.skip?Bn+=yt:(ni.returnEnd||ni.excludeEnd||(Bn+=yt),Yi(),ni.excludeEnd&&(Bn=yt));do Ht.scope&&_i.closeNode(),!Ht.skip&&!Ht.subLanguage&&(Nl+=Ht.relevance),Ht=Ht.parent;while(Ht!==wn.parent);return wn.starts&&Il(wn.starts,nt),ni.returnEnd?0:yt.length}function Fl(){let nt=[];for(let yt=Ht;yt!==Qo;yt=yt.parent)yt.scope&&nt.unshift(yt.scope);nt.forEach(yt=>_i.openNode(yt))}let Za={};function Bs(nt,yt){let $t=yt&&yt[0];if(Bn+=nt,$t==null)return Yi(),0;if(Za.type==="begin"&&yt.type==="end"&&Za.index===yt.index&&$t===""){if(Bn+=je.slice(yt.index,yt.index+1),!u){let wn=new Error(`0 width match regex (${Re})`);throw wn.languageName=Re,wn.badRule=Za.rule,wn}return 1}if(Za=yt,yt.type==="begin")return Pn(yt);if(yt.type==="illegal"&&!vt){let wn=new Error('Illegal lexeme "'+$t+'" for mode "'+(Ht.scope||"<unnamed>")+'"');throw wn.mode=Ht,wn}else if(yt.type==="end"){let wn=Ll(yt);if(wn!==yy)return wn}if(yt.type==="illegal"&&$t==="")return 1;if(Pl>1e5&&Pl>yt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Bn+=$t,$t.length}let Qo=tn(Re);if(!Qo)throw Ns(p.replace("{}",Re)),new Error('Unknown language: "'+Re+'"');let Gp=FI(Qo),Uu="",Ht=bt||Gp,jd={},_i=new _.__emitter(_);Fl();let Bn="",Nl=0,Ea=0,Pl=0,Yu=!1;try{for(Ht.matcher.considerAll();;){Pl++,Yu?Yu=!1:Ht.matcher.considerAll(),Ht.matcher.lastIndex=Ea;let nt=Ht.matcher.exec(je);if(!nt)break;let yt=je.substring(Ea,nt.index),$t=Bs(yt,nt);Ea=nt.index+$t}return Bs(je.substring(Ea)),_i.closeAllNodes(),_i.finalize(),Uu=_i.toHTML(),{language:Re,value:Uu,relevance:Nl,illegal:!1,_emitter:_i,_top:Ht}}catch(nt){if(nt.message&&nt.message.includes("Illegal"))return{language:Re,value:jp(je),illegal:!0,relevance:0,_illegalBy:{message:nt.message,index:Ea,context:je.slice(Ea-100,Ea+100),mode:nt.mode,resultSoFar:Uu},_emitter:_i};if(u)return{language:Re,value:jp(je),illegal:!1,relevance:0,errorRaised:nt,_emitter:_i,_top:Ht};throw nt}}function U(Re){let je={value:jp(Re),illegal:!1,relevance:0,_top:g,_emitter:new _.__emitter(_)};return je._emitter.addText(Re),je}function W(Re,je){je=je||_.languages||Object.keys(n);let vt=U(Re),bt=je.filter(tn).filter(Ni).map(Yi=>H(Yi,Re,!1));bt.unshift(vt);let Pt=bt.sort((Yi,ho)=>{if(Yi.relevance!==ho.relevance)return ho.relevance-Yi.relevance;if(Yi.language&&ho.language){if(tn(Yi.language).supersetOf===ho.language)return 1;if(tn(ho.language).supersetOf===Yi.language)return-1}return 0}),[Tn,qr]=Pt,Xa=Tn;return Xa.secondBest=qr,Xa}function K(Re,je,vt){let bt=je&&a[je]||vt;Re.classList.add("hljs"),Re.classList.add(`language-${bt}`)}function te(Re){let je=null,vt=O(Re);if(x(vt))return;if(Ui("before:highlightElement",{el:Re,language:vt}),Re.children.length>0&&(_.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(Re)),_.throwUnescapedHTML))throw new BI("One of your code blocks includes unescaped HTML.",Re.innerHTML);je=Re;let bt=je.textContent,Pt=vt?L(bt,{language:vt,ignoreIllegals:!0}):W(bt);Re.innerHTML=Pt.value,K(Re,vt,Pt.language),Re.result={language:Pt.language,re:Pt.relevance,relevance:Pt.relevance},Pt.secondBest&&(Re.secondBest={language:Pt.secondBest.language,relevance:Pt.secondBest.relevance}),Ui("after:highlightElement",{el:Re,result:Pt,text:bt})}function oe(Re){_=by(_,Re)}let ge=()=>{at(),Ml("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function xe(){at(),Ml("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Le=!1;function at(){if(document.readyState==="loading"){Le=!0;return}document.querySelectorAll(_.cssSelector).forEach(te)}function ft(){Le&&at()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",ft,!1);function Yt(Re,je){let vt=null;try{vt=je(e)}catch(bt){if(Ns("Language definition for '{}' could not be registered.".replace("{}",Re)),u)Ns(bt);else throw bt;vt=g}vt.name||(vt.name=Re),n[Re]=vt,vt.rawDefinition=je.bind(null,e),vt.aliases&&ti(vt.aliases,{languageName:Re})}function Ct(Re){delete n[Re];for(let je of Object.keys(a))a[je]===Re&&delete a[je]}function rt(){return Object.keys(n)}function tn(Re){return Re=(Re||"").toLowerCase(),n[Re]||n[a[Re]]}function ti(Re,{languageName:je}){typeof Re=="string"&&(Re=[Re]),Re.forEach(vt=>{a[vt.toLowerCase()]=je})}function Ni(Re){let je=tn(Re);return je&&!je.disableAutodetect}function Pi(Re){Re["before:highlightBlock"]&&!Re["before:highlightElement"]&&(Re["before:highlightElement"]=je=>{Re["before:highlightBlock"](Object.assign({block:je.el},je))}),Re["after:highlightBlock"]&&!Re["after:highlightElement"]&&(Re["after:highlightElement"]=je=>{Re["after:highlightBlock"](Object.assign({block:je.el},je))})}function Nn(Re){Pi(Re),s.push(Re)}function Ui(Re,je){let vt=Re;s.forEach(function(bt){bt[vt]&&bt[vt](je)})}function Ei(Re){return Ml("10.7.0","highlightBlock will be removed entirely in v12.0"),Ml("10.7.0","Please use highlightElement now."),te(Re)}Object.assign(e,{highlight:L,highlightAuto:W,highlightAll:at,highlightElement:te,highlightBlock:Ei,configure:oe,initHighlighting:ge,initHighlightingOnLoad:xe,registerLanguage:Yt,unregisterLanguage:Ct,listLanguages:rt,getLanguage:tn,registerAliases:ti,autoDetection:Ni,inherit:by,addPlugin:Nn}),e.debugMode=function(){u=!1},e.safeMode=function(){u=!0},e.versionString=PI,e.regex={concat:Fs,lookahead:sy,either:Bp,optional:QO,anyNumberOfTimes:ZO};for(let Re in Od)typeof Od[Re]=="object"&&Np.exports(Od[Re]);return Object.assign(e,Od),e},Hu=$I({}),jI=Hu;Hu.HighlightJS=Hu,Hu.default=Hu;var HI=jI;function Ey(e,n=[]){return e.map(a=>{let s=[...n,...a.properties?a.properties.className:[]];return a.children?Ey(a.children,s):{text:a.value,classes:s}}).flat()}function _y(e){return e.value||e.children||[]}function VI(e){return Boolean(HI.getLanguage(e))}function wy({doc:e,name:n,lowlight:a,defaultLanguage:s}){let u=[];return Mu(e,p=>p.type.name===n).forEach(p=>{let g=p.pos+1,_=p.node.attrs.language||s,x=a.listLanguages(),O=_&&(x.includes(_)||VI(_))?_y(a.highlight(_,p.node.textContent)):_y(a.highlightAuto(p.node.textContent));Ey(O).forEach(L=>{let H=g+L.text.length;if(L.classes.length){let U=Or.inline(g,H,{class:L.classes.join(" ")});u.push(U)}g=H})}),Fi.create(e,u)}function UI(e){return typeof e=="function"}function YI({name:e,lowlight:n,defaultLanguage:a}){if(!["highlight","highlightAuto","listLanguages"].every(u=>UI(n[u])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");let s=new Kn({key:new Li("lowlight"),state:{init:(u,{doc:p})=>wy({doc:p,name:e,lowlight:n,defaultLanguage:a}),apply:(u,p,g,_)=>{let x=g.selection.$head.parent.type.name,O=_.selection.$head.parent.type.name,L=Mu(g.doc,U=>U.type.name===e),H=Mu(_.doc,U=>U.type.name===e);return u.docChanged&&([x,O].includes(e)||H.length!==L.length||u.steps.some(U=>U.from!==void 0&&U.to!==void 0&&L.some(W=>W.pos>=U.from&&W.pos+W.node.nodeSize<=U.to)))?wy({doc:u.doc,name:e,lowlight:n,defaultLanguage:a}):p.map(u.mapping,u.doc)}},props:{decorations(u){return s.getState(u)}}});return s}var GI=WO.extend({addOptions(){var e;return{...(e=this.parent)===null||e===void 0?void 0:e.call(this),lowlight:{},defaultLanguage:null}},addProseMirrorPlugins(){var e;return[...((e=this.parent)===null||e===void 0?void 0:e.call(this))||[],YI({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),WI=GI.extend({addKeyboardShortcuts(){return{...this.parent?.(),ArrowDown:()=>{let e=this.editor.state,{from:n,to:a}=e.selection;if(n>1&&n===a){let s=!1;e.doc.nodesBetween(n-1,a-1,p=>{p.type.name==="codeBlock"&&(s=!0)});let u=!0;if(e.doc.nodesBetween(n+1,a+1,p=>{p&&(u=!1)}),s&&u)return this.editor.commands.setHardBreak()}return!1}}}});function qI(e){let n=e.regex,a=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",u="[a-zA-Z_]\\w*::",p="<[^<>]+>",g="(?!struct)("+s+"|"+n.optional(u)+"[a-zA-Z_]\\w*"+n.optional(p)+")",_={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},x="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",O={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+x+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},L={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},H={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(O,{className:"string"}),{className:"string",begin:/<.*?>/},a,e.C_BLOCK_COMMENT_MODE]},U={className:"title",begin:n.optional(u)+e.IDENT_RE,relevance:0},W=n.optional(u)+e.IDENT_RE+"\\s*\\(",K=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],te=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],oe=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],ge=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],xe={type:te,keyword:K,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:oe},Le={className:"function.dispatch",relevance:0,keywords:{_hint:ge},begin:n.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,n.lookahead(/(<[^<>]+>|)\s*\(/))},at=[Le,H,_,a,e.C_BLOCK_COMMENT_MODE,L,O],ft={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:xe,contains:at.concat([{begin:/\(/,end:/\)/,keywords:xe,contains:at.concat(["self"]),relevance:0}]),relevance:0},Yt={className:"function",begin:"("+g+"[\\*&\\s]+)+"+W,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:xe,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:xe,relevance:0},{begin:W,returnBegin:!0,contains:[U],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[O,L]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:xe,relevance:0,contains:[a,e.C_BLOCK_COMMENT_MODE,O,L,_,{begin:/\(/,end:/\)/,keywords:xe,relevance:0,contains:["self",a,e.C_BLOCK_COMMENT_MODE,O,L,_]}]},_,a,e.C_BLOCK_COMMENT_MODE,H]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:xe,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(ft,Yt,Le,at,[H,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:xe,contains:["self",_]},{begin:e.IDENT_RE+"::",keywords:xe},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function KI(e){let n={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},a=qI(e),s=a.keywords;return s.type=[...s.type,...n.type],s.literal=[...s.literal,...n.literal],s.built_in=[...s.built_in,...n.built_in],s._hints=n._hints,a.name="Arduino",a.aliases=["ino"],a.supersetOf="cpp",a}function JI(e){let n=e.regex,a={},s={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[a]}]};Object.assign(a,{className:"variable",variants:[{begin:n.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},s]});let u={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},p={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},g={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,a,u]};u.contains.push(g);let _={className:"",begin:/\\"/},x={className:"string",begin:/'/,end:/'/},O={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,a]},L=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],H=e.SHEBANG({binary:`(${L.join("|")})`,relevance:10}),U={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},W=["if","then","else","elif","fi","for","while","in","do","done","case","esac","function"],K=["true","false"],te={match:/(\/[a-z._-]+)+/},oe=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],ge=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],xe=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],Le=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:W,literal:K,built_in:[...oe,...ge,"set","shopt",...xe,...Le]},contains:[H,e.SHEBANG(),U,O,e.HASH_COMMENT_MODE,p,te,g,_,x,a]}}function XI(e){let n=e.regex,a=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",u="[a-zA-Z_]\\w*::",p="<[^<>]+>",g="("+s+"|"+n.optional(u)+"[a-zA-Z_]\\w*"+n.optional(p)+")",_={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},x="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",O={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+x+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},L={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},H={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(O,{className:"string"}),{className:"string",begin:/<.*?>/},a,e.C_BLOCK_COMMENT_MODE]},U={className:"title",begin:n.optional(u)+e.IDENT_RE,relevance:0},W=n.optional(u)+e.IDENT_RE+"\\s*\\(",K={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},te=[H,_,a,e.C_BLOCK_COMMENT_MODE,L,O],oe={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:K,contains:te.concat([{begin:/\(/,end:/\)/,keywords:K,contains:te.concat(["self"]),relevance:0}]),relevance:0},ge={begin:"("+g+"[\\*&\\s]+)+"+W,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:K,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:K,relevance:0},{begin:W,returnBegin:!0,contains:[e.inherit(U,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:K,relevance:0,contains:[a,e.C_BLOCK_COMMENT_MODE,O,L,_,{begin:/\(/,end:/\)/,keywords:K,relevance:0,contains:["self",a,e.C_BLOCK_COMMENT_MODE,O,L,_]}]},_,a,e.C_BLOCK_COMMENT_MODE,H]};return{name:"C",aliases:["h"],keywords:K,disableAutodetect:!0,illegal:"</",contains:[].concat(oe,ge,te,[H,{begin:e.IDENT_RE+"::",keywords:K},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:H,strings:O,keywords:K}}}function ZI(e){let n=e.regex,a=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",u="[a-zA-Z_]\\w*::",p="<[^<>]+>",g="(?!struct)("+s+"|"+n.optional(u)+"[a-zA-Z_]\\w*"+n.optional(p)+")",_={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},x="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",O={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+x+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},L={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},H={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(O,{className:"string"}),{className:"string",begin:/<.*?>/},a,e.C_BLOCK_COMMENT_MODE]},U={className:"title",begin:n.optional(u)+e.IDENT_RE,relevance:0},W=n.optional(u)+e.IDENT_RE+"\\s*\\(",K=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],te=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],oe=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],ge=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],xe={type:te,keyword:K,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:oe},Le={className:"function.dispatch",relevance:0,keywords:{_hint:ge},begin:n.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,n.lookahead(/(<[^<>]+>|)\s*\(/))},at=[Le,H,_,a,e.C_BLOCK_COMMENT_MODE,L,O],ft={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:xe,contains:at.concat([{begin:/\(/,end:/\)/,keywords:xe,contains:at.concat(["self"]),relevance:0}]),relevance:0},Yt={className:"function",begin:"("+g+"[\\*&\\s]+)+"+W,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:xe,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:xe,relevance:0},{begin:W,returnBegin:!0,contains:[U],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[O,L]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:xe,relevance:0,contains:[a,e.C_BLOCK_COMMENT_MODE,O,L,_,{begin:/\(/,end:/\)/,keywords:xe,relevance:0,contains:["self",a,e.C_BLOCK_COMMENT_MODE,O,L,_]}]},_,a,e.C_BLOCK_COMMENT_MODE,H]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:xe,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(ft,Yt,Le,at,[H,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:xe,contains:["self",_]},{begin:e.IDENT_RE+"::",keywords:xe},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function QI(e){let n=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],a=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],s=["default","false","null","true"],u=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],p=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],g={keyword:u.concat(p),built_in:n,literal:s},_=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),x={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},O={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},L=e.inherit(O,{illegal:/\n/}),H={className:"subst",begin:/\{/,end:/\}/,keywords:g},U=e.inherit(H,{illegal:/\n/}),W={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,U]},K={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},H]},te=e.inherit(K,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},U]});H.contains=[K,W,O,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,x,e.C_BLOCK_COMMENT_MODE],U.contains=[te,W,L,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,x,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let oe={variants:[K,W,O,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},ge={begin:"<",end:">",contains:[{beginKeywords:"in out"},_]},xe=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",Le={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:g,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},oe,x,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},_,ge,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[_,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[_,ge,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+xe+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:g,contains:[{beginKeywords:a.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,ge],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:g,relevance:0,contains:[oe,x,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Le]}}var e4=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),t4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],n4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],i4=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],r4=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],o4=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function a4(e){let n=e.regex,a=e4(e),s={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},u="and or not only",p=/@-?\w[\w]*(-\w+)*/,g="[a-zA-Z-][a-zA-Z0-9_-]*",_=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[a.BLOCK_COMMENT,s,a.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+g,relevance:0},a.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+i4.join("|")+")"},{begin:":(:)?("+r4.join("|")+")"}]},a.CSS_VARIABLE,{className:"attribute",begin:"\\b("+o4.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[a.BLOCK_COMMENT,a.HEXCOLOR,a.IMPORTANT,a.CSS_NUMBER_MODE,..._,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[..._,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},a.FUNCTION_DISPATCH]},{begin:n.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:p},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:u,attribute:n4.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},..._,a.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+t4.join("|")+")\\b"}]}}function s4(e){let n=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:n.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:n.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function l4(e){let n={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:n,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:n,illegal:/["']/}]}]}}function u4(e){let n=e.regex,a=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:n.concat(a,n.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function c4(e){let n=e.regex,a={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},s=e.COMMENT();s.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];let u={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},p={className:"literal",begin:/\bon|off|true|false|yes|no\b/},g={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},_={begin:/\[/,end:/\]/,contains:[s,p,u,g,a,"self"],relevance:0},x=/[A-Za-z0-9_-]+/,O=/"(\\"|[^"])*"/,L=/'[^']*'/,H=n.either(x,O,L),U=n.concat(H,"(\\s*\\.\\s*",H,")*",n.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[s,{className:"section",begin:/\[+/,end:/\]+/},{begin:U,className:"attr",starts:{end:/$/,contains:[s,_,p,u,g,a]}}]}}var kl="[0-9](_*[0-9])*",Rd=`\\.(${kl})`,Ld="[0-9a-fA-F](_*[0-9a-fA-F])*",Ay={className:"number",variants:[{begin:`(\\b(${kl})((${Rd})|\\.)?|(${Rd}))[eE][+-]?(${kl})[fFdD]?\\b`},{begin:`\\b(${kl})((${Rd})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Rd})[fFdD]?\\b`},{begin:`\\b(${kl})[fFdD]\\b`},{begin:`\\b0[xX]((${Ld})\\.?|(${Ld})?\\.(${Ld}))[pP][+-]?(${kl})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Ld})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Dy(e,n,a){return a===-1?"":e.replace(n,s=>Dy(e,n,a-1))}function d4(e){let n=e.regex,a="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",s=a+Dy("(?:<"+a+"~~~(?:\\s*,\\s*"+a+"~~~)*>)?",/~~~/g,2),u={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},p={className:"meta",begin:"@"+a,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},g={className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:u,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,a],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[n.concat(/(?!else)/,a),/\s+/,a,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,a],className:{1:"keyword",3:"title.class"},contains:[g,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+s+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:u,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Ay,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Ay,p]}}var xy="[A-Za-z$_][0-9A-Za-z$_]*",h4=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],f4=["true","false","null","undefined","NaN","Infinity"],Sy=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ty=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Cy=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],p4=["arguments","this","super","console","window","document","localStorage","module","global"],m4=[].concat(Cy,Sy,Ty);function g4(e){let n=e.regex,a=(je,{after:vt})=>{let bt="</"+je[0].slice(1);return je.input.indexOf(bt,vt)!==-1},s=xy,u={begin:"<>",end:"</>"},p=/<[A-Za-z0-9\\._:-]+\s*\/>/,g={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(je,vt)=>{let bt=je[0].length+je.index,Pt=je.input[bt];if(Pt==="<"||Pt===","){vt.ignoreMatch();return}Pt===">"&&(a(je,{after:bt})||vt.ignoreMatch());let Tn;if((Tn=je.input.substring(bt).match(/^\s+extends\s+/))&&Tn.index===0){vt.ignoreMatch();return}}},_={$pattern:xy,keyword:h4,literal:f4,built_in:m4,"variable.language":p4},x="[0-9](_?[0-9])*",O=`\\.(${x})`,L="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",H={className:"number",variants:[{begin:`(\\b(${L})((${O})|\\.)?|(${O}))[eE][+-]?(${x})\\b`},{begin:`\\b(${L})\\b((${O})\\b|\\.)?|(${O})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},U={className:"subst",begin:"\\$\\{",end:"\\}",keywords:_,contains:[]},W={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,U],subLanguage:"xml"}},K={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,U],subLanguage:"css"}},te={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,U]},oe=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),ge={className:"comment",variants:[oe,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},xe=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,W,K,te,H];U.contains=xe.concat({begin:/\{/,end:/\}/,keywords:_,contains:["self"].concat(xe)});let Le=[].concat(ge,U.contains),at=Le.concat([{begin:/\(/,end:/\)/,keywords:_,contains:["self"].concat(Le)}]),ft={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:_,contains:at},Yt={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,n.concat(s,"(",n.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},Ct={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Sy,...Ty]}},rt={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},tn={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[ft],illegal:/%/},ti={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Ni(je){return n.concat("(?!",je.join("|"),")")}let Pi={match:n.concat(/\b/,Ni([...Cy,"super"]),s,n.lookahead(/\(/)),className:"title.function",relevance:0},Nn={begin:n.concat(/\./,n.lookahead(n.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Ui={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},ft]},Ei="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Re={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(Ei)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[ft]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:_,exports:{PARAMS_CONTAINS:at,CLASS_REFERENCE:Ct},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),rt,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,W,K,te,ge,H,Ct,{className:"attr",begin:s+n.lookahead(":"),relevance:0},Re,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[ge,e.REGEXP_MODE,{className:"function",begin:Ei,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:_,contains:at}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:u.begin,end:u.end},{match:p},{begin:g.begin,"on:begin":g.isTrulyOpeningTag,end:g.end}],subLanguage:"xml",contains:[{begin:g.begin,end:g.end,skip:!0,contains:["self"]}]}]},tn,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[ft,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},Nn,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[ft]},Pi,ti,Yt,Ui,{match:/\$[(.]/}]}}function v4(e){let n={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},a={match:/[{}[\],:]/,className:"punctuation",relevance:0},s=["true","false","null"],u={scope:"literal",beginKeywords:s.join(" ")};return{name:"JSON",keywords:{literal:s},contains:[n,a,e.QUOTE_STRING_MODE,u,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Ol="[0-9](_*[0-9])*",Fd=`\\.(${Ol})`,Nd="[0-9a-fA-F](_*[0-9a-fA-F])*",b4={className:"number",variants:[{begin:`(\\b(${Ol})((${Fd})|\\.)?|(${Fd}))[eE][+-]?(${Ol})[fFdD]?\\b`},{begin:`\\b(${Ol})((${Fd})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Fd})[fFdD]?\\b`},{begin:`\\b(${Ol})[fFdD]\\b`},{begin:`\\b0[xX]((${Nd})\\.?|(${Nd})?\\.(${Nd}))[pP][+-]?(${Ol})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Nd})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function y4(e){let n={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},a={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},s={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},u={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},p={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},g={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[p,u]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,p,u]}]};u.contains.push(g);let _={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},x={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(g,{className:"string"}),"self"]}]},O=b4,L=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),H={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},U=H;return U.variants[1].contains=[H],H.variants[1].contains=[U],{name:"Kotlin",aliases:["kt","kts"],keywords:n,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,L,a,s,_,x,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:n,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:n,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[H,e.C_LINE_COMMENT_MODE,L],relevance:0},e.C_LINE_COMMENT_MODE,L,_,x,g,e.C_NUMBER_MODE]},L]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},_,x]},g,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},O]}}var E4=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),_4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],w4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],My=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],ky=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],A4=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),D4=My.concat(ky);function x4(e){let n=E4(e),a=D4,s="and or not only",u="[\\w-]+",p="("+u+"|@\\{"+u+"\\})",g=[],_=[],x=function(Le){return{className:"string",begin:"~?"+Le+".*?"+Le}},O=function(Le,at,ft){return{className:Le,begin:at,relevance:ft}},L={$pattern:/[a-z-]+/,keyword:s,attribute:w4.join(" ")},H={begin:"\\(",end:"\\)",contains:_,keywords:L,relevance:0};_.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,x("'"),x('"'),n.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},n.HEXCOLOR,H,O("variable","@@?"+u,10),O("variable","@\\{"+u+"\\}"),O("built_in","~?`[^`]*?`"),{className:"attribute",begin:u+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},n.IMPORTANT,{beginKeywords:"and not"},n.FUNCTION_DISPATCH);let U=_.concat({begin:/\{/,end:/\}/,contains:g}),W={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(_)},K={begin:p+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+A4.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:_}}]},te={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:L,returnEnd:!0,contains:_,relevance:0}},oe={className:"variable",variants:[{begin:"@"+u+"\\s*:",relevance:15},{begin:"@"+u}],starts:{end:"[;}]",returnEnd:!0,contains:U}},ge={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:p,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,W,O("keyword","all\\b"),O("variable","@\\{"+u+"\\}"),{begin:"\\b("+_4.join("|")+")\\b",className:"selector-tag"},n.CSS_NUMBER_MODE,O("selector-tag",p,0),O("selector-id","#"+p),O("selector-class","\\."+p,0),O("selector-tag","&",0),n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+My.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+ky.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:U},{begin:"!important"},n.FUNCTION_DISPATCH]},xe={begin:u+`:(:)?(${a.join("|")})`,returnBegin:!0,contains:[ge]};return g.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,te,oe,xe,K,ge,W,n.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:g}}function S4(e){let n="\\[=*\\[",a="\\]=*\\]",s={begin:n,end:a,contains:["self"]},u=[e.COMMENT("--(?!"+n+")","$"),e.COMMENT("--"+n,a,{contains:[s],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:u.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:u}].concat(u)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:n,end:a,contains:[s],relevance:5}])}}function T4(e){let n={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},a={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n]},s={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[n]},u={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},p={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},g={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[n]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,n,a,s,u,p,g]}}function C4(e){let n=e.regex,a={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},s={begin:"^[-\\*]{3,}",end:"$"},u={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},p={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},g={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},_=/[A-Za-z][A-Za-z0-9+.-]*/,x={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:n.concat(/\[.+?\]\(/,_,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},O={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},L={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]},H=e.inherit(O,{contains:[]}),U=e.inherit(L,{contains:[]});O.contains.push(U),L.contains.push(H);let W=[a,x];return[O,L,H,U].forEach(K=>{K.contains=K.contains.concat(W)}),W=W.concat(O,L),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:W},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:W}]}]},a,p,O,L,{className:"quote",begin:"^>\\s+",contains:W,end:"$"},u,s,x,g]}}function M4(e){let n={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},a=/[a-zA-Z@][a-zA-Z0-9_]*/,s={"variable.language":["this","super"],$pattern:a,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},u={$pattern:a,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:s,illegal:"</",contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+u.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:u,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function k4(e){let n=e.regex,a=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],s=/[dualxmsipngr]{0,12}/,u={$pattern:/[\w.]+/,keyword:a.join(" ")},p={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:u},g={begin:/->\{/,end:/\}/},_={variants:[{begin:/\$\d/},{begin:n.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},x=[e.BACKSLASH_ESCAPE,p,_],O=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],L=(W,K,te="\\1")=>{let oe=te==="\\1"?te:n.concat(te,K);return n.concat(n.concat("(?:",W,")"),K,/(?:\\.|[^\\\/])*?/,oe,/(?:\\.|[^\\\/])*?/,te,s)},H=(W,K,te)=>n.concat(n.concat("(?:",W,")"),K,/(?:\\.|[^\\\/])*?/,te,s),U=[_,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),g,{className:"string",contains:x,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:L("s|tr|y",n.either(...O,{capture:!0}))},{begin:L("s|tr|y","\\(","\\)")},{begin:L("s|tr|y","\\[","\\]")},{begin:L("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:H("(?:m|qr)?",/\//,/\//)},{begin:H("m|qr",n.either(...O,{capture:!0}),/\1/)},{begin:H("m|qr",/\(/,/\)/)},{begin:H("m|qr",/\[/,/\]/)},{begin:H("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return p.contains=U,g.contains=U,{name:"Perl",aliases:["pl","pm"],keywords:u,contains:U}}function O4(e){let n=e.regex,a=/(?![A-Za-z0-9])(?![$])/,s=n.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,a),u=n.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,a),p={scope:"variable",match:"\\$+"+s},g={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},_={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},x=e.inherit(e.APOS_STRING_MODE,{illegal:null}),O=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(_)}),L=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(_)}),H=`[ 	
]`,U={scope:"string",variants:[O,x,L]},W={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},K=["false","null","true"],te=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],oe=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],ge={keyword:te,literal:(Ni=>{let Pi=[];return Ni.forEach(Nn=>{Pi.push(Nn),Nn.toLowerCase()===Nn?Pi.push(Nn.toUpperCase()):Pi.push(Nn.toLowerCase())}),Pi})(K),built_in:oe},xe=Ni=>Ni.map(Pi=>Pi.replace(/\|\d+$/,"")),Le={variants:[{match:[/new/,n.concat(H,"+"),n.concat("(?!",xe(oe).join("\\b|"),"\\b)"),u],scope:{1:"keyword",4:"title.class"}}]},at=n.concat(s,"\\b(?!\\()"),ft={variants:[{match:[n.concat(/::/,n.lookahead(/(?!class\b)/)),at],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[u,n.concat(/::/,n.lookahead(/(?!class\b)/)),at],scope:{1:"title.class",3:"variable.constant"}},{match:[u,n.concat("::",n.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[u,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},Yt={scope:"attr",match:n.concat(s,n.lookahead(":"),n.lookahead(/(?!::)/))},Ct={relevance:0,begin:/\(/,end:/\)/,keywords:ge,contains:[Yt,p,ft,e.C_BLOCK_COMMENT_MODE,U,W,Le]},rt={relevance:0,match:[/\b/,n.concat("(?!fn\\b|function\\b|",xe(te).join("\\b|"),"|",xe(oe).join("\\b|"),"\\b)"),s,n.concat(H,"*"),n.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Ct]};Ct.contains.push(rt);let tn=[Yt,ft,e.C_BLOCK_COMMENT_MODE,U,W,Le],ti={begin:n.concat(/#\[\s*/,u),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:K,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:K,keyword:["new","array"]},contains:["self",...tn]},...tn,{scope:"meta",match:u}]};return{case_insensitive:!1,keywords:ge,contains:[ti,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},g,{scope:"variable.language",match:/\$this\b/},p,rt,ft,{match:[/const/,/\s/,s],scope:{1:"keyword",3:"variable.constant"}},Le,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:ge,contains:["self",p,ft,e.C_BLOCK_COMMENT_MODE,U,W]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},U,W]}}function I4(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function R4(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function L4(e){let n=e.regex,a=/[\p{XID_Start}_]\p{XID_Continue}*/u,s=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],u={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:s,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},p={className:"meta",begin:/^(>>>|\.\.\.) /},g={className:"subst",begin:/\{/,end:/\}/,keywords:u,illegal:/#/},_={begin:/\{\{/,relevance:0},x={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,p],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,p],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,p,_,g]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,p,_,g]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,_,g]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,_,g]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},O="[0-9](_?[0-9])*",L=`(\\b(${O}))?\\.(${O})|\\b(${O})\\.`,H=`\\b|${s.join("|")}`,U={className:"number",relevance:0,variants:[{begin:`(\\b(${O})|(${L}))[eE][+-]?(${O})[jJ]?(?=${H})`},{begin:`(${L})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${H})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${H})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${H})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${H})`},{begin:`\\b(${O})[jJ](?=${H})`}]},W={className:"comment",begin:n.lookahead(/# type:/),end:/$/,keywords:u,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},K={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:["self",p,U,x,e.HASH_COMMENT_MODE]}]};return g.contains=[x,U,p],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:u,illegal:/(<\/|->|\?)|=>/,contains:[p,U,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},x,W,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,a],scope:{1:"keyword",3:"title.function"},contains:[K]},{variants:[{match:[/\bclass/,/\s+/,a,/\s*/,/\(\s*/,a,/\s*\)/]},{match:[/\bclass/,/\s+/,a]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[U,K,x]}]}}function F4(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function N4(e){let n=e.regex,a=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,s=n.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),u=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,p=n.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:a,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:n.lookahead(n.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:a},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[u,s]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,s]},{scope:{1:"punctuation",2:"number"},match:[p,s]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,s]}]},{scope:{3:"operator"},match:[a,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:u},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:p},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function P4(e){let n=e.regex,a="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",s=n.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),u=n.concat(s,/(::\w+)*/),p={"variable.constant":["__FILE__","__LINE__"],"variable.language":["self","super"],keyword:["alias","and","attr_accessor","attr_reader","attr_writer","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","include","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield"],built_in:["proc","lambda"],literal:["true","false","nil"]},g={className:"doctag",begin:"@[A-Za-z]+"},_={begin:"#<",end:">"},x=[e.COMMENT("#","$",{contains:[g]}),e.COMMENT("^=begin","^=end",{contains:[g],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],O={className:"subst",begin:/#\{/,end:/\}/,keywords:p},L={className:"string",contains:[e.BACKSLASH_ESCAPE,O],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:n.concat(/<<[-~]?'?/,n.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,O]})]}]},H="[1-9](_?[0-9])*|0",U="[0-9](_?[0-9])*",W={className:"number",relevance:0,variants:[{begin:`\\b(${H})(\\.(${U}))?([eE][+-]?(${U})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},K={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:p}]},te=[L,{variants:[{match:[/class\s+/,u,/\s+<\s+/,u]},{match:[/class\s+/,u]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:p},{relevance:0,match:[u,/\.new[ (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{match:[/def/,/\s+/,a],scope:{1:"keyword",3:"title.function"},contains:[K]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[L,{begin:a}],relevance:0},W,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:p},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,O],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(_,x),relevance:0}].concat(_,x);O.contains=te,K.contains=te;let oe="[>?]>",ge="[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]",xe="(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>",Le=[{begin:/^\s*=>/,starts:{end:"$",contains:te}},{className:"meta.prompt",begin:"^("+oe+"|"+ge+"|"+xe+")(?=[ ])",starts:{end:"$",keywords:p,contains:te}}];return x.unshift(_),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:p,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(Le).concat(x).concat(te)}}function B4(e){let n=e.regex,a={className:"title.function.invoke",relevance:0,begin:n.concat(/\b/,/(?!let\b)/,e.IDENT_RE,n.lookahead(/\s*\(/))},s="([ui](8|16|32|64|128|size)|f(32|64))?",u=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],p=["true","false","Some","None","Ok","Err"],g=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],_=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:_,keyword:u,literal:p,built_in:g},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+s},{begin:"\\b0o([0-7_]+)"+s},{begin:"\\b0x([A-Fa-f0-9_]+)"+s},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+s}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:g,type:_}},{className:"punctuation",begin:"->"},a]}}var z4=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),$4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],j4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],H4=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],V4=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],U4=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function Y4(e){let n=z4(e),a=V4,s=H4,u="@[a-z-]+",p="and or not only",g={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+$4.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+s.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+a.join("|")+")"},g,{begin:/\(/,end:/\)/,contains:[n.CSS_NUMBER_MODE]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+U4.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[n.BLOCK_COMMENT,g,n.HEXCOLOR,n.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n.IMPORTANT,n.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:u,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:p,attribute:j4.join(" ")},contains:[{begin:u,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},g,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n.HEXCOLOR,n.CSS_NUMBER_MODE]},n.FUNCTION_DISPATCH]}}function G4(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function W4(e){let n=e.regex,a=e.COMMENT("--","$"),s={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},u={begin:/"/,end:/"/,contains:[{begin:/""/}]},p=["true","false","unknown"],g=["double precision","large object","with timezone","without timezone"],_=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],x=["add","asc","collation","desc","final","first","last","view"],O=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],L=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],H=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],U=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],W=L,K=[...O,...x].filter(Le=>!L.includes(Le)),te={className:"variable",begin:/@[a-z0-9]+/},oe={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},ge={begin:n.concat(/\b/,n.either(...W),/\s*\(/),relevance:0,keywords:{built_in:W}};function xe(Le,{exceptions:at,when:ft}={}){let Yt=ft;return at=at||[],Le.map(Ct=>Ct.match(/\|\d+$/)||at.includes(Ct)?Ct:Yt(Ct)?`${Ct}|0`:Ct)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:xe(K,{when:Le=>Le.length<3}),literal:p,type:_,built_in:H},contains:[{begin:n.either(...U),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:K.concat(U),literal:p,type:_}},{className:"type",begin:n.either(...g)},ge,te,s,u,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,a,oe]}}function Oy(e){return e?typeof e=="string"?e:e.source:null}function Pd(e){return Hn("(?=",e,")")}function Hn(...e){return e.map(n=>Oy(n)).join("")}function q4(e){let n=e[e.length-1];return typeof n=="object"&&n.constructor===Object?(e.splice(e.length-1,1),n):{}}function Rr(...e){return"("+(q4(e).capture?"":"?:")+e.map(a=>Oy(a)).join("|")+")"}var Hp=e=>Hn(/\b/,e,/\w$/.test(e)?/\b/:/\B/),K4=["Protocol","Type"].map(Hp),Iy=["init","self"].map(Hp),J4=["Any","Self"],Vp=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Ry=["false","nil","true"],X4=["assignment","associativity","higherThan","left","lowerThan","none","right"],Z4=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],Ly=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Fy=Rr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Ny=Rr(Fy,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Up=Hn(Fy,Ny,"*"),Py=Rr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Bd=Rr(Py,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),ya=Hn(Py,Bd,"*"),Yp=Hn(/[A-Z]/,Bd,"*"),Q4=["autoclosure",Hn(/convention\(/,Rr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Hn(/objc\(/,ya,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],eR=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function tR(e){let n={match:/\s+/,relevance:0},a=e.COMMENT("/\\*","\\*/",{contains:["self"]}),s=[e.C_LINE_COMMENT_MODE,a],u={match:[/\./,Rr(...K4,...Iy)],className:{2:"keyword"}},p={match:Hn(/\./,Rr(...Vp)),relevance:0},g=Vp.filter(Pn=>typeof Pn=="string").concat(["_|0"]),_=Vp.filter(Pn=>typeof Pn!="string").concat(J4).map(Hp),x={variants:[{className:"keyword",match:Rr(..._,...Iy)}]},O={$pattern:Rr(/\b\w+/,/#\w+/),keyword:g.concat(Z4),literal:Ry},L=[u,p,x],H={match:Hn(/\./,Rr(...Ly)),relevance:0},U={className:"built_in",match:Hn(/\b/,Rr(...Ly),/(?=\()/)},W=[H,U],K={match:/->/,relevance:0},te={className:"operator",relevance:0,variants:[{match:Up},{match:`\\.(\\.|${Ny})+`}]},oe=[K,te],ge="([0-9]_*)+",xe="([0-9a-fA-F]_*)+",Le={className:"number",relevance:0,variants:[{match:`\\b(${ge})(\\.(${ge}))?([eE][+-]?(${ge}))?\\b`},{match:`\\b0x(${xe})(\\.(${xe}))?([pP][+-]?(${ge}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},at=(Pn="")=>({className:"subst",variants:[{match:Hn(/\\/,Pn,/[0\\tnr"']/)},{match:Hn(/\\/,Pn,/u\{[0-9a-fA-F]{1,8}\}/)}]}),ft=(Pn="")=>({className:"subst",match:Hn(/\\/,Pn,/[\t ]*(?:[\r\n]|\r\n)/)}),Yt=(Pn="")=>({className:"subst",label:"interpol",begin:Hn(/\\/,Pn,/\(/),end:/\)/}),Ct=(Pn="")=>({begin:Hn(Pn,/"""/),end:Hn(/"""/,Pn),contains:[at(Pn),ft(Pn),Yt(Pn)]}),rt=(Pn="")=>({begin:Hn(Pn,/"/),end:Hn(/"/,Pn),contains:[at(Pn),Yt(Pn)]}),tn={className:"string",variants:[Ct(),Ct("#"),Ct("##"),Ct("###"),rt(),rt("#"),rt("##"),rt("###")]},ti={match:Hn(/`/,ya,/`/)},Ni={className:"variable",match:/\$\d+/},Pi={className:"variable",match:`\\$${Bd}+`},Nn=[ti,Ni,Pi],Ui={match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:eR,contains:[...oe,Le,tn]}]}},Ei={className:"keyword",match:Hn(/@/,Rr(...Q4))},Re={className:"meta",match:Hn(/@/,ya)},je=[Ui,Ei,Re],vt={match:Pd(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Hn(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Bd,"+")},{className:"type",match:Yp,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Hn(/\s+&\s+/,Pd(Yp)),relevance:0}]},bt={begin:/</,end:/>/,keywords:O,contains:[...s,...L,...je,K,vt]};vt.contains.push(bt);let Pt={match:Hn(ya,/\s*:/),keywords:"_|0",relevance:0},Tn={begin:/\(/,end:/\)/,relevance:0,keywords:O,contains:["self",Pt,...s,...L,...W,...oe,Le,tn,...Nn,...je,vt]},qr={begin:/</,end:/>/,contains:[...s,vt]},Xa={begin:Rr(Pd(Hn(ya,/\s*:/)),Pd(Hn(ya,/\s+/,ya,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:ya}]},Yi={begin:/\(/,end:/\)/,keywords:O,contains:[Xa,...s,...L,...oe,Le,tn,...je,vt,Tn],endsParent:!0,illegal:/["']/},ho={match:[/func/,/\s+/,Rr(ti.match,ya,Up)],className:{1:"keyword",3:"title.function"},contains:[qr,Yi,n],illegal:[/\[/,/%/]},Il={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[qr,Yi,n],illegal:/\[|%/},Rl={match:[/operator/,/\s+/,Up],className:{1:"keyword",3:"title"}},Vu={begin:[/precedencegroup/,/\s+/,Yp],className:{1:"keyword",3:"title"},contains:[vt],keywords:[...X4,...Ry],end:/}/};for(let Pn of tn.variants){let Ll=Pn.contains.find(Za=>Za.label==="interpol");Ll.keywords=O;let Fl=[...L,...W,...oe,Le,tn,...Nn];Ll.contains=[...Fl,{begin:/\(/,end:/\)/,contains:["self",...Fl]}]}return{name:"Swift",keywords:O,contains:[...s,ho,Il,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:O,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...L]},Rl,Vu,{beginKeywords:"import",end:/$/,contains:[...s],relevance:0},...L,...W,...oe,Le,tn,...Nn,...je,vt,Tn]}}var zd="[A-Za-z$_][0-9A-Za-z$_]*",By=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],zy=["true","false","null","undefined","NaN","Infinity"],$y=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],jy=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Hy=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Vy=["arguments","this","super","console","window","document","localStorage","module","global"],Uy=[].concat(Hy,$y,jy);function nR(e){let n=e.regex,a=(je,{after:vt})=>{let bt="</"+je[0].slice(1);return je.input.indexOf(bt,vt)!==-1},s=zd,u={begin:"<>",end:"</>"},p=/<[A-Za-z0-9\\._:-]+\s*\/>/,g={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(je,vt)=>{let bt=je[0].length+je.index,Pt=je.input[bt];if(Pt==="<"||Pt===","){vt.ignoreMatch();return}Pt===">"&&(a(je,{after:bt})||vt.ignoreMatch());let Tn;if((Tn=je.input.substring(bt).match(/^\s+extends\s+/))&&Tn.index===0){vt.ignoreMatch();return}}},_={$pattern:zd,keyword:By,literal:zy,built_in:Uy,"variable.language":Vy},x="[0-9](_?[0-9])*",O=`\\.(${x})`,L="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",H={className:"number",variants:[{begin:`(\\b(${L})((${O})|\\.)?|(${O}))[eE][+-]?(${x})\\b`},{begin:`\\b(${L})\\b((${O})\\b|\\.)?|(${O})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},U={className:"subst",begin:"\\$\\{",end:"\\}",keywords:_,contains:[]},W={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,U],subLanguage:"xml"}},K={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,U],subLanguage:"css"}},te={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,U]},oe=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),ge={className:"comment",variants:[oe,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},xe=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,W,K,te,H];U.contains=xe.concat({begin:/\{/,end:/\}/,keywords:_,contains:["self"].concat(xe)});let Le=[].concat(ge,U.contains),at=Le.concat([{begin:/\(/,end:/\)/,keywords:_,contains:["self"].concat(Le)}]),ft={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:_,contains:at},Yt={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,n.concat(s,"(",n.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},Ct={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...$y,...jy]}},rt={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},tn={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[ft],illegal:/%/},ti={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Ni(je){return n.concat("(?!",je.join("|"),")")}let Pi={match:n.concat(/\b/,Ni([...Hy,"super"]),s,n.lookahead(/\(/)),className:"title.function",relevance:0},Nn={begin:n.concat(/\./,n.lookahead(n.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Ui={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},ft]},Ei="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Re={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(Ei)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[ft]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:_,exports:{PARAMS_CONTAINS:at,CLASS_REFERENCE:Ct},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),rt,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,W,K,te,ge,H,Ct,{className:"attr",begin:s+n.lookahead(":"),relevance:0},Re,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[ge,e.REGEXP_MODE,{className:"function",begin:Ei,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:_,contains:at}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:u.begin,end:u.end},{match:p},{begin:g.begin,"on:begin":g.isTrulyOpeningTag,end:g.end}],subLanguage:"xml",contains:[{begin:g.begin,end:g.end,skip:!0,contains:["self"]}]}]},tn,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[ft,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},Nn,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[ft]},Pi,ti,Yt,Ui,{match:/\$[(.]/}]}}function iR(e){let n=nR(e),a=zd,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],u={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[n.exports.CLASS_REFERENCE]},p={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[n.exports.CLASS_REFERENCE]},g={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},_=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],x={$pattern:zd,keyword:By.concat(_),literal:zy,built_in:Uy.concat(s),"variable.language":Vy},O={className:"meta",begin:"@"+a},L=(U,W,K)=>{let te=U.contains.findIndex(oe=>oe.label===W);if(te===-1)throw new Error("can not find mode to replace");U.contains.splice(te,1,K)};Object.assign(n.keywords,x),n.exports.PARAMS_CONTAINS.push(O),n.contains=n.contains.concat([O,u,p]),L(n,"shebang",e.SHEBANG()),L(n,"use_strict",g);let H=n.contains.find(U=>U.label==="func.def");return H.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx"]}),n}function rR(e){let n=e.regex,a={className:"string",begin:/"(""|[^/n])"C\b/},s={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},u=/\d{1,2}\/\d{1,2}\/\d{4}/,p=/\d{4}-\d{1,2}-\d{1,2}/,g=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,_=/\d{1,2}(:\d{1,2}){1,2}/,x={className:"literal",variants:[{begin:n.concat(/# */,n.either(p,u),/ *#/)},{begin:n.concat(/# */,_,/ *#/)},{begin:n.concat(/# */,g,/ *#/)},{begin:n.concat(/# */,n.either(p,u),/ +/,n.either(g,_),/ *#/)}]},O={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},L={className:"label",begin:/^\w+:/},H=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),U=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[a,s,x,O,L,H,U,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[U]}]}}function oR(e){e.regex;let n=e.COMMENT(/\(;/,/;\)/);n.contains.push("self");let a=e.COMMENT(/;;/,/$/),s=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],u={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},p={className:"variable",begin:/\$[\w_]+/},g={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},_={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},x={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},O={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:s},contains:[a,n,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},p,g,u,e.QUOTE_STRING_MODE,x,O,_]}}function aR(e){let n=e.regex,a=n.concat(/[\p{L}_]/u,n.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),s=/[\p{L}0-9._:-]+/u,u={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},p={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},g=e.inherit(p,{begin:/\(/,end:/\)/}),_=e.inherit(e.APOS_STRING_MODE,{className:"string"}),x=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),O={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:s,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[u]},{begin:/'/,end:/'/,contains:[u]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[p,x,_,g,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[p,g,x,_]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},u,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[x]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[O],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[O],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:n.concat(/</,n.lookahead(n.concat(a,n.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:a,relevance:0,starts:O}]},{className:"tag",begin:n.concat(/<\//,n.lookahead(n.concat(a,/>/))),contains:[{className:"name",begin:a,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function sR(e){let n="true false yes no null",a="[\\w#;/?:@&=+$,.~*'()[\\]]+",s={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},u={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},p={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,u]},g=e.inherit(p,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),_="[0-9]{4}(-[0-9][0-9]){0,2}",x="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",O="(\\.[0-9]*)?",L="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",H={className:"number",begin:"\\b"+_+x+O+L+"\\b"},U={end:",",endsWithParent:!0,excludeEnd:!0,keywords:n,relevance:0},W={begin:/\{/,end:/\}/,contains:[U],illegal:"\\n",relevance:0},K={begin:"\\[",end:"\\]",contains:[U],illegal:"\\n",relevance:0},te=[s,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+a},{className:"type",begin:"!<"+a+">"},{className:"type",begin:"!"+a},{className:"type",begin:"!!"+a},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:n,keywords:{literal:n}},H,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},W,K,p],oe=[...te];return oe.pop(),oe.push(g),U.contains=oe,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:te}}var lR=f(m(),1),Mo=lR.default,uR=f(v(),1),$d=Object.assign(Ps(Error),{eval:Ps(EvalError),range:Ps(RangeError),reference:Ps(ReferenceError),syntax:Ps(SyntaxError),type:Ps(TypeError),uri:Ps(URIError)});function Ps(e){return n.displayName=e.displayName||e.name,n;function n(a,...s){let u=a&&(0,uR.default)(a,...s);return new e(u)}}var cR={}.hasOwnProperty,dR="hljs-";function Yy(e,n,a={}){let s=a.prefix;if(typeof e!="string")throw $d("Expected `string` for name, got `%s`",e);if(!Mo.getLanguage(e))throw $d("Unknown language: `%s` is not registered",e);if(typeof n!="string")throw $d("Expected `string` for value, got `%s`",n);s==null&&(s=dR),Mo.configure({__emitter:vR,classPrefix:s});let u=Mo.highlight(n,{language:e,ignoreIllegals:!0});if(Mo.configure({}),u.errorRaised)throw u.errorRaised;return u._emitter.root.data.language=u.language,u._emitter.root.data.relevance=u.relevance,u._emitter.root}function hR(e,n={}){let a=n.subset||Mo.listLanguages();n.prefix;let s=-1,u={type:"root",data:{language:null,relevance:0},children:[]};if(typeof e!="string")throw $d("Expected `string` for value, got `%s`",e);for(;++s<a.length;){let p=a[s];if(!Mo.getLanguage(p))continue;let g=Yy(p,e,n);g.data.relevance>u.data.relevance&&(u=g)}return u}function fR(e,n){Mo.registerLanguage(e,n)}var pR=function(e,n){if(typeof e=="string")Mo.registerAliases(n,{languageName:e});else{let a;for(a in e)cR.call(e,a)&&Mo.registerAliases(e[a],{languageName:a})}};function mR(e){return Boolean(Mo.getLanguage(e))}function gR(){return Mo.listLanguages()}var vR=class{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(e==="")return;let n=this.stack[this.stack.length-1],a=n.children[n.children.length-1];a&&a.type==="text"?a.value+=e:n.children.push({type:"text",value:e})}addKeyword(e,n){this.openNode(n),this.addText(e),this.closeNode()}addSublanguage(e,n){let a=this.stack[this.stack.length-1],s=e.root.children;n?a.children.push({type:"element",tagName:"span",properties:{className:[n]},children:s}):a.children.push(...s)}openNode(e){let n=e.split(".").map((u,p)=>p?u+"_".repeat(p):this.options.classPrefix+u),a=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:n},children:[]};a.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}closeAllNodes(){}finalize(){}toHTML(){return""}},an={highlight:Yy,highlightAuto:hR,registerLanguage:fR,registered:mR,listLanguages:gR,registerAlias:pR};an.registerLanguage("arduino",KI),an.registerLanguage("bash",JI),an.registerLanguage("c",XI),an.registerLanguage("cpp",ZI),an.registerLanguage("csharp",QI),an.registerLanguage("css",a4),an.registerLanguage("diff",s4),an.registerLanguage("go",l4),an.registerLanguage("graphql",u4),an.registerLanguage("ini",c4),an.registerLanguage("java",d4),an.registerLanguage("javascript",g4),an.registerLanguage("json",v4),an.registerLanguage("kotlin",y4),an.registerLanguage("less",x4),an.registerLanguage("lua",S4),an.registerLanguage("makefile",T4),an.registerLanguage("markdown",C4),an.registerLanguage("objectivec",M4),an.registerLanguage("perl",k4),an.registerLanguage("php",O4),an.registerLanguage("php-template",I4),an.registerLanguage("plaintext",R4),an.registerLanguage("python",L4),an.registerLanguage("python-repl",F4),an.registerLanguage("r",N4),an.registerLanguage("ruby",P4),an.registerLanguage("rust",B4),an.registerLanguage("scss",Y4),an.registerLanguage("shell",G4),an.registerLanguage("sql",W4),an.registerLanguage("swift",tR),an.registerLanguage("typescript",iR),an.registerLanguage("vbnet",rR),an.registerLanguage("wasm",oR),an.registerLanguage("xml",aR),an.registerLanguage("yaml",sR),document.addEventListener("alpine:init",()=>{let e=window.filamentTiptapEditors||{};Alpine.data("tiptap",({state:n,tools:a=""})=>({id:null,tools:a.split(","),state:n,fullScreenMode:!1,updatedAt:Date.now(),focused:!1,getExtensions(){let s=[dM,Qk,CO,pM,wM,AM,LM];if(this.tools.includes("blockquote")&&s.push(ZC),this.tools.includes("bold")&&s.push(iM),this.tools.includes("italic")&&s.push($M),this.tools.includes("strike")&&s.push(GM),this.tools.includes("underline")&&s.push(tO),this.tools.includes("align")&&s.push(eO.configure({types:["heading","paragraph"]})),this.tools.includes("subscript")&&s.push(WM),this.tools.includes("superscript")&&s.push(qM),this.tools.includes("media")&&s.push(SO.configure({inline:!0})),this.tools.includes("youtube")&&s.push(PO),this.tools.includes("vimeo")&&s.push($O),this.tools.includes("hr")&&s.push(FM),this.tools.includes("lead")&&s.push(aO),this.tools.includes("small")&&s.push(MO),this.tools.includes("grid")&&s.push(RO,LO),this.tools.includes("details")&&s.push(HO,VO,UO),this.tools.includes("color")&&s.push(cM,uM),this.tools.includes("table")&&s.push(Kk.configure({resizable:!0}),Xk,Jk,Zk),this.tools.includes("code")&&s.push(lM),this.tools.includes("highlight")&&s.push(rO),this.tools.includes("link")&&s.push(AO.configure({openOnClick:!1,autolink:!1,HTMLAttributes:{rel:null,hreflang:null,class:null}})),this.tools.includes("codeblock")&&s.push(WI.configure({lowlight:an,HTMLAttributes:{class:"hljs"}})),(this.tools.includes("orderedList")||this.tools.includes("bulletList")||this.tools.includes("checkedList"))&&(this.tools.includes("orderedList")&&s.push(VM),this.tools.includes("bulletList")&&s.push(oM),this.tools.includes("checkedList")&&s.push(oO),s.push(jM)),this.tools.includes("h1")||this.tools.includes("h2")||this.tools.includes("h3")||this.tools.includes("h4")||this.tools.includes("h5")||this.tools.includes("h6")){let u=[];this.tools.includes("h1")&&u.push(1),this.tools.includes("h2")&&u.push(2),this.tools.includes("h3")&&u.push(3),this.tools.includes("h4")&&u.push(4),this.tools.includes("h5")&&u.push(5),this.tools.includes("h6")&&u.push(6),s.push(DM.configure({levels:u}))}return s},init(){this.id=jO(8);let s=this;e[this.id]=new JC({element:this.$refs.element,extensions:this.getExtensions(),content:n?.initialValue,onCreate({editor:p}){s.state=p.getHTML(),s.$refs.textarea.value=s.state,s.updatedAt=Date.now()},onUpdate({editor:p}){s.state=p.getHTML(),s.$refs.textarea.value=s.state,s.$refs.textarea.dispatchEvent(new Event("input")),s.updatedAt=Date.now()},onSelectionUpdate({editor:p}){s.updatedAt=Date.now()},onBlur({event:p}){s.focused=!1,s.$refs.textarea.dispatchEvent(new Event("change")),s.updatedAt=Date.now()},onFocus({event:p}){s.focused=!0}}),window.filamentTiptapEditors=e,document.addEventListener("dblclick",function(p){p.target&&(p.target.hasAttribute("data-youtube-video")||p.target.hasAttribute("data-vimeo-video"))&&(p.target.firstChild.style.pointerEvents="all")});let u=this.$el.parentElement.closest("[wire\\:sortable");u&&(window.Sortable.utils.on(u,"start",p=>{Object.values(e).forEach(function(g){g.setEditable(!1)})}),window.Sortable.utils.on(u,"end",p=>{Object.values(e).forEach(function(g){g.setEditable(!0)})})),this.$watch("state",p=>{e[this.id].getHTML()!==p&&e[this.id].commands.setContent(p)})},editor(){return e[this.id]},isActive(s,u={},p){return this.editor().isActive(s,u)}}))})})();var vF=Object.create,vf=Object.defineProperty,bF=Object.getPrototypeOf,yF=Object.prototype.hasOwnProperty,EF=Object.getOwnPropertyNames,_F=Object.getOwnPropertyDescriptor,wF=t=>vf(t,"__esModule",{value:!0}),en=(t,i)=>()=>(i||(i={exports:{}},t(i.exports,i)),i.exports),AF=(t,i)=>{for(var r in i)vf(t,r,{get:i[r],enumerable:!0})},DF=(t,i,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of EF(i))!yF.call(t,o)&&o!=="default"&&vf(t,o,{get:()=>i[o],enumerable:!(r=_F(i,o))||r.enumerable});return t},pu=t=>DF(wF(vf(t!=null?vF(bF(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),xF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o():typeof define=="function"&&define.amd?define(o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=o()})(t,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,c=/\d\d?/,d=/\d*[^-_:/,()\s\d]+/,h={},f=function(y){return(y=+y)+(y>68?1900:2e3)},m=function(y){return function(S){this[y]=+S}},v=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(S){if(!S||S==="Z")return 0;var T=S.match(/([+-]|\d\d)/g),M=60*T[1]+(+T[2]||0);return M===0?0:T[0]==="+"?-M:M}(y)}],E=function(y){var S=h[y];return S&&(S.indexOf?S:S.s.concat(S.f))},b=function(y,S){var T,M=h.meridiem;if(M){for(var D=1;D<=24;D+=1)if(y.indexOf(M(D,0,S))>-1){T=D>12;break}}else T=y===(S?"pm":"PM");return T},w={A:[d,function(y){this.afternoon=b(y,!1)}],a:[d,function(y){this.afternoon=b(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[l,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[c,m("seconds")],ss:[c,m("seconds")],m:[c,m("minutes")],mm:[c,m("minutes")],H:[c,m("hours")],h:[c,m("hours")],HH:[c,m("hours")],hh:[c,m("hours")],D:[c,m("day")],DD:[l,m("day")],Do:[d,function(y){var S=h.ordinal,T=y.match(/\d+/);if(this.day=T[0],S)for(var M=1;M<=31;M+=1)S(M).replace(/\[|\]/g,"")===y&&(this.day=M)}],M:[c,m("month")],MM:[l,m("month")],MMM:[d,function(y){var S=E("months"),T=(E("monthsShort")||S.map(function(M){return M.slice(0,3)})).indexOf(y)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[d,function(y){var S=E("months").indexOf(y)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,m("year")],YY:[l,function(y){this.year=f(y)}],YYYY:[/\d{4}/,m("year")],Z:v,ZZ:v};function A(y){var S,T;S=y,T=h&&h.formats;for(var M=(y=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(j,Y,G){var B=G&&G.toUpperCase();return Y||T[G]||r[G]||T[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,z,$){return z||$.slice(1)})})).match(o),D=M.length,C=0;C<D;C+=1){var k=M[C],I=w[k],R=I&&I[0],F=I&&I[1];M[C]=F?{regex:R,parser:F}:k.replace(/^\[|\]$/g,"")}return function(j){for(var Y={},G=0,B=0;G<D;G+=1){var P=M[G];if(typeof P=="string")B+=P.length;else{var z=P.regex,$=P.parser,N=j.slice(B),V=z.exec(N)[0];$.call(Y,V),j=j.replace(V,"")}}return function(q){var J=q.afternoon;if(J!==void 0){var ne=q.hours;J?ne<12&&(q.hours+=12):ne===12&&(q.hours=0),delete q.afternoon}}(Y),Y}}return function(y,S,T){T.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(f=y.parseTwoDigitYear);var M=S.prototype,D=M.parse;M.parse=function(C){var k=C.date,I=C.utc,R=C.args;this.$u=I;var F=R[1];if(typeof F=="string"){var j=R[2]===!0,Y=R[3]===!0,G=j||Y,B=R[2];Y&&(B=R[2]),h=this.$locale(),!j&&B&&(h=T.Ls[B]),this.$d=function(N,V,q){try{if(["x","X"].indexOf(V)>-1)return new Date((V==="X"?1e3:1)*N);var J=A(V)(N),ne=J.year,ue=J.month,pe=J.day,Ie=J.hours,we=J.minutes,st=J.seconds,Ae=J.milliseconds,Oe=J.zone,$e=new Date,et=pe||(ne||ue?1:$e.getDate()),Ue=ne||$e.getFullYear(),on=0;ne&&!ue||(on=ue>0?ue-1:$e.getMonth());var Jt=Ie||0,Ln=we||0,Cn=st||0,ri=Ae||0;return Oe?new Date(Date.UTC(Ue,on,et,Jt,Ln,Cn,ri+60*Oe.offset*1e3)):q?new Date(Date.UTC(Ue,on,et,Jt,Ln,Cn,ri)):new Date(Ue,on,et,Jt,Ln,Cn,ri)}catch{return new Date("")}}(k,F,I),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),G&&k!=this.format(F)&&(this.$d=new Date("")),h={}}else if(F instanceof Array)for(var P=F.length,z=1;z<=P;z+=1){R[1]=F[z-1];var $=T.apply(this,R);if($.isValid()){this.$d=$.$d,this.$L=$.$L,this.init();break}z===P&&(this.$d=new Date(""))}else D.call(this,C)}}})}),SF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o():typeof define=="function"&&define.amd?define(o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_localeData=o()})(t,function(){return function(r,o,l){var c=o.prototype,d=function(E){return E&&(E.indexOf?E:E.s)},h=function(E,b,w,A,y){var S=E.name?E:E.$locale(),T=d(S[b]),M=d(S[w]),D=T||M.map(function(k){return k.slice(0,A)});if(!y)return D;var C=S.weekStart;return D.map(function(k,I){return D[(I+(C||0))%7]})},f=function(){return l.Ls[l.locale()]},m=function(E,b){return E.formats[b]||function(w){return w.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,y,S){return y||S.slice(1)})}(E.formats[b.toUpperCase()])},v=function(){var E=this;return{months:function(b){return b?b.format("MMMM"):h(E,"months")},monthsShort:function(b){return b?b.format("MMM"):h(E,"monthsShort","months",3)},firstDayOfWeek:function(){return E.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):h(E,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):h(E,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):h(E,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(E.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};c.localeData=function(){return v.bind(this)()},l.localeData=function(){var E=f();return{firstDayOfWeek:function(){return E.weekStart||0},weekdays:function(){return l.weekdays()},weekdaysShort:function(){return l.weekdaysShort()},weekdaysMin:function(){return l.weekdaysMin()},months:function(){return l.months()},monthsShort:function(){return l.monthsShort()},longDateFormat:function(b){return m(E,b)},meridiem:E.meridiem,ordinal:E.ordinal}},l.months=function(){return h(f(),"months")},l.monthsShort=function(){return h(f(),"monthsShort","months",3)},l.weekdays=function(E){return h(f(),"weekdays",null,null,E)},l.weekdaysShort=function(E){return h(f(),"weekdaysShort","weekdays",3,E)},l.weekdaysMin=function(E){return h(f(),"weekdaysMin","weekdays",2,E)}}})}),TF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o():typeof define=="function"&&define.amd?define(o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_timezone=o()})(t,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},o={};return function(l,c,d){var h,f=function(b,w,A){A===void 0&&(A={});var y=new Date(b),S=function(T,M){M===void 0&&(M={});var D=M.timeZoneName||"short",C=T+"|"+D,k=o[C];return k||(k=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:T,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:D}),o[C]=k),k}(w,A);return S.formatToParts(y)},m=function(b,w){for(var A=f(b,w),y=[],S=0;S<A.length;S+=1){var T=A[S],M=T.type,D=T.value,C=r[M];C>=0&&(y[C]=parseInt(D,10))}var k=y[3],I=k===24?0:k,R=y[0]+"-"+y[1]+"-"+y[2]+" "+I+":"+y[4]+":"+y[5]+":000",F=+b;return(d.utc(R).valueOf()-(F-=F%1e3))/6e4},v=c.prototype;v.tz=function(b,w){b===void 0&&(b=h);var A=this.utcOffset(),y=this.toDate(),S=y.toLocaleString("en-US",{timeZone:b}),T=Math.round((y-new Date(S))/1e3/60),M=d(S).$set("millisecond",this.$ms).utcOffset(15*-Math.round(y.getTimezoneOffset()/15)-T,!0);if(w){var D=M.utcOffset();M=M.add(A-D,"minute")}return M.$x.$timezone=b,M},v.offsetName=function(b){var w=this.$x.$timezone||d.tz.guess(),A=f(this.valueOf(),w,{timeZoneName:b}).find(function(y){return y.type.toLowerCase()==="timezonename"});return A&&A.value};var E=v.startOf;v.startOf=function(b,w){if(!this.$x||!this.$x.$timezone)return E.call(this,b,w);var A=d(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return E.call(A,b,w).tz(this.$x.$timezone,!0)},d.tz=function(b,w,A){var y=A&&w,S=A||w||h,T=m(+d(),S);if(typeof b!="string")return d(b).tz(S);var M=function(I,R,F){var j=I-60*R*1e3,Y=m(j,F);if(R===Y)return[j,R];var G=m(j-=60*(Y-R)*1e3,F);return Y===G?[j,Y]:[I-60*Math.min(Y,G)*1e3,Math.max(Y,G)]}(d.utc(b,y).valueOf(),T,S),D=M[0],C=M[1],k=d(D).utcOffset(C);return k.$x.$timezone=S,k},d.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},d.tz.setDefault=function(b){h=b}}})}),CF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o():typeof define=="function"&&define.amd?define(o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=o()})(t,function(){var r="minute",o=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,d,h){var f=d.prototype;h.utc=function(y){var S={date:y,utc:!0,args:arguments};return new d(S)},f.utc=function(y){var S=h(this.toDate(),{locale:this.$L,utc:!0});return y?S.add(this.utcOffset(),r):S},f.local=function(){return h(this.toDate(),{locale:this.$L,utc:!1})};var m=f.parse;f.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),m.call(this,y)};var v=f.init;f.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else v.call(this)};var E=f.utcOffset;f.utcOffset=function(y,S){var T=this.$utils().u;if(T(y))return this.$u?0:T(this.$offset)?E.call(this):this.$offset;if(typeof y=="string"&&(y=function(k){k===void 0&&(k="");var I=k.match(o);if(!I)return null;var R=(""+I[0]).match(l)||["-",0,0],F=R[0],j=60*+R[1]+ +R[2];return j===0?0:F==="+"?j:-j}(y),y===null))return this;var M=Math.abs(y)<=16?60*y:y,D=this;if(S)return D.$offset=M,D.$u=y===0,D;if(y!==0){var C=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(M+C,r)).$offset=M,D.$x.$localOffset=C}else D=this.utc();return D};var b=f.format;f.format=function(y){var S=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,S)},f.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var w=f.toDate;f.toDate=function(y){return y==="s"&&this.$offset?h(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var A=f.diff;f.diff=function(y,S,T){if(y&&this.$u===y.$u)return A.call(this,y,S,T);var M=this.local(),D=h(y).local();return A.call(M,D,S,T)}}})}),yn=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o():typeof define=="function"&&define.amd?define(o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=o()})(t,function(){var r=1e3,o=6e4,l=36e5,c="millisecond",d="second",h="minute",f="hour",m="day",v="week",E="month",b="quarter",w="year",A="date",y="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var z=["th","st","nd","rd"],$=P%100;return"["+P+(z[($-20)%10]||z[$]||z[0])+"]"}},D=function(P,z,$){var N=String(P);return!N||N.length>=z?P:""+Array(z+1-N.length).join($)+P},C={s:D,z:function(P){var z=-P.utcOffset(),$=Math.abs(z),N=Math.floor($/60),V=$%60;return(z<=0?"+":"-")+D(N,2,"0")+":"+D(V,2,"0")},m:function P(z,$){if(z.date()<$.date())return-P($,z);var N=12*($.year()-z.year())+($.month()-z.month()),V=z.clone().add(N,E),q=$-V<0,J=z.clone().add(N+(q?-1:1),E);return+(-(N+($-V)/(q?V-J:J-V))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:E,y:w,w:v,d:m,D:A,h:f,m:h,s:d,ms:c,Q:b}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},k="en",I={};I[k]=M;var R=function(P){return P instanceof G},F=function P(z,$,N){var V;if(!z)return k;if(typeof z=="string"){var q=z.toLowerCase();I[q]&&(V=q),$&&(I[q]=$,V=q);var J=z.split("-");if(!V&&J.length>1)return P(J[0])}else{var ne=z.name;I[ne]=z,V=ne}return!N&&V&&(k=V),V||!N&&k},j=function(P,z){if(R(P))return P.clone();var $=typeof z=="object"?z:{};return $.date=P,$.args=arguments,new G($)},Y=C;Y.l=F,Y.i=R,Y.w=function(P,z){return j(P,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var G=function(){function P($){this.$L=F($.locale,null,!0),this.parse($)}var z=P.prototype;return z.parse=function($){this.$d=function(N){var V=N.date,q=N.utc;if(V===null)return new Date(NaN);if(Y.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var J=V.match(S);if(J){var ne=J[2]-1||0,ue=(J[7]||"0").substring(0,3);return q?new Date(Date.UTC(J[1],ne,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ue)):new Date(J[1],ne,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ue)}}return new Date(V)}($),this.$x=$.x||{},this.init()},z.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},z.$utils=function(){return Y},z.isValid=function(){return this.$d.toString()!==y},z.isSame=function($,N){var V=j($);return this.startOf(N)<=V&&V<=this.endOf(N)},z.isAfter=function($,N){return j($)<this.startOf(N)},z.isBefore=function($,N){return this.endOf(N)<j($)},z.$g=function($,N,V){return Y.u($)?this[N]:this.set(V,$)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function($,N){var V=this,q=!!Y.u(N)||N,J=Y.p($),ne=function($e,et){var Ue=Y.w(V.$u?Date.UTC(V.$y,et,$e):new Date(V.$y,et,$e),V);return q?Ue:Ue.endOf(m)},ue=function($e,et){return Y.w(V.toDate()[$e].apply(V.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(et)),V)},pe=this.$W,Ie=this.$M,we=this.$D,st="set"+(this.$u?"UTC":"");switch(J){case w:return q?ne(1,0):ne(31,11);case E:return q?ne(1,Ie):ne(0,Ie+1);case v:var Ae=this.$locale().weekStart||0,Oe=(pe<Ae?pe+7:pe)-Ae;return ne(q?we-Oe:we+(6-Oe),Ie);case m:case A:return ue(st+"Hours",0);case f:return ue(st+"Minutes",1);case h:return ue(st+"Seconds",2);case d:return ue(st+"Milliseconds",3);default:return this.clone()}},z.endOf=function($){return this.startOf($,!1)},z.$set=function($,N){var V,q=Y.p($),J="set"+(this.$u?"UTC":""),ne=(V={},V[m]=J+"Date",V[A]=J+"Date",V[E]=J+"Month",V[w]=J+"FullYear",V[f]=J+"Hours",V[h]=J+"Minutes",V[d]=J+"Seconds",V[c]=J+"Milliseconds",V)[q],ue=q===m?this.$D+(N-this.$W):N;if(q===E||q===w){var pe=this.clone().set(A,1);pe.$d[ne](ue),pe.init(),this.$d=pe.set(A,Math.min(this.$D,pe.daysInMonth())).$d}else ne&&this.$d[ne](ue);return this.init(),this},z.set=function($,N){return this.clone().$set($,N)},z.get=function($){return this[Y.p($)]()},z.add=function($,N){var V,q=this;$=Number($);var J=Y.p(N),ne=function(Ie){var we=j(q);return Y.w(we.date(we.date()+Math.round(Ie*$)),q)};if(J===E)return this.set(E,this.$M+$);if(J===w)return this.set(w,this.$y+$);if(J===m)return ne(1);if(J===v)return ne(7);var ue=(V={},V[h]=o,V[f]=l,V[d]=r,V)[J]||1,pe=this.$d.getTime()+$*ue;return Y.w(pe,this)},z.subtract=function($,N){return this.add(-1*$,N)},z.format=function($){var N=this,V=this.$locale();if(!this.isValid())return V.invalidDate||y;var q=$||"YYYY-MM-DDTHH:mm:ssZ",J=Y.z(this),ne=this.$H,ue=this.$m,pe=this.$M,Ie=V.weekdays,we=V.months,st=function(et,Ue,on,Jt){return et&&(et[Ue]||et(N,q))||on[Ue].slice(0,Jt)},Ae=function(et){return Y.s(ne%12||12,et,"0")},Oe=V.meridiem||function(et,Ue,on){var Jt=et<12?"AM":"PM";return on?Jt.toLowerCase():Jt},$e={YY:String(this.$y).slice(-2),YYYY:this.$y,M:pe+1,MM:Y.s(pe+1,2,"0"),MMM:st(V.monthsShort,pe,we,3),MMMM:st(we,pe),D:this.$D,DD:Y.s(this.$D,2,"0"),d:String(this.$W),dd:st(V.weekdaysMin,this.$W,Ie,2),ddd:st(V.weekdaysShort,this.$W,Ie,3),dddd:Ie[this.$W],H:String(ne),HH:Y.s(ne,2,"0"),h:Ae(1),hh:Ae(2),a:Oe(ne,ue,!0),A:Oe(ne,ue,!1),m:String(ue),mm:Y.s(ue,2,"0"),s:String(this.$s),ss:Y.s(this.$s,2,"0"),SSS:Y.s(this.$ms,3,"0"),Z:J};return q.replace(T,function(et,Ue){return Ue||$e[et]||J.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function($,N,V){var q,J=Y.p(N),ne=j($),ue=(ne.utcOffset()-this.utcOffset())*o,pe=this-ne,Ie=Y.m(this,ne);return Ie=(q={},q[w]=Ie/12,q[E]=Ie,q[b]=Ie/3,q[v]=(pe-ue)/6048e5,q[m]=(pe-ue)/864e5,q[f]=pe/l,q[h]=pe/o,q[d]=pe/r,q)[J]||pe,V?Ie:Y.a(Ie)},z.daysInMonth=function(){return this.endOf(E).$D},z.$locale=function(){return I[this.$L]},z.locale=function($,N){if(!$)return this.$L;var V=this.clone(),q=F($,N,!0);return q&&(V.$L=q),V},z.clone=function(){return Y.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},P}(),B=G.prototype;return j.prototype=B,[["$ms",c],["$s",d],["$m",h],["$H",f],["$W",m],["$M",E],["$y",w],["$D",A]].forEach(function(P){B[P[1]]=function(z){return this.$g(z,P[0],P[1])}}),j.extend=function(P,z){return P.$i||(P(z,G,j),P.$i=!0),j},j.locale=F,j.isDayjs=R,j.unix=function(P){return j(1e3*P)},j.en=I[k],j.Ls=I,j.p={},j})}),MF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ar=o(r.dayjs)})(t,function(r){function o(m){return m&&typeof m=="object"&&"default"in m?m:{default:m}}var l=o(r),c="يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),d={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},h={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},f={name:"ar",weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),months:c,monthsShort:c,weekStart:6,relativeTime:{future:"بعد %s",past:"منذ %s",s:"ثانية واحدة",m:"دقيقة واحدة",mm:"%d دقائق",h:"ساعة واحدة",hh:"%d ساعات",d:"يوم واحد",dd:"%d أيام",M:"شهر واحد",MM:"%d أشهر",y:"عام واحد",yy:"%d أعوام"},preparse:function(m){return m.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(v){return h[v]}).replace(/،/g,",")},postformat:function(m){return m.replace(/\d/g,function(v){return d[v]}).replace(/,/g,"،")},ordinal:function(m){return m},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return l.default.locale(f,null,!0),f})}),kF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_bs=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"bs",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),weekStart:1,weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),ordinal:function(d){return d},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"}};return l.default.locale(c,null,!0),c})}),OF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ca=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"ca",weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),months:"Gener_Febrer_Març_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Març_Abr._Maig_Juny_Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",ll:"D MMM YYYY",lll:"D MMM YYYY, H:mm",llll:"ddd D MMM YYYY, H:mm"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:function(d){return""+d+(d===1||d===3?"r":d===2?"n":d===4?"t":"è")}};return l.default.locale(c,null,!0),c})}),IF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_cs=o(r.dayjs)})(t,function(r){function o(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var l=o(r);function c(f){return f>1&&f<5&&~~(f/10)!=1}function d(f,m,v,E){var b=f+" ";switch(v){case"s":return m||E?"pár sekund":"pár sekundami";case"m":return m?"minuta":E?"minutu":"minutou";case"mm":return m||E?b+(c(f)?"minuty":"minut"):b+"minutami";case"h":return m?"hodina":E?"hodinu":"hodinou";case"hh":return m||E?b+(c(f)?"hodiny":"hodin"):b+"hodinami";case"d":return m||E?"den":"dnem";case"dd":return m||E?b+(c(f)?"dny":"dní"):b+"dny";case"M":return m||E?"měsíc":"měsícem";case"MM":return m||E?b+(c(f)?"měsíce":"měsíců"):b+"měsíci";case"y":return m||E?"rok":"rokem";case"yy":return m||E?b+(c(f)?"roky":"let"):b+"lety"}}var h={name:"cs",weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),months:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),monthsShort:"led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(f){return f+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"před %s",s:d,m:d,mm:d,h:d,hh:d,d,dd:d,M:d,MM:d,y:d,yy:d}};return l.default.locale(h,null,!0),h})}),RF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_da=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"da",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn._man._tirs._ons._tors._fre._lør.".split("_"),weekdaysMin:"sø._ma._ti._on._to._fr._lø.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,ordinal:function(d){return d+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"}};return l.default.locale(c,null,!0),c})}),LF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_de=o(r.dayjs)})(t,function(r){function o(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var l=o(r),c={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function d(f,m,v){var E=c[v];return Array.isArray(E)&&(E=E[m?0:1]),E.replace("%d",f)}var h={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(f){return f+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:d,m:d,mm:d,h:d,hh:d,d,dd:d,M:d,MM:d,y:d,yy:d}};return l.default.locale(h,null,!0),h})}),FF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o():typeof define=="function"&&define.amd?define(o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_en=o()})(t,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var o=["th","st","nd","rd"],l=r%100;return"["+r+(o[(l-20)%10]||o[l]||o[0])+"]"}}})}),NF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_es=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(d){return d+"º"}};return l.default.locale(c,null,!0),c})}),PF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_fa=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"fa",weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌_دو_سه‌_چه_پن_جم_شن".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekStart:6,months:"فروردین_اردیبهشت_خرداد_تیر_مرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_"),monthsShort:"فرو_ارد_خرد_تیر_مرد_شهر_مهر_آبا_آذر_دی_بهم_اسف".split("_"),ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"در %s",past:"%s قبل",s:"چند ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"}};return l.default.locale(c,null,!0),c})}),BF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_fi=o(r.dayjs)})(t,function(r){function o(h){return h&&typeof h=="object"&&"default"in h?h:{default:h}}var l=o(r);function c(h,f,m,v){var E={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"päivä",dd:"%d päivää",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_neljä_viisi_kuusi_seitsemän_kahdeksan_yhdeksän".split("_")},b={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"päivän",dd:"%d päivän",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_neljän_viiden_kuuden_seitsemän_kahdeksan_yhdeksän".split("_")},w=v&&!f?b:E,A=w[m];return h<10?A.replace("%d",w.numbers[h]):A.replace("%d",h)}var d={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),ordinal:function(h){return h+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s päästä",past:"%s sitten",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return l.default.locale(d,null,!0),d})}),zF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_fr=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(d){return""+d+(d===1?"er":"")}};return l.default.locale(c,null,!0),c})}),$F=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_hi=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(d){return d},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return l.default.locale(c,null,!0),c})}),jF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_hu=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"hu",weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),ordinal:function(d){return d+"."},weekStart:1,relativeTime:{future:"%s múlva",past:"%s",s:function(d,h,f,m){return"néhány másodperc"+(m||h?"":"e")},m:function(d,h,f,m){return"egy perc"+(m||h?"":"e")},mm:function(d,h,f,m){return d+" perc"+(m||h?"":"e")},h:function(d,h,f,m){return"egy "+(m||h?"óra":"órája")},hh:function(d,h,f,m){return d+" "+(m||h?"óra":"órája")},d:function(d,h,f,m){return"egy "+(m||h?"nap":"napja")},dd:function(d,h,f,m){return d+" "+(m||h?"nap":"napja")},M:function(d,h,f,m){return"egy "+(m||h?"hónap":"hónapja")},MM:function(d,h,f,m){return d+" "+(m||h?"hónap":"hónapja")},y:function(d,h,f,m){return"egy "+(m||h?"év":"éve")},yy:function(d,h,f,m){return d+" "+(m||h?"év":"éve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return l.default.locale(c,null,!0),c})}),HF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_hy_am=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"hy-am",weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),months:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),weekStart:1,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"}};return l.default.locale(c,null,!0),c})}),VF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_id=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(d){return d+"."}};return l.default.locale(c,null,!0),c})}),UF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_it=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(d){return d+"º"}};return l.default.locale(c,null,!0),c})}),YF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ja=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(d){return d+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(d){return d<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return l.default.locale(c,null,!0),c})}),GF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ka=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"ka",weekdays:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekStart:1,formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"%s შემდეგ",past:"%s წინ",s:"წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათის",d:"დღეს",dd:"%d დღის განმავლობაში",M:"თვის",MM:"%d თვის",y:"წელი",yy:"%d წლის"},ordinal:function(d){return d}};return l.default.locale(c,null,!0),c})}),WF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?o(t,yn()):typeof define=="function"&&define.amd?define(["exports","dayjs"],o):o((r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ku={},r.dayjs)})(t,function(r,o){function l(v){return v&&typeof v=="object"&&"default"in v?v:{default:v}}var c=l(o),d={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},h={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},f=["کانوونی دووەم","شوبات","ئادار","نیسان","ئایار","حوزەیران","تەممووز","ئاب","ئەیلوول","تشرینی یەکەم","تشرینی دووەم","کانوونی یەکەم"],m={name:"ku",months:f,monthsShort:f,weekdays:"یەکشەممە_دووشەممە_سێشەممە_چوارشەممە_پێنجشەممە_هەینی_شەممە".split("_"),weekdaysShort:"یەکشەم_دووشەم_سێشەم_چوارشەم_پێنجشەم_هەینی_شەممە".split("_"),weekStart:6,weekdaysMin:"ی_د_س_چ_پ_هـ_ش".split("_"),preparse:function(v){return v.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(E){return h[E]}).replace(/،/g,",")},postformat:function(v){return v.replace(/\d/g,function(E){return d[E]}).replace(/,/g,"،")},ordinal:function(v){return v},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiem:function(v){return v<12?"پ.ن":"د.ن"},relativeTime:{future:"لە %s",past:"لەمەوپێش %s",s:"چەند چرکەیەک",m:"یەک خولەک",mm:"%d خولەک",h:"یەک کاتژمێر",hh:"%d کاتژمێر",d:"یەک ڕۆژ",dd:"%d ڕۆژ",M:"یەک مانگ",MM:"%d مانگ",y:"یەک ساڵ",yy:"%d ساڵ"}};c.default.locale(m,null,!0),r.default=m,r.englishToArabicNumbersMap=d,Object.defineProperty(r,"__esModule",{value:!0})})}),qF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ms=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(d){return d+"."}};return l.default.locale(c,null,!0),c})}),KF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_my=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"my",weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),weekStart:1,weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"}};return l.default.locale(c,null,!0),c})}),JF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_nl=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(d){return"["+d+(d===1||d===8||d>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return l.default.locale(c,null,!0),c})}),XF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_pl=o(r.dayjs)})(t,function(r){function o(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var l=o(r);function c(b){return b%10<5&&b%10>1&&~~(b/10)%10!=1}function d(b,w,A){var y=b+" ";switch(A){case"m":return w?"minuta":"minutę";case"mm":return y+(c(b)?"minuty":"minut");case"h":return w?"godzina":"godzinę";case"hh":return y+(c(b)?"godziny":"godzin");case"MM":return y+(c(b)?"miesiące":"miesięcy");case"yy":return y+(c(b)?"lata":"lat")}}var h="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),f="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),m=/D MMMM/,v=function(b,w){return m.test(w)?h[b.month()]:f[b.month()]};v.s=f,v.f=h;var E={name:"pl",weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),months:v,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),ordinal:function(b){return b+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:d,mm:d,h:d,hh:d,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:d,y:"rok",yy:d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return l.default.locale(E,null,!0),E})}),ZF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_pt_br=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"pt-br",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(d){return d+"º"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return l.default.locale(c,null,!0),c})}),QF=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_pt=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"pt",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sa".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(d){return d+"º"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return l.default.locale(c,null,!0),c})}),e6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ro=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"ro",weekdays:"Duminică_Luni_Marți_Miercuri_Joi_Vineri_Sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian._Febr._Mart._Apr._Mai_Iun._Iul._Aug._Sept._Oct._Nov._Dec.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"peste %s",past:"acum %s",s:"câteva secunde",m:"un minut",mm:"%d minute",h:"o oră",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lună",MM:"%d luni",y:"un an",yy:"%d ani"},ordinal:function(d){return d}};return l.default.locale(c,null,!0),c})}),t6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_ru=o(r.dayjs)})(t,function(r){function o(A){return A&&typeof A=="object"&&"default"in A?A:{default:A}}var l=o(r),c="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),d="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),h="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),f="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),m=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function v(A,y,S){var T,M;return S==="m"?y?"минута":"минуту":A+" "+(T=+A,M={mm:y?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[S].split("_"),T%10==1&&T%100!=11?M[0]:T%10>=2&&T%10<=4&&(T%100<10||T%100>=20)?M[1]:M[2])}var E=function(A,y){return m.test(y)?c[A.month()]:d[A.month()]};E.s=d,E.f=c;var b=function(A,y){return m.test(y)?h[A.month()]:f[A.month()]};b.s=f,b.f=h;var w={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:E,monthsShort:b,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:v,mm:v,h:"час",hh:v,d:"день",dd:v,M:"месяц",MM:v,y:"год",yy:v},ordinal:function(A){return A},meridiem:function(A){return A<4?"ночи":A<12?"утра":A<17?"дня":"вечера"}};return l.default.locale(w,null,!0),w})}),n6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_sv=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"sv",weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(d){var h=d%10;return"["+d+(h===1||h===2?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"}};return l.default.locale(c,null,!0),c})}),i6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_tr=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"tr",weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(d){return d+"."}};return l.default.locale(c,null,!0),c})}),r6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_uk=o(r.dayjs)})(t,function(r){function o(E){return E&&typeof E=="object"&&"default"in E?E:{default:E}}var l=o(r),c="січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),d="січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),h=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function f(E,b,w){var A,y;return w==="m"?b?"хвилина":"хвилину":w==="h"?b?"година":"годину":E+" "+(A=+E,y={ss:b?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:b?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:b?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[w].split("_"),A%10==1&&A%100!=11?y[0]:A%10>=2&&A%10<=4&&(A%100<10||A%100>=20)?y[1]:y[2])}var m=function(E,b){return h.test(b)?c[E.month()]:d[E.month()]};m.s=d,m.f=c;var v={name:"uk",weekdays:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),weekdaysShort:"ндл_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),months:m,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekStart:1,relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:f,mm:f,h:f,hh:f,d:"день",dd:f,M:"місяць",MM:f,y:"рік",yy:f},ordinal:function(E){return E},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"}};return l.default.locale(v,null,!0),v})}),o6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_vi=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"}};return l.default.locale(c,null,!0),c})}),a6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_zh_cn=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(d,h){return h==="W"?d+"周":d+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(d,h){var f=100*d+h;return f<600?"凌晨":f<900?"早上":f<1100?"上午":f<1300?"中午":f<1800?"下午":"晚上"}};return l.default.locale(c,null,!0),c})}),s6=en((t,i)=>{(function(r,o){typeof t=="object"&&typeof i<"u"?i.exports=o(yn()):typeof define=="function"&&define.amd?define(["dayjs"],o):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_locale_zh_tw=o(r.dayjs)})(t,function(r){function o(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var l=o(r),c={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(d,h){return h==="W"?d+"週":d+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(d,h){var f=100*d+h;return f<600?"凌晨":f<900?"早上":f<1100?"上午":f<1300?"中午":f<1800?"下午":"晚上"}};return l.default.locale(c,null,!0),c})}),l6=en((t,i)=>{(function(){}).call(t),function(){window.Set==null&&(window.Set=function(){function r(){this.clear()}return r.prototype.clear=function(){return this.values=[]},r.prototype.has=function(o){return this.values.indexOf(o)!==-1},r.prototype.add=function(o){return this.has(o)||this.values.push(o),this},r.prototype.delete=function(o){var l;return(l=this.values.indexOf(o))===-1?!1:(this.values.splice(l,1),!0)},r.prototype.forEach=function(){var o;return(o=this.values).forEach.apply(o,arguments)},r}())}.call(t),function(r){function o(){}function l(y,S){return function(){y.apply(S,arguments)}}function c(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],E(y,this)}function d(y,S){for(;y._state===3;)y=y._value;return y._state===0?void y._deferreds.push(S):(y._handled=!0,void w(function(){var T=y._state===1?S.onFulfilled:S.onRejected;if(T===null)return void(y._state===1?h:f)(S.promise,y._value);var M;try{M=T(y._value)}catch(D){return void f(S.promise,D)}h(S.promise,M)}))}function h(y,S){try{if(S===y)throw new TypeError("A promise cannot be resolved with itself.");if(S&&(typeof S=="object"||typeof S=="function")){var T=S.then;if(S instanceof c)return y._state=3,y._value=S,void m(y);if(typeof T=="function")return void E(l(T,S),y)}y._state=1,y._value=S,m(y)}catch(M){f(y,M)}}function f(y,S){y._state=2,y._value=S,m(y)}function m(y){y._state===2&&y._deferreds.length===0&&setTimeout(function(){y._handled||A(y._value)},1);for(var S=0,T=y._deferreds.length;T>S;S++)d(y,y._deferreds[S]);y._deferreds=null}function v(y,S,T){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof S=="function"?S:null,this.promise=T}function E(y,S){var T=!1;try{y(function(M){T||(T=!0,h(S,M))},function(M){T||(T=!0,f(S,M))})}catch(M){if(T)return;T=!0,f(S,M)}}var b=setTimeout,w=typeof setImmediate=="function"&&setImmediate||function(y){b(y,1)},A=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)};c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,S){var T=new c(o);return d(this,new v(y,S,T)),T},c.all=function(y){var S=Array.prototype.slice.call(y);return new c(function(T,M){function D(I,R){try{if(R&&(typeof R=="object"||typeof R=="function")){var F=R.then;if(typeof F=="function")return void F.call(R,function(j){D(I,j)},M)}S[I]=R,--C===0&&T(S)}catch(j){M(j)}}if(S.length===0)return T([]);for(var C=S.length,k=0;k<S.length;k++)D(k,S[k])})},c.resolve=function(y){return y&&typeof y=="object"&&y.constructor===c?y:new c(function(S){S(y)})},c.reject=function(y){return new c(function(S,T){T(y)})},c.race=function(y){return new c(function(S,T){for(var M=0,D=y.length;D>M;M++)y[M].then(S,T)})},c._setImmediateFn=function(y){w=y},c._setUnhandledRejectionFn=function(y){A=y},typeof i<"u"&&i.exports?i.exports=c:r.Promise||(r.Promise=c)}(t),function(){var r=typeof window.customElements=="object",o=typeof document.registerElement=="function",l=r||o;l||(typeof WeakMap>"u"&&function(){var c=Object.defineProperty,d=Date.now()%1e9,h=function(){this.name="__st"+(1e9*Math.random()>>>0)+(d+++"__")};h.prototype={set:function(f,m){var v=f[this.name];return v&&v[0]===f?v[1]=m:c(f,this.name,{value:[f,m],writable:!0}),this},get:function(f){var m;return(m=f[this.name])&&m[0]===f?m[1]:void 0},delete:function(f){var m=f[this.name];return m&&m[0]===f?(m[0]=m[1]=void 0,!0):!1},has:function(f){var m=f[this.name];return m?m[0]===f:!1}},window.WeakMap=h}(),function(c){function d(P){j.push(P),F||(F=!0,C(f))}function h(P){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(P)||P}function f(){F=!1;var P=j;j=[],P.sort(function($,N){return $.uid_-N.uid_});var z=!1;P.forEach(function($){var N=$.takeRecords();m($),N.length&&($.callback_(N,$),z=!0)}),z&&f()}function m(P){P.nodes_.forEach(function(z){var $=k.get(z);$&&$.forEach(function(N){N.observer===P&&N.removeTransientObservers()})})}function v(P,z){for(var $=P;$;$=$.parentNode){var N=k.get($);if(N)for(var V=0;V<N.length;V++){var q=N[V],J=q.options;if($===P||J.subtree){var ne=z(J);ne&&q.enqueue(ne)}}}}function E(P){this.callback_=P,this.nodes_=[],this.records_=[],this.uid_=++Y}function b(P,z){this.type=P,this.target=z,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function w(P){var z=new b(P.type,P.target);return z.addedNodes=P.addedNodes.slice(),z.removedNodes=P.removedNodes.slice(),z.previousSibling=P.previousSibling,z.nextSibling=P.nextSibling,z.attributeName=P.attributeName,z.attributeNamespace=P.attributeNamespace,z.oldValue=P.oldValue,z}function A(P,z){return G=new b(P,z)}function y(P){return B||(B=w(G),B.oldValue=P,B)}function S(){G=B=void 0}function T(P){return P===B||P===G}function M(P,z){return P===z?P:B&&T(P)?B:null}function D(P,z,$){this.observer=P,this.target=z,this.options=$,this.transientObservedNodes=[]}if(!c.JsMutationObserver){var C,k=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))C=setTimeout;else if(window.setImmediate)C=window.setImmediate;else{var I=[],R=String(Math.random());window.addEventListener("message",function(P){if(P.data===R){var z=I;I=[],z.forEach(function($){$()})}}),C=function(P){I.push(P),window.postMessage(R,"*")}}var F=!1,j=[],Y=0;E.prototype={observe:function(P,z){if(P=h(P),!z.childList&&!z.attributes&&!z.characterData||z.attributeOldValue&&!z.attributes||z.attributeFilter&&z.attributeFilter.length&&!z.attributes||z.characterDataOldValue&&!z.characterData)throw new SyntaxError;var $=k.get(P);$||k.set(P,$=[]);for(var N,V=0;V<$.length;V++)if($[V].observer===this){N=$[V],N.removeListeners(),N.options=z;break}N||(N=new D(this,P,z),$.push(N),this.nodes_.push(P)),N.addListeners()},disconnect:function(){this.nodes_.forEach(function(P){for(var z=k.get(P),$=0;$<z.length;$++){var N=z[$];if(N.observer===this){N.removeListeners(),z.splice($,1);break}}},this),this.records_=[]},takeRecords:function(){var P=this.records_;return this.records_=[],P}};var G,B;D.prototype={enqueue:function(P){var z=this.observer.records_,$=z.length;if(z.length>0){var N=z[$-1],V=M(N,P);if(V)return void(z[$-1]=V)}else d(this.observer);z[$]=P},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(P){var z=this.options;z.attributes&&P.addEventListener("DOMAttrModified",this,!0),z.characterData&&P.addEventListener("DOMCharacterDataModified",this,!0),z.childList&&P.addEventListener("DOMNodeInserted",this,!0),(z.childList||z.subtree)&&P.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(P){var z=this.options;z.attributes&&P.removeEventListener("DOMAttrModified",this,!0),z.characterData&&P.removeEventListener("DOMCharacterDataModified",this,!0),z.childList&&P.removeEventListener("DOMNodeInserted",this,!0),(z.childList||z.subtree)&&P.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(P){if(P!==this.target){this.addListeners_(P),this.transientObservedNodes.push(P);var z=k.get(P);z||k.set(P,z=[]),z.push(this)}},removeTransientObservers:function(){var P=this.transientObservedNodes;this.transientObservedNodes=[],P.forEach(function(z){this.removeListeners_(z);for(var $=k.get(z),N=0;N<$.length;N++)if($[N]===this){$.splice(N,1);break}},this)},handleEvent:function(P){switch(P.stopImmediatePropagation(),P.type){case"DOMAttrModified":var z=P.attrName,$=P.relatedNode.namespaceURI,N=P.target,Ie=new A("attributes",N);Ie.attributeName=z,Ie.attributeNamespace=$;var V=P.attrChange===MutationEvent.ADDITION?null:P.prevValue;v(N,function(we){return!we.attributes||we.attributeFilter&&we.attributeFilter.length&&we.attributeFilter.indexOf(z)===-1&&we.attributeFilter.indexOf($)===-1?void 0:we.attributeOldValue?y(V):Ie});break;case"DOMCharacterDataModified":var N=P.target,Ie=A("characterData",N),V=P.prevValue;v(N,function(we){return we.characterData?we.characterDataOldValue?y(V):Ie:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(P.target);case"DOMNodeInserted":var q,J,ne=P.target;P.type==="DOMNodeInserted"?(q=[ne],J=[]):(q=[],J=[ne]);var ue=ne.previousSibling,pe=ne.nextSibling,Ie=A("childList",P.target.parentNode);Ie.addedNodes=q,Ie.removedNodes=J,Ie.previousSibling=ue,Ie.nextSibling=pe,v(P.relatedNode,function(we){return we.childList?Ie:void 0})}S()}},c.JsMutationObserver=E,c.MutationObserver||(c.MutationObserver=E,E._isPolyfilled=!0)}}(self),function(){if(!window.performance||!window.performance.now){var c=Date.now();window.performance={now:function(){return Date.now()-c}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var v=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return v?function(E){return v(function(){E(performance.now())})}:function(E){return window.setTimeout(E,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(v){clearTimeout(v)}}());var d=function(){var v=document.createEvent("Event");return v.initEvent("foo",!0,!0),v.preventDefault(),v.defaultPrevented}();if(!d){var h=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(h.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var f=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||f&&typeof window.CustomEvent!="function")&&(window.CustomEvent=function(v,E){E=E||{};var b=document.createEvent("CustomEvent");return b.initCustomEvent(v,Boolean(E.bubbles),Boolean(E.cancelable),E.detail),b},window.CustomEvent.prototype=window.Event.prototype),!window.Event||f&&typeof window.Event!="function"){var m=window.Event;window.Event=function(v,E){E=E||{};var b=document.createEvent("Event");return b.initEvent(v,Boolean(E.bubbles),Boolean(E.cancelable)),b},window.Event.prototype=m.prototype}}(),window.CustomElements=window.CustomElements||{flags:{}},function(c){var d=c.flags,h=[],f=function(v){h.push(v)},m=function(){h.forEach(function(v){v(c)})};c.addModule=f,c.initializeModules=m,c.hasNative=Boolean(document.registerElement),c.isIE=/Trident/.test(navigator.userAgent),c.useNative=!d.register&&c.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(c){function d(b,w){h(b,function(A){return w(A)?!0:void f(A,w)}),f(b,w)}function h(b,w,A){var y=b.firstElementChild;if(!y)for(y=b.firstChild;y&&y.nodeType!==Node.ELEMENT_NODE;)y=y.nextSibling;for(;y;)w(y,A)!==!0&&h(y,w,A),y=y.nextElementSibling;return null}function f(b,w){for(var A=b.shadowRoot;A;)d(A,w),A=A.olderShadowRoot}function m(b,w){v(b,w,[])}function v(b,w,A){if(b=window.wrap(b),!(A.indexOf(b)>=0)){A.push(b);for(var y,S=b.querySelectorAll("link[rel="+E+"]"),T=0,M=S.length;M>T&&(y=S[T]);T++)y.import&&v(y.import,w,A);w(b)}}var E=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";c.forDocumentTree=m,c.forSubtree=d}),window.CustomElements.addModule(function(c){function d($,N){return h($,N)||f($,N)}function h($,N){return c.upgrade($,N)?!0:void(N&&E($))}function f($,N){F($,function(V){return h(V,N)?!0:void 0})}function m($){B.push($),G||(G=!0,setTimeout(v))}function v(){G=!1;for(var $,N=B,V=0,q=N.length;q>V&&($=N[V]);V++)$();B=[]}function E($){Y?m(function(){b($)}):b($)}function b($){$.__upgraded__&&!$.__attached&&($.__attached=!0,$.attachedCallback&&$.attachedCallback())}function w($){A($),F($,function(N){A(N)})}function A($){Y?m(function(){y($)}):y($)}function y($){$.__upgraded__&&$.__attached&&($.__attached=!1,$.detachedCallback&&$.detachedCallback())}function S($){for(var N=$,V=window.wrap(document);N;){if(N==V)return!0;N=N.parentNode||N.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&N.host}}function T($){if($.shadowRoot&&!$.shadowRoot.__watched){R.dom&&console.log("watching shadow-root for: ",$.localName);for(var N=$.shadowRoot;N;)C(N),N=N.olderShadowRoot}}function M($,N){if(R.dom){var V=N[0];if(V&&V.type==="childList"&&V.addedNodes&&V.addedNodes){for(var q=V.addedNodes[0];q&&q!==document&&!q.host;)q=q.parentNode;var J=q&&(q.URL||q._URL||q.host&&q.host.localName)||"";J=J.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",N.length,J||"")}var ne=S($);N.forEach(function(ue){ue.type==="childList"&&(P(ue.addedNodes,function(pe){pe.localName&&d(pe,ne)}),P(ue.removedNodes,function(pe){pe.localName&&w(pe)}))}),R.dom&&console.groupEnd()}function D($){for($=window.wrap($),$||($=window.wrap(document));$.parentNode;)$=$.parentNode;var N=$.__observer;N&&(M($,N.takeRecords()),v())}function C($){if(!$.__observer){var N=new MutationObserver(M.bind(this,$));N.observe($,{childList:!0,subtree:!0}),$.__observer=N}}function k($){$=window.wrap($),R.dom&&console.group("upgradeDocument: ",$.baseURI.split("/").pop());var N=$===window.wrap(document);d($,N),C($),R.dom&&console.groupEnd()}function I($){j($,k)}var R=c.flags,F=c.forSubtree,j=c.forDocumentTree,Y=window.MutationObserver._isPolyfilled&&R["throttle-attached"];c.hasPolyfillMutations=Y,c.hasThrottledAttached=Y;var G=!1,B=[],P=Array.prototype.forEach.call.bind(Array.prototype.forEach),z=Element.prototype.createShadowRoot;z&&(Element.prototype.createShadowRoot=function(){var $=z.call(this);return window.CustomElements.watchShadow(this),$}),c.watchShadow=T,c.upgradeDocumentTree=I,c.upgradeDocument=k,c.upgradeSubtree=f,c.upgradeAll=d,c.attached=E,c.takeRecords=D}),window.CustomElements.addModule(function(c){function d(b,w){if(b.localName==="template"&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(b),!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var A=b.getAttribute("is"),y=c.getRegisteredDefinition(b.localName)||c.getRegisteredDefinition(A);if(y&&(A&&y.tag==b.localName||!A&&!y.extends))return h(b,y,w)}}function h(b,w,A){return E.upgrade&&console.group("upgrade:",b.localName),w.is&&b.setAttribute("is",w.is),f(b,w),b.__upgraded__=!0,v(b),A&&c.attached(b),c.upgradeSubtree(b,A),E.upgrade&&console.groupEnd(),b}function f(b,w){Object.__proto__||m(b,w.prototype,w.native),b.__proto__=w.prototype}function m(b,w,A){for(var y={},S=w;S!==A&&S!==HTMLElement.prototype;){for(var T,M=Object.getOwnPropertyNames(S),D=0;T=M[D];D++)y[T]||(Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(S,T)),y[T]=1);S=Object.getPrototypeOf(S)}}function v(b){b.createdCallback&&b.createdCallback()}var E=c.flags;c.upgrade=d,c.upgradeWithDefinition=h,c.implementPrototype=f}),window.CustomElements.addModule(function(c){function d($,N){var V=N||{};if(!$)throw new Error("document.registerElement: first argument `name` must not be empty");if($.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String($)+"'.");if(m($))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String($)+"'. The type name is invalid.");if(A($))throw new Error("DuplicateDefinitionError: a type with name '"+String($)+"' is already registered");return V.prototype||(V.prototype=Object.create(HTMLElement.prototype)),V.__name=$.toLowerCase(),V.extends&&(V.extends=V.extends.toLowerCase()),V.lifecycle=V.lifecycle||{},V.ancestry=v(V.extends),E(V),b(V),h(V.prototype),y(V.__name,V),V.ctor=S(V),V.ctor.prototype=V.prototype,V.prototype.constructor=V.ctor,c.ready&&k(document),V.ctor}function h($){if(!$.setAttribute._polyfilled){var N=$.setAttribute;$.setAttribute=function(q,J){f.call(this,q,J,N)};var V=$.removeAttribute;$.removeAttribute=function(q){f.call(this,q,null,V)},$.setAttribute._polyfilled=!0}}function f($,N,V){$=$.toLowerCase();var q=this.getAttribute($);V.apply(this,arguments);var J=this.getAttribute($);this.attributeChangedCallback&&J!==q&&this.attributeChangedCallback($,q,J)}function m($){for(var N=0;N<Y.length;N++)if($===Y[N])return!0}function v($){var N=A($);return N?v(N.extends).concat([N]):[]}function E($){for(var N,V=$.extends,q=0;N=$.ancestry[q];q++)V=N.is&&N.tag;$.tag=V||$.__name,V&&($.is=$.__name)}function b($){if(!Object.__proto__){var N=HTMLElement.prototype;if($.is){var V=document.createElement($.tag);N=Object.getPrototypeOf(V)}for(var q,J=$.prototype,ne=!1;J;)J==N&&(ne=!0),q=Object.getPrototypeOf(J),q&&(J.__proto__=q),J=q;ne||console.warn($.tag+" prototype not found in prototype chain for "+$.is),$.native=N}}function w($){return R(P($.tag),$)}function A($){return $?G[$.toLowerCase()]:void 0}function y($,N){G[$]=N}function S($){return function(){return w($)}}function T($,N,V){return $===B?M(N,V):z($,N)}function M($,N){$&&($=$.toLowerCase()),N&&(N=N.toLowerCase());var V=A(N||$);if(V){if($==V.tag&&N==V.is)return new V.ctor;if(!N&&!V.is)return new V.ctor}var q;return N?(q=M($),q.setAttribute("is",N),q):(q=P($),$.indexOf("-")>=0&&F(q,HTMLElement),q)}function D($,N){var V=$[N];$[N]=function(){var q=V.apply(this,arguments);return I(q),q}}var C,k=(c.isIE,c.upgradeDocumentTree),I=c.upgradeAll,R=c.upgradeWithDefinition,F=c.implementPrototype,j=c.useNative,Y=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],G={},B="http://www.w3.org/1999/xhtml",P=document.createElement.bind(document),z=document.createElementNS.bind(document);C=Object.__proto__||j?function($,N){return $ instanceof N}:function($,N){if($ instanceof N)return!0;for(var V=$;V;){if(V===N.prototype)return!0;V=V.__proto__}return!1},D(Node.prototype,"cloneNode"),D(document,"importNode"),document.registerElement=d,document.createElement=M,document.createElementNS=T,c.registry=G,c.instanceof=C,c.reservedTagList=Y,c.getRegisteredDefinition=A,document.register=document.registerElement}),function(c){function d(){v(window.wrap(document)),window.CustomElements.ready=!0;var w=window.requestAnimationFrame||function(A){setTimeout(A,16)};w(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var h=c.useNative,f=c.initializeModules;if(c.isIE,h){var m=function(){};c.watchShadow=m,c.upgrade=m,c.upgradeAll=m,c.upgradeDocumentTree=m,c.upgradeSubtree=m,c.takeRecords=m,c.instanceof=function(w,A){return w instanceof A}}else f();var v=c.upgradeDocumentTree,E=c.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(w){return w}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(w){w.import&&E(wrap(w.import))}),document.readyState==="complete"||c.flags.eager)d();else if(document.readyState!=="interactive"||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var b=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(b,d)}else d()}(window.CustomElements))}.call(t),function(){}.call(t),function(){var r=this;(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\uFEFF",NON_BREAKING_SPACE:" ",OBJECT_REPLACEMENT_CHARACTER:"￼",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var l,c,d,h;if(typeof InputEvent>"u")return!1;for(h=["data","getTargetRanges","inputType"],l=0,c=h.length;c>l;l++)if(d=h[l],!(d in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(r);var o=r.Trix;(function(){(function(){o.BasicObject=function(){function l(){}var c,d,h;return l.proxyMethod=function(f){var m,v,E,b,w;return E=d(f),m=E.name,b=E.toMethod,w=E.toProperty,v=E.optional,this.prototype[m]=function(){var A,y;return A=b!=null?v?typeof this[b]=="function"?this[b]():void 0:this[b]():w!=null?this[w]:void 0,v?(y=A?.[m],y!=null?c.call(y,A,arguments):void 0):(y=A[m],c.call(y,A,arguments))}},d=function(f){var m,v;if(!(v=f.match(h)))throw new Error("can't parse @proxyMethod expression: "+f);return m={name:v[4]},v[2]!=null?m.toMethod=v[1]:m.toProperty=v[1],v[3]!=null&&(m.optional=!0),m},c=Function.prototype.apply,h=/^(.+?)(\(\))?(\?)?\.(.+?)$/,l}()}).call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.Object=function(d){function h(){this.id=++f}var f;return l(h,d),f=0,h.fromJSONString=function(m){return this.fromJSON(JSON.parse(m))},h.prototype.hasSameConstructorAs=function(m){return this.constructor===m?.constructor},h.prototype.isEqualTo=function(m){return this===m},h.prototype.inspect=function(){var m,v,E;return m=function(){var b,w,A;w=(b=this.contentsForInspection())!=null?b:{},A=[];for(v in w)E=w[v],A.push(v+"="+E);return A}.call(this),"#<"+this.constructor.name+":"+this.id+(m.length?" "+m.join(", "):"")+">"},h.prototype.contentsForInspection=function(){},h.prototype.toJSONString=function(){return JSON.stringify(this)},h.prototype.toUTF16String=function(){return o.UTF16String.box(this)},h.prototype.getCacheKey=function(){return this.id.toString()},h}(o.BasicObject)}.call(this),function(){o.extend=function(l){var c,d;for(c in l)d=l[c],this[c]=d;return this}}.call(this),function(){o.extend({defer:function(l){return setTimeout(l,1)}})}.call(this),function(){var l,c;o.extend({normalizeSpaces:function(d){return d.replace(RegExp(""+o.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+o.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(d){return d.replace(/\r\n/g,`
`)},breakableWhitespacePattern:RegExp("[^\\S"+o.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(d){return d.replace(RegExp(""+o.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(d,h){var f,m,v,E;return d=o.UTF16String.box(d),h=o.UTF16String.box(h),h.length<d.length?(m=c(d,h),E=m[0],f=m[1]):(v=c(h,d),f=v[0],E=v[1]),{added:f,removed:E}}}),c=function(d,h){var f,m,v,E,b;return d.isEqualTo(h)?["",""]:(m=l(d,h),E=m.utf16String.length,v=E?(b=m.offset,f=d.codepoints.slice(0,b).concat(d.codepoints.slice(b+E)),l(h,o.UTF16String.fromCodepoints(f))):l(h,d),[m.utf16String.toString(),v.utf16String.toString()])},l=function(d,h){var f,m,v;for(f=0,m=d.length,v=h.length;m>f&&d.charAt(f).isEqualTo(h.charAt(f));)f++;for(;m>f+1&&d.charAt(m-1).isEqualTo(h.charAt(v-1));)m--,v--;return{utf16String:d.slice(f,m),offset:f}}}.call(this),function(){o.extend({copyObject:function(l){var c,d,h;l==null&&(l={}),d={};for(c in l)h=l[c],d[c]=h;return d},objectsAreEqual:function(l,c){var d,h;if(l==null&&(l={}),c==null&&(c={}),Object.keys(l).length!==Object.keys(c).length)return!1;for(d in l)if(h=l[d],h!==c[d])return!1;return!0}})}.call(this),function(){var l=[].slice;o.extend({arraysAreEqual:function(c,d){var h,f,m,v;if(c==null&&(c=[]),d==null&&(d=[]),c.length!==d.length)return!1;for(f=h=0,m=c.length;m>h;f=++h)if(v=c[f],v!==d[f])return!1;return!0},arrayStartsWith:function(c,d){return c==null&&(c=[]),d==null&&(d=[]),o.arraysAreEqual(c.slice(0,d.length),d)},spliceArray:function(){var c,d,h;return d=arguments[0],c=2<=arguments.length?l.call(arguments,1):[],h=d.slice(0),h.splice.apply(h,c),h},summarizeArrayChange:function(c,d){var h,f,m,v,E,b,w,A,y,S,T;for(c==null&&(c=[]),d==null&&(d=[]),h=[],S=[],m=new Set,v=0,w=c.length;w>v;v++)T=c[v],m.add(T);for(f=new Set,E=0,A=d.length;A>E;E++)T=d[E],f.add(T),m.has(T)||h.push(T);for(b=0,y=c.length;y>b;b++)T=c[b],f.has(T)||S.push(T);return{added:h,removed:S}}})}.call(this),function(){var l,c,d,h;l=null,c=null,h=null,d=null,o.extend({getAllAttributeNames:function(){return l??(l=o.getTextAttributeNames().concat(o.getBlockAttributeNames()))},getBlockConfig:function(f){return o.config.blockAttributes[f]},getBlockAttributeNames:function(){return c??(c=Object.keys(o.config.blockAttributes))},getTextConfig:function(f){return o.config.textAttributes[f]},getTextAttributeNames:function(){return h??(h=Object.keys(o.config.textAttributes))},getListAttributeNames:function(){var f,m;return d??(d=function(){var v,E;v=o.config.blockAttributes,E=[];for(f in v)m=v[f].listAttribute,m!=null&&E.push(m);return E}())}})}.call(this),function(){var l,c,d,h,f,m=[].indexOf||function(v){for(var E=0,b=this.length;b>E;E++)if(E in this&&this[E]===v)return E;return-1};l=document.documentElement,c=(d=(h=(f=l.matchesSelector)!=null?f:l.webkitMatchesSelector)!=null?h:l.msMatchesSelector)!=null?d:l.mozMatchesSelector,o.extend({handleEvent:function(v,E){var b,w,A,y,S,T,M,D,C,k,I;return M=E??{},S=M.onElement,y=M.matchingSelector,I=M.withCallback,A=M.inPhase,T=M.preventDefault,C=M.times,b=S??l,D=y,k=A==="capturing",w=function(R){var F;return C!=null&&--C===0&&w.destroy(),F=o.findClosestElementFromNode(R.target,{matchingSelector:D}),F!=null&&(I?.call(F,R,F),T)?R.preventDefault():void 0},w.destroy=function(){return b.removeEventListener(v,w,k)},b.addEventListener(v,w,k),w},handleEventOnce:function(v,E){return E==null&&(E={}),E.times=1,o.handleEvent(v,E)},triggerEvent:function(v,E){var b,w,A,y,S,T,M;return M=E??{},T=M.onElement,w=M.bubbles,A=M.cancelable,b=M.attributes,y=T??l,w=w!==!1,A=A!==!1,S=document.createEvent("Events"),S.initEvent(v,w,A),b!=null&&o.extend.call(S,b),y.dispatchEvent(S)},elementMatchesSelector:function(v,E){return v?.nodeType===1?c.call(v,E):void 0},findClosestElementFromNode:function(v,E){var b,w,A;for(w=E??{},b=w.matchingSelector,A=w.untilNode;v!=null&&v.nodeType!==Node.ELEMENT_NODE;)v=v.parentNode;if(v!=null){if(b==null)return v;if(v.closest&&A==null)return v.closest(b);for(;v&&v!==A;){if(o.elementMatchesSelector(v,b))return v;v=v.parentNode}}},findInnerElement:function(v){for(;v?.firstElementChild;)v=v.firstElementChild;return v},innerElementIsActive:function(v){return document.activeElement!==v&&o.elementContainsNode(v,document.activeElement)},elementContainsNode:function(v,E){if(v&&E)for(;E;){if(E===v)return!0;E=E.parentNode}},findNodeFromContainerAndOffset:function(v,E){var b;if(v)return v.nodeType===Node.TEXT_NODE?v:E===0?(b=v.firstChild)!=null?b:v:v.childNodes.item(E-1)},findElementFromContainerAndOffset:function(v,E){var b;return b=o.findNodeFromContainerAndOffset(v,E),o.findClosestElementFromNode(b)},findChildIndexOfNode:function(v){var E;if(v?.parentNode){for(E=0;v=v.previousSibling;)E++;return E}},removeNode:function(v){var E;return v!=null&&(E=v.parentNode)!=null?E.removeChild(v):void 0},walkTree:function(v,E){var b,w,A,y,S;return A=E??{},w=A.onlyNodesOfType,y=A.usingFilter,b=A.expandEntityReferences,S=function(){switch(w){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(v,S,y??null,b===!0)},tagName:function(v){var E;return v!=null&&(E=v.tagName)!=null?E.toLowerCase():void 0},makeElement:function(v,E){var b,w,A,y,S,T,M,D,C,k,I,R,F,j;if(E==null&&(E={}),typeof v=="object"?(E=v,v=E.tagName):E={attributes:E},A=document.createElement(v),E.editable!=null&&(E.attributes==null&&(E.attributes={}),E.attributes.contenteditable=E.editable),E.attributes){C=E.attributes;for(T in C)j=C[T],A.setAttribute(T,j)}if(E.style){k=E.style;for(T in k)j=k[T],A.style[T]=j}if(E.data){I=E.data;for(T in I)j=I[T],A.dataset[T]=j}if(E.className)for(R=E.className.split(" "),y=0,M=R.length;M>y;y++)w=R[y],A.classList.add(w);if(E.textContent&&(A.textContent=E.textContent),E.childNodes)for(F=[].concat(E.childNodes),S=0,D=F.length;D>S;S++)b=F[S],A.appendChild(b);return A},getBlockTagNames:function(){var v,E;return o.blockTagNames!=null?o.blockTagNames:o.blockTagNames=function(){var b,w;b=o.config.blockAttributes,w=[];for(v in b)E=b[v].tagName,E&&w.push(E);return w}()},nodeIsBlockContainer:function(v){return o.nodeIsBlockStartComment(v?.firstChild)},nodeProbablyIsBlockContainer:function(v){var E,b;return E=o.tagName(v),m.call(o.getBlockTagNames(),E)>=0&&(b=o.tagName(v.firstChild),m.call(o.getBlockTagNames(),b)<0)},nodeIsBlockStart:function(v,E){var b;return b=(E??{strict:!0}).strict,b?o.nodeIsBlockStartComment(v):o.nodeIsBlockStartComment(v)||!o.nodeIsBlockStartComment(v.firstChild)&&o.nodeProbablyIsBlockContainer(v)},nodeIsBlockStartComment:function(v){return o.nodeIsCommentNode(v)&&v?.data==="block"},nodeIsCommentNode:function(v){return v?.nodeType===Node.COMMENT_NODE},nodeIsCursorTarget:function(v,E){var b;return b=(E??{}).name,v?o.nodeIsTextNode(v)?v.data===o.ZERO_WIDTH_SPACE?b?v.parentNode.dataset.trixCursorTarget===b:!0:void 0:o.nodeIsCursorTarget(v.firstChild):void 0},nodeIsAttachmentElement:function(v){return o.elementMatchesSelector(v,o.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(v){return o.nodeIsTextNode(v)&&v?.data===""},nodeIsTextNode:function(v){return v?.nodeType===Node.TEXT_NODE}})}.call(this),function(){var l,c,d,h,f;l=o.copyObject,h=o.objectsAreEqual,o.extend({normalizeRange:d=function(m){var v;if(m!=null)return Array.isArray(m)||(m=[m,m]),[c(m[0]),c((v=m[1])!=null?v:m[0])]},rangeIsCollapsed:function(m){var v,E,b;if(m!=null)return E=d(m),b=E[0],v=E[1],f(b,v)},rangesAreEqual:function(m,v){var E,b,w,A,y,S;if(m!=null&&v!=null)return w=d(m),b=w[0],E=w[1],A=d(v),S=A[0],y=A[1],f(b,S)&&f(E,y)}}),c=function(m){return typeof m=="number"?m:l(m)},f=function(m,v){return typeof m=="number"?m===v:h(m,v)}}.call(this),function(){var l,c,d,h,f,m,v;o.registerElement=function(E,b){var w,A;return b==null&&(b={}),E=E.toLowerCase(),b=v(b),A=m(b),(w=A.defaultCSS)&&(delete A.defaultCSS,h(w,E)),f(E,A)},h=function(E,b){var w;return w=d(b),w.textContent=E.replace(/%t/g,b)},d=function(E){var b,w;return b=document.createElement("style"),b.setAttribute("type","text/css"),b.setAttribute("data-tag-name",E.toLowerCase()),(w=l())&&b.setAttribute("nonce",w),document.head.insertBefore(b,document.head.firstChild),b},l=function(){var E;return(E=c("trix-csp-nonce")||c("csp-nonce"))?E.getAttribute("content"):void 0},c=function(E){return document.head.querySelector("meta[name="+E+"]")},m=function(E){var b,w,A;w={};for(b in E)A=E[b],w[b]=typeof A=="function"?{value:A}:A;return w},v=function(){var E;return E=function(b){var w,A,y,S,T;for(w={},T=["initialize","connect","disconnect"],A=0,S=T.length;S>A;A++)y=T[A],w[y]=b[y],delete b[y];return w},window.customElements?function(b){var w,A,y,S,T;return T=E(b),y=T.initialize,w=T.connect,A=T.disconnect,y&&(S=w,w=function(){return this.initialized||(this.initialized=!0,y.call(this)),S?.call(this)}),w&&(b.connectedCallback=w),A&&(b.disconnectedCallback=A),b}:function(b){var w,A,y,S;return S=E(b),y=S.initialize,w=S.connect,A=S.disconnect,y&&(b.createdCallback=y),w&&(b.attachedCallback=w),A&&(b.detachedCallback=A),b}}(),f=function(){return window.customElements?function(E,b){var w;return w=function(){return typeof Reflect=="object"?Reflect.construct(HTMLElement,[],w):HTMLElement.apply(this)},Object.setPrototypeOf(w.prototype,HTMLElement.prototype),Object.setPrototypeOf(w,HTMLElement),Object.defineProperties(w.prototype,b),window.customElements.define(E,w),w}:function(E,b){var w,A;return A=Object.create(HTMLElement.prototype,b),w=document.registerElement(E,{prototype:A}),Object.defineProperty(A,"constructor",{value:w}),w}}()}.call(this),function(){var l,c;o.extend({getDOMSelection:function(){var d;return d=window.getSelection(),d.rangeCount>0?d:void 0},getDOMRange:function(){var d,h;return(d=(h=o.getDOMSelection())!=null?h.getRangeAt(0):void 0)&&!l(d)?d:void 0},setDOMRange:function(d){var h;return h=window.getSelection(),h.removeAllRanges(),h.addRange(d),o.selectionChangeObserver.update()}}),l=function(d){return c(d.startContainer)||c(d.endContainer)},c=function(d){return!Object.getPrototypeOf(d)}}.call(this),function(){var l;l={"application/x-trix-feature-detection":"test"},o.extend({dataTransferIsPlainText:function(c){var d,h,f;return f=c.getData("text/plain"),h=c.getData("text/html"),f&&h?(d=new DOMParser().parseFromString(h,"text/html").body,d.textContent===f?!d.querySelector("*"):void 0):f?.length},dataTransferIsWritable:function(c){var d,h;if(c?.setData!=null){for(d in l)if(h=l[d],!function(){try{return c.setData(d,h),c.getData(d)===h}catch{}}())return;return!0}},keyEventIsKeyboardCommand:function(){return/Mac|^iP/.test(navigator.platform)?function(c){return c.metaKey}:function(c){return c.ctrlKey}}()})}.call(this),function(){o.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:function(){var l,c,d,h;return c=o.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),l=o.makeElement("form"),l.appendChild(c),d=function(){try{return new FormData(l).has(c.dirName)}catch{}}(),h=function(){try{return c.matches(":dir(ltr),:dir(rtl)")}catch{}}(),d?function(f){return c.value=f,new FormData(l).get(c.dirName)}:h?function(f){return c.value=f,c.matches(":dir(rtl)")?"rtl":"ltr"}:function(f){var m;return m=f.trim().charAt(0),o.RTL_PATTERN.test(m)?"rtl":"ltr"}}()})}.call(this),function(){}.call(this),function(){var l,c=function(h,f){function m(){this.constructor=h}for(var v in f)d.call(f,v)&&(h[v]=f[v]);return m.prototype=f.prototype,h.prototype=new m,h.__super__=f.prototype,h},d={}.hasOwnProperty;l=o.arraysAreEqual,o.Hash=function(h){function f(A){A==null&&(A={}),this.values=v(A),f.__super__.constructor.apply(this,arguments)}var m,v,E,b,w;return c(f,h),f.fromCommonAttributesOfObjects=function(A){var y,S,T,M,D,C;if(A==null&&(A=[]),!A.length)return new this;for(y=m(A[0]),T=y.getKeys(),C=A.slice(1),S=0,M=C.length;M>S;S++)D=C[S],T=y.getKeysCommonToHash(m(D)),y=y.slice(T);return y},f.box=function(A){return m(A)},f.prototype.add=function(A,y){return this.merge(b(A,y))},f.prototype.remove=function(A){return new o.Hash(v(this.values,A))},f.prototype.get=function(A){return this.values[A]},f.prototype.has=function(A){return A in this.values},f.prototype.merge=function(A){return new o.Hash(E(this.values,w(A)))},f.prototype.slice=function(A){var y,S,T,M;for(M={},y=0,T=A.length;T>y;y++)S=A[y],this.has(S)&&(M[S]=this.values[S]);return new o.Hash(M)},f.prototype.getKeys=function(){return Object.keys(this.values)},f.prototype.getKeysCommonToHash=function(A){var y,S,T,M,D;for(A=m(A),M=this.getKeys(),D=[],y=0,T=M.length;T>y;y++)S=M[y],this.values[S]===A.values[S]&&D.push(S);return D},f.prototype.isEqualTo=function(A){return l(this.toArray(),m(A).toArray())},f.prototype.isEmpty=function(){return this.getKeys().length===0},f.prototype.toArray=function(){var A,y,S;return(this.array!=null?this.array:this.array=function(){var T;y=[],T=this.values;for(A in T)S=T[A],y.push(A,S);return y}.call(this)).slice(0)},f.prototype.toObject=function(){return v(this.values)},f.prototype.toJSON=function(){return this.toObject()},f.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},b=function(A,y){var S;return S={},S[A]=y,S},E=function(A,y){var S,T,M;T=v(A);for(S in y)M=y[S],T[S]=M;return T},v=function(A,y){var S,T,M,D,C;for(D={},C=Object.keys(A).sort(),S=0,M=C.length;M>S;S++)T=C[S],T!==y&&(D[T]=A[T]);return D},m=function(A){return A instanceof o.Hash?A:new o.Hash(A)},w=function(A){return A instanceof o.Hash?A.values:A},f}(o.Object)}.call(this),function(){o.ObjectGroup=function(){function l(c,d){var h,f;this.objects=c??[],f=d.depth,h=d.asTree,h&&(this.depth=f,this.objects=this.constructor.groupObjects(this.objects,{asTree:h,depth:this.depth+1}))}return l.groupObjects=function(c,d){var h,f,m,v,E,b,w,A,y;for(c==null&&(c=[]),y=d??{},m=y.depth,h=y.asTree,h&&m==null&&(m=0),A=[],E=0,b=c.length;b>E;E++){if(w=c[E],v){if(typeof w.canBeGrouped=="function"&&w.canBeGrouped(m)&&(typeof(f=v[v.length-1]).canBeGroupedWith=="function"&&f.canBeGroupedWith(w,m))){v.push(w);continue}A.push(new this(v,{depth:m,asTree:h})),v=null}typeof w.canBeGrouped=="function"&&w.canBeGrouped(m)?v=[w]:A.push(w)}return v&&A.push(new this(v,{depth:m,asTree:h})),A},l.prototype.getObjects=function(){return this.objects},l.prototype.getDepth=function(){return this.depth},l.prototype.getCacheKey=function(){var c,d,h,f,m;for(d=["objectGroup"],m=this.getObjects(),c=0,h=m.length;h>c;c++)f=m[c],d.push(f.getCacheKey());return d.join("/")},l}()}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.ObjectMap=function(d){function h(f){var m,v,E,b,w;for(f==null&&(f=[]),this.objects={},E=0,b=f.length;b>E;E++)w=f[E],v=JSON.stringify(w),(m=this.objects)[v]==null&&(m[v]=w)}return l(h,d),h.prototype.find=function(f){var m;return m=JSON.stringify(f),this.objects[m]},h}(o.BasicObject)}.call(this),function(){o.ElementStore=function(){function l(d){this.reset(d)}var c;return l.prototype.add=function(d){var h;return h=c(d),this.elements[h]=d},l.prototype.remove=function(d){var h,f;return h=c(d),(f=this.elements[h])?(delete this.elements[h],f):void 0},l.prototype.reset=function(d){var h,f,m;for(d==null&&(d=[]),this.elements={},f=0,m=d.length;m>f;f++)h=d[f],this.add(h);return d},c=function(d){return d.dataset.trixStoreKey},l}()}.call(this),function(){}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.Operation=function(d){function h(){return h.__super__.constructor.apply(this,arguments)}return l(h,d),h.prototype.isPerforming=function(){return this.performing===!0},h.prototype.hasPerformed=function(){return this.performed===!0},h.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},h.prototype.hasFailed=function(){return this.performed&&!this.succeeded},h.prototype.getPromise=function(){return this.promise!=null?this.promise:this.promise=new Promise(function(f){return function(m,v){return f.performing=!0,f.perform(function(E,b){return f.succeeded=E,f.performing=!1,f.performed=!0,f.succeeded?m(b):v(b)})}}(this))},h.prototype.perform=function(f){return f(!1)},h.prototype.release=function(){var f;return(f=this.promise)!=null&&typeof f.cancel=="function"&&f.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},h.proxyMethod("getPromise().then"),h.proxyMethod("getPromise().catch"),h}(o.BasicObject)}.call(this),function(){var l,c,d,h,f,m=function(E,b){function w(){this.constructor=E}for(var A in b)v.call(b,A)&&(E[A]=b[A]);return w.prototype=b.prototype,E.prototype=new w,E.__super__=b.prototype,E},v={}.hasOwnProperty;o.UTF16String=function(E){function b(w,A){this.ucs2String=w,this.codepoints=A,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return m(b,E),b.box=function(w){return w==null&&(w=""),w instanceof this?w:this.fromUCS2String(w?.toString())},b.fromUCS2String=function(w){return new this(w,h(w))},b.fromCodepoints=function(w){return new this(f(w),w)},b.prototype.offsetToUCS2Offset=function(w){return f(this.codepoints.slice(0,Math.max(0,w))).length},b.prototype.offsetFromUCS2Offset=function(w){return h(this.ucs2String.slice(0,Math.max(0,w))).length},b.prototype.slice=function(){var w;return this.constructor.fromCodepoints((w=this.codepoints).slice.apply(w,arguments))},b.prototype.charAt=function(w){return this.slice(w,w+1)},b.prototype.isEqualTo=function(w){return this.constructor.box(w).ucs2String===this.ucs2String},b.prototype.toJSON=function(){return this.ucs2String},b.prototype.getCacheKey=function(){return this.ucs2String},b.prototype.toString=function(){return this.ucs2String},b}(o.BasicObject),l=(typeof Array.from=="function"?Array.from("👼").length:void 0)===1,c=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,d=(typeof String.fromCodePoint=="function"?String.fromCodePoint(32,128124):void 0)===" 👼",h=l&&c?function(E){return Array.from(E).map(function(b){return b.codePointAt(0)})}:function(E){var b,w,A,y,S;for(y=[],b=0,A=E.length;A>b;)S=E.charCodeAt(b++),S>=55296&&56319>=S&&A>b&&(w=E.charCodeAt(b++),(64512&w)===56320?S=((1023&S)<<10)+(1023&w)+65536:b--),y.push(S);return y},f=d?function(E){return String.fromCodePoint.apply(String,E)}:function(E){var b,w,A;return b=function(){var y,S,T;for(T=[],y=0,S=E.length;S>y;y++)A=E[y],w="",A>65535&&(A-=65536,w+=String.fromCharCode(A>>>10&1023|55296),A=56320|1023&A),T.push(w+String.fromCharCode(A));return T}(),b.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){o.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){o.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var l;o.config.blockAttributes=l={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(c){return o.tagName(c.parentNode)===l[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(c){return o.tagName(c.parentNode)===l[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var l,c;l=o.config.lang,c=[l.bytes,l.KB,l.MB,l.GB,l.TB,l.PB],o.config.fileSize={prefix:"IEC",precision:2,formatter:function(d){var h,f,m,v,E;switch(d){case 0:return"0 "+l.bytes;case 1:return"1 "+l.byte;default:return h=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),f=Math.floor(Math.log(d)/Math.log(h)),m=d/Math.pow(h,f),v=m.toFixed(this.precision),E=v.replace(/0*$/,"").replace(/\.$/,""),E+" "+c[f]}}}}.call(this),function(){o.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(l){var c;return c=window.getComputedStyle(l),c.fontWeight==="bold"||c.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(l){var c;return c=window.getComputedStyle(l),c.fontStyle==="italic"}},href:{groupTagName:"a",parser:function(l){var c,d,h;return c=o.AttachmentView.attachmentSelector,h="a:not("+c+")",(d=o.findClosestElementFromNode(l,{matchingSelector:h}))?d.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var l,c,d,h,f;f="[data-trix-serialize=false]",h=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],c="data-trix-serialized-attributes",d="["+c+"]",l=new RegExp("<!--block-->","g"),o.extend({serializers:{"application/json":function(m){var v;if(m instanceof o.Document)v=m;else{if(!(m instanceof HTMLElement))throw new Error("unserializable object");v=o.Document.fromHTML(m.innerHTML)}return v.toSerializableDocument().toJSONString()},"text/html":function(m){var v,E,b,w,A,y,S,T,M,D,C,k,I,R,F,j,Y;if(m instanceof o.Document)w=o.DocumentView.render(m);else{if(!(m instanceof HTMLElement))throw new Error("unserializable object");w=m.cloneNode(!0)}for(R=w.querySelectorAll(f),A=0,M=R.length;M>A;A++)b=R[A],o.removeNode(b);for(y=0,D=h.length;D>y;y++)for(v=h[y],F=w.querySelectorAll("["+v+"]"),S=0,C=F.length;C>S;S++)b=F[S],b.removeAttribute(v);for(j=w.querySelectorAll(d),T=0,k=j.length;k>T;T++){b=j[T];try{E=JSON.parse(b.getAttribute(c)),b.removeAttribute(c);for(I in E)Y=E[I],b.setAttribute(I,Y)}catch{}}return w.innerHTML.replace(l,"")}},deserializers:{"application/json":function(m){return o.Document.fromJSONString(m)},"text/html":function(m){return o.Document.fromHTML(m)}},serializeToContentType:function(m,v){var E;if(E=o.serializers[v])return E(m);throw new Error("unknown content type: "+v)},deserializeFromContentType:function(m,v){var E;if(E=o.deserializers[v])return E(m);throw new Error("unknown content type: "+v)}})}.call(this),function(){var l;l=o.config.lang,o.config.toolbar={getDefaultHTML:function(){return`<div class="trix-button-row">
  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`+l.bold+'" tabindex="-1">'+l.bold+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`+l.italic+'" tabindex="-1">'+l.italic+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`+l.strike+'" tabindex="-1">'+l.strike+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`+l.link+'" tabindex="-1">'+l.link+`</button>
  </span>

  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`+l.heading1+'" tabindex="-1">'+l.heading1+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`+l.quote+'" tabindex="-1">'+l.quote+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`+l.code+'" tabindex="-1">'+l.code+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`+l.bullets+'" tabindex="-1">'+l.bullets+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`+l.numbers+'" tabindex="-1">'+l.numbers+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`+l.outdent+'" tabindex="-1">'+l.outdent+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`+l.indent+'" tabindex="-1">'+l.indent+`</button>
  </span>

  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`+l.attachFiles+'" tabindex="-1">'+l.attachFiles+`</button>
  </span>

  <span class="trix-button-group-spacer"></span>

  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`+l.undo+'" tabindex="-1">'+l.undo+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`+l.redo+'" tabindex="-1">'+l.redo+`</button>
  </span>
</div>

<div class="trix-dialogs" data-trix-dialogs>
  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
    <div class="trix-dialog__link-fields">
      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`+l.urlPlaceholder+'" aria-label="'+l.url+`" required data-trix-input>
      <div class="trix-button-group">
        <input type="button" class="trix-button trix-button--dialog" value="`+l.link+`" data-trix-method="setAttribute">
        <input type="button" class="trix-button trix-button--dialog" value="`+l.unlink+`" data-trix-method="removeAttribute">
      </div>
    </div>
  </div>
</div>`}}}.call(this),function(){o.config.undoInterval=5e3}.call(this),function(){o.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){o.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){o.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&o.browser.supportsInputEvents?2:0},pickFiles:function(l){var c;return c=o.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId}),c.addEventListener("change",function(){return l(c.files),o.removeNode(c)}),o.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(c),c.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){o.registerElement("trix-toolbar",{defaultCSS:`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`,initialize:function(){return this.innerHTML===""?this.innerHTML=o.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var l=function(h,f){function m(){this.constructor=h}for(var v in f)c.call(f,v)&&(h[v]=f[v]);return m.prototype=f.prototype,h.prototype=new m,h.__super__=f.prototype,h},c={}.hasOwnProperty,d=[].indexOf||function(h){for(var f=0,m=this.length;m>f;f++)if(f in this&&this[f]===h)return f;return-1};o.ObjectView=function(h){function f(m,v){this.object=m,this.options=v??{},this.childViews=[],this.rootView=this}return l(f,h),f.prototype.getNodes=function(){var m,v,E,b,w;for(this.nodes==null&&(this.nodes=this.createNodes()),b=this.nodes,w=[],m=0,v=b.length;v>m;m++)E=b[m],w.push(E.cloneNode(!0));return w},f.prototype.invalidate=function(){var m;return this.nodes=null,this.childViews=[],(m=this.parentView)!=null?m.invalidate():void 0},f.prototype.invalidateViewForObject=function(m){var v;return(v=this.findViewForObject(m))!=null?v.invalidate():void 0},f.prototype.findOrCreateCachedChildView=function(m,v){var E;return(E=this.getCachedViewForObject(v))?this.recordChildView(E):(E=this.createChildView.apply(this,arguments),this.cacheViewForObject(E,v)),E},f.prototype.createChildView=function(m,v,E){var b;return E==null&&(E={}),v instanceof o.ObjectGroup&&(E.viewClass=m,m=o.ObjectGroupView),b=new m(v,E),this.recordChildView(b)},f.prototype.recordChildView=function(m){return m.parentView=this,m.rootView=this.rootView,this.childViews.push(m),m},f.prototype.getAllChildViews=function(){var m,v,E,b,w;for(w=[],b=this.childViews,v=0,E=b.length;E>v;v++)m=b[v],w.push(m),w=w.concat(m.getAllChildViews());return w},f.prototype.findElement=function(){return this.findElementForObject(this.object)},f.prototype.findElementForObject=function(m){var v;return(v=m?.id)?this.rootView.element.querySelector("[data-trix-id='"+v+"']"):void 0},f.prototype.findViewForObject=function(m){var v,E,b,w;for(b=this.getAllChildViews(),v=0,E=b.length;E>v;v++)if(w=b[v],w.object===m)return w},f.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?this.viewCache!=null?this.viewCache:this.viewCache={}:void 0},f.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},f.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},f.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},f.prototype.getCachedViewForObject=function(m){var v;return(v=this.getViewCache())!=null?v[m.getCacheKey()]:void 0},f.prototype.cacheViewForObject=function(m,v){var E;return(E=this.getViewCache())!=null?E[v.getCacheKey()]=m:void 0},f.prototype.garbageCollectCachedViews=function(){var m,v,E,b,w,A;if(m=this.getViewCache()){A=this.getAllChildViews().concat(this),E=function(){var y,S,T;for(T=[],y=0,S=A.length;S>y;y++)w=A[y],T.push(w.object.getCacheKey());return T}(),b=[];for(v in m)d.call(E,v)<0&&b.push(delete m[v]);return b}},f}(o.BasicObject)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.ObjectGroupView=function(d){function h(){h.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return l(h,d),h.prototype.getChildViews=function(){var f,m,v,E;if(!this.childViews.length)for(E=this.objectGroup.getObjects(),f=0,m=E.length;m>f;f++)v=E[f],this.findOrCreateCachedChildView(this.viewClass,v,this.options);return this.childViews},h.prototype.createNodes=function(){var f,m,v,E,b,w,A,y,S;for(f=this.createContainerElement(),A=this.getChildViews(),m=0,E=A.length;E>m;m++)for(S=A[m],y=S.getNodes(),v=0,b=y.length;b>v;v++)w=y[v],f.appendChild(w);return[f]},h.prototype.createContainerElement=function(f){return f==null&&(f=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(f)},h}(o.ObjectView)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.Controller=function(d){function h(){return h.__super__.constructor.apply(this,arguments)}return l(h,d),h}(o.BasicObject)}.call(this),function(){var l,c,d,h,f,m,v=function(A,y){return function(){return A.apply(y,arguments)}},E=function(A,y){function S(){this.constructor=A}for(var T in y)b.call(y,T)&&(A[T]=y[T]);return S.prototype=y.prototype,A.prototype=new S,A.__super__=y.prototype,A},b={}.hasOwnProperty,w=[].indexOf||function(A){for(var y=0,S=this.length;S>y;y++)if(y in this&&this[y]===A)return y;return-1};l=o.findClosestElementFromNode,d=o.nodeIsEmptyTextNode,c=o.nodeIsBlockStartComment,h=o.normalizeSpaces,f=o.summarizeStringChange,m=o.tagName,o.MutationObserver=function(A){function y(C){this.element=C,this.didMutate=v(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var S,T,M,D;return E(y,A),T="data-trix-mutable",M="["+T+"]",D={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},y.prototype.start=function(){return this.reset(),this.observer.observe(this.element,D)},y.prototype.stop=function(){return this.observer.disconnect()},y.prototype.didMutate=function(C){var k,I;return(k=this.mutations).push.apply(k,this.findSignificantMutations(C)),this.mutations.length?((I=this.delegate)!=null&&typeof I.elementDidMutate=="function"&&I.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},y.prototype.reset=function(){return this.mutations=[]},y.prototype.findSignificantMutations=function(C){var k,I,R,F;for(F=[],k=0,I=C.length;I>k;k++)R=C[k],this.mutationIsSignificant(R)&&F.push(R);return F},y.prototype.mutationIsSignificant=function(C){var k,I,R,F;if(this.nodeIsMutable(C.target))return!1;for(F=this.nodesModifiedByMutation(C),k=0,I=F.length;I>k;k++)if(R=F[k],this.nodeIsSignificant(R))return!0;return!1},y.prototype.nodeIsSignificant=function(C){return C!==this.element&&!this.nodeIsMutable(C)&&!d(C)},y.prototype.nodeIsMutable=function(C){return l(C,{matchingSelector:M})},y.prototype.nodesModifiedByMutation=function(C){var k;switch(k=[],C.type){case"attributes":C.attributeName!==T&&k.push(C.target);break;case"characterData":k.push(C.target.parentNode),k.push(C.target);break;case"childList":k.push.apply(k,C.addedNodes),k.push.apply(k,C.removedNodes)}return k},y.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},y.prototype.getTextMutationSummary=function(){var C,k,I,R,F,j,Y,G,B,P,z;for(G=this.getTextChangesFromCharacterData(),I=G.additions,F=G.deletions,z=this.getTextChangesFromChildList(),B=z.additions,j=0,Y=B.length;Y>j;j++)k=B[j],w.call(I,k)<0&&I.push(k);return F.push.apply(F,z.deletions),P={},(C=I.join(""))&&(P.textAdded=C),(R=F.join(""))&&(P.textDeleted=R),P},y.prototype.getMutationsByType=function(C){var k,I,R,F,j;for(F=this.mutations,j=[],k=0,I=F.length;I>k;k++)R=F[k],R.type===C&&j.push(R);return j},y.prototype.getTextChangesFromChildList=function(){var C,k,I,R,F,j,Y,G,B,P,z;for(C=[],Y=[],j=this.getMutationsByType("childList"),k=0,R=j.length;R>k;k++)F=j[k],C.push.apply(C,F.addedNodes),Y.push.apply(Y,F.removedNodes);return G=C.length===0&&Y.length===1&&c(Y[0]),G?(P=[],z=[`
`]):(P=S(C),z=S(Y)),{additions:function(){var $,N,V;for(V=[],I=$=0,N=P.length;N>$;I=++$)B=P[I],B!==z[I]&&V.push(h(B));return V}(),deletions:function(){var $,N,V;for(V=[],I=$=0,N=z.length;N>$;I=++$)B=z[I],B!==P[I]&&V.push(h(B));return V}()}},y.prototype.getTextChangesFromCharacterData=function(){var C,k,I,R,F,j,Y,G;return k=this.getMutationsByType("characterData"),k.length&&(G=k[0],I=k[k.length-1],F=h(G.oldValue),R=h(I.target.data),j=f(F,R),C=j.added,Y=j.removed),{additions:C?[C]:[],deletions:Y?[Y]:[]}},S=function(C){var k,I,R,F;for(C==null&&(C=[]),F=[],k=0,I=C.length;I>k;k++)switch(R=C[k],R.nodeType){case Node.TEXT_NODE:F.push(R.data);break;case Node.ELEMENT_NODE:m(R)==="br"?F.push(`
`):F.push.apply(F,S(R.childNodes))}return F},y}(o.BasicObject)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.FileVerificationOperation=function(d){function h(f){this.file=f}return l(h,d),h.prototype.perform=function(f){var m;return m=new FileReader,m.onerror=function(){return f(!1)},m.onload=function(v){return function(){m.onerror=null;try{m.abort()}catch{}return f(!0,v.file)}}(this),m.readAsArrayBuffer(this.file)},h}(o.Operation)}.call(this),function(){var l,c,d=function(f,m){function v(){this.constructor=f}for(var E in m)h.call(m,E)&&(f[E]=m[E]);return v.prototype=m.prototype,f.prototype=new v,f.__super__=m.prototype,f},h={}.hasOwnProperty;l=o.handleEvent,c=o.innerElementIsActive,o.InputController=function(f){function m(v){var E;this.element=v,this.mutationObserver=new o.MutationObserver(this.element),this.mutationObserver.delegate=this;for(E in this.events)l(E,{onElement:this.element,withCallback:this.handlerFor(E)})}return d(m,f),m.prototype.events={},m.prototype.elementDidMutate=function(){},m.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},m.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},m.prototype.requestRender=function(){var v;return(v=this.delegate)!=null&&typeof v.inputControllerDidRequestRender=="function"?v.inputControllerDidRequestRender():void 0},m.prototype.requestReparse=function(){var v;return(v=this.delegate)!=null&&typeof v.inputControllerDidRequestReparse=="function"&&v.inputControllerDidRequestReparse(),this.requestRender()},m.prototype.attachFiles=function(v){var E,b;return b=function(){var w,A,y;for(y=[],w=0,A=v.length;A>w;w++)E=v[w],y.push(new o.FileVerificationOperation(E));return y}(),Promise.all(b).then(function(w){return function(A){return w.handleInput(function(){var y,S;return(y=this.delegate)!=null&&y.inputControllerWillAttachFiles(),(S=this.responder)!=null&&S.insertFiles(A),this.requestRender()})}}(this))},m.prototype.handlerFor=function(v){return function(E){return function(b){return b.defaultPrevented?void 0:E.handleInput(function(){return c(this.element)?void 0:(this.eventName=v,this.events[v].call(this,b))})}}(this)},m.prototype.handleInput=function(v){var E,b;try{return(E=this.delegate)!=null&&E.inputControllerWillHandleInput(),v.call(this)}finally{(b=this.delegate)!=null&&b.inputControllerDidHandleInput()}},m.prototype.createLinkHTML=function(v,E){var b;return b=document.createElement("a"),b.href=v,b.textContent=E??v,b.outerHTML},m}(o.BasicObject)}.call(this),function(){var l,c,d,h,f,m,v,E,b,w,A,y,S=function(D,C){function k(){this.constructor=D}for(var I in C)T.call(C,I)&&(D[I]=C[I]);return k.prototype=C.prototype,D.prototype=new k,D.__super__=C.prototype,D},T={}.hasOwnProperty,M=[].indexOf||function(D){for(var C=0,k=this.length;k>C;C++)if(C in this&&this[C]===D)return C;return-1};b=o.makeElement,w=o.objectsAreEqual,o.tagName,c=o.browser,v=o.keyEventIsKeyboardCommand,h=o.dataTransferIsWritable,d=o.dataTransferIsPlainText,E=o.config.keyNames,o.Level0InputController=function(D){function C(){C.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var k;return S(C,D),k=0,C.prototype.setInputSummary=function(I){var R,F;I==null&&(I={}),this.inputSummary.eventName=this.eventName;for(R in I)F=I[R],this.inputSummary[R]=F;return this.inputSummary},C.prototype.resetInputSummary=function(){return this.inputSummary={}},C.prototype.reset=function(){return this.resetInputSummary(),o.selectionChangeObserver.reset()},C.prototype.elementDidMutate=function(I){var R;return this.isComposing()?(R=this.delegate)!=null&&typeof R.inputControllerDidAllowUnhandledInput=="function"?R.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(I)&&(this.mutationIsExpected(I)?this.requestRender():this.requestReparse()),this.reset()})},C.prototype.mutationIsExpected=function(I){var R,F,j,Y,G,B,P,z,$,N;return P=I.textAdded,z=I.textDeleted,this.inputSummary.preferDocument?!0:(R=P!=null?P===this.inputSummary.textAdded:!this.inputSummary.textAdded,F=z!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,$=(P===`
`||P===` 
`)&&!R,N=z===`
`&&!F,B=$&&!N||N&&!$,B&&(Y=this.getSelectedRange())&&(j=$?P.replace(/\n$/,"").length||-1:P?.length||1,(G=this.responder)!=null?G.positionIsBlockBreak(Y[1]+j):void 0)?!0:R&&F)},C.prototype.mutationIsSignificant=function(I){var R,F,j;return j=Object.keys(I).length>0,R=((F=this.compositionInput)!=null?F.getEndData():void 0)==="",j||!R},C.prototype.events={keydown:function(I){var R,F,j,Y,G,B,P,z,$;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,Y=E[I.keyCode]){for(F=this.keys,z=["ctrl","alt","shift","meta"],j=0,B=z.length;B>j;j++)P=z[j],I[P+"Key"]&&(P==="ctrl"&&(P="control"),F=F?.[P]);F?.[Y]!=null&&(this.setInputSummary({keyName:Y}),o.selectionChangeObserver.reset(),F[Y].call(this,I))}return v(I)&&(R=String.fromCharCode(I.keyCode).toLowerCase())&&(G=function(){var N,V,q,J;for(q=["alt","shift"],J=[],N=0,V=q.length;V>N;N++)P=q[N],I[P+"Key"]&&J.push(P);return J}(),G.push(R),($=this.delegate)!=null?$.inputControllerDidReceiveKeyboardCommand(G):void 0)?I.preventDefault():void 0},keypress:function(I){var R,F,j;if(this.inputSummary.eventName==null&&!I.metaKey&&(!I.ctrlKey||I.altKey))return(j=y(I))?((R=this.delegate)!=null&&R.inputControllerWillPerformTyping(),(F=this.responder)!=null&&F.insertString(j),this.setInputSummary({textAdded:j,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(I){var R,F,j,Y;return R=I.data,Y=this.inputSummary.textAdded,Y&&Y!==R&&Y.toUpperCase()===R?(F=this.getSelectedRange(),this.setSelectedRange([F[0],F[1]+Y.length]),(j=this.responder)!=null&&j.insertString(R),this.setInputSummary({textAdded:R}),this.setSelectedRange(F)):void 0},dragenter:function(I){return I.preventDefault()},dragstart:function(I){var R;return I.target,this.serializeSelectionToDataTransfer(I.dataTransfer),this.draggedRange=this.getSelectedRange(),(R=this.delegate)!=null&&typeof R.inputControllerDidStartDrag=="function"?R.inputControllerDidStartDrag():void 0},dragover:function(I){var R,F;return!this.draggedRange&&!this.canAcceptDataTransfer(I.dataTransfer)||(I.preventDefault(),R={x:I.clientX,y:I.clientY},w(R,this.draggingPoint))?void 0:(this.draggingPoint=R,(F=this.delegate)!=null&&typeof F.inputControllerDidReceiveDragOverPoint=="function"?F.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var I;return(I=this.delegate)!=null&&typeof I.inputControllerDidCancelDrag=="function"&&I.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(I){var R,F,j,Y,G,B,P,z,$;return I.preventDefault(),j=(G=I.dataTransfer)!=null?G.files:void 0,Y={x:I.clientX,y:I.clientY},(B=this.responder)!=null&&B.setLocationRangeFromPointRange(Y),j?.length?this.attachFiles(j):this.draggedRange?((P=this.delegate)!=null&&P.inputControllerWillMoveText(),(z=this.responder)!=null&&z.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(F=I.dataTransfer.getData("application/x-trix-document"))&&(R=o.Document.fromJSONString(F),($=this.responder)!=null&&$.insertDocument(R),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(I){var R,F;return(R=this.responder)!=null&&R.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(I.clipboardData)&&I.preventDefault(),(F=this.delegate)!=null&&F.inputControllerWillCutText(),this.deleteInDirection("backward"),I.defaultPrevented)?this.requestRender():void 0},copy:function(I){var R;return(R=this.responder)!=null&&R.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(I.clipboardData)?I.preventDefault():void 0},paste:function(I){var R,F,j,Y,G,B,P,z,$,N,V,q,J,ne,ue,pe,Ie,we,st,Ae,Oe,$e,et;return R=(z=I.clipboardData)!=null?z:I.testClipboardData,P={clipboard:R},R==null||A(I)?void this.getPastedHTMLUsingHiddenElement(function(Ue){return function(on){var Jt,Ln,Cn;return P.type="text/html",P.html=on,(Jt=Ue.delegate)!=null&&Jt.inputControllerWillPaste(P),(Ln=Ue.responder)!=null&&Ln.insertHTML(P.html),Ue.requestRender(),(Cn=Ue.delegate)!=null?Cn.inputControllerDidPaste(P):void 0}}(this)):((Y=R.getData("URL"))?(P.type="text/html",et=(B=R.getData("public.url-name"))?o.squishBreakableWhitespace(B).trim():Y,P.html=this.createLinkHTML(Y,et),($=this.delegate)!=null&&$.inputControllerWillPaste(P),this.setInputSummary({textAdded:et,didDelete:this.selectionIsExpanded()}),(ue=this.responder)!=null&&ue.insertHTML(P.html),this.requestRender(),(pe=this.delegate)!=null&&pe.inputControllerDidPaste(P)):d(R)?(P.type="text/plain",P.string=R.getData("text/plain"),(Ie=this.delegate)!=null&&Ie.inputControllerWillPaste(P),this.setInputSummary({textAdded:P.string,didDelete:this.selectionIsExpanded()}),(we=this.responder)!=null&&we.insertString(P.string),this.requestRender(),(st=this.delegate)!=null&&st.inputControllerDidPaste(P)):(G=R.getData("text/html"))?(P.type="text/html",P.html=G,(Ae=this.delegate)!=null&&Ae.inputControllerWillPaste(P),(Oe=this.responder)!=null&&Oe.insertHTML(P.html),this.requestRender(),($e=this.delegate)!=null&&$e.inputControllerDidPaste(P)):M.call(R.types,"Files")>=0&&(j=(N=R.items)!=null&&(V=N[0])!=null&&typeof V.getAsFile=="function"?V.getAsFile():void 0)&&(!j.name&&(F=f(j))&&(j.name="pasted-file-"+ ++k+"."+F),P.type="File",P.file=j,(q=this.delegate)!=null&&q.inputControllerWillAttachFiles(),(J=this.responder)!=null&&J.insertFile(P.file),this.requestRender(),(ne=this.delegate)!=null&&ne.inputControllerDidPaste(P)),I.preventDefault())},compositionstart:function(I){return this.getCompositionInput().start(I.data)},compositionupdate:function(I){return this.getCompositionInput().update(I.data)},compositionend:function(I){return this.getCompositionInput().end(I.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(I){return this.inputSummary.didInput=!0,I.stopPropagation()}},C.prototype.keys={backspace:function(I){var R;return(R=this.delegate)!=null&&R.inputControllerWillPerformTyping(),this.deleteInDirection("backward",I)},delete:function(I){var R;return(R=this.delegate)!=null&&R.inputControllerWillPerformTyping(),this.deleteInDirection("forward",I)},return:function(){var I,R;return this.setInputSummary({preferDocument:!0}),(I=this.delegate)!=null&&I.inputControllerWillPerformTyping(),(R=this.responder)!=null?R.insertLineBreak():void 0},tab:function(I){var R,F;return(R=this.responder)!=null&&R.canIncreaseNestingLevel()?((F=this.responder)!=null&&F.increaseNestingLevel(),this.requestRender(),I.preventDefault()):void 0},left:function(I){var R;return this.selectionIsInCursorTarget()?(I.preventDefault(),(R=this.responder)!=null?R.moveCursorInDirection("backward"):void 0):void 0},right:function(I){var R;return this.selectionIsInCursorTarget()?(I.preventDefault(),(R=this.responder)!=null?R.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(I){var R;return(R=this.delegate)!=null&&R.inputControllerWillPerformTyping(),this.deleteInDirection("forward",I)},h:function(I){var R;return(R=this.delegate)!=null&&R.inputControllerWillPerformTyping(),this.deleteInDirection("backward",I)},o:function(I){var R,F;return I.preventDefault(),(R=this.delegate)!=null&&R.inputControllerWillPerformTyping(),(F=this.responder)!=null&&F.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return:function(I){var R,F;return(R=this.delegate)!=null&&R.inputControllerWillPerformTyping(),(F=this.responder)!=null&&F.insertString(`
`),this.requestRender(),I.preventDefault()},tab:function(I){var R,F;return(R=this.responder)!=null&&R.canDecreaseNestingLevel()?((F=this.responder)!=null&&F.decreaseNestingLevel(),this.requestRender(),I.preventDefault()):void 0},left:function(I){return this.selectionIsInCursorTarget()?(I.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(I){return this.selectionIsInCursorTarget()?(I.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var I;return this.setInputSummary({preferDocument:!1}),(I=this.delegate)!=null?I.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var I;return this.setInputSummary({preferDocument:!1}),(I=this.delegate)!=null?I.inputControllerWillPerformTyping():void 0}}},C.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new l(this)},C.prototype.isComposing=function(){return this.compositionInput!=null&&!this.compositionInput.isEnded()},C.prototype.deleteInDirection=function(I,R){var F;return((F=this.responder)!=null?F.deleteInDirection(I):void 0)!==!1?this.setInputSummary({didDelete:!0}):R?(R.preventDefault(),this.requestRender()):void 0},C.prototype.serializeSelectionToDataTransfer=function(I){var R,F;if(h(I))return R=(F=this.responder)!=null?F.getSelectedDocument().toSerializableDocument():void 0,I.setData("application/x-trix-document",JSON.stringify(R)),I.setData("text/html",o.DocumentView.render(R).innerHTML),I.setData("text/plain",R.toString().replace(/\n$/,"")),!0},C.prototype.canAcceptDataTransfer=function(I){var R,F,j,Y,G,B;for(B={},Y=(j=I?.types)!=null?j:[],R=0,F=Y.length;F>R;R++)G=Y[R],B[G]=!0;return B.Files||B["application/x-trix-document"]||B["text/html"]||B["text/plain"]},C.prototype.getPastedHTMLUsingHiddenElement=function(I){var R,F,j;return F=this.getSelectedRange(),j={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},R=b({style:j,tagName:"div",editable:!0}),document.body.appendChild(R),R.focus(),requestAnimationFrame(function(Y){return function(){var G;return G=R.innerHTML,o.removeNode(R),Y.setSelectedRange(F),I(G)}}(this))},C.proxyMethod("responder?.getSelectedRange"),C.proxyMethod("responder?.setSelectedRange"),C.proxyMethod("responder?.expandSelectionInDirection"),C.proxyMethod("responder?.selectionIsInCursorTarget"),C.proxyMethod("responder?.selectionIsExpanded"),C}(o.InputController),f=function(D){var C,k;return(C=D.type)!=null&&(k=C.match(/\/(\w+)$/))!=null?k[1]:void 0},m=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,y=function(D){var C;return D.key&&m&&D.key.codePointAt(0)===D.keyCode?D.key:(D.which===null?C=D.keyCode:D.which!==0&&D.charCode!==0&&(C=D.charCode),C!=null&&E[C]!=="escape"?o.UTF16String.fromCodepoints([C]).toString():void 0)},A=function(D){var C,k,I,R,F,j,Y,G,B;if(Y=D.clipboardData){if(M.call(Y.types,"text/html")>=0){for(G=Y.types,I=0,j=G.length;j>I;I++)if(B=G[I],C=/^CorePasteboardFlavorType/.test(B),k=/^dyn\./.test(B)&&Y.getData(B),C||k)return!0;return!1}return R=M.call(Y.types,"com.apple.webarchive")>=0,F=M.call(Y.types,"com.apple.flat-rtfd")>=0,R||F}},l=function(D){function C(k){var I;this.inputController=k,I=this.inputController,this.responder=I.responder,this.delegate=I.delegate,this.inputSummary=I.inputSummary,this.data={}}return S(C,D),C.prototype.start=function(k){var I,R;return this.data.start=k,this.isSignificant()?(this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&(I=this.responder)!=null&&I.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(R=this.responder)!=null?R.getSelectedRange():void 0):void 0},C.prototype.update=function(k){var I;return this.data.update=k,this.isSignificant()&&(I=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=I):void 0},C.prototype.end=function(k){var I,R,F,j;return this.data.end=k,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(I=this.delegate)!=null&&I.inputControllerWillPerformTyping(),(R=this.responder)!=null&&R.setSelectedRange(this.range),(F=this.responder)!=null&&F.insertString(this.data.end),(j=this.responder)!=null?j.setSelectedRange(this.range[0]+this.data.end.length):void 0):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},C.prototype.getEndData=function(){return this.data.end},C.prototype.isEnded=function(){return this.getEndData()!=null},C.prototype.isSignificant=function(){return c.composesExistingText?this.inputSummary.didInput:!0},C.prototype.canApplyToDocument=function(){var k,I;return((k=this.data.start)!=null?k.length:void 0)===0&&((I=this.data.end)!=null?I.length:void 0)>0&&this.range!=null},C.proxyMethod("inputController.setInputSummary"),C.proxyMethod("inputController.requestRender"),C.proxyMethod("inputController.requestReparse"),C.proxyMethod("responder?.selectionIsExpanded"),C.proxyMethod("responder?.insertPlaceholder"),C.proxyMethod("responder?.selectPlaceholder"),C.proxyMethod("responder?.forgetPlaceholder"),C}(o.BasicObject)}.call(this),function(){var l,c,d,h=function(E,b){return function(){return E.apply(b,arguments)}},f=function(E,b){function w(){this.constructor=E}for(var A in b)m.call(b,A)&&(E[A]=b[A]);return w.prototype=b.prototype,E.prototype=new w,E.__super__=b.prototype,E},m={}.hasOwnProperty,v=[].indexOf||function(E){for(var b=0,w=this.length;w>b;b++)if(b in this&&this[b]===E)return b;return-1};l=o.dataTransferIsPlainText,c=o.keyEventIsKeyboardCommand,d=o.objectsAreEqual,o.Level2InputController=function(E){function b(){return this.render=h(this.render,this),b.__super__.constructor.apply(this,arguments)}var w,A,y,S,T,M;return f(b,E),b.prototype.elementDidMutate=function(){var D;return this.scheduledRender?this.composing&&(D=this.delegate)!=null&&typeof D.inputControllerDidAllowUnhandledInput=="function"?D.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},b.prototype.scheduleRender=function(){return this.scheduledRender!=null?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},b.prototype.render=function(){var D;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(D=this.delegate)!=null&&D.render(),typeof this.afterRender=="function"&&this.afterRender(),this.afterRender=null},b.prototype.reparse=function(){var D;return(D=this.delegate)!=null?D.reparse():void 0},b.prototype.events={keydown:function(D){var C,k,I,R;if(c(D)){if(C=A(D),(R=this.delegate)!=null?R.inputControllerDidReceiveKeyboardCommand(C):void 0)return D.preventDefault()}else if(I=D.key,D.altKey&&(I+="+Alt"),D.shiftKey&&(I+="+Shift"),k=this.keys[I])return this.withEvent(D,k)},paste:function(D){var C,k,I,R,F,j,Y,G,B;return y(D)?(D.preventDefault(),this.attachFiles(D.clipboardData.files)):S(D)?(D.preventDefault(),k={type:"text/plain",string:D.clipboardData.getData("text/plain")},(I=this.delegate)!=null&&I.inputControllerWillPaste(k),(R=this.responder)!=null&&R.insertString(k.string),this.render(),(F=this.delegate)!=null?F.inputControllerDidPaste(k):void 0):(C=(j=D.clipboardData)!=null?j.getData("URL"):void 0)?(D.preventDefault(),k={type:"text/html",html:this.createLinkHTML(C)},(Y=this.delegate)!=null&&Y.inputControllerWillPaste(k),(G=this.responder)!=null&&G.insertHTML(k.html),this.render(),(B=this.delegate)!=null?B.inputControllerDidPaste(k):void 0):void 0},beforeinput:function(D){var C;return(C=this.inputTypes[D.inputType])?(this.withEvent(D,C),this.scheduleRender()):void 0},input:function(){return o.selectionChangeObserver.reset()},dragstart:function(D){var C,k;return(C=this.responder)!=null&&C.selectionContainsAttachments()?(D.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(k=this.responder)!=null?k.getSelectedRange():void 0,point:T(D)}):void 0},dragenter:function(D){return w(D)?D.preventDefault():void 0},dragover:function(D){var C,k;if(this.dragging){if(D.preventDefault(),C=T(D),!d(C,this.dragging.point))return this.dragging.point=C,(k=this.responder)!=null?k.setLocationRangeFromPointRange(C):void 0}else if(w(D))return D.preventDefault()},drop:function(D){var C,k,I,R;return this.dragging?(D.preventDefault(),(k=this.delegate)!=null&&k.inputControllerWillMoveText(),(I=this.responder)!=null&&I.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):w(D)?(D.preventDefault(),C=T(D),(R=this.responder)!=null&&R.setLocationRangeFromPointRange(C),this.attachFiles(D.dataTransfer.files)):void 0},dragend:function(){var D;return this.dragging?((D=this.responder)!=null&&D.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},b.prototype.keys={ArrowLeft:function(){var D,C;return(D=this.responder)!=null&&D.shouldManageMovingCursorInDirection("backward")?(this.event.preventDefault(),(C=this.responder)!=null?C.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var D,C;return(D=this.responder)!=null&&D.shouldManageMovingCursorInDirection("forward")?(this.event.preventDefault(),(C=this.responder)!=null?C.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var D,C,k;return(D=this.responder)!=null&&D.shouldManageDeletingInDirection("backward")?(this.event.preventDefault(),(C=this.delegate)!=null&&C.inputControllerWillPerformTyping(),(k=this.responder)!=null&&k.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var D,C;return(D=this.responder)!=null&&D.canIncreaseNestingLevel()?(this.event.preventDefault(),(C=this.responder)!=null&&C.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var D,C;return(D=this.responder)!=null&&D.canDecreaseNestingLevel()?(this.event.preventDefault(),(C=this.responder)!=null&&C.decreaseNestingLevel(),this.render()):void 0}},b.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var D;return this.deleteByDragRange=(D=this.responder)!=null?D.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var D;return(D=this.responder)!=null&&D.canIncreaseNestingLevel()?this.withTargetDOMRange(function(){var C;return(C=this.responder)!=null?C.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var D;return(D=this.responder)!=null&&D.canDecreaseNestingLevel()?this.withTargetDOMRange(function(){var C;return(C=this.responder)!=null?C.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var D,C,k,I;I=[];for(D in(C=this.responder)!=null?C.getCurrentAttributes():void 0)I.push((k=this.responder)!=null?k.removeCurrentAttribute(D):void 0);return I})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var D;return(D=this.delegate)!=null?D.inputControllerWillPerformRedo():void 0},historyUndo:function(){var D;return(D=this.delegate)!=null?D.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var D,C;return(D=this.deleteByDragRange)?(this.deleteByDragRange=null,(C=this.delegate)!=null&&C.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var k;return(k=this.responder)!=null?k.moveTextFromRange(D):void 0})):void 0},insertFromPaste:function(){var D,C,k,I,R,F,j,Y,G,B,P;return D=this.event.dataTransfer,R={dataTransfer:D},(C=D.getData("URL"))?(this.event.preventDefault(),R.type="text/html",P=(I=D.getData("public.url-name"))?o.squishBreakableWhitespace(I).trim():C,R.html=this.createLinkHTML(C,P),(F=this.delegate)!=null&&F.inputControllerWillPaste(R),this.withTargetDOMRange(function(){var z;return(z=this.responder)!=null?z.insertHTML(R.html):void 0}),this.afterRender=function(z){return function(){var $;return($=z.delegate)!=null?$.inputControllerDidPaste(R):void 0}}(this)):l(D)?(R.type="text/plain",R.string=D.getData("text/plain"),(j=this.delegate)!=null&&j.inputControllerWillPaste(R),this.withTargetDOMRange(function(){var z;return(z=this.responder)!=null?z.insertString(R.string):void 0}),this.afterRender=function(z){return function(){var $;return($=z.delegate)!=null?$.inputControllerDidPaste(R):void 0}}(this)):(k=D.getData("text/html"))?(this.event.preventDefault(),R.type="text/html",R.html=k,(Y=this.delegate)!=null&&Y.inputControllerWillPaste(R),this.withTargetDOMRange(function(){var z;return(z=this.responder)!=null?z.insertHTML(R.html):void 0}),this.afterRender=function(z){return function(){var $;return($=z.delegate)!=null?$.inputControllerDidPaste(R):void 0}}(this)):(G=D.files)!=null&&G.length?(R.type="File",R.file=D.files[0],(B=this.delegate)!=null&&B.inputControllerWillPaste(R),this.withTargetDOMRange(function(){var z;return(z=this.responder)!=null?z.insertFile(R.file):void 0}),this.afterRender=function(z){return function(){var $;return($=z.delegate)!=null?$.inputControllerDidPaste(R):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(`
`)},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var D;return(D=this.delegate)!=null&&D.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var C;return(C=this.responder)!=null?C.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var D,C;return this.insertString((D=this.event.data)!=null?D:(C=this.event.dataTransfer)!=null?C.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},b.prototype.insertString=function(D,C){var k;return D==null&&(D=""),(k=this.delegate)!=null&&k.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var I;return(I=this.responder)!=null?I.insertString(D,C):void 0})},b.prototype.toggleAttributeIfSupported=function(D){var C;return v.call(o.getAllAttributeNames(),D)>=0?((C=this.delegate)!=null&&C.inputControllerWillPerformFormatting(D),this.withTargetDOMRange(function(){var k;return(k=this.responder)!=null?k.toggleCurrentAttribute(D):void 0})):void 0},b.prototype.activateAttributeIfSupported=function(D,C){var k;return v.call(o.getAllAttributeNames(),D)>=0?((k=this.delegate)!=null&&k.inputControllerWillPerformFormatting(D),this.withTargetDOMRange(function(){var I;return(I=this.responder)!=null?I.setCurrentAttribute(D,C):void 0})):void 0},b.prototype.deleteInDirection=function(D,C){var k,I,R,F;return R=(C??{recordUndoEntry:!0}).recordUndoEntry,R&&(F=this.delegate)!=null&&F.inputControllerWillPerformTyping(),I=function(j){return function(){var Y;return(Y=j.responder)!=null?Y.deleteInDirection(D):void 0}}(this),(k=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(k,I):I()},b.prototype.withTargetDOMRange=function(D,C){var k;return typeof D=="function"&&(C=D,D=this.getTargetDOMRange()),D?(k=this.responder)!=null?k.withTargetDOMRange(D,C.bind(this)):void 0:(o.selectionChangeObserver.reset(),C.call(this))},b.prototype.getTargetDOMRange=function(D){var C,k,I,R;return I=(D??{minLength:0}).minLength,(R=typeof(C=this.event).getTargetRanges=="function"?C.getTargetRanges():void 0)&&R.length&&(k=M(R[0]),I===0||k.toString().length>=I)?k:void 0},M=function(D){var C;return C=document.createRange(),C.setStart(D.startContainer,D.startOffset),C.setEnd(D.endContainer,D.endOffset),C},b.prototype.withEvent=function(D,C){var k;this.event=D;try{k=C.call(this)}finally{this.event=null}return k},w=function(D){var C,k;return v.call((C=(k=D.dataTransfer)!=null?k.types:void 0)!=null?C:[],"Files")>=0},y=function(D){var C;return(C=D.clipboardData)?v.call(C.types,"Files")>=0&&C.types.length===1&&C.files.length>=1:void 0},S=function(D){var C;return(C=D.clipboardData)?v.call(C.types,"text/plain")>=0&&C.types.length===1:void 0},A=function(D){var C;return C=[],D.altKey&&C.push("alt"),D.shiftKey&&C.push("shift"),C.push(D.key),C},T=function(D){return{x:D.clientX,y:D.clientY}},b}(o.InputController)}.call(this),function(){var l,c,d,h,f,m,v,E,b=function(y,S){return function(){return y.apply(S,arguments)}},w=function(y,S){function T(){this.constructor=y}for(var M in S)A.call(S,M)&&(y[M]=S[M]);return T.prototype=S.prototype,y.prototype=new T,y.__super__=S.prototype,y},A={}.hasOwnProperty;c=o.defer,d=o.handleEvent,m=o.makeElement,E=o.tagName,v=o.config,f=v.lang,l=v.css,h=v.keyNames,o.AttachmentEditorController=function(y){function S(M,D,C,k){this.attachmentPiece=M,this.element=D,this.container=C,this.options=k??{},this.didBlurCaption=b(this.didBlurCaption,this),this.didChangeCaption=b(this.didChangeCaption,this),this.didInputCaption=b(this.didInputCaption,this),this.didKeyDownCaption=b(this.didKeyDownCaption,this),this.didClickActionButton=b(this.didClickActionButton,this),this.didClickToolbar=b(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,E(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}var T;return w(S,y),T=function(M){return function(){var D;return D=M.apply(this,arguments),D.do(),this.undos==null&&(this.undos=[]),this.undos.push(D.undo)}},S.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},S.prototype.uninstall=function(){var M,D;for(this.savePendingCaption();D=this.undos.pop();)D();return(M=this.delegate)!=null?M.didUninstallAttachmentEditor(this):void 0},S.prototype.savePendingCaption=function(){var M,D,C;return this.pendingCaption!=null?(M=this.pendingCaption,this.pendingCaption=null,M?(D=this.delegate)!=null&&typeof D.attachmentEditorDidRequestUpdatingAttributesForAttachment=="function"?D.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:M},this.attachment):void 0:(C=this.delegate)!=null&&typeof C.attachmentEditorDidRequestRemovingAttributeForAttachment=="function"?C.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},S.prototype.makeElementMutable=T(function(){return{do:function(M){return function(){return M.element.dataset.trixMutable=!0}}(this),undo:function(M){return function(){return delete M.element.dataset.trixMutable}}(this)}}),S.prototype.addToolbar=T(function(){var M;return M=m({tagName:"div",className:l.attachmentToolbar,data:{trixMutable:!0},childNodes:m({tagName:"div",className:"trix-button-row",childNodes:m({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:m({tagName:"button",className:"trix-button trix-button--remove",textContent:f.remove,attributes:{title:f.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&M.appendChild(m({tagName:"div",className:l.attachmentMetadataContainer,childNodes:m({tagName:"span",className:l.attachmentMetadata,childNodes:[m({tagName:"span",className:l.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),m({tagName:"span",className:l.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),d("click",{onElement:M,withCallback:this.didClickToolbar}),d("click",{onElement:M,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(D){return function(){return D.element.appendChild(M)}}(this),undo:function(){return function(){return o.removeNode(M)}}()}}),S.prototype.installCaptionEditor=T(function(){var M,D,C,k,I;return k=m({tagName:"textarea",className:l.attachmentCaptionEditor,attributes:{placeholder:f.captionPlaceholder},data:{trixMutable:!0}}),k.value=this.attachmentPiece.getCaption(),I=k.cloneNode(),I.classList.add("trix-autoresize-clone"),I.tabIndex=-1,M=function(){return I.value=k.value,k.style.height=I.scrollHeight+"px"},d("input",{onElement:k,withCallback:M}),d("input",{onElement:k,withCallback:this.didInputCaption}),d("keydown",{onElement:k,withCallback:this.didKeyDownCaption}),d("change",{onElement:k,withCallback:this.didChangeCaption}),d("blur",{onElement:k,withCallback:this.didBlurCaption}),C=this.element.querySelector("figcaption"),D=C.cloneNode(),{do:function(R){return function(){return C.style.display="none",D.appendChild(k),D.appendChild(I),D.classList.add(l.attachmentCaption+"--editing"),C.parentElement.insertBefore(D,C),M(),R.options.editCaption?c(function(){return k.focus()}):void 0}}(this),undo:function(){return o.removeNode(D),C.style.display=null}}}),S.prototype.didClickToolbar=function(M){return M.preventDefault(),M.stopPropagation()},S.prototype.didClickActionButton=function(M){var D;switch(M.target.getAttribute("data-trix-action")){case"remove":return(D=this.delegate)!=null?D.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},S.prototype.didKeyDownCaption=function(M){var D;return h[M.keyCode]==="return"?(M.preventDefault(),this.savePendingCaption(),(D=this.delegate)!=null&&typeof D.attachmentEditorDidRequestDeselectingAttachment=="function"?D.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},S.prototype.didInputCaption=function(M){return this.pendingCaption=M.target.value.replace(/\s/g," ").trim()},S.prototype.didChangeCaption=function(){return this.savePendingCaption()},S.prototype.didBlurCaption=function(){return this.savePendingCaption()},S}(o.BasicObject)}.call(this),function(){var l,c,d,h=function(m,v){function E(){this.constructor=m}for(var b in v)f.call(v,b)&&(m[b]=v[b]);return E.prototype=v.prototype,m.prototype=new E,m.__super__=v.prototype,m},f={}.hasOwnProperty;d=o.makeElement,l=o.config.css,o.AttachmentView=function(m){function v(){v.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var E;return h(v,m),v.attachmentSelector="[data-trix-attachment]",v.prototype.createContentNodes=function(){return[]},v.prototype.createNodes=function(){var b,w,A,y,S,T,M;if(b=y=d({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(w=this.getHref())&&(y=d({tagName:"a",editable:!1,attributes:{href:w,tabindex:-1}}),b.appendChild(y)),this.attachment.hasContent())y.innerHTML=this.attachment.getContent();else for(M=this.createContentNodes(),A=0,S=M.length;S>A;A++)T=M[A],y.appendChild(T);return y.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=d({tagName:"progress",attributes:{class:l.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),b.appendChild(this.progressElement)),[E("left"),b,E("right")]},v.prototype.createCaptionElement=function(){var b,w,A,y,S,T,M;return A=d({tagName:"figcaption",className:l.attachmentCaption}),(b=this.attachmentPiece.getCaption())?(A.classList.add(l.attachmentCaption+"--edited"),A.textContent=b):(w=this.getCaptionConfig(),w.name&&(y=this.attachment.getFilename()),w.size&&(T=this.attachment.getFormattedFilesize()),y&&(S=d({tagName:"span",className:l.attachmentName,textContent:y}),A.appendChild(S)),T&&(y&&A.appendChild(document.createTextNode(" ")),M=d({tagName:"span",className:l.attachmentSize,textContent:T}),A.appendChild(M))),A},v.prototype.getClassName=function(){var b,w;return w=[l.attachment,l.attachment+"--"+this.attachment.getType()],(b=this.attachment.getExtension())&&w.push(l.attachment+"--"+b),w.join(" ")},v.prototype.getData=function(){var b,w;return w={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},b=this.attachmentPiece.attributes,b.isEmpty()||(w.trixAttributes=JSON.stringify(b)),this.attachment.isPending()&&(w.trixSerialize=!1),w},v.prototype.getHref=function(){return c(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},v.prototype.getCaptionConfig=function(){var b,w,A;return A=this.attachment.getType(),b=o.copyObject((w=o.config.attachments[A])!=null?w.caption:void 0),A==="file"&&(b.name=!0),b},v.prototype.findProgressElement=function(){var b;return(b=this.findElement())!=null?b.querySelector("progress"):void 0},E=function(b){return d({tagName:"span",textContent:o.ZERO_WIDTH_SPACE,data:{trixCursorTarget:b,trixSerialize:!1}})},v.prototype.attachmentDidChangeUploadProgress=function(){var b,w;return w=this.attachment.getUploadProgress(),(b=this.findProgressElement())!=null?b.value=w:void 0},v}(o.ObjectView),c=function(m,v){var E;return E=d("div"),E.innerHTML=m??"",E.querySelector(v)}}.call(this),function(){var l,c=function(h,f){function m(){this.constructor=h}for(var v in f)d.call(f,v)&&(h[v]=f[v]);return m.prototype=f.prototype,h.prototype=new m,h.__super__=f.prototype,h},d={}.hasOwnProperty;l=o.makeElement,o.PreviewableAttachmentView=function(h){function f(){f.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return c(f,h),f.prototype.createContentNodes=function(){return this.image=l({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},f.prototype.createCaptionElement=function(){var m;return m=f.__super__.createCaptionElement.apply(this,arguments),m.textContent||m.setAttribute("data-trix-placeholder",o.config.lang.captionPlaceholder),m},f.prototype.refresh=function(m){var v;return m==null&&(m=(v=this.findElement())!=null?v.querySelector("img"):void 0),m?this.updateAttributesForImage(m):void 0},f.prototype.updateAttributesForImage=function(m){var v,E,b,w,A,y;return A=this.attachment.getURL(),E=this.attachment.getPreviewURL(),m.src=E||A,E===A?m.removeAttribute("data-trix-serialized-attributes"):(b=JSON.stringify({src:A}),m.setAttribute("data-trix-serialized-attributes",b)),y=this.attachment.getWidth(),v=this.attachment.getHeight(),y!=null&&(m.width=y),v!=null&&(m.height=v),w=["imageElement",this.attachment.id,m.src,m.width,m.height].join("/"),m.dataset.trixStoreKey=w},f.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},f}(o.AttachmentView)}.call(this),function(){var l,c,d,h=function(m,v){function E(){this.constructor=m}for(var b in v)f.call(v,b)&&(m[b]=v[b]);return E.prototype=v.prototype,m.prototype=new E,m.__super__=v.prototype,m},f={}.hasOwnProperty;d=o.makeElement,l=o.findInnerElement,c=o.getTextConfig,o.PieceView=function(m){function v(){var b;v.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),b=this.options,this.textConfig=b.textConfig,this.context=b.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var E;return h(v,m),v.prototype.createNodes=function(){var b,w,A,y,S,T;if(T=this.attachment?this.createAttachmentNodes():this.createStringNodes(),b=this.createElement()){for(A=l(b),w=0,y=T.length;y>w;w++)S=T[w],A.appendChild(S);T=[b]}return T},v.prototype.createAttachmentNodes=function(){var b,w;return b=this.attachment.isPreviewable()?o.PreviewableAttachmentView:o.AttachmentView,w=this.createChildView(b,this.piece.attachment,{piece:this.piece}),w.getNodes()},v.prototype.createStringNodes=function(){var b,w,A,y,S,T,M,D,C;if((M=this.textConfig)!=null&&M.plaintext)return[document.createTextNode(this.string)];for(T=[],D=this.string.split(`
`),A=w=0,y=D.length;y>w;A=++w)C=D[A],A>0&&(b=d("br"),T.push(b)),C.length&&(S=document.createTextNode(this.preserveSpaces(C)),T.push(S));return T},v.prototype.createElement=function(){var b,w,A,y,S,T,M,D,C;D={},T=this.attributes;for(y in T)if(C=T[y],(b=c(y))&&(b.tagName&&(S=d(b.tagName),A?(A.appendChild(S),A=S):w=A=S),b.styleProperty&&(D[b.styleProperty]=C),b.style)){M=b.style;for(y in M)C=M[y],D[y]=C}if(Object.keys(D).length){w==null&&(w=d("span"));for(y in D)C=D[y],w.style[y]=C}return w},v.prototype.createContainerElement=function(){var b,w,A,y,S;y=this.attributes;for(A in y)if(S=y[A],(w=c(A))&&w.groupTagName)return b={},b[A]=S,d(w.groupTagName,b)},E=o.NON_BREAKING_SPACE,v.prototype.preserveSpaces=function(b){return this.context.isLast&&(b=b.replace(/\ $/,E)),b=b.replace(/(\S)\ {3}(\S)/g,"$1 "+E+" $2").replace(/\ {2}/g,E+" ").replace(/\ {2}/g," "+E),(this.context.isFirst||this.context.followsWhitespace)&&(b=b.replace(/^\ /,E)),b},v}(o.ObjectView)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.TextView=function(d){function h(){h.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var f;return l(h,d),h.prototype.createNodes=function(){var m,v,E,b,w,A,y,S,T,M;for(A=[],S=o.ObjectGroup.groupObjects(this.getPieces()),b=S.length-1,E=v=0,w=S.length;w>v;E=++v)y=S[E],m={},E===0&&(m.isFirst=!0),E===b&&(m.isLast=!0),f(T)&&(m.followsWhitespace=!0),M=this.findOrCreateCachedChildView(o.PieceView,y,{textConfig:this.textConfig,context:m}),A.push.apply(A,M.getNodes()),T=y;return A},h.prototype.getPieces=function(){var m,v,E,b,w;for(b=this.text.getPieces(),w=[],m=0,v=b.length;v>m;m++)E=b[m],E.hasAttribute("blockBreak")||w.push(E);return w},f=function(m){return/\s$/.test(m?.toString())},h}(o.ObjectView)}.call(this),function(){var l,c,d,h=function(m,v){function E(){this.constructor=m}for(var b in v)f.call(v,b)&&(m[b]=v[b]);return E.prototype=v.prototype,m.prototype=new E,m.__super__=v.prototype,m},f={}.hasOwnProperty;d=o.makeElement,c=o.getBlockConfig,l=o.config.css,o.BlockView=function(m){function v(){v.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return h(v,m),v.prototype.createNodes=function(){var E,b,w,A,y,S,T,M,D,C,k;if(b=document.createComment("block"),T=[b],this.block.isEmpty()?T.push(d("br")):(C=(M=c(this.block.getLastAttribute()))!=null?M.text:void 0,k=this.findOrCreateCachedChildView(o.TextView,this.block.text,{textConfig:C}),T.push.apply(T,k.getNodes()),this.shouldAddExtraNewlineElement()&&T.push(d("br"))),this.attributes.length)return T;for(D=o.config.blockAttributes.default.tagName,this.block.isRTL()&&(E={dir:"rtl"}),w=d({tagName:D,attributes:E}),A=0,y=T.length;y>A;A++)S=T[A],w.appendChild(S);return[w]},v.prototype.createContainerElement=function(E){var b,w,A,y,S;return b=this.attributes[E],S=c(b).tagName,E===0&&this.block.isRTL()&&(w={dir:"rtl"}),b==="attachmentGallery"&&(y=this.block.getBlockBreakPosition(),A=l.attachmentGallery+" "+l.attachmentGallery+"--"+y),d({tagName:S,className:A,attributes:w})},v.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},v}(o.ObjectView)}.call(this),function(){var l,c,d=function(f,m){function v(){this.constructor=f}for(var E in m)h.call(m,E)&&(f[E]=m[E]);return v.prototype=m.prototype,f.prototype=new v,f.__super__=m.prototype,f},h={}.hasOwnProperty;l=o.defer,c=o.makeElement,o.DocumentView=function(f){function m(){m.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new o.ElementStore,this.setDocument(this.object)}var v,E,b;return d(m,f),m.render=function(w){var A,y;return A=c("div"),y=new this(w,{element:A}),y.render(),y.sync(),A},m.prototype.setDocument=function(w){return w.isEqualTo(this.document)?void 0:this.document=this.object=w},m.prototype.render=function(){var w,A,y,S,T,M,D;if(this.childViews=[],this.shadowElement=c("div"),!this.document.isEmpty()){for(T=o.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),M=[],w=0,A=T.length;A>w;w++)S=T[w],D=this.findOrCreateCachedChildView(o.BlockView,S),M.push(function(){var C,k,I,R;for(I=D.getNodes(),R=[],C=0,k=I.length;k>C;C++)y=I[C],R.push(this.shadowElement.appendChild(y));return R}.call(this));return M}},m.prototype.isSynced=function(){return v(this.shadowElement,this.element)},m.prototype.sync=function(){var w;for(w=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(w),this.didSync()},m.prototype.didSync=function(){return this.elementStore.reset(E(this.element)),l(function(w){return function(){return w.garbageCollectCachedViews()}}(this))},m.prototype.createDocumentFragmentForSync=function(){var w,A,y,S,T,M,D,C,k,I;for(A=document.createDocumentFragment(),C=this.shadowElement.childNodes,y=0,T=C.length;T>y;y++)D=C[y],A.appendChild(D.cloneNode(!0));for(k=E(A),S=0,M=k.length;M>S;S++)w=k[S],(I=this.elementStore.remove(w))&&w.parentNode.replaceChild(I,w);return A},E=function(w){return w.querySelectorAll("[data-trix-store-key]")},v=function(w,A){return b(w.innerHTML)===b(A.innerHTML)},b=function(w){return w.replace(/&nbsp;/g," ")},m}(o.ObjectView)}.call(this),function(){var l,c,d,h,f,m=function(b,w){return function(){return b.apply(w,arguments)}},v=function(b,w){function A(){this.constructor=b}for(var y in w)E.call(w,y)&&(b[y]=w[y]);return A.prototype=w.prototype,b.prototype=new A,b.__super__=w.prototype,b},E={}.hasOwnProperty;d=o.findClosestElementFromNode,h=o.handleEvent,f=o.innerElementIsActive,c=o.defer,l=o.AttachmentView.attachmentSelector,o.CompositionController=function(b){function w(A,y){this.element=A,this.composition=y,this.didClickAttachment=m(this.didClickAttachment,this),this.didBlur=m(this.didBlur,this),this.didFocus=m(this.didFocus,this),this.documentView=new o.DocumentView(this.composition.document,{element:this.element}),h("focus",{onElement:this.element,withCallback:this.didFocus}),h("blur",{onElement:this.element,withCallback:this.didBlur}),h("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),h("mousedown",{onElement:this.element,matchingSelector:l,withCallback:this.didClickAttachment}),h("click",{onElement:this.element,matchingSelector:"a"+l,preventDefault:!0})}return v(w,b),w.prototype.didFocus=function(){var A,y,S;return A=function(T){return function(){var M;return T.focused?void 0:(T.focused=!0,(M=T.delegate)!=null&&typeof M.compositionControllerDidFocus=="function"?M.compositionControllerDidFocus():void 0)}}(this),(y=(S=this.blurPromise)!=null?S.then(A):void 0)!=null?y:A()},w.prototype.didBlur=function(){return this.blurPromise=new Promise(function(A){return function(y){return c(function(){var S;return f(A.element)||(A.focused=null,(S=A.delegate)!=null&&typeof S.compositionControllerDidBlur=="function"&&S.compositionControllerDidBlur()),A.blurPromise=null,y()})}}(this))},w.prototype.didClickAttachment=function(A,y){var S,T,M;return S=this.findAttachmentForElement(y),T=d(A.target,{matchingSelector:"figcaption"})!=null,(M=this.delegate)!=null&&typeof M.compositionControllerDidSelectAttachment=="function"?M.compositionControllerDidSelectAttachment(S,{editCaption:T}):void 0},w.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},w.prototype.render=function(){var A,y,S;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((A=this.delegate)!=null&&typeof A.compositionControllerWillSyncDocumentView=="function"&&A.compositionControllerWillSyncDocumentView(),this.documentView.sync(),(y=this.delegate)!=null&&typeof y.compositionControllerDidSyncDocumentView=="function"&&y.compositionControllerDidSyncDocumentView()),(S=this.delegate)!=null&&typeof S.compositionControllerDidRender=="function"?S.compositionControllerDidRender():void 0},w.prototype.rerenderViewForObject=function(A){return this.invalidateViewForObject(A),this.render()},w.prototype.invalidateViewForObject=function(A){return this.documentView.invalidateViewForObject(A)},w.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},w.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},w.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},w.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},w.prototype.isEditingAttachment=function(){return this.attachmentEditor!=null},w.prototype.installAttachmentEditorForAttachment=function(A,y){var S,T,M;if(((M=this.attachmentEditor)!=null?M.attachment:void 0)!==A&&(T=this.documentView.findElementForObject(A)))return this.uninstallAttachmentEditor(),S=this.composition.document.getAttachmentPieceForAttachment(A),this.attachmentEditor=new o.AttachmentEditorController(S,T,this.element,y),this.attachmentEditor.delegate=this},w.prototype.uninstallAttachmentEditor=function(){var A;return(A=this.attachmentEditor)!=null?A.uninstall():void 0},w.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},w.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(A,y){var S;return(S=this.delegate)!=null&&typeof S.compositionControllerWillUpdateAttachment=="function"&&S.compositionControllerWillUpdateAttachment(y),this.composition.updateAttributesForAttachment(A,y)},w.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(A,y){var S;return(S=this.delegate)!=null&&typeof S.compositionControllerWillUpdateAttachment=="function"&&S.compositionControllerWillUpdateAttachment(y),this.composition.removeAttributeForAttachment(A,y)},w.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(A){var y;return(y=this.delegate)!=null&&typeof y.compositionControllerDidRequestRemovalOfAttachment=="function"?y.compositionControllerDidRequestRemovalOfAttachment(A):void 0},w.prototype.attachmentEditorDidRequestDeselectingAttachment=function(A){var y;return(y=this.delegate)!=null&&typeof y.compositionControllerDidRequestDeselectingAttachment=="function"?y.compositionControllerDidRequestDeselectingAttachment(A):void 0},w.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},w.prototype.findAttachmentForElement=function(A){return this.composition.document.getAttachmentById(parseInt(A.dataset.trixId,10))},w}(o.BasicObject)}.call(this),function(){var l,c,d,h=function(v,E){return function(){return v.apply(E,arguments)}},f=function(v,E){function b(){this.constructor=v}for(var w in E)m.call(E,w)&&(v[w]=E[w]);return b.prototype=E.prototype,v.prototype=new b,v.__super__=E.prototype,v},m={}.hasOwnProperty;c=o.handleEvent,d=o.triggerEvent,l=o.findClosestElementFromNode,o.ToolbarController=function(v){function E(R){this.element=R,this.didKeyDownDialogInput=h(this.didKeyDownDialogInput,this),this.didClickDialogButton=h(this.didClickDialogButton,this),this.didClickAttributeButton=h(this.didClickAttributeButton,this),this.didClickActionButton=h(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),c("mousedown",{onElement:this.element,matchingSelector:b,withCallback:this.didClickActionButton}),c("mousedown",{onElement:this.element,matchingSelector:A,withCallback:this.didClickAttributeButton}),c("click",{onElement:this.element,matchingSelector:I,preventDefault:!0}),c("click",{onElement:this.element,matchingSelector:y,withCallback:this.didClickDialogButton}),c("keydown",{onElement:this.element,matchingSelector:S,withCallback:this.didKeyDownDialogInput})}var b,w,A,y,S,T,M,D,C,k,I;return f(E,v),A="[data-trix-attribute]",b="[data-trix-action]",I=A+", "+b,T="[data-trix-dialog]",w=T+"[data-trix-active]",y=T+" [data-trix-method]",S=T+" [data-trix-input]",E.prototype.didClickActionButton=function(R,F){var j,Y,G;return(Y=this.delegate)!=null&&Y.toolbarDidClickButton(),R.preventDefault(),j=M(F),this.getDialog(j)?this.toggleDialog(j):(G=this.delegate)!=null?G.toolbarDidInvokeAction(j):void 0},E.prototype.didClickAttributeButton=function(R,F){var j,Y,G;return(Y=this.delegate)!=null&&Y.toolbarDidClickButton(),R.preventDefault(),j=D(F),this.getDialog(j)?this.toggleDialog(j):(G=this.delegate)!=null&&G.toolbarDidToggleAttribute(j),this.refreshAttributeButtons()},E.prototype.didClickDialogButton=function(R,F){var j,Y;return j=l(F,{matchingSelector:T}),Y=F.getAttribute("data-trix-method"),this[Y].call(this,j)},E.prototype.didKeyDownDialogInput=function(R,F){var j,Y;return R.keyCode===13&&(R.preventDefault(),j=F.getAttribute("name"),Y=this.getDialog(j),this.setAttribute(Y)),R.keyCode===27?(R.preventDefault(),this.hideDialog()):void 0},E.prototype.updateActions=function(R){return this.actions=R,this.refreshActionButtons()},E.prototype.refreshActionButtons=function(){return this.eachActionButton(function(R){return function(F,j){return F.disabled=R.actions[j]===!1}}(this))},E.prototype.eachActionButton=function(R){var F,j,Y,G,B;for(G=this.element.querySelectorAll(b),B=[],j=0,Y=G.length;Y>j;j++)F=G[j],B.push(R(F,M(F)));return B},E.prototype.updateAttributes=function(R){return this.attributes=R,this.refreshAttributeButtons()},E.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(R){return function(F,j){return F.disabled=R.attributes[j]===!1,R.attributes[j]||R.dialogIsVisible(j)?(F.setAttribute("data-trix-active",""),F.classList.add("trix-active")):(F.removeAttribute("data-trix-active"),F.classList.remove("trix-active"))}}(this))},E.prototype.eachAttributeButton=function(R){var F,j,Y,G,B;for(G=this.element.querySelectorAll(A),B=[],j=0,Y=G.length;Y>j;j++)F=G[j],B.push(R(F,D(F)));return B},E.prototype.applyKeyboardCommand=function(R){var F,j,Y,G,B,P,z;for(B=JSON.stringify(R.sort()),z=this.element.querySelectorAll("[data-trix-key]"),G=0,P=z.length;P>G;G++)if(F=z[G],Y=F.getAttribute("data-trix-key").split("+"),j=JSON.stringify(Y.sort()),j===B)return d("mousedown",{onElement:F}),!0;return!1},E.prototype.dialogIsVisible=function(R){var F;return(F=this.getDialog(R))?F.hasAttribute("data-trix-active"):void 0},E.prototype.toggleDialog=function(R){return this.dialogIsVisible(R)?this.hideDialog():this.showDialog(R)},E.prototype.showDialog=function(R){var F,j,Y,G,B,P,z,$,N,V;for(this.hideDialog(),(z=this.delegate)!=null&&z.toolbarWillShowDialog(),Y=this.getDialog(R),Y.setAttribute("data-trix-active",""),Y.classList.add("trix-active"),$=Y.querySelectorAll("input[disabled]"),G=0,P=$.length;P>G;G++)j=$[G],j.removeAttribute("disabled");return(F=D(Y))&&(B=k(Y,R))&&(B.value=(N=this.attributes[F])!=null?N:"",B.select()),(V=this.delegate)!=null?V.toolbarDidShowDialog(R):void 0},E.prototype.setAttribute=function(R){var F,j,Y;return F=D(R),j=k(R,F),j.willValidate&&!j.checkValidity()?(j.setAttribute("data-trix-validate",""),j.classList.add("trix-validate"),j.focus()):((Y=this.delegate)!=null&&Y.toolbarDidUpdateAttribute(F,j.value),this.hideDialog())},E.prototype.removeAttribute=function(R){var F,j;return F=D(R),(j=this.delegate)!=null&&j.toolbarDidRemoveAttribute(F),this.hideDialog()},E.prototype.hideDialog=function(){var R,F;return(R=this.element.querySelector(w))?(R.removeAttribute("data-trix-active"),R.classList.remove("trix-active"),this.resetDialogInputs(),(F=this.delegate)!=null?F.toolbarDidHideDialog(C(R)):void 0):void 0},E.prototype.resetDialogInputs=function(){var R,F,j,Y,G;for(Y=this.element.querySelectorAll(S),G=[],R=0,j=Y.length;j>R;R++)F=Y[R],F.setAttribute("disabled","disabled"),F.removeAttribute("data-trix-validate"),G.push(F.classList.remove("trix-validate"));return G},E.prototype.getDialog=function(R){return this.element.querySelector("[data-trix-dialog="+R+"]")},k=function(R,F){return F==null&&(F=D(R)),R.querySelector("[data-trix-input][name='"+F+"']")},M=function(R){return R.getAttribute("data-trix-action")},D=function(R){var F;return(F=R.getAttribute("data-trix-attribute"))!=null?F:R.getAttribute("data-trix-dialog-attribute")},C=function(R){return R.getAttribute("data-trix-dialog")},E}(o.BasicObject)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.ImagePreloadOperation=function(d){function h(f){this.url=f}return l(h,d),h.prototype.perform=function(f){var m;return m=new Image,m.onload=function(v){return function(){return m.width=v.width=m.naturalWidth,m.height=v.height=m.naturalHeight,f(!0,m)}}(this),m.onerror=function(){return f(!1)},m.src=this.url},h}(o.Operation)}.call(this),function(){var l=function(h,f){return function(){return h.apply(f,arguments)}},c=function(h,f){function m(){this.constructor=h}for(var v in f)d.call(f,v)&&(h[v]=f[v]);return m.prototype=f.prototype,h.prototype=new m,h.__super__=f.prototype,h},d={}.hasOwnProperty;o.Attachment=function(h){function f(m){m==null&&(m={}),this.releaseFile=l(this.releaseFile,this),f.__super__.constructor.apply(this,arguments),this.attributes=o.Hash.box(m),this.didChangeAttributes()}return c(f,h),f.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,f.attachmentForFile=function(m){var v,E;return E=this.attributesForFile(m),v=new this(E),v.setFile(m),v},f.attributesForFile=function(m){return new o.Hash({filename:m.name,filesize:m.size,contentType:m.type})},f.fromJSON=function(m){return new this(m)},f.prototype.getAttribute=function(m){return this.attributes.get(m)},f.prototype.hasAttribute=function(m){return this.attributes.has(m)},f.prototype.getAttributes=function(){return this.attributes.toObject()},f.prototype.setAttributes=function(m){var v,E,b;return m==null&&(m={}),v=this.attributes.merge(m),this.attributes.isEqualTo(v)?void 0:(this.attributes=v,this.didChangeAttributes(),(E=this.previewDelegate)!=null&&typeof E.attachmentDidChangeAttributes=="function"&&E.attachmentDidChangeAttributes(this),(b=this.delegate)!=null&&typeof b.attachmentDidChangeAttributes=="function"?b.attachmentDidChangeAttributes(this):void 0)},f.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},f.prototype.isPending=function(){return this.file!=null&&!(this.getURL()||this.getHref())},f.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},f.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},f.prototype.getURL=function(){return this.attributes.get("url")},f.prototype.getHref=function(){return this.attributes.get("href")},f.prototype.getFilename=function(){var m;return(m=this.attributes.get("filename"))!=null?m:""},f.prototype.getFilesize=function(){return this.attributes.get("filesize")},f.prototype.getFormattedFilesize=function(){var m;return m=this.attributes.get("filesize"),typeof m=="number"?o.config.fileSize.formatter(m):""},f.prototype.getExtension=function(){var m;return(m=this.getFilename().match(/\.(\w+)$/))!=null?m[1].toLowerCase():void 0},f.prototype.getContentType=function(){return this.attributes.get("contentType")},f.prototype.hasContent=function(){return this.attributes.has("content")},f.prototype.getContent=function(){return this.attributes.get("content")},f.prototype.getWidth=function(){return this.attributes.get("width")},f.prototype.getHeight=function(){return this.attributes.get("height")},f.prototype.getFile=function(){return this.file},f.prototype.setFile=function(m){return this.file=m,this.isPreviewable()?this.preloadFile():void 0},f.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},f.prototype.getUploadProgress=function(){var m;return(m=this.uploadProgress)!=null?m:0},f.prototype.setUploadProgress=function(m){var v;return this.uploadProgress!==m?(this.uploadProgress=m,(v=this.uploadProgressDelegate)!=null&&typeof v.attachmentDidChangeUploadProgress=="function"?v.attachmentDidChangeUploadProgress(this):void 0):void 0},f.prototype.toJSON=function(){return this.getAttributes()},f.prototype.getCacheKey=function(){return[f.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},f.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},f.prototype.setPreviewURL=function(m){var v,E;return m!==this.getPreviewURL()?(this.previewURL=m,(v=this.previewDelegate)!=null&&typeof v.attachmentDidChangeAttributes=="function"&&v.attachmentDidChangeAttributes(this),(E=this.delegate)!=null&&typeof E.attachmentDidChangePreviewURL=="function"?E.attachmentDidChangePreviewURL(this):void 0):void 0},f.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},f.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},f.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},f.prototype.preload=function(m,v){var E;return m&&m!==this.getPreviewURL()?(this.preloadingURL=m,E=new o.ImagePreloadOperation(m),E.then(function(b){return function(w){var A,y;return y=w.width,A=w.height,b.getWidth()&&b.getHeight()||b.setAttributes({width:y,height:A}),b.preloadingURL=null,b.setPreviewURL(m),typeof v=="function"?v():void 0}}(this)).catch(function(b){return function(){return b.preloadingURL=null,typeof v=="function"?v():void 0}}(this))):void 0},f}(o.Object)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.Piece=function(d){function h(f,m){m==null&&(m={}),h.__super__.constructor.apply(this,arguments),this.attributes=o.Hash.box(m)}return l(h,d),h.types={},h.registerType=function(f,m){return m.type=f,this.types[f]=m},h.fromJSON=function(f){var m;return(m=this.types[f.type])?m.fromJSON(f):void 0},h.prototype.copyWithAttributes=function(f){return new this.constructor(this.getValue(),f)},h.prototype.copyWithAdditionalAttributes=function(f){return this.copyWithAttributes(this.attributes.merge(f))},h.prototype.copyWithoutAttribute=function(f){return this.copyWithAttributes(this.attributes.remove(f))},h.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},h.prototype.getAttribute=function(f){return this.attributes.get(f)},h.prototype.getAttributesHash=function(){return this.attributes},h.prototype.getAttributes=function(){return this.attributes.toObject()},h.prototype.getCommonAttributes=function(){var f,m,v;return(v=pieceList.getPieceAtIndex(0))?(f=v.attributes,m=f.getKeys(),pieceList.eachPiece(function(E){return m=f.getKeysCommonToHash(E.attributes),f=f.slice(m)}),f.toObject()):{}},h.prototype.hasAttribute=function(f){return this.attributes.has(f)},h.prototype.hasSameStringValueAsPiece=function(f){return f!=null&&this.toString()===f.toString()},h.prototype.hasSameAttributesAsPiece=function(f){return f!=null&&(this.attributes===f.attributes||this.attributes.isEqualTo(f.attributes))},h.prototype.isBlockBreak=function(){return!1},h.prototype.isEqualTo=function(f){return h.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(f)&&this.hasSameStringValueAsPiece(f)&&this.hasSameAttributesAsPiece(f)},h.prototype.isEmpty=function(){return this.length===0},h.prototype.isSerializable=function(){return!0},h.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},h.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},h.prototype.canBeGrouped=function(){return this.hasAttribute("href")},h.prototype.canBeGroupedWith=function(f){return this.getAttribute("href")===f.getAttribute("href")},h.prototype.getLength=function(){return this.length},h.prototype.canBeConsolidatedWith=function(){return!1},h}(o.Object)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.Piece.registerType("attachment",o.AttachmentPiece=function(d){function h(f){this.attachment=f,h.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return l(h,d),h.fromJSON=function(f){return new this(o.Attachment.fromJSON(f.attachment),f.attributes)},h.permittedAttributes=["caption","presentation"],h.prototype.ensureAttachmentExclusivelyHasAttribute=function(f){return this.hasAttribute(f)?(this.attachment.hasAttribute(f)||this.attachment.setAttributes(this.attributes.slice(f)),this.attributes=this.attributes.remove(f)):void 0},h.prototype.removeProhibitedAttributes=function(){var f;return f=this.attributes.slice(this.constructor.permittedAttributes),f.isEqualTo(this.attributes)?void 0:this.attributes=f},h.prototype.getValue=function(){return this.attachment},h.prototype.isSerializable=function(){return!this.attachment.isPending()},h.prototype.getCaption=function(){var f;return(f=this.attributes.get("caption"))!=null?f:""},h.prototype.isEqualTo=function(f){var m;return h.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(f!=null&&(m=f.attachment)!=null?m.id:void 0)},h.prototype.toString=function(){return o.OBJECT_REPLACEMENT_CHARACTER},h.prototype.toJSON=function(){var f;return f=h.__super__.toJSON.apply(this,arguments),f.attachment=this.attachment,f},h.prototype.getCacheKey=function(){return[h.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},h.prototype.toConsole=function(){return JSON.stringify(this.toString())},h}(o.Piece))}.call(this),function(){var l,c=function(h,f){function m(){this.constructor=h}for(var v in f)d.call(f,v)&&(h[v]=f[v]);return m.prototype=f.prototype,h.prototype=new m,h.__super__=f.prototype,h},d={}.hasOwnProperty;l=o.normalizeNewlines,o.Piece.registerType("string",o.StringPiece=function(h){function f(m){f.__super__.constructor.apply(this,arguments),this.string=l(m),this.length=this.string.length}return c(f,h),f.fromJSON=function(m){return new this(m.string,m.attributes)},f.prototype.getValue=function(){return this.string},f.prototype.toString=function(){return this.string.toString()},f.prototype.isBlockBreak=function(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0},f.prototype.toJSON=function(){var m;return m=f.__super__.toJSON.apply(this,arguments),m.string=this.string,m},f.prototype.canBeConsolidatedWith=function(m){return m!=null&&this.hasSameConstructorAs(m)&&this.hasSameAttributesAsPiece(m)},f.prototype.consolidateWith=function(m){return new this.constructor(this.toString()+m.toString(),this.attributes)},f.prototype.splitAtOffset=function(m){var v,E;return m===0?(v=null,E=this):m===this.length?(v=this,E=null):(v=new this.constructor(this.string.slice(0,m),this.attributes),E=new this.constructor(this.string.slice(m),this.attributes)),[v,E]},f.prototype.toConsole=function(){var m;return m=this.string,m.length>15&&(m=m.slice(0,14)+"…"),JSON.stringify(m.toString())},f}(o.Piece))}.call(this),function(){var l,c=function(f,m){function v(){this.constructor=f}for(var E in m)d.call(m,E)&&(f[E]=m[E]);return v.prototype=m.prototype,f.prototype=new v,f.__super__=m.prototype,f},d={}.hasOwnProperty,h=[].slice;l=o.spliceArray,o.SplittableList=function(f){function m(w){w==null&&(w=[]),m.__super__.constructor.apply(this,arguments),this.objects=w.slice(0),this.length=this.objects.length}var v,E,b;return c(m,f),m.box=function(w){return w instanceof this?w:new this(w)},m.prototype.indexOf=function(w){return this.objects.indexOf(w)},m.prototype.splice=function(){var w;return w=1<=arguments.length?h.call(arguments,0):[],new this.constructor(l.apply(null,[this.objects].concat(h.call(w))))},m.prototype.eachObject=function(w){var A,y,S,T,M,D;for(M=this.objects,D=[],y=A=0,S=M.length;S>A;y=++A)T=M[y],D.push(w(T,y));return D},m.prototype.insertObjectAtIndex=function(w,A){return this.splice(A,0,w)},m.prototype.insertSplittableListAtIndex=function(w,A){return this.splice.apply(this,[A,0].concat(h.call(w.objects)))},m.prototype.insertSplittableListAtPosition=function(w,A){var y,S,T;return T=this.splitObjectAtPosition(A),S=T[0],y=T[1],new this.constructor(S).insertSplittableListAtIndex(w,y)},m.prototype.editObjectAtIndex=function(w,A){return this.replaceObjectAtIndex(A(this.objects[w]),w)},m.prototype.replaceObjectAtIndex=function(w,A){return this.splice(A,1,w)},m.prototype.removeObjectAtIndex=function(w){return this.splice(w,1)},m.prototype.getObjectAtIndex=function(w){return this.objects[w]},m.prototype.getSplittableListInRange=function(w){var A,y,S,T;return S=this.splitObjectsAtRange(w),y=S[0],A=S[1],T=S[2],new this.constructor(y.slice(A,T+1))},m.prototype.selectSplittableList=function(w){var A,y;return y=function(){var S,T,M,D;for(M=this.objects,D=[],S=0,T=M.length;T>S;S++)A=M[S],w(A)&&D.push(A);return D}.call(this),new this.constructor(y)},m.prototype.removeObjectsInRange=function(w){var A,y,S,T;return S=this.splitObjectsAtRange(w),y=S[0],A=S[1],T=S[2],new this.constructor(y).splice(A,T-A+1)},m.prototype.transformObjectsInRange=function(w,A){var y,S,T,M,D,C,k;return D=this.splitObjectsAtRange(w),M=D[0],S=D[1],C=D[2],k=function(){var I,R,F;for(F=[],y=I=0,R=M.length;R>I;y=++I)T=M[y],F.push(y>=S&&C>=y?A(T):T);return F}(),new this.constructor(k)},m.prototype.splitObjectsAtRange=function(w){var A,y,S,T,M,D;return T=this.splitObjectAtPosition(b(w)),y=T[0],A=T[1],S=T[2],M=new this.constructor(y).splitObjectAtPosition(v(w)+S),y=M[0],D=M[1],[y,A,D-1]},m.prototype.getObjectAtPosition=function(w){var A,y;return y=this.findIndexAndOffsetAtPosition(w),A=y.index,y.offset,this.objects[A]},m.prototype.splitObjectAtPosition=function(w){var A,y,S,T,M,D,C,k,I,R;return D=this.findIndexAndOffsetAtPosition(w),A=D.index,M=D.offset,T=this.objects.slice(0),A!=null?M===0?(I=A,R=0):(S=this.getObjectAtIndex(A),C=S.splitAtOffset(M),y=C[0],k=C[1],T.splice(A,1,y,k),I=A+1,R=y.getLength()-M):(I=T.length,R=0),[T,I,R]},m.prototype.consolidate=function(){var w,A,y,S,T,M;for(S=[],T=this.objects[0],M=this.objects.slice(1),w=0,A=M.length;A>w;w++)y=M[w],typeof T.canBeConsolidatedWith=="function"&&T.canBeConsolidatedWith(y)?T=T.consolidateWith(y):(S.push(T),T=y);return T!=null&&S.push(T),new this.constructor(S)},m.prototype.consolidateFromIndexToIndex=function(w,A){var y,S,T;return S=this.objects.slice(0),T=S.slice(w,A+1),y=new this.constructor(T).consolidate().toArray(),this.splice.apply(this,[w,T.length].concat(h.call(y)))},m.prototype.findIndexAndOffsetAtPosition=function(w){var A,y,S,T,M,D,C;for(A=0,C=this.objects,S=y=0,T=C.length;T>y;S=++y){if(D=C[S],M=A+D.getLength(),w>=A&&M>w)return{index:S,offset:w-A};A=M}return{index:null,offset:null}},m.prototype.findPositionAtIndexAndOffset=function(w,A){var y,S,T,M,D,C;for(D=0,C=this.objects,y=S=0,T=C.length;T>S;y=++S)if(M=C[y],w>y)D+=M.getLength();else if(y===w){D+=A;break}return D},m.prototype.getEndPosition=function(){var w,A;return this.endPosition!=null?this.endPosition:this.endPosition=function(){var y,S,T;for(A=0,T=this.objects,y=0,S=T.length;S>y;y++)w=T[y],A+=w.getLength();return A}.call(this)},m.prototype.toString=function(){return this.objects.join("")},m.prototype.toArray=function(){return this.objects.slice(0)},m.prototype.toJSON=function(){return this.toArray()},m.prototype.isEqualTo=function(w){return m.__super__.isEqualTo.apply(this,arguments)||E(this.objects,w?.objects)},E=function(w,A){var y,S,T,M,D;if(A==null&&(A=[]),w.length!==A.length)return!1;for(D=!0,S=y=0,T=w.length;T>y;S=++y)M=w[S],D&&!M.isEqualTo(A[S])&&(D=!1);return D},m.prototype.contentsForInspection=function(){var w;return{objects:"["+function(){var A,y,S,T;for(S=this.objects,T=[],A=0,y=S.length;y>A;A++)w=S[A],T.push(w.inspect());return T}.call(this).join(", ")+"]"}},b=function(w){return w[0]},v=function(w){return w[1]},m}(o.Object)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.Text=function(d){function h(f){var m;f==null&&(f=[]),h.__super__.constructor.apply(this,arguments),this.pieceList=new o.SplittableList(function(){var v,E,b;for(b=[],v=0,E=f.length;E>v;v++)m=f[v],m.isEmpty()||b.push(m);return b}())}return l(h,d),h.textForAttachmentWithAttributes=function(f,m){var v;return v=new o.AttachmentPiece(f,m),new this([v])},h.textForStringWithAttributes=function(f,m){var v;return v=new o.StringPiece(f,m),new this([v])},h.fromJSON=function(f){var m,v;return v=function(){var E,b,w;for(w=[],E=0,b=f.length;b>E;E++)m=f[E],w.push(o.Piece.fromJSON(m));return w}(),new this(v)},h.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},h.prototype.copyWithPieceList=function(f){return new this.constructor(f.consolidate().toArray())},h.prototype.copyUsingObjectMap=function(f){var m,v;return v=function(){var E,b,w,A,y;for(w=this.getPieces(),y=[],E=0,b=w.length;b>E;E++)m=w[E],y.push((A=f.find(m))!=null?A:m);return y}.call(this),new this.constructor(v)},h.prototype.appendText=function(f){return this.insertTextAtPosition(f,this.getLength())},h.prototype.insertTextAtPosition=function(f,m){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(f.pieceList,m))},h.prototype.removeTextAtRange=function(f){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(f))},h.prototype.replaceTextAtRange=function(f,m){return this.removeTextAtRange(m).insertTextAtPosition(f,m[0])},h.prototype.moveTextFromRangeToPosition=function(f,m){var v,E;if(!(f[0]<=m&&m<=f[1]))return E=this.getTextAtRange(f),v=E.getLength(),f[0]<m&&(m-=v),this.removeTextAtRange(f).insertTextAtPosition(E,m)},h.prototype.addAttributeAtRange=function(f,m,v){var E;return E={},E[f]=m,this.addAttributesAtRange(E,v)},h.prototype.addAttributesAtRange=function(f,m){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(m,function(v){return v.copyWithAdditionalAttributes(f)}))},h.prototype.removeAttributeAtRange=function(f,m){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(m,function(v){return v.copyWithoutAttribute(f)}))},h.prototype.setAttributesAtRange=function(f,m){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(m,function(v){return v.copyWithAttributes(f)}))},h.prototype.getAttributesAtPosition=function(f){var m,v;return(m=(v=this.pieceList.getObjectAtPosition(f))!=null?v.getAttributes():void 0)!=null?m:{}},h.prototype.getCommonAttributes=function(){var f,m;return f=function(){var v,E,b,w;for(b=this.pieceList.toArray(),w=[],v=0,E=b.length;E>v;v++)m=b[v],w.push(m.getAttributes());return w}.call(this),o.Hash.fromCommonAttributesOfObjects(f).toObject()},h.prototype.getCommonAttributesAtRange=function(f){var m;return(m=this.getTextAtRange(f).getCommonAttributes())!=null?m:{}},h.prototype.getExpandedRangeForAttributeAtOffset=function(f,m){var v,E,b;for(v=b=m,E=this.getLength();v>0&&this.getCommonAttributesAtRange([v-1,b])[f];)v--;for(;E>b&&this.getCommonAttributesAtRange([m,b+1])[f];)b++;return[v,b]},h.prototype.getTextAtRange=function(f){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(f))},h.prototype.getStringAtRange=function(f){return this.pieceList.getSplittableListInRange(f).toString()},h.prototype.getStringAtPosition=function(f){return this.getStringAtRange([f,f+1])},h.prototype.startsWithString=function(f){return this.getStringAtRange([0,f.length])===f},h.prototype.endsWithString=function(f){var m;return m=this.getLength(),this.getStringAtRange([m-f.length,m])===f},h.prototype.getAttachmentPieces=function(){var f,m,v,E,b;for(E=this.pieceList.toArray(),b=[],f=0,m=E.length;m>f;f++)v=E[f],v.attachment!=null&&b.push(v);return b},h.prototype.getAttachments=function(){var f,m,v,E,b;for(E=this.getAttachmentPieces(),b=[],f=0,m=E.length;m>f;f++)v=E[f],b.push(v.attachment);return b},h.prototype.getAttachmentAndPositionById=function(f){var m,v,E,b,w,A;for(b=0,w=this.pieceList.toArray(),m=0,v=w.length;v>m;m++){if(E=w[m],((A=E.attachment)!=null?A.id:void 0)===f)return{attachment:E.attachment,position:b};b+=E.length}return{attachment:null,position:null}},h.prototype.getAttachmentById=function(f){var m,v;return v=this.getAttachmentAndPositionById(f),m=v.attachment,v.position,m},h.prototype.getRangeOfAttachment=function(f){var m,v;return v=this.getAttachmentAndPositionById(f.id),f=v.attachment,m=v.position,f!=null?[m,m+1]:void 0},h.prototype.updateAttributesForAttachment=function(f,m){var v;return(v=this.getRangeOfAttachment(m))?this.addAttributesAtRange(f,v):this},h.prototype.getLength=function(){return this.pieceList.getEndPosition()},h.prototype.isEmpty=function(){return this.getLength()===0},h.prototype.isEqualTo=function(f){var m;return h.__super__.isEqualTo.apply(this,arguments)||(f!=null&&(m=f.pieceList)!=null?m.isEqualTo(this.pieceList):void 0)},h.prototype.isBlockBreak=function(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},h.prototype.eachPiece=function(f){return this.pieceList.eachObject(f)},h.prototype.getPieces=function(){return this.pieceList.toArray()},h.prototype.getPieceAtPosition=function(f){return this.pieceList.getObjectAtPosition(f)},h.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},h.prototype.toSerializableText=function(){var f;return f=this.pieceList.selectSplittableList(function(m){return m.isSerializable()}),this.copyWithPieceList(f)},h.prototype.toString=function(){return this.pieceList.toString()},h.prototype.toJSON=function(){return this.pieceList.toJSON()},h.prototype.toConsole=function(){var f;return JSON.stringify(function(){var m,v,E,b;for(E=this.pieceList.toArray(),b=[],m=0,v=E.length;v>m;m++)f=E[m],b.push(JSON.parse(f.toConsole()));return b}.call(this))},h.prototype.getDirection=function(){return o.getDirection(this.toString())},h.prototype.isRTL=function(){return this.getDirection()==="rtl"},h}(o.Object)}.call(this),function(){var l,c,d,h,f=function(b,w){function A(){this.constructor=b}for(var y in w)m.call(w,y)&&(b[y]=w[y]);return A.prototype=w.prototype,b.prototype=new A,b.__super__=w.prototype,b},m={}.hasOwnProperty,v=[].indexOf||function(b){for(var w=0,A=this.length;A>w;w++)if(w in this&&this[w]===b)return w;return-1},E=[].slice;l=o.arraysAreEqual,h=o.spliceArray,c=o.getBlockConfig,o.getBlockAttributeNames,d=o.getListAttributeNames,o.Block=function(b){function w(R,F){R==null&&(R=new o.Text),F==null&&(F=[]),w.__super__.constructor.apply(this,arguments),this.text=y(R),this.attributes=F}var A,y,S,T,M,D,C,k,I;return f(w,b),w.fromJSON=function(R){var F;return F=o.Text.fromJSON(R.text),new this(F,R.attributes)},w.prototype.isEmpty=function(){return this.text.isBlockBreak()},w.prototype.isEqualTo=function(R){return w.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(R?.text)&&l(this.attributes,R?.attributes)},w.prototype.copyWithText=function(R){return new this.constructor(R,this.attributes)},w.prototype.copyWithoutText=function(){return this.copyWithText(null)},w.prototype.copyWithAttributes=function(R){return new this.constructor(this.text,R)},w.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},w.prototype.copyUsingObjectMap=function(R){var F;return this.copyWithText((F=R.find(this.text))?F:this.text.copyUsingObjectMap(R))},w.prototype.addAttribute=function(R){var F;return F=this.attributes.concat(T(R)),this.copyWithAttributes(F)},w.prototype.removeAttribute=function(R){var F,j;return j=c(R).listAttribute,F=D(D(this.attributes,R),j),this.copyWithAttributes(F)},w.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},w.prototype.getLastAttribute=function(){return M(this.attributes)},w.prototype.getAttributes=function(){return this.attributes.slice(0)},w.prototype.getAttributeLevel=function(){return this.attributes.length},w.prototype.getAttributeAtLevel=function(R){return this.attributes[R-1]},w.prototype.hasAttribute=function(R){return v.call(this.attributes,R)>=0},w.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},w.prototype.getLastNestableAttribute=function(){return M(this.getNestableAttributes())},w.prototype.getNestableAttributes=function(){var R,F,j,Y,G;for(Y=this.attributes,G=[],F=0,j=Y.length;j>F;F++)R=Y[F],c(R).nestable&&G.push(R);return G},w.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},w.prototype.decreaseNestingLevel=function(){var R;return(R=this.getLastNestableAttribute())?this.removeAttribute(R):this},w.prototype.increaseNestingLevel=function(){var R,F,j;return(R=this.getLastNestableAttribute())?(j=this.attributes.lastIndexOf(R),F=h.apply(null,[this.attributes,j+1,0].concat(E.call(T(R)))),this.copyWithAttributes(F)):this},w.prototype.getListItemAttributes=function(){var R,F,j,Y,G;for(Y=this.attributes,G=[],F=0,j=Y.length;j>F;F++)R=Y[F],c(R).listAttribute&&G.push(R);return G},w.prototype.isListItem=function(){var R;return(R=c(this.getLastAttribute()))!=null?R.listAttribute:void 0},w.prototype.isTerminalBlock=function(){var R;return(R=c(this.getLastAttribute()))!=null?R.terminal:void 0},w.prototype.breaksOnReturn=function(){var R;return(R=c(this.getLastAttribute()))!=null?R.breakOnReturn:void 0},w.prototype.findLineBreakInDirectionFromPosition=function(R,F){var j,Y;return Y=this.toString(),j=function(){switch(R){case"forward":return Y.indexOf(`
`,F);case"backward":return Y.slice(0,F).lastIndexOf(`
`)}}(),j!==-1?j:void 0},w.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},w.prototype.toString=function(){return this.text.toString()},w.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},w.prototype.getDirection=function(){return this.text.getDirection()},w.prototype.isRTL=function(){return this.text.isRTL()},w.prototype.getLength=function(){return this.text.getLength()},w.prototype.canBeConsolidatedWith=function(R){return!this.hasAttributes()&&!R.hasAttributes()&&this.getDirection()===R.getDirection()},w.prototype.consolidateWith=function(R){var F,j;return F=o.Text.textForStringWithAttributes(`
`),j=this.getTextWithoutBlockBreak().appendText(F),this.copyWithText(j.appendText(R.text))},w.prototype.splitAtOffset=function(R){var F,j;return R===0?(F=null,j=this):R===this.getLength()?(F=this,j=null):(F=this.copyWithText(this.text.getTextAtRange([0,R])),j=this.copyWithText(this.text.getTextAtRange([R,this.getLength()]))),[F,j]},w.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},w.prototype.getTextWithoutBlockBreak=function(){return C(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},w.prototype.canBeGrouped=function(R){return this.attributes[R]},w.prototype.canBeGroupedWith=function(R,F){var j,Y,G,B;return G=R.getAttributes(),Y=G[F],j=this.attributes[F],!(j!==Y||c(j).group===!1&&(B=G[F+1],v.call(d(),B)<0)||this.getDirection()!==R.getDirection()&&!R.isEmpty())},y=function(R){return R=I(R),R=A(R)},I=function(R){var F,j,Y,G,B,P;return G=!1,P=R.getPieces(),j=2<=P.length?E.call(P,0,F=P.length-1):(F=0,[]),Y=P[F++],Y==null?R:(j=function(){var z,$,N;for(N=[],z=0,$=j.length;$>z;z++)B=j[z],B.isBlockBreak()?(G=!0,N.push(k(B))):N.push(B);return N}(),G?new o.Text(E.call(j).concat([Y])):R)},S=o.Text.textForStringWithAttributes(`
`,{blockBreak:!0}),A=function(R){return C(R)?R:R.appendText(S)},C=function(R){var F,j;return j=R.getLength(),j===0?!1:(F=R.getTextAtRange([j-1,j]),F.isBlockBreak())},k=function(R){return R.copyWithoutAttribute("blockBreak")},T=function(R){var F;return F=c(R).listAttribute,F!=null?[F,R]:[R]},M=function(R){return R.slice(-1)[0]},D=function(R,F){var j;return j=R.lastIndexOf(F),j===-1?R:h(R,j,1)},w}(o.Object)}.call(this),function(){var l,c,d,h=function(E,b){function w(){this.constructor=E}for(var A in b)f.call(b,A)&&(E[A]=b[A]);return w.prototype=b.prototype,E.prototype=new w,E.__super__=b.prototype,E},f={}.hasOwnProperty,m=[].indexOf||function(E){for(var b=0,w=this.length;w>b;b++)if(b in this&&this[b]===E)return b;return-1},v=[].slice;c=o.tagName,d=o.walkTree,l=o.nodeIsAttachmentElement,o.HTMLSanitizer=function(E){function b(T,M){var D;D=M??{},this.allowedAttributes=D.allowedAttributes,this.forbiddenProtocols=D.forbiddenProtocols,this.forbiddenElements=D.forbiddenElements,this.allowedAttributes==null&&(this.allowedAttributes=w),this.forbiddenProtocols==null&&(this.forbiddenProtocols=y),this.forbiddenElements==null&&(this.forbiddenElements=A),this.body=S(T)}var w,A,y,S;return h(b,E),w="style href src width height class".split(" "),y="javascript:".split(" "),A="script iframe".split(" "),b.sanitize=function(T,M){var D;return D=new this(T,M),D.sanitize(),D},b.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},b.prototype.getHTML=function(){return this.body.innerHTML},b.prototype.getBody=function(){return this.body},b.prototype.sanitizeElements=function(){var T,M,D,C,k;for(k=d(this.body),C=[];k.nextNode();)switch(D=k.currentNode,D.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(D)?C.push(D):this.sanitizeElement(D);break;case Node.COMMENT_NODE:C.push(D)}for(T=0,M=C.length;M>T;T++)D=C[T],o.removeNode(D);return this.body},b.prototype.sanitizeElement=function(T){var M,D,C,k,I;for(T.hasAttribute("href")&&(k=T.protocol,m.call(this.forbiddenProtocols,k)>=0&&T.removeAttribute("href")),I=v.call(T.attributes),M=0,D=I.length;D>M;M++)C=I[M].name,m.call(this.allowedAttributes,C)>=0||C.indexOf("data-trix")===0||T.removeAttribute(C);return T},b.prototype.normalizeListElementNesting=function(){var T,M,D,C,k;for(k=v.call(this.body.querySelectorAll("ul,ol")),T=0,M=k.length;M>T;T++)D=k[T],(C=D.previousElementSibling)&&c(C)==="li"&&C.appendChild(D);return this.body},b.prototype.elementIsRemovable=function(T){return T?.nodeType===Node.ELEMENT_NODE?this.elementIsForbidden(T)||this.elementIsntSerializable(T):void 0},b.prototype.elementIsForbidden=function(T){var M;return M=c(T),m.call(this.forbiddenElements,M)>=0},b.prototype.elementIsntSerializable=function(T){return T.getAttribute("data-trix-serialize")==="false"&&!l(T)},S=function(T){var M,D,C,k,I;for(T==null&&(T=""),T=T.replace(/<\/html[^>]*>[^]*$/i,"</html>"),M=document.implementation.createHTMLDocument(""),M.documentElement.innerHTML=T,I=M.head.querySelectorAll("style"),C=0,k=I.length;k>C;C++)D=I[C],M.body.appendChild(D);return M.body},b}(o.BasicObject)}.call(this),function(){var l,c,d,h,f,m,v,E,b,w,A,y=function(M,D){function C(){this.constructor=M}for(var k in D)S.call(D,k)&&(M[k]=D[k]);return C.prototype=D.prototype,M.prototype=new C,M.__super__=D.prototype,M},S={}.hasOwnProperty,T=[].indexOf||function(M){for(var D=0,C=this.length;C>D;D++)if(D in this&&this[D]===M)return D;return-1};l=o.arraysAreEqual,m=o.makeElement,w=o.tagName,f=o.getBlockTagNames,A=o.walkTree,h=o.findClosestElementFromNode,d=o.elementContainsNode,v=o.nodeIsAttachmentElement,E=o.normalizeSpaces,c=o.breakableWhitespacePattern,b=o.squishBreakableWhitespace,o.HTMLParser=function(M){function D(N,V){this.html=N,this.referenceElement=(V??{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var C,k,I,R,F,j,Y,G,B,P,z,$;return y(D,M),D.parse=function(N,V){var q;return q=new this(N,V),q.parse(),q},D.prototype.getDocument=function(){return o.Document.fromJSON(this.blocks)},D.prototype.parse=function(){var N,V;try{for(this.createHiddenContainer(),N=o.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=N,V=A(this.containerElement,{usingFilter:Y});V.nextNode();)this.processNode(V.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},D.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=m({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},D.prototype.removeHiddenContainer=function(){return o.removeNode(this.containerElement)},Y=function(N){return w(N)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},D.prototype.processNode=function(N){switch(N.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(N))return this.appendBlockForTextNode(N),this.processTextNode(N);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(N),this.processElement(N)}},D.prototype.appendBlockForTextNode=function(N){var V,q,J;return q=N.parentNode,q===this.currentBlockElement&&this.isBlockElement(N.previousSibling)?this.appendStringWithAttributes(`
`):q!==this.containerElement&&!this.isBlockElement(q)||(V=this.getBlockAttributes(q),l(V,(J=this.currentBlock)!=null?J.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(V,q),this.currentBlockElement=q)},D.prototype.appendBlockForElement=function(N){var V,q,J,ne;if(J=this.isBlockElement(N),q=d(this.currentBlockElement,N),J&&!this.isBlockElement(N.firstChild)){if((!this.isInsignificantTextNode(N.firstChild)||!this.isBlockElement(N.firstElementChild))&&(V=this.getBlockAttributes(N),N.firstChild))return q&&l(V,this.currentBlock.attributes)?this.appendStringWithAttributes(`
`):(this.currentBlock=this.appendBlockForAttributesWithElement(V,N),this.currentBlockElement=N)}else if(this.currentBlockElement&&!q&&!J)return(ne=this.findParentBlockElement(N))?this.appendBlockForElement(ne):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},D.prototype.findParentBlockElement=function(N){var V;for(V=N.parentElement;V&&V!==this.containerElement;){if(this.isBlockElement(V)&&T.call(this.blockElements,V)>=0)return V;V=V.parentElement}return null},D.prototype.processTextNode=function(N){var V,q;return q=N.data,k(N.parentNode)||(q=b(q),z((V=N.previousSibling)!=null?V.textContent:void 0)&&(q=F(q))),this.appendStringWithAttributes(q,this.getTextAttributes(N.parentNode))},D.prototype.processElement=function(N){var V,q,J,ne,ue;if(v(N))return V=G(N,"attachment"),Object.keys(V).length&&(ne=this.getTextAttributes(N),this.appendAttachmentWithAttributes(V,ne),N.innerHTML=""),this.processedElements.push(N);switch(w(N)){case"br":return this.isExtraBR(N)||this.isBlockElement(N.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(N)),this.processedElements.push(N);case"img":V={url:N.getAttribute("src"),contentType:"image"},J=R(N);for(q in J)ue=J[q],V[q]=ue;return this.appendAttachmentWithAttributes(V,this.getTextAttributes(N)),this.processedElements.push(N);case"tr":if(N.parentNode.firstChild!==N)return this.appendStringWithAttributes(`
`);break;case"td":if(N.parentNode.firstChild!==N)return this.appendStringWithAttributes(" | ")}},D.prototype.appendBlockForAttributesWithElement=function(N,V){var q;return this.blockElements.push(V),q=C(N),this.blocks.push(q),q},D.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},D.prototype.appendStringWithAttributes=function(N,V){return this.appendPiece(P(N,V))},D.prototype.appendAttachmentWithAttributes=function(N,V){return this.appendPiece(B(N,V))},D.prototype.appendPiece=function(N){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(N)},D.prototype.appendStringToTextAtIndex=function(N,V){var q,J;return J=this.blocks[V].text,q=J[J.length-1],q?.type==="string"?q.string+=N:J.push(P(N))},D.prototype.prependStringToTextAtIndex=function(N,V){var q,J;return J=this.blocks[V].text,q=J[0],q?.type==="string"?q.string=N+q.string:J.unshift(P(N))},P=function(N,V){var q;return V==null&&(V={}),q="string",N=E(N),{string:N,attributes:V,type:q}},B=function(N,V){var q;return V==null&&(V={}),q="attachment",{attachment:N,attributes:V,type:q}},C=function(N){var V;return N==null&&(N={}),V=[],{text:V,attributes:N}},D.prototype.getTextAttributes=function(N){var V,q,J,ne,ue,pe,Ie,we,st,Ae,Oe,$e;J={},st=o.config.textAttributes;for(V in st)if(ue=st[V],ue.tagName&&h(N,{matchingSelector:ue.tagName,untilNode:this.containerElement}))J[V]=!0;else if(ue.parser){if($e=ue.parser(N)){for(q=!1,Ae=this.findBlockElementAncestors(N),pe=0,we=Ae.length;we>pe;pe++)if(ne=Ae[pe],ue.parser(ne)===$e){q=!0;break}q||(J[V]=$e)}}else ue.styleProperty&&($e=N.style[ue.styleProperty])&&(J[V]=$e);if(v(N)){Oe=G(N,"attributes");for(Ie in Oe)$e=Oe[Ie],J[Ie]=$e}return J},D.prototype.getBlockAttributes=function(N){var V,q,J,ne;for(q=[];N&&N!==this.containerElement;){ne=o.config.blockAttributes;for(V in ne)J=ne[V],J.parse!==!1&&w(N)===J.tagName&&(typeof J.test=="function"&&J.test(N)||!J.test)&&(q.push(V),J.listAttribute&&q.push(J.listAttribute));N=N.parentNode}return q.reverse()},D.prototype.findBlockElementAncestors=function(N){var V,q;for(V=[];N&&N!==this.containerElement;)q=w(N),T.call(f(),q)>=0&&V.push(N),N=N.parentNode;return V},G=function(N,V){try{return JSON.parse(N.getAttribute("data-trix-"+V))}catch{return{}}},R=function(N){var V,q,J;return J=N.getAttribute("width"),q=N.getAttribute("height"),V={},J&&(V.width=parseInt(J,10)),q&&(V.height=parseInt(q,10)),V},D.prototype.isBlockElement=function(N){var V;if(N?.nodeType===Node.ELEMENT_NODE&&!v(N)&&!h(N,{matchingSelector:"td",untilNode:this.containerElement}))return V=w(N),T.call(f(),V)>=0||window.getComputedStyle(N).display==="block"},D.prototype.isInsignificantTextNode=function(N){var V,q,J;if(N?.nodeType===Node.TEXT_NODE&&$(N.data)&&(q=N.parentNode,J=N.previousSibling,V=N.nextSibling,(!j(q.previousSibling)||this.isBlockElement(q.previousSibling))&&!k(q)))return!J||this.isBlockElement(J)||!V||this.isBlockElement(V)},D.prototype.isExtraBR=function(N){return w(N)==="br"&&this.isBlockElement(N.parentNode)&&N.parentNode.lastChild===N},k=function(N){var V;return V=window.getComputedStyle(N).whiteSpace,V==="pre"||V==="pre-wrap"||V==="pre-line"},j=function(N){return N&&!z(N.textContent)},D.prototype.translateBlockElementMarginsToNewlines=function(){var N,V,q,J,ne,ue,pe;for(N=this.getMarginOfDefaultBlockElement(),ue=this.blocks,pe=[],q=V=0,J=ue.length;J>V;q=++V)ue[q],(ne=this.getMarginOfBlockElementAtIndex(q))&&(ne.top>2*N.top&&this.prependStringToTextAtIndex(`
`,q),pe.push(ne.bottom>2*N.bottom?this.appendStringToTextAtIndex(`
`,q):void 0));return pe},D.prototype.getMarginOfBlockElementAtIndex=function(N){var V,q;return!(V=this.blockElements[N])||!V.textContent||(q=w(V),T.call(f(),q)>=0||T.call(this.processedElements,V)>=0)?void 0:I(V)},D.prototype.getMarginOfDefaultBlockElement=function(){var N;return N=m(o.config.blockAttributes.default.tagName),this.containerElement.appendChild(N),I(N)},I=function(N){var V;return V=window.getComputedStyle(N),V.display==="block"?{top:parseInt(V.marginTop),bottom:parseInt(V.marginBottom)}:void 0},F=function(N){return N.replace(RegExp("^"+c.source+"+"),"")},$=function(N){return RegExp("^"+c.source+"*$").test(N)},z=function(N){return/\s$/.test(N)},D}(o.BasicObject)}.call(this),function(){var l,c,d,h,f=function(b,w){function A(){this.constructor=b}for(var y in w)m.call(w,y)&&(b[y]=w[y]);return A.prototype=w.prototype,b.prototype=new A,b.__super__=w.prototype,b},m={}.hasOwnProperty,v=[].slice,E=[].indexOf||function(b){for(var w=0,A=this.length;A>w;w++)if(w in this&&this[w]===b)return w;return-1};l=o.arraysAreEqual,d=o.normalizeRange,h=o.rangeIsCollapsed,c=o.getBlockConfig,o.Document=function(b){function w(y){y==null&&(y=[]),w.__super__.constructor.apply(this,arguments),y.length===0&&(y=[new o.Block]),this.blockList=o.SplittableList.box(y)}var A;return f(w,b),w.fromJSON=function(y){var S,T;return T=function(){var M,D,C;for(C=[],M=0,D=y.length;D>M;M++)S=y[M],C.push(o.Block.fromJSON(S));return C}(),new this(T)},w.fromHTML=function(y,S){return o.HTMLParser.parse(y,S).getDocument()},w.fromString=function(y,S){var T;return T=o.Text.textForStringWithAttributes(y,S),new this([new o.Block(T)])},w.prototype.isEmpty=function(){var y;return this.blockList.length===1&&(y=this.getBlockAtIndex(0),y.isEmpty()&&!y.hasAttributes())},w.prototype.copy=function(y){var S;return y==null&&(y={}),S=y.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(S)},w.prototype.copyUsingObjectsFromDocument=function(y){var S;return S=new o.ObjectMap(y.getObjects()),this.copyUsingObjectMap(S)},w.prototype.copyUsingObjectMap=function(y){var S,T,M;return T=function(){var D,C,k,I;for(k=this.getBlocks(),I=[],D=0,C=k.length;C>D;D++)S=k[D],I.push((M=y.find(S))?M:S.copyUsingObjectMap(y));return I}.call(this),new this.constructor(T)},w.prototype.copyWithBaseBlockAttributes=function(y){var S,T,M;return y==null&&(y=[]),M=function(){var D,C,k,I;for(k=this.getBlocks(),I=[],D=0,C=k.length;C>D;D++)T=k[D],S=y.concat(T.getAttributes()),I.push(T.copyWithAttributes(S));return I}.call(this),new this.constructor(M)},w.prototype.replaceBlock=function(y,S){var T;return T=this.blockList.indexOf(y),T===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(S,T))},w.prototype.insertDocumentAtRange=function(y,S){var T,M,D,C,k,I,R;return M=y.blockList,k=(S=d(S))[0],I=this.locationFromPosition(k),D=I.index,C=I.offset,R=this,T=this.getBlockAtPosition(k),h(S)&&T.isEmpty()&&!T.hasAttributes()?R=new this.constructor(R.blockList.removeObjectAtIndex(D)):T.getBlockBreakPosition()===C&&k++,R=R.removeTextAtRange(S),new this.constructor(R.blockList.insertSplittableListAtPosition(M,k))},w.prototype.mergeDocumentAtRange=function(y,S){var T,M,D,C,k,I,R,F,j,Y,G,B;return G=(S=d(S))[0],Y=this.locationFromPosition(G),M=this.getBlockAtIndex(Y.index).getAttributes(),T=y.getBaseBlockAttributes(),B=M.slice(-T.length),l(T,B)?(R=M.slice(0,-T.length),I=y.copyWithBaseBlockAttributes(R)):I=y.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(M),D=I.getBlockCount(),C=I.getBlockAtIndex(0),l(M,C.getAttributes())?(k=C.getTextWithoutBlockBreak(),j=this.insertTextAtRange(k,S),D>1&&(I=new this.constructor(I.getBlocks().slice(1)),F=G+k.getLength(),j=j.insertDocumentAtRange(I,F))):j=this.insertDocumentAtRange(I,S),j},w.prototype.insertTextAtRange=function(y,S){var T,M,D,C,k;return k=(S=d(S))[0],C=this.locationFromPosition(k),M=C.index,D=C.offset,T=this.removeTextAtRange(S),new this.constructor(T.blockList.editObjectAtIndex(M,function(I){return I.copyWithText(I.text.insertTextAtPosition(y,D))}))},w.prototype.removeTextAtRange=function(y){var S,T,M,D,C,k,I,R,F,j,Y,G,B,P,z,$,N,V,q,J,ne;return j=y=d(y),R=j[0],V=j[1],h(y)?this:(Y=this.locationRangeFromRange(y),k=Y[0],$=Y[1],C=k.index,I=k.offset,D=this.getBlockAtIndex(C),z=$.index,N=$.offset,P=this.getBlockAtIndex(z),G=V-R===1&&D.getBlockBreakPosition()===I&&P.getBlockBreakPosition()!==N&&P.text.getStringAtPosition(N)===`
`,G?M=this.blockList.editObjectAtIndex(z,function(ue){return ue.copyWithText(ue.text.removeTextAtRange([N,N+1]))}):(F=D.text.getTextAtRange([0,I]),q=P.text.getTextAtRange([N,P.getLength()]),J=F.appendText(q),B=C!==z&&I===0,ne=B&&D.getAttributeLevel()>=P.getAttributeLevel(),T=ne?P.copyWithText(J):D.copyWithText(J),S=z+1-C,M=this.blockList.splice(C,S,T)),new this.constructor(M))},w.prototype.moveTextFromRangeToPosition=function(y,S){var T,M,D,C,k,I,R,F,j,Y;return I=y=d(y),j=I[0],D=I[1],S>=j&&D>=S?this:(M=this.getDocumentAtRange(y),F=this.removeTextAtRange(y),k=S>j,k&&(S-=M.getLength()),R=M.getBlocks(),C=R[0],T=2<=R.length?v.call(R,1):[],T.length===0?(Y=C.getTextWithoutBlockBreak(),k&&(S+=1)):Y=C.text,F=F.insertTextAtRange(Y,S),T.length===0?F:(M=new this.constructor(T),S+=Y.getLength(),F.insertDocumentAtRange(M,S)))},w.prototype.addAttributeAtRange=function(y,S,T){var M;return M=this.blockList,this.eachBlockAtRange(T,function(D,C,k){return M=M.editObjectAtIndex(k,function(){return c(y)?D.addAttribute(y,S):C[0]===C[1]?D:D.copyWithText(D.text.addAttributeAtRange(y,S,C))})}),new this.constructor(M)},w.prototype.addAttribute=function(y,S){var T;return T=this.blockList,this.eachBlock(function(M,D){return T=T.editObjectAtIndex(D,function(){return M.addAttribute(y,S)})}),new this.constructor(T)},w.prototype.removeAttributeAtRange=function(y,S){var T;return T=this.blockList,this.eachBlockAtRange(S,function(M,D,C){return c(y)?T=T.editObjectAtIndex(C,function(){return M.removeAttribute(y)}):D[0]!==D[1]?T=T.editObjectAtIndex(C,function(){return M.copyWithText(M.text.removeAttributeAtRange(y,D))}):void 0}),new this.constructor(T)},w.prototype.updateAttributesForAttachment=function(y,S){var T,M,D;return M=this.getRangeOfAttachment(S)[0],T=this.locationFromPosition(M).index,D=this.getTextAtIndex(T),new this.constructor(this.blockList.editObjectAtIndex(T,function(C){return C.copyWithText(D.updateAttributesForAttachment(y,S))}))},w.prototype.removeAttributeForAttachment=function(y,S){var T;return T=this.getRangeOfAttachment(S),this.removeAttributeAtRange(y,T)},w.prototype.insertBlockBreakAtRange=function(y){var S,T,M,D;return D=(y=d(y))[0],M=this.locationFromPosition(D).offset,T=this.removeTextAtRange(y),M===0&&(S=[new o.Block]),new this.constructor(T.blockList.insertSplittableListAtPosition(new o.SplittableList(S),D))},w.prototype.applyBlockAttributeAtRange=function(y,S,T){var M,D,C,k;return C=this.expandRangeToLineBreaksAndSplitBlocks(T),D=C.document,T=C.range,M=c(y),M.listAttribute?(D=D.removeLastListAttributeAtRange(T,{exceptAttributeName:y}),k=D.convertLineBreaksToBlockBreaksInRange(T),D=k.document,T=k.range):D=M.exclusive?D.removeBlockAttributesAtRange(T):M.terminal?D.removeLastTerminalAttributeAtRange(T):D.consolidateBlocksAtRange(T),D.addAttributeAtRange(y,S,T)},w.prototype.removeLastListAttributeAtRange=function(y,S){var T;return S==null&&(S={}),T=this.blockList,this.eachBlockAtRange(y,function(M,D,C){var k;if((k=M.getLastAttribute())&&c(k).listAttribute&&k!==S.exceptAttributeName)return T=T.editObjectAtIndex(C,function(){return M.removeAttribute(k)})}),new this.constructor(T)},w.prototype.removeLastTerminalAttributeAtRange=function(y){var S;return S=this.blockList,this.eachBlockAtRange(y,function(T,M,D){var C;if((C=T.getLastAttribute())&&c(C).terminal)return S=S.editObjectAtIndex(D,function(){return T.removeAttribute(C)})}),new this.constructor(S)},w.prototype.removeBlockAttributesAtRange=function(y){var S;return S=this.blockList,this.eachBlockAtRange(y,function(T,M,D){return T.hasAttributes()?S=S.editObjectAtIndex(D,function(){return T.copyWithoutAttributes()}):void 0}),new this.constructor(S)},w.prototype.expandRangeToLineBreaksAndSplitBlocks=function(y){var S,T,M,D,C,k,I,R,F;return k=y=d(y),F=k[0],D=k[1],R=this.locationFromPosition(F),M=this.locationFromPosition(D),S=this,I=S.getBlockAtIndex(R.index),(R.offset=I.findLineBreakInDirectionFromPosition("backward",R.offset))!=null&&(C=S.positionFromLocation(R),S=S.insertBlockBreakAtRange([C,C+1]),M.index+=1,M.offset-=S.getBlockAtIndex(R.index).getLength(),R.index+=1),R.offset=0,M.offset===0&&M.index>R.index?(M.index-=1,M.offset=S.getBlockAtIndex(M.index).getBlockBreakPosition()):(T=S.getBlockAtIndex(M.index),T.text.getStringAtRange([M.offset-1,M.offset])===`
`?M.offset-=1:M.offset=T.findLineBreakInDirectionFromPosition("forward",M.offset),M.offset!==T.getBlockBreakPosition()&&(C=S.positionFromLocation(M),S=S.insertBlockBreakAtRange([C,C+1]))),F=S.positionFromLocation(R),D=S.positionFromLocation(M),y=d([F,D]),{document:S,range:y}},w.prototype.convertLineBreaksToBlockBreaksInRange=function(y){var S,T,M;return T=(y=d(y))[0],M=this.getStringAtRange(y).slice(0,-1),S=this,M.replace(/.*?\n/g,function(D){return T+=D.length,S=S.insertBlockBreakAtRange([T-1,T])}),{document:S,range:y}},w.prototype.consolidateBlocksAtRange=function(y){var S,T,M,D,C;return M=y=d(y),C=M[0],T=M[1],D=this.locationFromPosition(C).index,S=this.locationFromPosition(T).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(D,S))},w.prototype.getDocumentAtRange=function(y){var S;return y=d(y),S=this.blockList.getSplittableListInRange(y).toArray(),new this.constructor(S)},w.prototype.getStringAtRange=function(y){var S,T,M;return M=y=d(y),T=M[M.length-1],T!==this.getLength()&&(S=-1),this.getDocumentAtRange(y).toString().slice(0,S)},w.prototype.getBlockAtIndex=function(y){return this.blockList.getObjectAtIndex(y)},w.prototype.getBlockAtPosition=function(y){var S;return S=this.locationFromPosition(y).index,this.getBlockAtIndex(S)},w.prototype.getTextAtIndex=function(y){var S;return(S=this.getBlockAtIndex(y))!=null?S.text:void 0},w.prototype.getTextAtPosition=function(y){var S;return S=this.locationFromPosition(y).index,this.getTextAtIndex(S)},w.prototype.getPieceAtPosition=function(y){var S,T,M;return M=this.locationFromPosition(y),S=M.index,T=M.offset,this.getTextAtIndex(S).getPieceAtPosition(T)},w.prototype.getCharacterAtPosition=function(y){var S,T,M;return M=this.locationFromPosition(y),S=M.index,T=M.offset,this.getTextAtIndex(S).getStringAtRange([T,T+1])},w.prototype.getLength=function(){return this.blockList.getEndPosition()},w.prototype.getBlocks=function(){return this.blockList.toArray()},w.prototype.getBlockCount=function(){return this.blockList.length},w.prototype.getEditCount=function(){return this.editCount},w.prototype.eachBlock=function(y){return this.blockList.eachObject(y)},w.prototype.eachBlockAtRange=function(y,S){var T,M,D,C,k,I,R,F,j,Y,G,B;if(I=y=d(y),G=I[0],D=I[1],Y=this.locationFromPosition(G),M=this.locationFromPosition(D),Y.index===M.index)return T=this.getBlockAtIndex(Y.index),B=[Y.offset,M.offset],S(T,B,Y.index);for(j=[],k=C=R=Y.index,F=M.index;F>=R?F>=C:C>=F;k=F>=R?++C:--C)(T=this.getBlockAtIndex(k))?(B=function(){switch(k){case Y.index:return[Y.offset,T.text.getLength()];case M.index:return[0,M.offset];default:return[0,T.text.getLength()]}}(),j.push(S(T,B,k))):j.push(void 0);return j},w.prototype.getCommonAttributesAtRange=function(y){var S,T,M;return T=(y=d(y))[0],h(y)?this.getCommonAttributesAtPosition(T):(M=[],S=[],this.eachBlockAtRange(y,function(D,C){return C[0]!==C[1]?(M.push(D.text.getCommonAttributesAtRange(C)),S.push(A(D))):void 0}),o.Hash.fromCommonAttributesOfObjects(M).merge(o.Hash.fromCommonAttributesOfObjects(S)).toObject())},w.prototype.getCommonAttributesAtPosition=function(y){var S,T,M,D,C,k,I,R,F,j;if(F=this.locationFromPosition(y),C=F.index,R=F.offset,M=this.getBlockAtIndex(C),!M)return{};D=A(M),S=M.text.getAttributesAtPosition(R),T=M.text.getAttributesAtPosition(R-1),k=function(){var Y,G;Y=o.config.textAttributes,G=[];for(I in Y)j=Y[I],j.inheritable&&G.push(I);return G}();for(I in T)j=T[I],(j===S[I]||E.call(k,I)>=0)&&(D[I]=j);return D},w.prototype.getRangeOfCommonAttributeAtPosition=function(y,S){var T,M,D,C,k,I,R,F,j;return k=this.locationFromPosition(S),D=k.index,C=k.offset,j=this.getTextAtIndex(D),I=j.getExpandedRangeForAttributeAtOffset(y,C),F=I[0],M=I[1],R=this.positionFromLocation({index:D,offset:F}),T=this.positionFromLocation({index:D,offset:M}),d([R,T])},w.prototype.getBaseBlockAttributes=function(){var y,S,T,M,D,C,k;for(y=this.getBlockAtIndex(0).getAttributes(),T=M=1,k=this.getBlockCount();k>=1?k>M:M>k;T=k>=1?++M:--M)S=this.getBlockAtIndex(T).getAttributes(),C=Math.min(y.length,S.length),y=function(){var I,R,F;for(F=[],D=I=0,R=C;(R>=0?R>I:I>R)&&S[D]===y[D];D=R>=0?++I:--I)F.push(S[D]);return F}();return y},A=function(y){var S,T;return T={},(S=y.getLastAttribute())&&(T[S]=!0),T},w.prototype.getAttachmentById=function(y){var S,T,M,D;for(D=this.getAttachments(),T=0,M=D.length;M>T;T++)if(S=D[T],S.id===y)return S},w.prototype.getAttachmentPieces=function(){var y;return y=[],this.blockList.eachObject(function(S){var T;return T=S.text,y=y.concat(T.getAttachmentPieces())}),y},w.prototype.getAttachments=function(){var y,S,T,M,D;for(M=this.getAttachmentPieces(),D=[],y=0,S=M.length;S>y;y++)T=M[y],D.push(T.attachment);return D},w.prototype.getRangeOfAttachment=function(y){var S,T,M,D,C,k,I;for(D=0,C=this.blockList.toArray(),T=S=0,M=C.length;M>S;T=++S){if(k=C[T].text,I=k.getRangeOfAttachment(y))return d([D+I[0],D+I[1]]);D+=k.getLength()}},w.prototype.getLocationRangeOfAttachment=function(y){var S;return S=this.getRangeOfAttachment(y),this.locationRangeFromRange(S)},w.prototype.getAttachmentPieceForAttachment=function(y){var S,T,M,D;for(D=this.getAttachmentPieces(),S=0,T=D.length;T>S;S++)if(M=D[S],M.attachment===y)return M},w.prototype.findRangesForBlockAttribute=function(y){var S,T,M,D,C,k,I;for(C=0,k=[],I=this.getBlocks(),T=0,M=I.length;M>T;T++)S=I[T],D=S.getLength(),S.hasAttribute(y)&&k.push([C,C+D]),C+=D;return k},w.prototype.findRangesForTextAttribute=function(y,S){var T,M,D,C,k,I,R,F,j,Y;for(Y=(S??{}).withValue,I=0,R=[],F=[],C=function(G){return Y!=null?G.getAttribute(y)===Y:G.hasAttribute(y)},j=this.getPieces(),T=0,M=j.length;M>T;T++)k=j[T],D=k.getLength(),C(k)&&(R[1]===I?R[1]=I+D:F.push(R=[I,I+D])),I+=D;return F},w.prototype.locationFromPosition=function(y){var S,T;return T=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,y)),T.index!=null?T:(S=this.getBlocks(),{index:S.length-1,offset:S[S.length-1].getLength()})},w.prototype.positionFromLocation=function(y){return this.blockList.findPositionAtIndexAndOffset(y.index,y.offset)},w.prototype.locationRangeFromPosition=function(y){return d(this.locationFromPosition(y))},w.prototype.locationRangeFromRange=function(y){var S,T,M,D;if(y=d(y))return D=y[0],T=y[1],M=this.locationFromPosition(D),S=this.locationFromPosition(T),d([M,S])},w.prototype.rangeFromLocationRange=function(y){var S,T;return y=d(y),S=this.positionFromLocation(y[0]),h(y)||(T=this.positionFromLocation(y[1])),d([S,T])},w.prototype.isEqualTo=function(y){return this.blockList.isEqualTo(y?.blockList)},w.prototype.getTexts=function(){var y,S,T,M,D;for(M=this.getBlocks(),D=[],S=0,T=M.length;T>S;S++)y=M[S],D.push(y.text);return D},w.prototype.getPieces=function(){var y,S,T,M,D;for(T=[],M=this.getTexts(),y=0,S=M.length;S>y;y++)D=M[y],T.push.apply(T,D.getPieces());return T},w.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},w.prototype.toSerializableDocument=function(){var y;return y=[],this.blockList.eachObject(function(S){return y.push(S.copyWithText(S.text.toSerializableText()))}),new this.constructor(y)},w.prototype.toString=function(){return this.blockList.toString()},w.prototype.toJSON=function(){return this.blockList.toJSON()},w.prototype.toConsole=function(){var y;return JSON.stringify(function(){var S,T,M,D;for(M=this.blockList.toArray(),D=[],S=0,T=M.length;T>S;S++)y=M[S],D.push(JSON.parse(y.text.toConsole()));return D}.call(this))},w}(o.Object)}.call(this),function(){o.LineBreakInsertion=function(){function l(c){var d;this.composition=c,this.document=this.composition.document,d=this.composition.getSelectedRange(),this.startPosition=d[0],this.endPosition=d[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return l.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`},l.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)},l.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},l.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()},l.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},l}()}.call(this),function(){var l,c,d,h,f,m,v,E,b,w,A=function(S,T){function M(){this.constructor=S}for(var D in T)y.call(T,D)&&(S[D]=T[D]);return M.prototype=T.prototype,S.prototype=new M,S.__super__=T.prototype,S},y={}.hasOwnProperty;m=o.normalizeRange,b=o.rangesAreEqual,E=o.rangeIsCollapsed,v=o.objectsAreEqual,l=o.arrayStartsWith,w=o.summarizeArrayChange,d=o.getAllAttributeNames,h=o.getBlockConfig,f=o.getTextConfig,c=o.extend,o.Composition=function(S){function T(){this.document=new o.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var M;return A(T,S),T.prototype.setDocument=function(D){var C;return D.isEqualTo(this.document)?void 0:(this.document=D,this.refreshAttachments(),this.revision++,(C=this.delegate)!=null&&typeof C.compositionDidChangeDocument=="function"?C.compositionDidChangeDocument(D):void 0)},T.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},T.prototype.loadSnapshot=function(D){var C,k,I,R;return C=D.document,R=D.selectedRange,(k=this.delegate)!=null&&typeof k.compositionWillLoadSnapshot=="function"&&k.compositionWillLoadSnapshot(),this.setDocument(C??new o.Document),this.setSelection(R??[0,0]),(I=this.delegate)!=null&&typeof I.compositionDidLoadSnapshot=="function"?I.compositionDidLoadSnapshot():void 0},T.prototype.insertText=function(D,C){var k,I,R,F;return F=(C??{updatePosition:!0}).updatePosition,I=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(D,I)),R=I[0],k=R+D.getLength(),F&&this.setSelection(k),this.notifyDelegateOfInsertionAtRange([R,k])},T.prototype.insertBlock=function(D){var C;return D==null&&(D=new o.Block),C=new o.Document([D]),this.insertDocument(C)},T.prototype.insertDocument=function(D){var C,k,I;return D==null&&(D=new o.Document),k=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(D,k)),I=k[0],C=I+D.getLength(),this.setSelection(C),this.notifyDelegateOfInsertionAtRange([I,C])},T.prototype.insertString=function(D,C){var k,I;return k=this.getCurrentTextAttributes(),I=o.Text.textForStringWithAttributes(D,k),this.insertText(I,C)},T.prototype.insertBlockBreak=function(){var D,C,k;return C=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(C)),k=C[0],D=k+1,this.setSelection(D),this.notifyDelegateOfInsertionAtRange([k,D])},T.prototype.insertLineBreak=function(){var D,C;return C=new o.LineBreakInsertion(this),C.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(C.startPosition)):C.shouldPrependListItem()?(D=new o.Document([C.block.copyWithoutText()]),this.insertDocument(D)):C.shouldInsertBlockBreak()?this.insertBlockBreak():C.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():C.shouldBreakFormattedBlock()?this.breakFormattedBlock(C):this.insertString(`
`)},T.prototype.insertHTML=function(D){var C,k,I,R;return C=o.Document.fromHTML(D),I=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(C,I)),R=I[0],k=R+C.getLength()-1,this.setSelection(k),this.notifyDelegateOfInsertionAtRange([R,k])},T.prototype.replaceHTML=function(D){var C,k,I;return C=o.Document.fromHTML(D).copyUsingObjectsFromDocument(this.document),k=this.getLocationRange({strict:!1}),I=this.document.rangeFromLocationRange(k),this.setDocument(C),this.setSelection(I)},T.prototype.insertFile=function(D){return this.insertFiles([D])},T.prototype.insertFiles=function(D){var C,k,I,R,F,j;for(k=[],R=0,F=D.length;F>R;R++)I=D[R],(j=this.delegate)!=null&&j.compositionShouldAcceptFile(I)&&(C=o.Attachment.attachmentForFile(I),k.push(C));return this.insertAttachments(k)},T.prototype.insertAttachment=function(D){return this.insertAttachments([D])},T.prototype.insertAttachments=function(D){var C,k,I,R,F,j,Y,G,B;for(G=new o.Text,R=0,F=D.length;F>R;R++)C=D[R],B=C.getType(),j=(Y=o.config.attachments[B])!=null?Y.presentation:void 0,I=this.getCurrentTextAttributes(),j&&(I.presentation=j),k=o.Text.textForAttachmentWithAttributes(C,I),G=G.appendText(k);return this.insertText(G)},T.prototype.shouldManageDeletingInDirection=function(D){var C;if(C=this.getLocationRange(),E(C)){if(D==="backward"&&C[0].offset===0||this.shouldManageMovingCursorInDirection(D))return!0}else if(C[0].index!==C[1].index)return!0;return!1},T.prototype.deleteInDirection=function(D,C){var k,I,R,F,j,Y,G,B;return F=(C??{}).length,j=this.getLocationRange(),Y=this.getSelectedRange(),G=E(Y),G?R=D==="backward"&&j[0].offset===0:B=j[0].index!==j[1].index,R&&this.canDecreaseBlockAttributeLevel()&&(I=this.getBlock(),I.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(Y[0]),I.isEmpty())?!1:(G&&(Y=this.getExpandedRangeInDirection(D,{length:F}),D==="backward"&&(k=this.getAttachmentAtRange(Y))),k?(this.editAttachment(k),!1):(this.setDocument(this.document.removeTextAtRange(Y)),this.setSelection(Y[0]),R||B?!1:void 0))},T.prototype.moveTextFromRange=function(D){var C;return C=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(D,C)),this.setSelection(C)},T.prototype.removeAttachment=function(D){var C;return(C=this.document.getRangeOfAttachment(D))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(C)),this.setSelection(C[0])):void 0},T.prototype.removeLastBlockAttribute=function(){var D,C,k,I;return k=this.getSelectedRange(),I=k[0],C=k[1],D=this.document.getBlockAtPosition(C),this.removeCurrentAttribute(D.getLastAttribute()),this.setSelection(I)},M=" ",T.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(M)},T.prototype.selectPlaceholder=function(){return this.placeholderPosition!=null?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+M.length]),this.getSelectedRange()):void 0},T.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},T.prototype.hasCurrentAttribute=function(D){var C;return C=this.currentAttributes[D],C!=null&&C!==!1},T.prototype.toggleCurrentAttribute=function(D){var C;return(C=!this.currentAttributes[D])?this.setCurrentAttribute(D,C):this.removeCurrentAttribute(D)},T.prototype.canSetCurrentAttribute=function(D){return h(D)?this.canSetCurrentBlockAttribute(D):this.canSetCurrentTextAttribute(D)},T.prototype.canSetCurrentTextAttribute=function(){var D,C,k,I,R;if(C=this.getSelectedDocument()){for(R=C.getAttachments(),k=0,I=R.length;I>k;k++)if(D=R[k],!D.hasContent())return!1;return!0}},T.prototype.canSetCurrentBlockAttribute=function(){var D;if(D=this.getBlock())return!D.isTerminalBlock()},T.prototype.setCurrentAttribute=function(D,C){return h(D)?this.setBlockAttribute(D,C):(this.setTextAttribute(D,C),this.currentAttributes[D]=C,this.notifyDelegateOfCurrentAttributesChange())},T.prototype.setTextAttribute=function(D,C){var k,I,R,F;if(I=this.getSelectedRange())return R=I[0],k=I[1],R!==k?this.setDocument(this.document.addAttributeAtRange(D,C,I)):D==="href"?(F=o.Text.textForStringWithAttributes(C,{href:C}),this.insertText(F)):void 0},T.prototype.setBlockAttribute=function(D,C){var k;if(k=this.getSelectedRange())return this.canSetCurrentAttribute(D)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(D,C,k)),this.setSelection(k)):void 0},T.prototype.removeCurrentAttribute=function(D){return h(D)?(this.removeBlockAttribute(D),this.updateCurrentAttributes()):(this.removeTextAttribute(D),delete this.currentAttributes[D],this.notifyDelegateOfCurrentAttributesChange())},T.prototype.removeTextAttribute=function(D){var C;if(C=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(D,C))},T.prototype.removeBlockAttribute=function(D){var C;if(C=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(D,C))},T.prototype.canDecreaseNestingLevel=function(){var D;return((D=this.getBlock())!=null?D.getNestingLevel():void 0)>0},T.prototype.canIncreaseNestingLevel=function(){var D,C,k;if(D=this.getBlock())return(k=h(D.getLastNestableAttribute()))!=null&&k.listAttribute?(C=this.getPreviousBlock())?l(C.getListItemAttributes(),D.getListItemAttributes()):void 0:D.getNestingLevel()>0},T.prototype.decreaseNestingLevel=function(){var D;if(D=this.getBlock())return this.setDocument(this.document.replaceBlock(D,D.decreaseNestingLevel()))},T.prototype.increaseNestingLevel=function(){var D;if(D=this.getBlock())return this.setDocument(this.document.replaceBlock(D,D.increaseNestingLevel()))},T.prototype.canDecreaseBlockAttributeLevel=function(){var D;return((D=this.getBlock())!=null?D.getAttributeLevel():void 0)>0},T.prototype.decreaseBlockAttributeLevel=function(){var D,C;return(D=(C=this.getBlock())!=null?C.getLastAttribute():void 0)?this.removeCurrentAttribute(D):void 0},T.prototype.decreaseListLevel=function(){var D,C,k,I,R,F;for(F=this.getSelectedRange()[0],R=this.document.locationFromPosition(F).index,k=R,D=this.getBlock().getAttributeLevel();(C=this.document.getBlockAtIndex(k+1))&&C.isListItem()&&C.getAttributeLevel()>D;)k++;return F=this.document.positionFromLocation({index:R,offset:0}),I=this.document.positionFromLocation({index:k,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([F,I]))},T.prototype.updateCurrentAttributes=function(){var D,C,k,I,R,F;if(F=this.getSelectedRange({ignoreLock:!0})){for(C=this.document.getCommonAttributesAtRange(F),R=d(),k=0,I=R.length;I>k;k++)D=R[k],C[D]||this.canSetCurrentAttribute(D)||(C[D]=!1);if(!v(C,this.currentAttributes))return this.currentAttributes=C,this.notifyDelegateOfCurrentAttributesChange()}},T.prototype.getCurrentAttributes=function(){return c.call({},this.currentAttributes)},T.prototype.getCurrentTextAttributes=function(){var D,C,k,I;D={},k=this.currentAttributes;for(C in k)I=k[C],I!==!1&&f(C)&&(D[C]=I);return D},T.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},T.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},T.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},T.proxyMethod("getSelectionManager().getPointRange"),T.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),T.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),T.proxyMethod("getSelectionManager().locationIsCursorTarget"),T.proxyMethod("getSelectionManager().selectionIsExpanded"),T.proxyMethod("delegate?.getSelectionManager"),T.prototype.setSelection=function(D){var C,k;return C=this.document.locationRangeFromRange(D),(k=this.delegate)!=null?k.compositionDidRequestChangingSelectionToLocationRange(C):void 0},T.prototype.getSelectedRange=function(){var D;return(D=this.getLocationRange())?this.document.rangeFromLocationRange(D):void 0},T.prototype.setSelectedRange=function(D){var C;return C=this.document.locationRangeFromRange(D),this.getSelectionManager().setLocationRange(C)},T.prototype.getPosition=function(){var D;return(D=this.getLocationRange())?this.document.positionFromLocation(D[0]):void 0},T.prototype.getLocationRange=function(D){var C,k;return(C=(k=this.targetLocationRange)!=null?k:this.getSelectionManager().getLocationRange(D))!=null?C:m({index:0,offset:0})},T.prototype.withTargetLocationRange=function(D,C){var k;this.targetLocationRange=D;try{k=C()}finally{this.targetLocationRange=null}return k},T.prototype.withTargetRange=function(D,C){var k;return k=this.document.locationRangeFromRange(D),this.withTargetLocationRange(k,C)},T.prototype.withTargetDOMRange=function(D,C){var k;return k=this.createLocationRangeFromDOMRange(D,{strict:!1}),this.withTargetLocationRange(k,C)},T.prototype.getExpandedRangeInDirection=function(D,C){var k,I,R,F;return I=(C??{}).length,R=this.getSelectedRange(),F=R[0],k=R[1],D==="backward"?I?F-=I:F=this.translateUTF16PositionFromOffset(F,-1):I?k+=I:k=this.translateUTF16PositionFromOffset(k,1),m([F,k])},T.prototype.shouldManageMovingCursorInDirection=function(D){var C;return this.editingAttachment?!0:(C=this.getExpandedRangeInDirection(D),this.getAttachmentAtRange(C)!=null)},T.prototype.moveCursorInDirection=function(D){var C,k,I,R;return this.editingAttachment?I=this.document.getRangeOfAttachment(this.editingAttachment):(R=this.getSelectedRange(),I=this.getExpandedRangeInDirection(D),k=!b(R,I)),this.setSelectedRange(D==="backward"?I[0]:I[1]),k&&(C=this.getAttachmentAtRange(I))?this.editAttachment(C):void 0},T.prototype.expandSelectionInDirection=function(D,C){var k,I;return k=(C??{}).length,I=this.getExpandedRangeInDirection(D,{length:k}),this.setSelectedRange(I)},T.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},T.prototype.expandSelectionAroundCommonAttribute=function(D){var C,k;return C=this.getPosition(),k=this.document.getRangeOfCommonAttributeAtPosition(D,C),this.setSelectedRange(k)},T.prototype.selectionContainsAttachments=function(){var D;return((D=this.getSelectedAttachments())!=null?D.length:void 0)>0},T.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},T.prototype.positionIsCursorTarget=function(D){var C;return(C=this.document.locationFromPosition(D))?this.locationIsCursorTarget(C):void 0},T.prototype.positionIsBlockBreak=function(D){var C;return(C=this.document.getPieceAtPosition(D))!=null?C.isBlockBreak():void 0},T.prototype.getSelectedDocument=function(){var D;return(D=this.getSelectedRange())?this.document.getDocumentAtRange(D):void 0},T.prototype.getSelectedAttachments=function(){var D;return(D=this.getSelectedDocument())!=null?D.getAttachments():void 0},T.prototype.getAttachments=function(){return this.attachments.slice(0)},T.prototype.refreshAttachments=function(){var D,C,k,I,R,F,j,Y,G,B,P,z;for(k=this.document.getAttachments(),Y=w(this.attachments,k),D=Y.added,P=Y.removed,this.attachments=k,I=0,F=P.length;F>I;I++)C=P[I],C.delegate=null,(G=this.delegate)!=null&&typeof G.compositionDidRemoveAttachment=="function"&&G.compositionDidRemoveAttachment(C);for(z=[],R=0,j=D.length;j>R;R++)C=D[R],C.delegate=this,z.push((B=this.delegate)!=null&&typeof B.compositionDidAddAttachment=="function"?B.compositionDidAddAttachment(C):void 0);return z},T.prototype.attachmentDidChangeAttributes=function(D){var C;return this.revision++,(C=this.delegate)!=null&&typeof C.compositionDidEditAttachment=="function"?C.compositionDidEditAttachment(D):void 0},T.prototype.attachmentDidChangePreviewURL=function(D){var C;return this.revision++,(C=this.delegate)!=null&&typeof C.compositionDidChangeAttachmentPreviewURL=="function"?C.compositionDidChangeAttachmentPreviewURL(D):void 0},T.prototype.editAttachment=function(D,C){var k;if(D!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=D,(k=this.delegate)!=null&&typeof k.compositionDidStartEditingAttachment=="function"?k.compositionDidStartEditingAttachment(this.editingAttachment,C):void 0},T.prototype.stopEditingAttachment=function(){var D;if(this.editingAttachment)return(D=this.delegate)!=null&&typeof D.compositionDidStopEditingAttachment=="function"&&D.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},T.prototype.updateAttributesForAttachment=function(D,C){return this.setDocument(this.document.updateAttributesForAttachment(D,C))},T.prototype.removeAttributeForAttachment=function(D,C){return this.setDocument(this.document.removeAttributeForAttachment(D,C))},T.prototype.breakFormattedBlock=function(D){var C,k,I,R,F;return k=D.document,C=D.block,R=D.startPosition,F=[R-1,R],C.getBlockBreakPosition()===D.startLocation.offset?(C.breaksOnReturn()&&D.nextCharacter===`
`?R+=1:k=k.removeTextAtRange(F),F=[R,R]):D.nextCharacter===`
`?D.previousCharacter===`
`?F=[R-1,R+1]:(F=[R,R+1],R+=1):D.startLocation.offset-1!==0&&(R+=1),I=new o.Document([C.removeLastAttribute().copyWithoutText()]),this.setDocument(k.insertDocumentAtRange(I,F)),this.setSelection(R)},T.prototype.getPreviousBlock=function(){var D,C;return(C=this.getLocationRange())&&(D=C[0].index,D>0)?this.document.getBlockAtIndex(D-1):void 0},T.prototype.getBlock=function(){var D;return(D=this.getLocationRange())?this.document.getBlockAtIndex(D[0].index):void 0},T.prototype.getAttachmentAtRange=function(D){var C;return C=this.document.getDocumentAtRange(D),C.toString()===o.OBJECT_REPLACEMENT_CHARACTER+`
`?C.getAttachments()[0]:void 0},T.prototype.notifyDelegateOfCurrentAttributesChange=function(){var D;return(D=this.delegate)!=null&&typeof D.compositionDidChangeCurrentAttributes=="function"?D.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},T.prototype.notifyDelegateOfInsertionAtRange=function(D){var C;return(C=this.delegate)!=null&&typeof C.compositionDidPerformInsertionAtRange=="function"?C.compositionDidPerformInsertionAtRange(D):void 0},T.prototype.translateUTF16PositionFromOffset=function(D,C){var k,I;return I=this.document.toUTF16String(),k=I.offsetFromUCS2Offset(D),I.offsetToUCS2Offset(k+C)},T}(o.BasicObject)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.UndoManager=function(d){function h(m){this.composition=m,this.undoEntries=[],this.redoEntries=[]}var f;return l(h,d),h.prototype.recordUndoEntry=function(m,v){var E,b,w,A,y;return A=v??{},b=A.context,E=A.consolidatable,w=this.undoEntries.slice(-1)[0],E&&f(w,m,b)?void 0:(y=this.createEntry({description:m,context:b}),this.undoEntries.push(y),this.redoEntries=[])},h.prototype.undo=function(){var m,v;return(v=this.undoEntries.pop())?(m=this.createEntry(v),this.redoEntries.push(m),this.composition.loadSnapshot(v.snapshot)):void 0},h.prototype.redo=function(){var m,v;return(m=this.redoEntries.pop())?(v=this.createEntry(m),this.undoEntries.push(v),this.composition.loadSnapshot(m.snapshot)):void 0},h.prototype.canUndo=function(){return this.undoEntries.length>0},h.prototype.canRedo=function(){return this.redoEntries.length>0},h.prototype.createEntry=function(m){var v,E,b;return b=m??{},E=b.description,v=b.context,{description:E?.toString(),context:JSON.stringify(v),snapshot:this.composition.getSnapshot()}},f=function(m,v,E){return m?.description===v?.toString()&&m?.context===JSON.stringify(E)},h}(o.BasicObject)}.call(this),function(){var l;o.attachmentGalleryFilter=function(c){var d;return d=new l(c),d.perform(),d.getSnapshot()},l=function(){function c(m){this.document=m.document,this.selectedRange=m.selectedRange}var d,h,f;return d="attachmentGallery",h="presentation",f="gallery",c.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},c.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},c.prototype.removeBlockAttribute=function(){var m,v,E,b,w;for(b=this.findRangesOfBlocks(),w=[],m=0,v=b.length;v>m;m++)E=b[m],w.push(this.document=this.document.removeAttributeAtRange(d,E));return w},c.prototype.applyBlockAttribute=function(){var m,v,E,b,w,A;for(E=0,w=this.findRangesOfPieces(),A=[],m=0,v=w.length;v>m;m++)b=w[m],b[1]-b[0]>1&&(b[0]+=E,b[1]+=E,this.document.getCharacterAtPosition(b[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(b[1]),b[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),b[1]++,E++),b[0]!==0&&this.document.getCharacterAtPosition(b[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(b[0]),b[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),b[0]++,E++),A.push(this.document=this.document.applyBlockAttributeAtRange(d,!0,b)));return A},c.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(d)},c.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(h,{withValue:f})},c.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},c}()}.call(this),function(){var l=function(c,d){return function(){return c.apply(d,arguments)}};o.Editor=function(){function c(h,f,m){this.composition=h,this.selectionManager=f,this.element=m,this.insertFiles=l(this.insertFiles,this),this.undoManager=new o.UndoManager(this.composition),this.filters=d.slice(0)}var d;return d=[o.attachmentGalleryFilter],c.prototype.loadDocument=function(h){return this.loadSnapshot({document:h,selectedRange:[0,0]})},c.prototype.loadHTML=function(h){return h==null&&(h=""),this.loadDocument(o.Document.fromHTML(h,{referenceElement:this.element}))},c.prototype.loadJSON=function(h){var f,m;return f=h.document,m=h.selectedRange,f=o.Document.fromJSON(f),this.loadSnapshot({document:f,selectedRange:m})},c.prototype.loadSnapshot=function(h){return this.undoManager=new o.UndoManager(this.composition),this.composition.loadSnapshot(h)},c.prototype.getDocument=function(){return this.composition.document},c.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},c.prototype.getSnapshot=function(){return this.composition.getSnapshot()},c.prototype.toJSON=function(){return this.getSnapshot()},c.prototype.deleteInDirection=function(h){return this.composition.deleteInDirection(h)},c.prototype.insertAttachment=function(h){return this.composition.insertAttachment(h)},c.prototype.insertAttachments=function(h){return this.composition.insertAttachments(h)},c.prototype.insertDocument=function(h){return this.composition.insertDocument(h)},c.prototype.insertFile=function(h){return this.composition.insertFile(h)},c.prototype.insertFiles=function(h){return this.composition.insertFiles(h)},c.prototype.insertHTML=function(h){return this.composition.insertHTML(h)},c.prototype.insertString=function(h){return this.composition.insertString(h)},c.prototype.insertText=function(h){return this.composition.insertText(h)},c.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},c.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},c.prototype.getPosition=function(){return this.composition.getPosition()},c.prototype.getClientRectAtPosition=function(h){var f;return f=this.getDocument().locationRangeFromRange([h,h+1]),this.selectionManager.getClientRectAtLocationRange(f)},c.prototype.expandSelectionInDirection=function(h){return this.composition.expandSelectionInDirection(h)},c.prototype.moveCursorInDirection=function(h){return this.composition.moveCursorInDirection(h)},c.prototype.setSelectedRange=function(h){return this.composition.setSelectedRange(h)},c.prototype.activateAttribute=function(h,f){return f==null&&(f=!0),this.composition.setCurrentAttribute(h,f)},c.prototype.attributeIsActive=function(h){return this.composition.hasCurrentAttribute(h)},c.prototype.canActivateAttribute=function(h){return this.composition.canSetCurrentAttribute(h)},c.prototype.deactivateAttribute=function(h){return this.composition.removeCurrentAttribute(h)},c.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},c.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},c.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},c.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},c.prototype.canRedo=function(){return this.undoManager.canRedo()},c.prototype.canUndo=function(){return this.undoManager.canUndo()},c.prototype.recordUndoEntry=function(h,f){var m,v,E;return E=f??{},v=E.context,m=E.consolidatable,this.undoManager.recordUndoEntry(h,{context:v,consolidatable:m})},c.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},c.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},c}()}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.ManagedAttachment=function(d){function h(f,m){var v;this.attachmentManager=f,this.attachment=m,v=this.attachment,this.id=v.id,this.file=v.file}return l(h,d),h.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},h.proxyMethod("attachment.getAttribute"),h.proxyMethod("attachment.hasAttribute"),h.proxyMethod("attachment.setAttribute"),h.proxyMethod("attachment.getAttributes"),h.proxyMethod("attachment.setAttributes"),h.proxyMethod("attachment.isPending"),h.proxyMethod("attachment.isPreviewable"),h.proxyMethod("attachment.getURL"),h.proxyMethod("attachment.getHref"),h.proxyMethod("attachment.getFilename"),h.proxyMethod("attachment.getFilesize"),h.proxyMethod("attachment.getFormattedFilesize"),h.proxyMethod("attachment.getExtension"),h.proxyMethod("attachment.getContentType"),h.proxyMethod("attachment.getFile"),h.proxyMethod("attachment.setFile"),h.proxyMethod("attachment.releaseFile"),h.proxyMethod("attachment.getUploadProgress"),h.proxyMethod("attachment.setUploadProgress"),h}(o.BasicObject)}.call(this),function(){var l=function(d,h){function f(){this.constructor=d}for(var m in h)c.call(h,m)&&(d[m]=h[m]);return f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype,d},c={}.hasOwnProperty;o.AttachmentManager=function(d){function h(f){var m,v,E;for(f==null&&(f=[]),this.managedAttachments={},v=0,E=f.length;E>v;v++)m=f[v],this.manageAttachment(m)}return l(h,d),h.prototype.getAttachments=function(){var f,m,v,E;v=this.managedAttachments,E=[];for(m in v)f=v[m],E.push(f);return E},h.prototype.manageAttachment=function(f){var m,v;return(m=this.managedAttachments)[v=f.id]!=null?m[v]:m[v]=new o.ManagedAttachment(this,f)},h.prototype.attachmentIsManaged=function(f){return f.id in this.managedAttachments},h.prototype.requestRemovalOfAttachment=function(f){var m;return this.attachmentIsManaged(f)&&(m=this.delegate)!=null&&typeof m.attachmentManagerDidRequestRemovalOfAttachment=="function"?m.attachmentManagerDidRequestRemovalOfAttachment(f):void 0},h.prototype.unmanageAttachment=function(f){var m;return m=this.managedAttachments[f.id],delete this.managedAttachments[f.id],m},h}(o.BasicObject)}.call(this),function(){var l,c,d,h,f,m,v,E,b,w,A;l=o.elementContainsNode,c=o.findChildIndexOfNode,f=o.nodeIsBlockStart,m=o.nodeIsBlockStartComment,h=o.nodeIsBlockContainer,v=o.nodeIsCursorTarget,E=o.nodeIsEmptyTextNode,b=o.nodeIsTextNode,d=o.nodeIsAttachmentElement,w=o.tagName,A=o.walkTree,o.LocationMapper=function(){function y(C){this.element=C}var S,T,M,D;return y.prototype.findLocationFromContainerAndOffset=function(C,k,I){var R,F,j,Y,G,B,P;for(B=(I??{strict:!0}).strict,F=0,j=!1,Y={index:0,offset:0},(R=this.findAttachmentElementParentForNode(C))&&(C=R.parentNode,k=c(R)),P=A(this.element,{usingFilter:M});P.nextNode();){if(G=P.currentNode,G===C&&b(C)){v(G)||(Y.offset+=k);break}if(G.parentNode===C){if(F++===k)break}else if(!l(C,G)&&F>0)break;f(G,{strict:B})?(j&&Y.index++,Y.offset=0,j=!0):Y.offset+=T(G)}return Y},y.prototype.findContainerAndOffsetFromLocation=function(C){var k,I,R,F,j;if(C.index===0&&C.offset===0){for(k=this.element,F=0;k.firstChild;)if(k=k.firstChild,h(k)){F=1;break}return[k,F]}if(j=this.findNodeAndOffsetFromLocation(C),I=j[0],R=j[1],I){if(b(I))T(I)===0?(k=I.parentNode.parentNode,F=c(I.parentNode),v(I,{name:"right"})&&F++):(k=I,F=C.offset-R);else{if(k=I.parentNode,!f(I.previousSibling)&&!h(k))for(;I===k.lastChild&&(I=k,k=k.parentNode,!h(k)););F=c(I),C.offset!==0&&F++}return[k,F]}},y.prototype.findNodeAndOffsetFromLocation=function(C){var k,I,R,F,j,Y,G,B;for(G=0,B=this.getSignificantNodesForIndex(C.index),I=0,R=B.length;R>I;I++){if(k=B[I],F=T(k),C.offset<=G+F)if(b(k)){if(j=k,Y=G,C.offset===Y&&v(j))break}else j||(j=k,Y=G);if(G+=F,G>C.offset)break}return[j,Y]},y.prototype.findAttachmentElementParentForNode=function(C){for(;C&&C!==this.element;){if(d(C))return C;C=C.parentNode}},y.prototype.getSignificantNodesForIndex=function(C){var k,I,R,F,j;for(R=[],j=A(this.element,{usingFilter:S}),F=!1;j.nextNode();)if(I=j.currentNode,m(I)){if(typeof k<"u"&&k!==null?k++:k=0,k===C)F=!0;else if(F)break}else F&&R.push(I);return R},T=function(C){var k;return C.nodeType===Node.TEXT_NODE?v(C)?0:(k=C.textContent,k.length):w(C)==="br"||d(C)?1:0},S=function(C){return D(C)===NodeFilter.FILTER_ACCEPT?M(C):NodeFilter.FILTER_REJECT},D=function(C){return E(C)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},M=function(C){return d(C.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},y}()}.call(this),function(){var l,c,d=[].slice;l=o.getDOMRange,c=o.setDOMRange,o.PointMapper=function(){function h(){}return h.prototype.createDOMRangeFromPoint=function(f){var m,v,E,b,w,A,y,S;if(y=f.x,S=f.y,document.caretPositionFromPoint)return w=document.caretPositionFromPoint(y,S),E=w.offsetNode,v=w.offset,m=document.createRange(),m.setStart(E,v),m;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(y,S);if(document.body.createTextRange){b=l();try{A=document.body.createTextRange(),A.moveToPoint(y,S),A.select()}catch{}return m=l(),c(b),m}},h.prototype.getClientRectsForDOMRange=function(f){var m,v,E;return v=d.call(f.getClientRects()),E=v[0],m=v[v.length-1],[E,m]},h}()}.call(this),function(){var l,c=function(m,v){return function(){return m.apply(v,arguments)}},d=function(m,v){function E(){this.constructor=m}for(var b in v)h.call(v,b)&&(m[b]=v[b]);return E.prototype=v.prototype,m.prototype=new E,m.__super__=v.prototype,m},h={}.hasOwnProperty,f=[].indexOf||function(m){for(var v=0,E=this.length;E>v;v++)if(v in this&&this[v]===m)return v;return-1};l=o.getDOMRange,o.SelectionChangeObserver=function(m){function v(){this.run=c(this.run,this),this.update=c(this.update,this),this.selectionManagers=[]}var E;return d(v,m),v.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},v.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},v.prototype.registerSelectionManager=function(b){return f.call(this.selectionManagers,b)<0?(this.selectionManagers.push(b),this.start()):void 0},v.prototype.unregisterSelectionManager=function(b){var w;return this.selectionManagers=function(){var A,y,S,T;for(S=this.selectionManagers,T=[],A=0,y=S.length;y>A;A++)w=S[A],w!==b&&T.push(w);return T}.call(this),this.selectionManagers.length===0?this.stop():void 0},v.prototype.notifySelectionManagersOfSelectionChange=function(){var b,w,A,y,S;for(A=this.selectionManagers,y=[],b=0,w=A.length;w>b;b++)S=A[b],y.push(S.selectionDidChange());return y},v.prototype.update=function(){var b;return b=l(),E(b,this.domRange)?void 0:(this.domRange=b,this.notifySelectionManagersOfSelectionChange())},v.prototype.reset=function(){return this.domRange=null,this.update()},v.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},E=function(b,w){return b?.startContainer===w?.startContainer&&b?.startOffset===w?.startOffset&&b?.endContainer===w?.endContainer&&b?.endOffset===w?.endOffset},v}(o.BasicObject),o.selectionChangeObserver==null&&(o.selectionChangeObserver=new o.SelectionChangeObserver)}.call(this),function(){var l,c,d,h,f,m,v,E,b,w,A=function(T,M){return function(){return T.apply(M,arguments)}},y=function(T,M){function D(){this.constructor=T}for(var C in M)S.call(M,C)&&(T[C]=M[C]);return D.prototype=M.prototype,T.prototype=new D,T.__super__=M.prototype,T},S={}.hasOwnProperty;d=o.getDOMSelection,c=o.getDOMRange,w=o.setDOMRange,l=o.elementContainsNode,m=o.nodeIsCursorTarget,f=o.innerElementIsActive,h=o.handleEvent,v=o.normalizeRange,E=o.rangeIsCollapsed,b=o.rangesAreEqual,o.SelectionManager=function(T){function M(D){this.element=D,this.selectionDidChange=A(this.selectionDidChange,this),this.didMouseDown=A(this.didMouseDown,this),this.locationMapper=new o.LocationMapper(this.element),this.pointMapper=new o.PointMapper,this.lockCount=0,h("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return y(M,T),M.prototype.getLocationRange=function(D){var C;return D==null&&(D={}),D.strict===!1?this.createLocationRangeFromDOMRange(c(),{strict:!1}):D.ignoreLock?this.currentLocationRange:(C=this.lockedLocationRange)!=null?C:this.currentLocationRange},M.prototype.setLocationRange=function(D){var C;if(!this.lockedLocationRange)return D=v(D),(C=this.createDOMRangeFromLocationRange(D))?(w(C),this.updateCurrentLocationRange(D)):void 0},M.prototype.setLocationRangeFromPointRange=function(D){var C,k;return D=v(D),k=this.getLocationAtPoint(D[0]),C=this.getLocationAtPoint(D[1]),this.setLocationRange([k,C])},M.prototype.getClientRectAtLocationRange=function(D){var C;return(C=this.createDOMRangeFromLocationRange(D))?this.getClientRectsForDOMRange(C)[1]:void 0},M.prototype.locationIsCursorTarget=function(D){var C,k;return k=this.findNodeAndOffsetFromLocation(D),C=k[0],k[1],m(C)},M.prototype.lock=function(){return this.lockCount++===0?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},M.prototype.unlock=function(){var D;return--this.lockCount===0&&(D=this.lockedLocationRange,this.lockedLocationRange=null,D!=null)?this.setLocationRange(D):void 0},M.prototype.clearSelection=function(){var D;return(D=d())!=null?D.removeAllRanges():void 0},M.prototype.selectionIsCollapsed=function(){var D;return((D=c())!=null?D.collapsed:void 0)===!0},M.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},M.prototype.createLocationRangeFromDOMRange=function(D,C){var k,I;if(D!=null&&this.domRangeWithinElement(D)&&(I=this.findLocationFromContainerAndOffset(D.startContainer,D.startOffset,C)))return D.collapsed||(k=this.findLocationFromContainerAndOffset(D.endContainer,D.endOffset,C)),v([I,k])},M.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),M.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),M.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),M.proxyMethod("pointMapper.createDOMRangeFromPoint"),M.proxyMethod("pointMapper.getClientRectsForDOMRange"),M.prototype.didMouseDown=function(){return this.pauseTemporarily()},M.prototype.pauseTemporarily=function(){var D,C,k,I;return this.paused=!0,C=function(R){return function(){var F,j,Y;for(R.paused=!1,clearTimeout(I),j=0,Y=k.length;Y>j;j++)F=k[j],F.destroy();return l(document,R.element)?R.selectionDidChange():void 0}}(this),I=setTimeout(C,200),k=function(){var R,F,j,Y;for(j=["mousemove","keydown"],Y=[],R=0,F=j.length;F>R;R++)D=j[R],Y.push(h(D,{onElement:document,withCallback:C}));return Y}()},M.prototype.selectionDidChange=function(){return this.paused||f(this.element)?void 0:this.updateCurrentLocationRange()},M.prototype.updateCurrentLocationRange=function(D){var C;return(D??(D=this.createLocationRangeFromDOMRange(c())))&&!b(D,this.currentLocationRange)?(this.currentLocationRange=D,(C=this.delegate)!=null&&typeof C.locationRangeDidChange=="function"?C.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},M.prototype.createDOMRangeFromLocationRange=function(D){var C,k,I,R;return I=this.findContainerAndOffsetFromLocation(D[0]),k=E(D)?I:(R=this.findContainerAndOffsetFromLocation(D[1]))!=null?R:I,I!=null&&k!=null?(C=document.createRange(),C.setStart.apply(C,I),C.setEnd.apply(C,k),C):void 0},M.prototype.getLocationAtPoint=function(D){var C,k;return(C=this.createDOMRangeFromPoint(D))&&(k=this.createLocationRangeFromDOMRange(C))!=null?k[0]:void 0},M.prototype.domRangeWithinElement=function(D){return D.collapsed?l(this.element,D.startContainer):l(this.element,D.startContainer)&&l(this.element,D.endContainer)},M}(o.BasicObject)}.call(this),function(){var l,c,d,h,f=function(E,b){function w(){this.constructor=E}for(var A in b)m.call(b,A)&&(E[A]=b[A]);return w.prototype=b.prototype,E.prototype=new w,E.__super__=b.prototype,E},m={}.hasOwnProperty,v=[].slice;d=o.rangeIsCollapsed,h=o.rangesAreEqual,c=o.objectsAreEqual,l=o.getBlockConfig,o.EditorController=function(E){function b(A){var y,S;this.editorElement=A.editorElement,y=A.document,S=A.html,this.selectionManager=new o.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new o.Composition,this.composition.delegate=this,this.attachmentManager=new o.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new o["Level"+o.config.input.getLevel()+"InputController"](this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new o.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new o.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new o.Editor(this.composition,this.selectionManager,this.editorElement),y!=null?this.editor.loadDocument(y):this.editor.loadHTML(S)}var w;return f(b,E),b.prototype.registerSelectionManager=function(){return o.selectionChangeObserver.registerSelectionManager(this.selectionManager)},b.prototype.unregisterSelectionManager=function(){return o.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},b.prototype.render=function(){return this.compositionController.render()},b.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},b.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},b.prototype.compositionDidChangeCurrentAttributes=function(A){return this.currentAttributes=A,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},b.prototype.compositionDidPerformInsertionAtRange=function(A){return this.pasting?this.pastedRange=A:void 0},b.prototype.compositionShouldAcceptFile=function(A){return this.notifyEditorElement("file-accept",{file:A})},b.prototype.compositionDidAddAttachment=function(A){var y;return y=this.attachmentManager.manageAttachment(A),this.notifyEditorElement("attachment-add",{attachment:y})},b.prototype.compositionDidEditAttachment=function(A){var y;return this.compositionController.rerenderViewForObject(A),y=this.attachmentManager.manageAttachment(A),this.notifyEditorElement("attachment-edit",{attachment:y}),this.notifyEditorElement("change")},b.prototype.compositionDidChangeAttachmentPreviewURL=function(A){return this.compositionController.invalidateViewForObject(A),this.notifyEditorElement("change")},b.prototype.compositionDidRemoveAttachment=function(A){var y;return y=this.attachmentManager.unmanageAttachment(A),this.notifyEditorElement("attachment-remove",{attachment:y})},b.prototype.compositionDidStartEditingAttachment=function(A,y){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(A),this.compositionController.installAttachmentEditorForAttachment(A,y),this.selectionManager.setLocationRange(this.attachmentLocationRange)},b.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},b.prototype.compositionDidRequestChangingSelectionToLocationRange=function(A){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=A,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},b.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},b.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},b.prototype.getSelectionManager=function(){return this.selectionManager},b.proxyMethod("getSelectionManager().setLocationRange"),b.proxyMethod("getSelectionManager().getLocationRange"),b.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(A){return this.removeAttachment(A)},b.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},b.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},b.prototype.compositionControllerDidRender=function(){return this.requestedLocationRange!=null&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},b.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},b.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},b.prototype.compositionControllerDidSelectAttachment=function(A,y){return this.toolbarController.hideDialog(),this.composition.editAttachment(A,y)},b.prototype.compositionControllerDidRequestDeselectingAttachment=function(A){var y,S;return y=(S=this.attachmentLocationRange)!=null?S:this.composition.document.getLocationRangeOfAttachment(A),this.selectionManager.setLocationRange(y[1])},b.prototype.compositionControllerWillUpdateAttachment=function(A){return this.editor.recordUndoEntry("Edit Attachment",{context:A.id,consolidatable:!0})},b.prototype.compositionControllerDidRequestRemovalOfAttachment=function(A){return this.removeAttachment(A)},b.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},b.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},b.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},b.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},b.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},b.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},b.prototype.inputControllerWillPerformFormatting=function(A){return this.recordFormattingUndoEntry(A)},b.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},b.prototype.inputControllerWillPaste=function(A){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:A})},b.prototype.inputControllerDidPaste=function(A){return A.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:A})},b.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},b.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},b.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},b.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},b.prototype.inputControllerDidReceiveKeyboardCommand=function(A){return this.toolbarController.applyKeyboardCommand(A)},b.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},b.prototype.inputControllerDidReceiveDragOverPoint=function(A){return this.selectionManager.setLocationRangeFromPointRange(A)},b.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},b.prototype.locationRangeDidChange=function(A){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!h(this.attachmentLocationRange,A)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},b.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},b.prototype.toolbarDidInvokeAction=function(A){return this.invokeAction(A)},b.prototype.toolbarDidToggleAttribute=function(A){return this.recordFormattingUndoEntry(A),this.composition.toggleCurrentAttribute(A),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},b.prototype.toolbarDidUpdateAttribute=function(A,y){return this.recordFormattingUndoEntry(A),this.composition.setCurrentAttribute(A,y),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},b.prototype.toolbarDidRemoveAttribute=function(A){return this.recordFormattingUndoEntry(A),this.composition.removeCurrentAttribute(A),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},b.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},b.prototype.toolbarDidShowDialog=function(A){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:A})},b.prototype.toolbarDidHideDialog=function(A){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:A})},b.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},b.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},b.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return o.config.input.pickFiles(this.editor.insertFiles)}}},b.prototype.canInvokeAction=function(A){var y,S;return this.actionIsExternal(A)?!0:!!((y=this.actions[A])!=null&&(S=y.test)!=null&&S.call(this))},b.prototype.invokeAction=function(A){var y,S;return this.actionIsExternal(A)?this.notifyEditorElement("action-invoke",{actionName:A}):(y=this.actions[A])!=null&&(S=y.perform)!=null?S.call(this):void 0},b.prototype.actionIsExternal=function(A){return/^x-./.test(A)},b.prototype.getCurrentActions=function(){var A,y;y={};for(A in this.actions)y[A]=this.canInvokeAction(A);return y},b.prototype.updateCurrentActions=function(){var A;return A=this.getCurrentActions(),c(A,this.currentActions)?void 0:(this.currentActions=A,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},b.prototype.runEditorFilters=function(){var A,y,S,T,M,D,C,k;for(k=this.composition.getSnapshot(),M=this.editor.filters,S=0,T=M.length;T>S;S++)y=M[S],A=k.document,C=k.selectedRange,k=(D=y.call(this.editor,k))!=null?D:{},k.document==null&&(k.document=A),k.selectedRange==null&&(k.selectedRange=C);return w(k,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(k)},w=function(A,y){return h(A.selectedRange,y.selectedRange)&&A.document.isEqualTo(y.document)},b.prototype.updateInputElement=function(){var A,y;return A=this.compositionController.getSerializableElement(),y=o.serializeToContentType(A,"text/html"),this.editorElement.setInputElementValue(y)},b.prototype.notifyEditorElement=function(A,y){switch(A){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(A,y)},b.prototype.removeAttachment=function(A){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(A),this.render()},b.prototype.recordFormattingUndoEntry=function(A){var y,S;return y=l(A),S=this.selectionManager.getLocationRange(),y||!d(S)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},b.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},b.prototype.getUndoContext=function(){var A;return A=1<=arguments.length?v.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(v.call(A))},b.prototype.getLocationContext=function(){var A;return A=this.selectionManager.getLocationRange(),d(A)?A[0].index:A},b.prototype.getTimeContext=function(){return o.config.undoInterval>0?Math.floor(new Date().getTime()/o.config.undoInterval):0},b.prototype.isFocused=function(){var A;return this.editorElement===((A=this.editorElement.ownerDocument)!=null?A.activeElement:void 0)},b.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},b}(o.Controller)}.call(this),function(){var l,c,d,h,f,m,v,E=[].indexOf||function(b){for(var w=0,A=this.length;A>w;w++)if(w in this&&this[w]===b)return w;return-1};c=o.browser,m=o.makeElement,v=o.triggerEvent,h=o.handleEvent,f=o.handleEventOnce,d=o.findClosestElementFromNode,l=o.AttachmentView.attachmentSelector,o.registerElement("trix-editor",function(){var b,w,A,y,S,T,M,D,C;return M=0,w=function(k){return!document.querySelector(":focus")&&k.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===k?k.focus():void 0},D=function(k){return k.hasAttribute("contenteditable")?void 0:(k.setAttribute("contenteditable",""),f("focus",{onElement:k,withCallback:function(){return A(k)}}))},A=function(k){return S(k),C(k)},S=function(k){return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("enableObjectResizing")?(document.execCommand("enableObjectResizing",!1,!1),h("mscontrolselect",{onElement:k,preventDefault:!0})):void 0},C=function(){var k;return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("DefaultParagraphSeparator")&&(k=o.config.blockAttributes.default.tagName,k==="div"||k==="p")?document.execCommand("DefaultParagraphSeparator",!1,k):void 0},b=function(k){return k.hasAttribute("role")?void 0:k.setAttribute("role","textbox")},T=function(k){var I;if(!k.hasAttribute("aria-label")&&!k.hasAttribute("aria-labelledby"))return(I=function(){var R,F,j;return j=function(){var Y,G,B,P;for(B=k.labels,P=[],Y=0,G=B.length;G>Y;Y++)R=B[Y],R.contains(k)||P.push(R.textContent);return P}(),(F=j.join(" "))?k.setAttribute("aria-label",F):k.removeAttribute("aria-label")})(),h("focus",{onElement:k,withCallback:I})},y=function(){return c.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}}(),{defaultCSS:`%t {
  display: block;
}

%t:empty:not(:focus)::before {
  content: attr(placeholder);
  color: graytext;
  cursor: text;
  pointer-events: none;
}

%t a[contenteditable=false] {
  cursor: text;
}

%t img {
  max-width: 100%;
  height: auto;
}

%t `+l+` figcaption textarea {
  resize: none;
}

%t `+l+` figcaption textarea.trix-autoresize-clone {
  position: absolute;
  left: -9999px;
  max-height: 0px;
}

%t `+l+` figcaption[data-trix-placeholder]:empty::before {
  content: attr(data-trix-placeholder);
  color: graytext;
}

%t [data-trix-cursor-target] {
  display: `+y.display+` !important;
  width: `+y.width+` !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
}

%t [data-trix-cursor-target=left] {
  vertical-align: top !important;
  margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
  vertical-align: bottom !important;
  margin-right: -1px !important;
}`,trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++M),this.trixId)}},labels:{get:function(){var k,I,R;return I=[],this.id&&this.ownerDocument&&I.push.apply(I,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(k=d(this,{matchingSelector:"label"}))&&((R=k.control)===this||R===null)&&I.push(k),I}},toolbarElement:{get:function(){var k,I,R;return this.hasAttribute("toolbar")?(I=this.ownerDocument)!=null?I.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(R="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",R),k=m("trix-toolbar",{id:R}),this.parentNode.insertBefore(k,this),k):void 0}},inputElement:{get:function(){var k,I,R;return this.hasAttribute("input")?(R=this.ownerDocument)!=null?R.getElementById(this.getAttribute("input")):void 0:this.parentNode?(I="trix-input-"+this.trixId,this.setAttribute("input",I),k=m("input",{type:"hidden",id:I}),this.parentNode.insertBefore(k,this.nextElementSibling),k):void 0}},editor:{get:function(){var k;return(k=this.editorController)!=null?k.editor:void 0}},name:{get:function(){var k;return(k=this.inputElement)!=null?k.name:void 0}},value:{get:function(){var k;return(k=this.inputElement)!=null?k.value:void 0},set:function(k){var I;return this.defaultValue=k,(I=this.editor)!=null?I.loadHTML(this.defaultValue):void 0}},notify:function(k,I){return this.editorController?v("trix-"+k,{onElement:this,attributes:I}):void 0},setInputElementValue:function(k){var I;return(I=this.inputElement)!=null?I.value=k:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(D(this),b(this),T(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(v("trix-before-initialize",{onElement:this}),this.editorController=new o.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(k){return function(){return v("trix-initialize",{onElement:k})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),w(this))},disconnect:function(){var k;return(k=this.editorController)!=null&&k.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(k){var I;if(!k.defaultPrevented&&k.target===((I=this.inputElement)!=null?I.form:void 0))return this.reset()},clickBubbled:function(k){var I;if(!(k.defaultPrevented||this.contains(k.target)||!(I=d(k.target,{matchingSelector:"label"}))||E.call(this.labels,I)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this),typeof i=="object"&&i.exports?i.exports=o:typeof define=="function"&&define.amd&&define(o)}.call(t)}),u6=en((t,i)=>{/*! choices.js v10.2.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */(function(o,l){typeof t=="object"&&typeof i=="object"?i.exports=l():typeof define=="function"&&define.amd?define([],l):typeof t=="object"?t.Choices=l():o.Choices=l()})(window,function(){return function(){var r={282:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.clearChoices=h.activateChoices=h.filterChoices=h.addChoice=void 0;var m=f(883),v=function(A){var y=A.value,S=A.label,T=A.id,M=A.groupId,D=A.disabled,C=A.elementId,k=A.customProperties,I=A.placeholder,R=A.keyCode;return{type:m.ACTION_TYPES.ADD_CHOICE,value:y,label:S,id:T,groupId:M,disabled:D,elementId:C,customProperties:k,placeholder:I,keyCode:R}};h.addChoice=v;var E=function(A){return{type:m.ACTION_TYPES.FILTER_CHOICES,results:A}};h.filterChoices=E;var b=function(A){return A===void 0&&(A=!0),{type:m.ACTION_TYPES.ACTIVATE_CHOICES,active:A}};h.activateChoices=b;var w=function(){return{type:m.ACTION_TYPES.CLEAR_CHOICES}};h.clearChoices=w},783:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.addGroup=void 0;var m=f(883),v=function(E){var b=E.value,w=E.id,A=E.active,y=E.disabled;return{type:m.ACTION_TYPES.ADD_GROUP,value:b,id:w,active:A,disabled:y}};h.addGroup=v},464:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.highlightItem=h.removeItem=h.addItem=void 0;var m=f(883),v=function(w){var A=w.value,y=w.label,S=w.id,T=w.choiceId,M=w.groupId,D=w.customProperties,C=w.placeholder,k=w.keyCode;return{type:m.ACTION_TYPES.ADD_ITEM,value:A,label:y,id:S,choiceId:T,groupId:M,customProperties:D,placeholder:C,keyCode:k}};h.addItem=v;var E=function(w,A){return{type:m.ACTION_TYPES.REMOVE_ITEM,id:w,choiceId:A}};h.removeItem=E;var b=function(w,A){return{type:m.ACTION_TYPES.HIGHLIGHT_ITEM,id:w,highlighted:A}};h.highlightItem=b},137:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.setIsLoading=h.resetTo=h.clearAll=void 0;var m=f(883),v=function(){return{type:m.ACTION_TYPES.CLEAR_ALL}};h.clearAll=v;var E=function(w){return{type:m.ACTION_TYPES.RESET_TO,state:w}};h.resetTo=E;var b=function(w){return{type:m.ACTION_TYPES.SET_IS_LOADING,isLoading:w}};h.setIsLoading=b},373:function(d,h,f){var m=this&&this.__spreadArray||function(G,B,P){if(P||arguments.length===2)for(var z=0,$=B.length,N;z<$;z++)(N||!(z in B))&&(N||(N=Array.prototype.slice.call(B,0,z)),N[z]=B[z]);return G.concat(N||Array.prototype.slice.call(B))},v=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(h,"__esModule",{value:!0});var E=v(f(996)),b=v(f(221)),w=f(282),A=f(783),y=f(464),S=f(137),T=f(520),M=f(883),D=f(789),C=f(799),k=f(655),I=v(f(744)),R=v(f(686)),F="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,j={},Y=function(){function G(B,P){B===void 0&&(B="[data-choice]"),P===void 0&&(P={});var z=this;P.allowHTML===void 0&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=E.default.all([D.DEFAULT_CONFIG,G.defaults.options,P],{arrayMerge:function(ue,pe){return m([],pe,!0)}});var $=(0,C.diff)(this.config,D.DEFAULT_CONFIG);$.length&&console.warn("Unknown config option(s) passed",$.join(", "));var N=typeof B=="string"?document.querySelector(B):B;if(!(N instanceof HTMLInputElement||N instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=N.type===M.TEXT_TYPE,this._isSelectOneElement=N.type===M.SELECT_ONE_TYPE,this._isSelectMultipleElement=N.type===M.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),P.addItemFilter&&typeof P.addItemFilter!="function"){var V=P.addItemFilter instanceof RegExp?P.addItemFilter:new RegExp(P.addItemFilter);this.config.addItemFilter=V.test.bind(V)}if(this._isTextElement?this.passedElement=new T.WrappedInput({element:N,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new T.WrappedSelect({element:N,classNames:this.config.classNames,template:function(ue){return z._templates.option(ue)}}),this.initialised=!1,this._store=new I.default,this._initialState=k.defaultState,this._currentState=k.defaultState,this._prevState=k.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,C.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var q=window.getComputedStyle(this.passedElement.element).direction,J=window.getComputedStyle(document.documentElement).direction;q!==J&&(this._direction=q)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var ne=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(ne)}if(this.passedElement.options&&this.passedElement.options.forEach(function(ue){z._presetChoices.push({value:ue.value,label:ue.innerHTML,selected:!!ue.selected,disabled:ue.disabled||ue.parentNode.disabled,placeholder:ue.value===""||ue.hasAttribute("placeholder"),customProperties:(0,C.parseCustomProperties)(ue.dataset.customProperties)})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:B}),this.initialised=!0;return}this.init()}return Object.defineProperty(G,"defaults",{get:function(){return Object.preventExtensions({get options(){return j},get templates(){return R.default}})},enumerable:!1,configurable:!0}),G.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var B=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");B&&this.disable(),this.initialised=!0;var P=this.config.callbackOnInit;P&&typeof P=="function"&&P.call(this)}},G.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=R.default,this.initialised=!1)},G.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},G.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},G.prototype.highlightItem=function(B,P){if(P===void 0&&(P=!0),!B||!B.id)return this;var z=B.id,$=B.groupId,N=$===void 0?-1:$,V=B.value,q=V===void 0?"":V,J=B.label,ne=J===void 0?"":J,ue=N>=0?this._store.getGroupById(N):null;return this._store.dispatch((0,y.highlightItem)(z,!0)),P&&this.passedElement.triggerEvent(M.EVENTS.highlightItem,{id:z,value:q,label:ne,groupValue:ue&&ue.value?ue.value:null}),this},G.prototype.unhighlightItem=function(B){if(!B||!B.id)return this;var P=B.id,z=B.groupId,$=z===void 0?-1:z,N=B.value,V=N===void 0?"":N,q=B.label,J=q===void 0?"":q,ne=$>=0?this._store.getGroupById($):null;return this._store.dispatch((0,y.highlightItem)(P,!1)),this.passedElement.triggerEvent(M.EVENTS.highlightItem,{id:P,value:V,label:J,groupValue:ne&&ne.value?ne.value:null}),this},G.prototype.highlightAll=function(){var B=this;return this._store.items.forEach(function(P){return B.highlightItem(P)}),this},G.prototype.unhighlightAll=function(){var B=this;return this._store.items.forEach(function(P){return B.unhighlightItem(P)}),this},G.prototype.removeActiveItemsByValue=function(B){var P=this;return this._store.activeItems.filter(function(z){return z.value===B}).forEach(function(z){return P._removeItem(z)}),this},G.prototype.removeActiveItems=function(B){var P=this;return this._store.activeItems.filter(function(z){var $=z.id;return $!==B}).forEach(function(z){return P._removeItem(z)}),this},G.prototype.removeHighlightedItems=function(B){var P=this;return B===void 0&&(B=!1),this._store.highlightedActiveItems.forEach(function(z){P._removeItem(z),B&&P._triggerChange(z.value)}),this},G.prototype.showDropdown=function(B){var P=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){P.dropdown.show(),P.containerOuter.open(P.dropdown.distanceFromTopWindow),!B&&P._canSearch&&P.input.focus(),P.passedElement.triggerEvent(M.EVENTS.showDropdown,{})}),this)},G.prototype.hideDropdown=function(B){var P=this;return this.dropdown.isActive?(requestAnimationFrame(function(){P.dropdown.hide(),P.containerOuter.close(),!B&&P._canSearch&&(P.input.removeActiveDescendant(),P.input.blur()),P.passedElement.triggerEvent(M.EVENTS.hideDropdown,{})}),this):this},G.prototype.getValue=function(B){B===void 0&&(B=!1);var P=this._store.activeItems.reduce(function(z,$){var N=B?$.value:$;return z.push(N),z},[]);return this._isSelectOneElement?P[0]:P},G.prototype.setValue=function(B){var P=this;return this.initialised?(B.forEach(function(z){return P._setChoiceOrItem(z)}),this):this},G.prototype.setChoiceByValue=function(B){var P=this;if(!this.initialised||this._isTextElement)return this;var z=Array.isArray(B)?B:[B];return z.forEach(function($){return P._findAndSelectChoiceByValue($)}),this},G.prototype.setChoices=function(B,P,z,$){var N=this;if(B===void 0&&(B=[]),P===void 0&&(P="value"),z===void 0&&(z="label"),$===void 0&&($=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof P!="string"||!P)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if($&&this.clearChoices(),typeof B=="function"){var V=B(this);if(typeof Promise=="function"&&V instanceof Promise)return new Promise(function(q){return requestAnimationFrame(q)}).then(function(){return N._handleLoadingState(!0)}).then(function(){return V}).then(function(q){return N.setChoices(q,P,z,$)}).catch(function(q){N.config.silent||console.error(q)}).then(function(){return N._handleLoadingState(!1)}).then(function(){return N});if(!Array.isArray(V))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof V));return this.setChoices(V,P,z,!1)}if(!Array.isArray(B))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),B.forEach(function(q){if(q.choices)N._addGroup({id:q.id?parseInt("".concat(q.id),10):null,group:q,valueKey:P,labelKey:z});else{var J=q;N._addChoice({value:J[P],label:J[z],isSelected:!!J.selected,isDisabled:!!J.disabled,placeholder:!!J.placeholder,customProperties:J.customProperties})}}),this._stopLoading(),this},G.prototype.clearChoices=function(){return this._store.dispatch((0,w.clearChoices)()),this},G.prototype.clearStore=function(){return this._store.dispatch((0,S.clearAll)()),this},G.prototype.clearInput=function(){var B=!this._isSelectOneElement;return this.input.clear(B),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,w.activateChoices)(!0))),this},G.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var B=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,P=this._isSelectElement,z=this._currentState.items!==this._prevState.items;B&&(P&&this._renderChoices(),z&&this._renderItems(),this._prevState=this._currentState)}},G.prototype._renderChoices=function(){var B=this,P=this._store,z=P.activeGroups,$=P.activeChoices,N=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return B.choiceList.scrollToTop()}),z.length>=1&&!this._isSearching){var V=$.filter(function(pe){return pe.placeholder===!0&&pe.groupId===-1});V.length>=1&&(N=this._createChoicesFragment(V,N)),N=this._createGroupsFragment(z,$,N)}else $.length>=1&&(N=this._createChoicesFragment($,N));if(N.childNodes&&N.childNodes.length>0){var q=this._store.activeItems,J=this._canAddItem(q,this.input.value);if(J.response)this.choiceList.append(N),this._highlightChoice();else{var ne=this._getTemplate("notice",J.notice);this.choiceList.append(ne)}}else{var ue=void 0,ne=void 0;this._isSearching?(ne=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,ue=this._getTemplate("notice",ne,"no-results")):(ne=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,ue=this._getTemplate("notice",ne,"no-choices")),this.choiceList.append(ue)}},G.prototype._renderItems=function(){var B=this._store.activeItems||[];this.itemList.clear();var P=this._createItemsFragment(B);P.childNodes&&this.itemList.append(P)},G.prototype._createGroupsFragment=function(B,P,z){var $=this;z===void 0&&(z=document.createDocumentFragment());var N=function(V){return P.filter(function(q){return $._isSelectOneElement?q.groupId===V.id:q.groupId===V.id&&($.config.renderSelectedChoices==="always"||!q.selected)})};return this.config.shouldSort&&B.sort(this.config.sorter),B.forEach(function(V){var q=N(V);if(q.length>=1){var J=$._getTemplate("choiceGroup",V);z.appendChild(J),$._createChoicesFragment(q,z,!0)}}),z},G.prototype._createChoicesFragment=function(B,P,z){var $=this;P===void 0&&(P=document.createDocumentFragment()),z===void 0&&(z=!1);var N=this.config,V=N.renderSelectedChoices,q=N.searchResultLimit,J=N.renderChoiceLimit,ne=this._isSearching?C.sortByScore:this.config.sorter,ue=function(et){var Ue=V==="auto"?$._isSelectOneElement||!et.selected:!0;if(Ue){var on=$._getTemplate("choice",et,$.config.itemSelectText);P.appendChild(on)}},pe=B;V==="auto"&&!this._isSelectOneElement&&(pe=B.filter(function(et){return!et.selected}));var Ie=pe.reduce(function(et,Ue){return Ue.placeholder?et.placeholderChoices.push(Ue):et.normalChoices.push(Ue),et},{placeholderChoices:[],normalChoices:[]}),we=Ie.placeholderChoices,st=Ie.normalChoices;(this.config.shouldSort||this._isSearching)&&st.sort(ne);var Ae=pe.length,Oe=this._isSelectOneElement?m(m([],we,!0),st,!0):st;this._isSearching?Ae=q:J&&J>0&&!z&&(Ae=J);for(var $e=0;$e<Ae;$e+=1)Oe[$e]&&ue(Oe[$e]);return P},G.prototype._createItemsFragment=function(B,P){var z=this;P===void 0&&(P=document.createDocumentFragment());var $=this.config,N=$.shouldSortItems,V=$.sorter,q=$.removeItemButton;N&&!this._isSelectOneElement&&B.sort(V),this._isTextElement?this.passedElement.value=B.map(function(ne){var ue=ne.value;return ue}).join(this.config.delimiter):this.passedElement.options=B;var J=function(ne){var ue=z._getTemplate("item",ne,q);P.appendChild(ue)};return B.forEach(J),P},G.prototype._triggerChange=function(B){B!=null&&this.passedElement.triggerEvent(M.EVENTS.change,{value:B})},G.prototype._selectPlaceholderChoice=function(B){this._addItem({value:B.value,label:B.label,choiceId:B.id,groupId:B.groupId,placeholder:B.placeholder}),this._triggerChange(B.value)},G.prototype._handleButtonAction=function(B,P){if(!(!B||!P||!this.config.removeItems||!this.config.removeItemButton)){var z=P.parentNode&&P.parentNode.dataset.id,$=z&&B.find(function(N){return N.id===parseInt(z,10)});$&&(this._removeItem($),this._triggerChange($.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},G.prototype._handleItemAction=function(B,P,z){var $=this;if(z===void 0&&(z=!1),!(!B||!P||!this.config.removeItems||this._isSelectOneElement)){var N=P.dataset.id;B.forEach(function(V){V.id===parseInt("".concat(N),10)&&!V.highlighted?$.highlightItem(V):!z&&V.highlighted&&$.unhighlightItem(V)}),this.input.focus()}},G.prototype._handleChoiceAction=function(B,P){if(!(!B||!P)){var z=P.dataset.id,$=z&&this._store.getChoiceById(z);if($){var N=B[0]&&B[0].keyCode?B[0].keyCode:void 0,V=this.dropdown.isActive;if($.keyCode=N,this.passedElement.triggerEvent(M.EVENTS.choice,{choice:$}),!$.selected&&!$.disabled){var q=this._canAddItem(B,$.value);q.response&&(this._addItem({value:$.value,label:$.label,choiceId:$.id,groupId:$.groupId,customProperties:$.customProperties,placeholder:$.placeholder,keyCode:$.keyCode}),this._triggerChange($.value))}this.clearInput(),V&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},G.prototype._handleBackspace=function(B){if(!(!this.config.removeItems||!B)){var P=B[B.length-1],z=B.some(function($){return $.highlighted});this.config.editItems&&!z&&P?(this.input.value=P.value,this.input.setWidth(),this._removeItem(P),this._triggerChange(P.value)):(z||this.highlightItem(P,!1),this.removeHighlightedItems(!0))}},G.prototype._startLoading=function(){this._store.dispatch((0,S.setIsLoading)(!0))},G.prototype._stopLoading=function(){this._store.dispatch((0,S.setIsLoading)(!1))},G.prototype._handleLoadingState=function(B){B===void 0&&(B=!0);var P=this.itemList.getChild(".".concat(this.config.classNames.placeholder));B?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?P?P.innerHTML=this.config.loadingText:(P=this._getTemplate("placeholder",this.config.loadingText),P&&this.itemList.append(P)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?P&&(P.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},G.prototype._handleSearch=function(B){if(this.input.isFocussed){var P=this._store.choices,z=this.config,$=z.searchFloor,N=z.searchChoices,V=P.some(function(J){return!J.active});if(B!==null&&typeof B<"u"&&B.length>=$){var q=N?this._searchChoices(B):0;this.passedElement.triggerEvent(M.EVENTS.search,{value:B,resultCount:q})}else V&&(this._isSearching=!1,this._store.dispatch((0,w.activateChoices)(!0)))}},G.prototype._canAddItem=function(B,P){var z=!0,$=typeof this.config.addItemText=="function"?this.config.addItemText(P):this.config.addItemText;if(!this._isSelectOneElement){var N=(0,C.existsInArray)(B,P);this.config.maxItemCount>0&&this.config.maxItemCount<=B.length&&(z=!1,$=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&N&&z&&(z=!1,$=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(P):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&z&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(P)&&(z=!1,$=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(P):this.config.customAddItemText)}return{response:z,notice:$}},G.prototype._searchChoices=function(B){var P=typeof B=="string"?B.trim():B,z=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(P.length<1&&P==="".concat(z," "))return 0;var $=this._store.searchableChoices,N=P,V=Object.assign(this.config.fuseOptions,{keys:m([],this.config.searchFields,!0),includeMatches:!0}),q=new b.default($,V),J=q.search(N);return this._currentValue=P,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,w.filterChoices)(J)),J.length},G.prototype._addEventListeners=function(){var B=document.documentElement;B.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),B.addEventListener("click",this._onClick,{passive:!0}),B.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},G.prototype._removeEventListeners=function(){var B=document.documentElement;B.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),B.removeEventListener("click",this._onClick),B.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},G.prototype._onKeyDown=function(B){var P=B.keyCode,z=this._store.activeItems,$=this.input.isFocussed,N=this.dropdown.isActive,V=this.itemList.hasChildren(),q=String.fromCharCode(P),J=/[^\x00-\x1F]/.test(q),ne=M.KEY_CODES.BACK_KEY,ue=M.KEY_CODES.DELETE_KEY,pe=M.KEY_CODES.ENTER_KEY,Ie=M.KEY_CODES.A_KEY,we=M.KEY_CODES.ESC_KEY,st=M.KEY_CODES.UP_KEY,Ae=M.KEY_CODES.DOWN_KEY,Oe=M.KEY_CODES.PAGE_UP_KEY,$e=M.KEY_CODES.PAGE_DOWN_KEY;switch(!this._isTextElement&&!N&&J&&(this.showDropdown(),this.input.isFocussed||(this.input.value+=B.key.toLowerCase())),P){case Ie:return this._onSelectKey(B,V);case pe:return this._onEnterKey(B,z,N);case we:return this._onEscapeKey(N);case st:case Oe:case Ae:case $e:return this._onDirectionKey(B,N);case ue:case ne:return this._onDeleteKey(B,z,$)}},G.prototype._onKeyUp=function(B){var P=B.target,z=B.keyCode,$=this.input.value,N=this._store.activeItems,V=this._canAddItem(N,$),q=M.KEY_CODES.BACK_KEY,J=M.KEY_CODES.DELETE_KEY;if(this._isTextElement){var ne=V.notice&&$;if(ne){var ue=this._getTemplate("notice",V.notice);this.dropdown.element.innerHTML=ue.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var pe=z===q||z===J,Ie=pe&&P&&!P.value,we=!this._isTextElement&&this._isSearching,st=this._canSearch&&V.response;Ie&&we?(this._isSearching=!1,this._store.dispatch((0,w.activateChoices)(!0))):st&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},G.prototype._onSelectKey=function(B,P){var z=B.ctrlKey,$=B.metaKey,N=z||$;if(N&&P){this._canSearch=!1;var V=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;V&&this.highlightAll()}},G.prototype._onEnterKey=function(B,P,z){var $=B.target,N=M.KEY_CODES.ENTER_KEY,V=$&&$.hasAttribute("data-button");if(this._isTextElement&&$&&$.value){var q=this.input.value,J=this._canAddItem(P,q);J.response&&(this.hideDropdown(!0),this._addItem({value:q}),this._triggerChange(q),this.clearInput())}if(V&&(this._handleButtonAction(P,$),B.preventDefault()),z){var ne=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));ne&&(P[0]&&(P[0].keyCode=N),this._handleChoiceAction(P,ne)),B.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),B.preventDefault())},G.prototype._onEscapeKey=function(B){B&&(this.hideDropdown(!0),this.containerOuter.focus())},G.prototype._onDirectionKey=function(B,P){var z=B.keyCode,$=B.metaKey,N=M.KEY_CODES.DOWN_KEY,V=M.KEY_CODES.PAGE_UP_KEY,q=M.KEY_CODES.PAGE_DOWN_KEY;if(P||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var J=z===N||z===q?1:-1,ne=$||z===q||z===V,ue="[data-choice-selectable]",pe=void 0;if(ne)J>0?pe=this.dropdown.element.querySelector("".concat(ue,":last-of-type")):pe=this.dropdown.element.querySelector(ue);else{var Ie=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));Ie?pe=(0,C.getAdjacentEl)(Ie,ue,J):pe=this.dropdown.element.querySelector(ue)}pe&&((0,C.isScrolledIntoView)(pe,this.choiceList.element,J)||this.choiceList.scrollToChildElement(pe,J),this._highlightChoice(pe)),B.preventDefault()}},G.prototype._onDeleteKey=function(B,P,z){var $=B.target;!this._isSelectOneElement&&!$.value&&z&&(this._handleBackspace(P),B.preventDefault())},G.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},G.prototype._onTouchEnd=function(B){var P=(B||B.touches[0]).target,z=this._wasTap&&this.containerOuter.element.contains(P);if(z){var $=P===this.containerOuter.element||P===this.containerInner.element;$&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),B.stopPropagation()}this._wasTap=!0},G.prototype._onMouseDown=function(B){var P=B.target;if(P instanceof HTMLElement){if(F&&this.choiceList.element.contains(P)){var z=this.choiceList.element.firstElementChild,$=this._direction==="ltr"?B.offsetX>=z.offsetWidth:B.offsetX<z.offsetLeft;this._isScrollingOnIe=$}if(P!==this.input.element){var N=P.closest("[data-button],[data-item],[data-choice]");if(N instanceof HTMLElement){var V=B.shiftKey,q=this._store.activeItems,J=N.dataset;"button"in J?this._handleButtonAction(q,N):"item"in J?this._handleItemAction(q,N,V):"choice"in J&&this._handleChoiceAction(q,N)}B.preventDefault()}}},G.prototype._onMouseOver=function(B){var P=B.target;P instanceof HTMLElement&&"choice"in P.dataset&&this._highlightChoice(P)},G.prototype._onClick=function(B){var P=B.target,z=this.containerOuter.element.contains(P);if(z)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&P!==this.input.element&&!this.dropdown.element.contains(P)&&this.hideDropdown();else{var $=this._store.highlightedActiveItems.length>0;$&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},G.prototype._onFocus=function(B){var P,z=this,$=B.target,N=$&&this.containerOuter.element.contains($);if(N){var V=(P={},P[M.TEXT_TYPE]=function(){$===z.input.element&&z.containerOuter.addFocusState()},P[M.SELECT_ONE_TYPE]=function(){z.containerOuter.addFocusState(),$===z.input.element&&z.showDropdown(!0)},P[M.SELECT_MULTIPLE_TYPE]=function(){$===z.input.element&&(z.showDropdown(!0),z.containerOuter.addFocusState())},P);V[this.passedElement.element.type]()}},G.prototype._onBlur=function(B){var P,z=this,$=B.target,N=$&&this.containerOuter.element.contains($);if(N&&!this._isScrollingOnIe){var V=this._store.activeItems,q=V.some(function(ne){return ne.highlighted}),J=(P={},P[M.TEXT_TYPE]=function(){$===z.input.element&&(z.containerOuter.removeFocusState(),q&&z.unhighlightAll(),z.hideDropdown(!0))},P[M.SELECT_ONE_TYPE]=function(){z.containerOuter.removeFocusState(),($===z.input.element||$===z.containerOuter.element&&!z._canSearch)&&z.hideDropdown(!0)},P[M.SELECT_MULTIPLE_TYPE]=function(){$===z.input.element&&(z.containerOuter.removeFocusState(),z.hideDropdown(!0),q&&z.unhighlightAll())},P);J[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},G.prototype._onFormReset=function(){this._store.dispatch((0,S.resetTo)(this._initialState))},G.prototype._highlightChoice=function(B){var P=this;B===void 0&&(B=null);var z=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(z.length){var $=B,N=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));N.forEach(function(V){V.classList.remove(P.config.classNames.highlightedState),V.setAttribute("aria-selected","false")}),$?this._highlightPosition=z.indexOf($):(z.length>this._highlightPosition?$=z[this._highlightPosition]:$=z[z.length-1],$||($=z[0])),$.classList.add(this.config.classNames.highlightedState),$.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(M.EVENTS.highlightChoice,{el:$}),this.dropdown.isActive&&(this.input.setActiveDescendant($.id),this.containerOuter.setActiveDescendant($.id))}},G.prototype._addItem=function(B){var P=B.value,z=B.label,$=z===void 0?null:z,N=B.choiceId,V=N===void 0?-1:N,q=B.groupId,J=q===void 0?-1:q,ne=B.customProperties,ue=ne===void 0?{}:ne,pe=B.placeholder,Ie=pe===void 0?!1:pe,we=B.keyCode,st=we===void 0?-1:we,Ae=typeof P=="string"?P.trim():P,Oe=this._store.items,$e=$||Ae,et=V||-1,Ue=J>=0?this._store.getGroupById(J):null,on=Oe?Oe.length+1:1;this.config.prependValue&&(Ae=this.config.prependValue+Ae.toString()),this.config.appendValue&&(Ae+=this.config.appendValue.toString()),this._store.dispatch((0,y.addItem)({value:Ae,label:$e,id:on,choiceId:et,groupId:J,customProperties:ue,placeholder:Ie,keyCode:st})),this._isSelectOneElement&&this.removeActiveItems(on),this.passedElement.triggerEvent(M.EVENTS.addItem,{id:on,value:Ae,label:$e,customProperties:ue,groupValue:Ue&&Ue.value?Ue.value:null,keyCode:st})},G.prototype._removeItem=function(B){var P=B.id,z=B.value,$=B.label,N=B.customProperties,V=B.choiceId,q=B.groupId,J=q&&q>=0?this._store.getGroupById(q):null;!P||!V||(this._store.dispatch((0,y.removeItem)(P,V)),this.passedElement.triggerEvent(M.EVENTS.removeItem,{id:P,value:z,label:$,customProperties:N,groupValue:J&&J.value?J.value:null}))},G.prototype._addChoice=function(B){var P=B.value,z=B.label,$=z===void 0?null:z,N=B.isSelected,V=N===void 0?!1:N,q=B.isDisabled,J=q===void 0?!1:q,ne=B.groupId,ue=ne===void 0?-1:ne,pe=B.customProperties,Ie=pe===void 0?{}:pe,we=B.placeholder,st=we===void 0?!1:we,Ae=B.keyCode,Oe=Ae===void 0?-1:Ae;if(!(typeof P>"u"||P===null)){var $e=this._store.choices,et=$||P,Ue=$e?$e.length+1:1,on="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(Ue);this._store.dispatch((0,w.addChoice)({id:Ue,groupId:ue,elementId:on,value:P,label:et,disabled:J,customProperties:Ie,placeholder:st,keyCode:Oe})),V&&this._addItem({value:P,label:et,choiceId:Ue,customProperties:Ie,placeholder:st,keyCode:Oe})}},G.prototype._addGroup=function(B){var P=this,z=B.group,$=B.id,N=B.valueKey,V=N===void 0?"value":N,q=B.labelKey,J=q===void 0?"label":q,ne=(0,C.isType)("Object",z)?z.choices:Array.from(z.getElementsByTagName("OPTION")),ue=$||Math.floor(new Date().valueOf()*Math.random()),pe=z.disabled?z.disabled:!1;if(ne){this._store.dispatch((0,A.addGroup)({value:z.label,id:ue,active:!0,disabled:pe}));var Ie=function(we){var st=we.disabled||we.parentNode&&we.parentNode.disabled;P._addChoice({value:we[V],label:(0,C.isType)("Object",we)?we[J]:we.innerHTML,isSelected:we.selected,isDisabled:st,groupId:ue,customProperties:we.customProperties,placeholder:we.placeholder})};ne.forEach(Ie)}else this._store.dispatch((0,A.addGroup)({value:z.label,id:z.id,active:!1,disabled:z.disabled}))},G.prototype._getTemplate=function(B){for(var P,z=[],$=1;$<arguments.length;$++)z[$-1]=arguments[$];return(P=this._templates[B]).call.apply(P,m([this,this.config],z,!1))},G.prototype._createTemplates=function(){var B=this.config.callbackOnCreateTemplates,P={};B&&typeof B=="function"&&(P=B.call(this,C.strToEl)),this._templates=(0,E.default)(R.default,P)},G.prototype._createElements=function(){this.containerOuter=new T.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new T.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new T.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new T.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new T.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new T.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},G.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},G.prototype._addPredefinedGroups=function(B){var P=this,z=this.passedElement.placeholderOption;z&&z.parentNode&&z.parentNode.tagName==="SELECT"&&this._addChoice({value:z.value,label:z.innerHTML,isSelected:z.selected,isDisabled:z.disabled,placeholder:!0}),B.forEach(function($){return P._addGroup({group:$,id:$.id||null})})},G.prototype._addPredefinedChoices=function(B){var P=this;this.config.shouldSort&&B.sort(this.config.sorter);var z=B.some(function(N){return N.selected}),$=B.findIndex(function(N){return N.disabled===void 0||!N.disabled});B.forEach(function(N,V){var q=N.value,J=q===void 0?"":q,ne=N.label,ue=N.customProperties,pe=N.placeholder;if(P._isSelectElement)if(N.choices)P._addGroup({group:N,id:N.id||null});else{var Ie=P._isSelectOneElement&&!z&&V===$,we=Ie?!0:N.selected,st=N.disabled;P._addChoice({value:J,label:ne,isSelected:!!we,isDisabled:!!st,placeholder:!!pe,customProperties:ue})}else P._addChoice({value:J,label:ne,isSelected:!!N.selected,isDisabled:!!N.disabled,placeholder:!!N.placeholder,customProperties:ue})})},G.prototype._addPredefinedItems=function(B){var P=this;B.forEach(function(z){typeof z=="object"&&z.value&&P._addItem({value:z.value,label:z.label,choiceId:z.id,customProperties:z.customProperties,placeholder:z.placeholder}),typeof z=="string"&&P._addItem({value:z})})},G.prototype._setChoiceOrItem=function(B){var P=this,z=(0,C.getType)(B).toLowerCase(),$={object:function(){B.value&&(P._isTextElement?P._addItem({value:B.value,label:B.label,choiceId:B.id,customProperties:B.customProperties,placeholder:B.placeholder}):P._addChoice({value:B.value,label:B.label,isSelected:!0,isDisabled:!1,customProperties:B.customProperties,placeholder:B.placeholder}))},string:function(){P._isTextElement?P._addItem({value:B}):P._addChoice({value:B,label:B,isSelected:!0,isDisabled:!1})}};$[z]()},G.prototype._findAndSelectChoiceByValue=function(B){var P=this,z=this._store.choices,$=z.find(function(N){return P.config.valueComparer(N.value,B)});$&&!$.selected&&this._addItem({value:$.value,label:$.label,choiceId:$.id,groupId:$.groupId,customProperties:$.customProperties,placeholder:$.placeholder,keyCode:$.keyCode})},G.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var B=this.passedElement.placeholderOption;return B?B.text:null}var P=this.config,z=P.placeholder,$=P.placeholderValue,N=this.passedElement.element.dataset;if(z){if($)return $;if(N.placeholder)return N.placeholder}return null},G}();h.default=Y},613:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0});var m=f(799),v=f(883),E=function(){function b(w){var A=w.element,y=w.type,S=w.classNames,T=w.position;this.element=A,this.classNames=S,this.type=y,this.position=T,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return b.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},b.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},b.prototype.shouldFlip=function(w){if(typeof w!="number")return!1;var A=!1;return this.position==="auto"?A=!window.matchMedia("(min-height: ".concat(w+1,"px)")).matches:this.position==="top"&&(A=!0),A},b.prototype.setActiveDescendant=function(w){this.element.setAttribute("aria-activedescendant",w)},b.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},b.prototype.open=function(w){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(w)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},b.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},b.prototype.focus=function(){this.isFocussed||this.element.focus()},b.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},b.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},b.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===v.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},b.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===v.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},b.prototype.wrap=function(w){(0,m.wrap)(w,this.element)},b.prototype.unwrap=function(w){this.element.parentNode&&(this.element.parentNode.insertBefore(w,this.element),this.element.parentNode.removeChild(this.element))},b.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},b.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},b.prototype._onFocus=function(){this.isFocussed=!0},b.prototype._onBlur=function(){this.isFocussed=!1},b}();h.default=E},217:function(d,h){Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function m(v){var E=v.element,b=v.type,w=v.classNames;this.element=E,this.classNames=w,this.type=b,this.isActive=!1}return Object.defineProperty(m.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),m.prototype.getChild=function(v){return this.element.querySelector(v)},m.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},m.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},m}();h.default=f},520:function(d,h,f){var m=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(h,"__esModule",{value:!0}),h.WrappedSelect=h.WrappedInput=h.List=h.Input=h.Container=h.Dropdown=void 0;var v=m(f(217));h.Dropdown=v.default;var E=m(f(613));h.Container=E.default;var b=m(f(11));h.Input=b.default;var w=m(f(624));h.List=w.default;var A=m(f(541));h.WrappedInput=A.default;var y=m(f(982));h.WrappedSelect=y.default},11:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0});var m=f(799),v=f(883),E=function(){function b(w){var A=w.element,y=w.type,S=w.classNames,T=w.preventPaste;this.element=A,this.type=y,this.classNames=S,this.preventPaste=T,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=A.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(b.prototype,"placeholder",{set:function(w){this.element.placeholder=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return(0,m.sanitise)(this.element.value)},set:function(w){this.element.value=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),b.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},b.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},b.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},b.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},b.prototype.focus=function(){this.isFocussed||this.element.focus()},b.prototype.blur=function(){this.isFocussed&&this.element.blur()},b.prototype.clear=function(w){return w===void 0&&(w=!0),this.element.value&&(this.element.value=""),w&&this.setWidth(),this},b.prototype.setWidth=function(){var w=this.element,A=w.style,y=w.value,S=w.placeholder;A.minWidth="".concat(S.length+1,"ch"),A.width="".concat(y.length+1,"ch")},b.prototype.setActiveDescendant=function(w){this.element.setAttribute("aria-activedescendant",w)},b.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},b.prototype._onInput=function(){this.type!==v.SELECT_ONE_TYPE&&this.setWidth()},b.prototype._onPaste=function(w){this.preventPaste&&w.preventDefault()},b.prototype._onFocus=function(){this.isFocussed=!0},b.prototype._onBlur=function(){this.isFocussed=!1},b}();h.default=E},624:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0});var m=f(883),v=function(){function E(b){var w=b.element;this.element=w,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return E.prototype.clear=function(){this.element.innerHTML=""},E.prototype.append=function(b){this.element.appendChild(b)},E.prototype.getChild=function(b){return this.element.querySelector(b)},E.prototype.hasChildren=function(){return this.element.hasChildNodes()},E.prototype.scrollToTop=function(){this.element.scrollTop=0},E.prototype.scrollToChildElement=function(b,w){var A=this;if(b){var y=this.element.offsetHeight,S=this.element.scrollTop+y,T=b.offsetHeight,M=b.offsetTop+T,D=w>0?this.element.scrollTop+M-S:b.offsetTop;requestAnimationFrame(function(){A._animateScroll(D,w)})}},E.prototype._scrollDown=function(b,w,A){var y=(A-b)/w,S=y>1?y:1;this.element.scrollTop=b+S},E.prototype._scrollUp=function(b,w,A){var y=(b-A)/w,S=y>1?y:1;this.element.scrollTop=b-S},E.prototype._animateScroll=function(b,w){var A=this,y=m.SCROLLING_SPEED,S=this.element.scrollTop,T=!1;w>0?(this._scrollDown(S,y,b),S<b&&(T=!0)):(this._scrollUp(S,y,b),S>b&&(T=!0)),T&&requestAnimationFrame(function(){A._animateScroll(b,w)})},E}();h.default=v},730:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0});var m=f(799),v=function(){function E(b){var w=b.element,A=b.classNames;if(this.element=w,this.classNames=A,!(w instanceof HTMLInputElement)&&!(w instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(E.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"value",{get:function(){return this.element.value},set:function(b){this.element.value=b},enumerable:!1,configurable:!0}),E.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var b=this.element.getAttribute("style");b&&this.element.setAttribute("data-choice-orig-style",b),this.element.setAttribute("data-choice","active")},E.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var b=this.element.getAttribute("data-choice-orig-style");b?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",b)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},E.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},E.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},E.prototype.triggerEvent=function(b,w){(0,m.dispatchEvent)(this.element,b,w)},E}();h.default=v},541:function(d,h,f){var m=this&&this.__extends||function(){var w=function(A,y){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(S[M]=T[M])},w(A,y)};return function(A,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");w(A,y);function S(){this.constructor=A}A.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),v=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(h,"__esModule",{value:!0});var E=v(f(730)),b=function(w){m(A,w);function A(y){var S=y.element,T=y.classNames,M=y.delimiter,D=w.call(this,{element:S,classNames:T})||this;return D.delimiter=M,D}return Object.defineProperty(A.prototype,"value",{get:function(){return this.element.value},set:function(y){this.element.setAttribute("value",y),this.element.value=y},enumerable:!1,configurable:!0}),A}(E.default);h.default=b},982:function(d,h,f){var m=this&&this.__extends||function(){var w=function(A,y){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(S[M]=T[M])},w(A,y)};return function(A,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");w(A,y);function S(){this.constructor=A}A.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),v=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(h,"__esModule",{value:!0});var E=v(f(730)),b=function(w){m(A,w);function A(y){var S=y.element,T=y.classNames,M=y.template,D=w.call(this,{element:S,classNames:T})||this;return D.template=M,D}return Object.defineProperty(A.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(y){var S=this,T=document.createDocumentFragment(),M=function(D){var C=S.template(D);T.appendChild(C)};y.forEach(function(D){return M(D)}),this.appendDocFragment(T)},enumerable:!1,configurable:!0}),A.prototype.appendDocFragment=function(y){this.element.innerHTML="",this.element.appendChild(y)},A}(E.default);h.default=b},883:function(d,h){Object.defineProperty(h,"__esModule",{value:!0}),h.SCROLLING_SPEED=h.SELECT_MULTIPLE_TYPE=h.SELECT_ONE_TYPE=h.TEXT_TYPE=h.KEY_CODES=h.ACTION_TYPES=h.EVENTS=void 0,h.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},h.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},h.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},h.TEXT_TYPE="text",h.SELECT_ONE_TYPE="select-one",h.SELECT_MULTIPLE_TYPE="select-multiple",h.SCROLLING_SPEED=4},789:function(d,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.DEFAULT_CONFIG=h.DEFAULT_CLASSNAMES=void 0;var m=f(799);h.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},h.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:m.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(v){return'Press Enter to add <b>"'.concat((0,m.sanitise)(v),'"</b>')},maxItemText:function(v){return"Only ".concat(v," values can be added")},valueComparer:function(v,E){return v===E},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:h.DEFAULT_CLASSNAMES}},18:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},978:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},948:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},359:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},285:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},533:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},187:function(d,h,f){var m=this&&this.__createBinding||(Object.create?function(E,b,w,A){A===void 0&&(A=w);var y=Object.getOwnPropertyDescriptor(b,w);(!y||("get"in y?!b.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return b[w]}}),Object.defineProperty(E,A,y)}:function(E,b,w,A){A===void 0&&(A=w),E[A]=b[w]}),v=this&&this.__exportStar||function(E,b){for(var w in E)w!=="default"&&!Object.prototype.hasOwnProperty.call(b,w)&&m(b,E,w)};Object.defineProperty(h,"__esModule",{value:!0}),v(f(18),h),v(f(978),h),v(f(948),h),v(f(359),h),v(f(285),h),v(f(533),h),v(f(287),h),v(f(132),h),v(f(837),h),v(f(598),h),v(f(369),h),v(f(37),h),v(f(47),h),v(f(923),h),v(f(876),h)},287:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},132:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},837:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},598:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},37:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},369:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},47:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},923:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},876:function(d,h){Object.defineProperty(h,"__esModule",{value:!0})},799:function(d,h){Object.defineProperty(h,"__esModule",{value:!0}),h.parseCustomProperties=h.diff=h.cloneObject=h.existsInArray=h.dispatchEvent=h.sortByScore=h.sortByAlpha=h.strToEl=h.sanitise=h.isScrolledIntoView=h.getAdjacentEl=h.wrap=h.isType=h.getType=h.generateId=h.generateChars=h.getRandomNumber=void 0;var f=function(F,j){return Math.floor(Math.random()*(j-F)+F)};h.getRandomNumber=f;var m=function(F){return Array.from({length:F},function(){return(0,h.getRandomNumber)(0,36).toString(36)}).join("")};h.generateChars=m;var v=function(F,j){var Y=F.id||F.name&&"".concat(F.name,"-").concat((0,h.generateChars)(2))||(0,h.generateChars)(4);return Y=Y.replace(/(:|\.|\[|\]|,)/g,""),Y="".concat(j,"-").concat(Y),Y};h.generateId=v;var E=function(F){return Object.prototype.toString.call(F).slice(8,-1)};h.getType=E;var b=function(F,j){return j!=null&&(0,h.getType)(j)===F};h.isType=b;var w=function(F,j){return j===void 0&&(j=document.createElement("div")),F.parentNode&&(F.nextSibling?F.parentNode.insertBefore(j,F.nextSibling):F.parentNode.appendChild(j)),j.appendChild(F)};h.wrap=w;var A=function(F,j,Y){Y===void 0&&(Y=1);for(var G="".concat(Y>0?"next":"previous","ElementSibling"),B=F[G];B;){if(B.matches(j))return B;B=B[G]}return B};h.getAdjacentEl=A;var y=function(F,j,Y){if(Y===void 0&&(Y=1),!F)return!1;var G;return Y>0?G=j.scrollTop+j.offsetHeight>=F.offsetTop+F.offsetHeight:G=F.offsetTop>=j.scrollTop,G};h.isScrolledIntoView=y;var S=function(F){return typeof F!="string"?F:F.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};h.sanitise=S,h.strToEl=function(){var F=document.createElement("div");return function(j){var Y=j.trim();F.innerHTML=Y;for(var G=F.children[0];F.firstChild;)F.removeChild(F.firstChild);return G}}();var T=function(F,j){var Y=F.value,G=F.label,B=G===void 0?Y:G,P=j.value,z=j.label,$=z===void 0?P:z;return B.localeCompare($,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};h.sortByAlpha=T;var M=function(F,j){var Y=F.score,G=Y===void 0?0:Y,B=j.score,P=B===void 0?0:B;return G-P};h.sortByScore=M;var D=function(F,j,Y){Y===void 0&&(Y=null);var G=new CustomEvent(j,{detail:Y,bubbles:!0,cancelable:!0});return F.dispatchEvent(G)};h.dispatchEvent=D;var C=function(F,j,Y){return Y===void 0&&(Y="value"),F.some(function(G){return typeof j=="string"?G[Y]===j.trim():G[Y]===j})};h.existsInArray=C;var k=function(F){return JSON.parse(JSON.stringify(F))};h.cloneObject=k;var I=function(F,j){var Y=Object.keys(F).sort(),G=Object.keys(j).sort();return Y.filter(function(B){return G.indexOf(B)<0})};h.diff=I;var R=function(F){if(typeof F<"u")try{return JSON.parse(F)}catch{return F}return{}};h.parseCustomProperties=R},273:function(d,h){var f=this&&this.__spreadArray||function(v,E,b){if(b||arguments.length===2)for(var w=0,A=E.length,y;w<A;w++)(y||!(w in E))&&(y||(y=Array.prototype.slice.call(E,0,w)),y[w]=E[w]);return v.concat(y||Array.prototype.slice.call(E))};Object.defineProperty(h,"__esModule",{value:!0}),h.defaultState=void 0,h.defaultState=[];function m(v,E){switch(v===void 0&&(v=h.defaultState),E===void 0&&(E={}),E.type){case"ADD_CHOICE":{var b=E,w={id:b.id,elementId:b.elementId,groupId:b.groupId,value:b.value,label:b.label||b.value,disabled:b.disabled||!1,selected:!1,active:!0,score:9999,customProperties:b.customProperties,placeholder:b.placeholder||!1};return f(f([],v,!0),[w],!1)}case"ADD_ITEM":{var A=E;return A.choiceId>-1?v.map(function(M){var D=M;return D.id===parseInt("".concat(A.choiceId),10)&&(D.selected=!0),D}):v}case"REMOVE_ITEM":{var y=E;return y.choiceId&&y.choiceId>-1?v.map(function(M){var D=M;return D.id===parseInt("".concat(y.choiceId),10)&&(D.selected=!1),D}):v}case"FILTER_CHOICES":{var S=E;return v.map(function(M){var D=M;return D.active=S.results.some(function(C){var k=C.item,I=C.score;return k.id===D.id?(D.score=I,!0):!1}),D})}case"ACTIVATE_CHOICES":{var T=E;return v.map(function(M){var D=M;return D.active=T.active,D})}case"CLEAR_CHOICES":return h.defaultState;default:return v}}h.default=m},871:function(d,h){var f=this&&this.__spreadArray||function(v,E,b){if(b||arguments.length===2)for(var w=0,A=E.length,y;w<A;w++)(y||!(w in E))&&(y||(y=Array.prototype.slice.call(E,0,w)),y[w]=E[w]);return v.concat(y||Array.prototype.slice.call(E))};Object.defineProperty(h,"__esModule",{value:!0}),h.defaultState=void 0,h.defaultState=[];function m(v,E){switch(v===void 0&&(v=h.defaultState),E===void 0&&(E={}),E.type){case"ADD_GROUP":{var b=E;return f(f([],v,!0),[{id:b.id,value:b.value,active:b.active,disabled:b.disabled}],!1)}case"CLEAR_CHOICES":return[];default:return v}}h.default=m},655:function(d,h,f){var m=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(h,"__esModule",{value:!0}),h.defaultState=void 0;var v=f(791),E=m(f(52)),b=m(f(871)),w=m(f(273)),A=m(f(502)),y=f(799);h.defaultState={groups:[],items:[],choices:[],loading:!1};var S=(0,v.combineReducers)({items:E.default,groups:b.default,choices:w.default,loading:A.default}),T=function(M,D){var C=M;if(D.type==="CLEAR_ALL")C=h.defaultState;else if(D.type==="RESET_TO")return(0,y.cloneObject)(D.state);return S(C,D)};h.default=T},52:function(d,h){var f=this&&this.__spreadArray||function(v,E,b){if(b||arguments.length===2)for(var w=0,A=E.length,y;w<A;w++)(y||!(w in E))&&(y||(y=Array.prototype.slice.call(E,0,w)),y[w]=E[w]);return v.concat(y||Array.prototype.slice.call(E))};Object.defineProperty(h,"__esModule",{value:!0}),h.defaultState=void 0,h.defaultState=[];function m(v,E){switch(v===void 0&&(v=h.defaultState),E===void 0&&(E={}),E.type){case"ADD_ITEM":{var b=E,w=f(f([],v,!0),[{id:b.id,choiceId:b.choiceId,groupId:b.groupId,value:b.value,label:b.label,active:!0,highlighted:!1,customProperties:b.customProperties,placeholder:b.placeholder||!1,keyCode:null}],!1);return w.map(function(y){var S=y;return S.highlighted=!1,S})}case"REMOVE_ITEM":return v.map(function(y){var S=y;return S.id===E.id&&(S.active=!1),S});case"HIGHLIGHT_ITEM":{var A=E;return v.map(function(y){var S=y;return S.id===A.id&&(S.highlighted=A.highlighted),S})}default:return v}}h.default=m},502:function(d,h){Object.defineProperty(h,"__esModule",{value:!0}),h.defaultState=void 0,h.defaultState=!1;var f=function(m,v){switch(m===void 0&&(m=h.defaultState),v===void 0&&(v={}),v.type){case"SET_IS_LOADING":return v.isLoading;default:return m}};h.default=f},744:function(d,h,f){var m=this&&this.__spreadArray||function(A,y,S){if(S||arguments.length===2)for(var T=0,M=y.length,D;T<M;T++)(D||!(T in y))&&(D||(D=Array.prototype.slice.call(y,0,T)),D[T]=y[T]);return A.concat(D||Array.prototype.slice.call(y))},v=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(h,"__esModule",{value:!0});var E=f(791),b=v(f(655)),w=function(){function A(){this._store=(0,E.createStore)(b.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return A.prototype.subscribe=function(y){this._store.subscribe(y)},A.prototype.dispatch=function(y){this._store.dispatch(y)},Object.defineProperty(A.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"activeItems",{get:function(){return this.items.filter(function(y){return y.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(y){return y.active&&y.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"activeChoices",{get:function(){return this.choices.filter(function(y){return y.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(y){return y.disabled!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(y){return y.placeholder!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"placeholderChoice",{get:function(){return m([],this.choices,!0).reverse().find(function(y){return y.placeholder===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"activeGroups",{get:function(){var y=this,S=y.groups,T=y.choices;return S.filter(function(M){var D=M.active===!0&&M.disabled===!1,C=T.some(function(k){return k.active===!0&&k.disabled===!1});return D&&C},[])},enumerable:!1,configurable:!0}),A.prototype.isLoading=function(){return this.state.loading},A.prototype.getChoiceById=function(y){return this.activeChoices.find(function(S){return S.id===parseInt(y,10)})},A.prototype.getGroupById=function(y){return this.groups.find(function(S){return S.id===y})},A}();h.default=w},686:function(d,h){Object.defineProperty(h,"__esModule",{value:!0});var f={containerOuter:function(m,v,E,b,w,A,y){var S=m.classNames.containerOuter,T=Object.assign(document.createElement("div"),{className:S});return T.dataset.type=A,v&&(T.dir=v),b&&(T.tabIndex=0),E&&(T.setAttribute("role",w?"combobox":"listbox"),w&&T.setAttribute("aria-autocomplete","list")),T.setAttribute("aria-haspopup","true"),T.setAttribute("aria-expanded","false"),y&&T.setAttribute("aria-labelledby",y),T},containerInner:function(m){var v=m.classNames.containerInner;return Object.assign(document.createElement("div"),{className:v})},itemList:function(m,v){var E=m.classNames,b=E.list,w=E.listSingle,A=E.listItems;return Object.assign(document.createElement("div"),{className:"".concat(b," ").concat(v?w:A)})},placeholder:function(m,v){var E,b=m.allowHTML,w=m.classNames.placeholder;return Object.assign(document.createElement("div"),(E={className:w},E[b?"innerHTML":"innerText"]=v,E))},item:function(m,v,E){var b,w,A=m.allowHTML,y=m.classNames,S=y.item,T=y.button,M=y.highlightedState,D=y.itemSelectable,C=y.placeholder,k=v.id,I=v.value,R=v.label,F=v.customProperties,j=v.active,Y=v.disabled,G=v.highlighted,B=v.placeholder,P=Object.assign(document.createElement("div"),(b={className:S},b[A?"innerHTML":"innerText"]=R,b));if(Object.assign(P.dataset,{item:"",id:k,value:I,customProperties:F}),j&&P.setAttribute("aria-selected","true"),Y&&P.setAttribute("aria-disabled","true"),B&&P.classList.add(C),P.classList.add(G?M:D),E){Y&&P.classList.remove(D),P.dataset.deletable="";var z="Remove item",$=Object.assign(document.createElement("button"),(w={type:"button",className:T},w[A?"innerHTML":"innerText"]=z,w));$.setAttribute("aria-label","".concat(z,": '").concat(I,"'")),$.dataset.button="",P.appendChild($)}return P},choiceList:function(m,v){var E=m.classNames.list,b=Object.assign(document.createElement("div"),{className:E});return v||b.setAttribute("aria-multiselectable","true"),b.setAttribute("role","listbox"),b},choiceGroup:function(m,v){var E,b=m.allowHTML,w=m.classNames,A=w.group,y=w.groupHeading,S=w.itemDisabled,T=v.id,M=v.value,D=v.disabled,C=Object.assign(document.createElement("div"),{className:"".concat(A," ").concat(D?S:"")});return C.setAttribute("role","group"),Object.assign(C.dataset,{group:"",id:T,value:M}),D&&C.setAttribute("aria-disabled","true"),C.appendChild(Object.assign(document.createElement("div"),(E={className:y},E[b?"innerHTML":"innerText"]=M,E))),C},choice:function(m,v,E){var b,w=m.allowHTML,A=m.classNames,y=A.item,S=A.itemChoice,T=A.itemSelectable,M=A.selectedState,D=A.itemDisabled,C=A.placeholder,k=v.id,I=v.value,R=v.label,F=v.groupId,j=v.elementId,Y=v.disabled,G=v.selected,B=v.placeholder,P=Object.assign(document.createElement("div"),(b={id:j},b[w?"innerHTML":"innerText"]=R,b.className="".concat(y," ").concat(S),b));return G&&P.classList.add(M),B&&P.classList.add(C),P.setAttribute("role",F&&F>0?"treeitem":"option"),Object.assign(P.dataset,{choice:"",id:k,value:I,selectText:E}),Y?(P.classList.add(D),P.dataset.choiceDisabled="",P.setAttribute("aria-disabled","true")):(P.classList.add(T),P.dataset.choiceSelectable=""),P},input:function(m,v){var E=m.classNames,b=E.input,w=E.inputCloned,A=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(b," ").concat(w),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return A.setAttribute("role","textbox"),A.setAttribute("aria-autocomplete","list"),A.setAttribute("aria-label",v),A},dropdown:function(m){var v=m.classNames,E=v.list,b=v.listDropdown,w=document.createElement("div");return w.classList.add(E,b),w.setAttribute("aria-expanded","false"),w},notice:function(m,v,E){var b,w=m.allowHTML,A=m.classNames,y=A.item,S=A.itemChoice,T=A.noResults,M=A.noChoices;E===void 0&&(E="");var D=[y,S];return E==="no-choices"?D.push(M):E==="no-results"&&D.push(T),Object.assign(document.createElement("div"),(b={},b[w?"innerHTML":"innerText"]=v,b.className=D.join(" "),b))},option:function(m){var v=m.label,E=m.value,b=m.customProperties,w=m.active,A=m.disabled,y=new Option(v,E,!1,w);return b&&(y.dataset.customProperties="".concat(b)),y.disabled=!!A,y}};h.default=f},996:function(d){var h=function(j){return f(j)&&!m(j)};function f(F){return!!F&&typeof F=="object"}function m(F){var j=Object.prototype.toString.call(F);return j==="[object RegExp]"||j==="[object Date]"||b(F)}var v=typeof Symbol=="function"&&Symbol.for,E=v?Symbol.for("react.element"):60103;function b(F){return F.$$typeof===E}function w(F){return Array.isArray(F)?[]:{}}function A(F,j){return j.clone!==!1&&j.isMergeableObject(F)?I(w(F),F,j):F}function y(F,j,Y){return F.concat(j).map(function(G){return A(G,Y)})}function S(F,j){if(!j.customMerge)return I;var Y=j.customMerge(F);return typeof Y=="function"?Y:I}function T(F){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(F).filter(function(j){return F.propertyIsEnumerable(j)}):[]}function M(F){return Object.keys(F).concat(T(F))}function D(F,j){try{return j in F}catch{return!1}}function C(F,j){return D(F,j)&&!(Object.hasOwnProperty.call(F,j)&&Object.propertyIsEnumerable.call(F,j))}function k(F,j,Y){var G={};return Y.isMergeableObject(F)&&M(F).forEach(function(B){G[B]=A(F[B],Y)}),M(j).forEach(function(B){C(F,B)||(D(F,B)&&Y.isMergeableObject(j[B])?G[B]=S(B,Y)(F[B],j[B],Y):G[B]=A(j[B],Y))}),G}function I(F,j,Y){Y=Y||{},Y.arrayMerge=Y.arrayMerge||y,Y.isMergeableObject=Y.isMergeableObject||h,Y.cloneUnlessOtherwiseSpecified=A;var G=Array.isArray(j),B=Array.isArray(F),P=G===B;return P?G?Y.arrayMerge(F,j,Y):k(F,j,Y):A(j,Y)}I.all=function(j,Y){if(!Array.isArray(j))throw new Error("first argument should be an array");return j.reduce(function(G,B){return I(G,B,Y)},{})};var R=I;d.exports=R},221:function(d,h,f){f.r(h),f.d(h,{default:function(){return ei}});function m(he){return Array.isArray?Array.isArray(he):C(he)==="[object Array]"}const v=1/0;function E(he){if(typeof he=="string")return he;let ae=he+"";return ae=="0"&&1/he==-v?"-0":ae}function b(he){return he==null?"":E(he)}function w(he){return typeof he=="string"}function A(he){return typeof he=="number"}function y(he){return he===!0||he===!1||T(he)&&C(he)=="[object Boolean]"}function S(he){return typeof he=="object"}function T(he){return S(he)&&he!==null}function M(he){return he!=null}function D(he){return!he.trim().length}function C(he){return he==null?he===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(he)}const k="Incorrect 'index' type",I=he=>`Invalid value for key ${he}`,R=he=>`Pattern length exceeds max of ${he}.`,F=he=>`Missing ${he} property in key`,j=he=>`Property 'weight' in key '${he}' must be a positive integer`,Y=Object.prototype.hasOwnProperty;class G{constructor(ae){this._keys=[],this._keyMap={};let fe=0;ae.forEach(_e=>{let Te=B(_e);fe+=Te.weight,this._keys.push(Te),this._keyMap[Te.id]=Te,fe+=Te.weight}),this._keys.forEach(_e=>{_e.weight/=fe})}get(ae){return this._keyMap[ae]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function B(he){let ae=null,fe=null,_e=null,Te=1,Me=null;if(w(he)||m(he))_e=he,ae=P(he),fe=z(he);else{if(!Y.call(he,"name"))throw new Error(F("name"));const Be=he.name;if(_e=Be,Y.call(he,"weight")&&(Te=he.weight,Te<=0))throw new Error(j(Be));ae=P(Be),fe=z(Be),Me=he.getFn}return{path:ae,id:fe,weight:Te,src:_e,getFn:Me}}function P(he){return m(he)?he:he.split(".")}function z(he){return m(he)?he.join("."):he}function $(he,ae){let fe=[],_e=!1;const Te=(Me,Be,We)=>{if(M(Me))if(!Be[We])fe.push(Me);else{let it=Be[We];const Q=Me[it];if(!M(Q))return;if(We===Be.length-1&&(w(Q)||A(Q)||y(Q)))fe.push(b(Q));else if(m(Q)){_e=!0;for(let ie=0,le=Q.length;ie<le;ie+=1)Te(Q[ie],Be,We+1)}else Be.length&&Te(Q,Be,We+1)}};return Te(he,w(ae)?ae.split("."):ae,0),_e?fe:fe[0]}var ne={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(he,ae)=>he.score===ae.score?he.idx<ae.idx?-1:1:he.score<ae.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:$,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const ue=/[^ ]+/g;function pe(he=1,ae=3){const fe=new Map,_e=Math.pow(10,ae);return{get(Te){const Me=Te.match(ue).length;if(fe.has(Me))return fe.get(Me);const Be=1/Math.pow(Me,.5*he),We=parseFloat(Math.round(Be*_e)/_e);return fe.set(Me,We),We},clear(){fe.clear()}}}class Ie{constructor({getFn:ae=ne.getFn,fieldNormWeight:fe=ne.fieldNormWeight}={}){this.norm=pe(fe,3),this.getFn=ae,this.isCreated=!1,this.setIndexRecords()}setSources(ae=[]){this.docs=ae}setIndexRecords(ae=[]){this.records=ae}setKeys(ae=[]){this.keys=ae,this._keysMap={},ae.forEach((fe,_e)=>{this._keysMap[fe.id]=_e})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,w(this.docs[0])?this.docs.forEach((ae,fe)=>{this._addString(ae,fe)}):this.docs.forEach((ae,fe)=>{this._addObject(ae,fe)}),this.norm.clear())}add(ae){const fe=this.size();w(ae)?this._addString(ae,fe):this._addObject(ae,fe)}removeAt(ae){this.records.splice(ae,1);for(let fe=ae,_e=this.size();fe<_e;fe+=1)this.records[fe].i-=1}getValueForItemAtKeyId(ae,fe){return ae[this._keysMap[fe]]}size(){return this.records.length}_addString(ae,fe){if(!M(ae)||D(ae))return;let _e={v:ae,i:fe,n:this.norm.get(ae)};this.records.push(_e)}_addObject(ae,fe){let _e={i:fe,$:{}};this.keys.forEach((Te,Me)=>{let Be=Te.getFn?Te.getFn(ae):this.getFn(ae,Te.path);if(M(Be)){if(m(Be)){let We=[];const it=[{nestedArrIndex:-1,value:Be}];for(;it.length;){const{nestedArrIndex:Q,value:ie}=it.pop();if(M(ie))if(w(ie)&&!D(ie)){let le={v:ie,i:Q,n:this.norm.get(ie)};We.push(le)}else m(ie)&&ie.forEach((le,be)=>{it.push({nestedArrIndex:be,value:le})})}_e.$[Me]=We}else if(w(Be)&&!D(Be)){let We={v:Be,n:this.norm.get(Be)};_e.$[Me]=We}}}),this.records.push(_e)}toJSON(){return{keys:this.keys,records:this.records}}}function we(he,ae,{getFn:fe=ne.getFn,fieldNormWeight:_e=ne.fieldNormWeight}={}){const Te=new Ie({getFn:fe,fieldNormWeight:_e});return Te.setKeys(he.map(B)),Te.setSources(ae),Te.create(),Te}function st(he,{getFn:ae=ne.getFn,fieldNormWeight:fe=ne.fieldNormWeight}={}){const{keys:_e,records:Te}=he,Me=new Ie({getFn:ae,fieldNormWeight:fe});return Me.setKeys(_e),Me.setIndexRecords(Te),Me}function Ae(he,{errors:ae=0,currentLocation:fe=0,expectedLocation:_e=0,distance:Te=ne.distance,ignoreLocation:Me=ne.ignoreLocation}={}){const Be=ae/he.length;if(Me)return Be;const We=Math.abs(_e-fe);return Te?Be+We/Te:We?1:Be}function Oe(he=[],ae=ne.minMatchCharLength){let fe=[],_e=-1,Te=-1,Me=0;for(let Be=he.length;Me<Be;Me+=1){let We=he[Me];We&&_e===-1?_e=Me:!We&&_e!==-1&&(Te=Me-1,Te-_e+1>=ae&&fe.push([_e,Te]),_e=-1)}return he[Me-1]&&Me-_e>=ae&&fe.push([_e,Me-1]),fe}const $e=32;function et(he,ae,fe,{location:_e=ne.location,distance:Te=ne.distance,threshold:Me=ne.threshold,findAllMatches:Be=ne.findAllMatches,minMatchCharLength:We=ne.minMatchCharLength,includeMatches:it=ne.includeMatches,ignoreLocation:Q=ne.ignoreLocation}={}){if(ae.length>$e)throw new Error(R($e));const ie=ae.length,le=he.length,be=Math.max(0,Math.min(_e,le));let Ne=Me,De=be;const Se=We>1||it,xt=Se?Array(le):[];let Je;for(;(Je=he.indexOf(ae,De))>-1;){let me=Ae(ae,{currentLocation:Je,expectedLocation:be,distance:Te,ignoreLocation:Q});if(Ne=Math.min(me,Ne),De=Je+ie,Se){let de=0;for(;de<ie;)xt[Je+de]=1,de+=1}}De=-1;let tt=[],St=1,Vt=ie+le;const Pe=1<<ie-1;for(let me=0;me<ie;me+=1){let de=0,ke=Vt;for(;de<ke;)Ae(ae,{errors:me,currentLocation:be+ke,expectedLocation:be,distance:Te,ignoreLocation:Q})<=Ne?de=ke:Vt=ke,ke=Math.floor((Vt-de)/2+de);Vt=ke;let ct=Math.max(1,be-ke+1),qe=Be?le:Math.min(be+ke,le)+ie,Xe=Array(qe+2);Xe[qe+1]=(1<<me)-1;for(let Tt=qe;Tt>=ct;Tt-=1){let mt=Tt-1,Qi=fe[he.charAt(mt)];if(Se&&(xt[mt]=+!!Qi),Xe[Tt]=(Xe[Tt+1]<<1|1)&Qi,me&&(Xe[Tt]|=(tt[Tt+1]|tt[Tt])<<1|1|tt[Tt+1]),Xe[Tt]&Pe&&(St=Ae(ae,{errors:me,currentLocation:mt,expectedLocation:be,distance:Te,ignoreLocation:Q}),St<=Ne)){if(Ne=St,De=mt,De<=be)break;ct=Math.max(1,2*be-De)}}if(Ae(ae,{errors:me+1,currentLocation:be,expectedLocation:be,distance:Te,ignoreLocation:Q})>Ne)break;tt=Xe}const re={isMatch:De>=0,score:Math.max(.001,St)};if(Se){const me=Oe(xt,We);me.length?it&&(re.indices=me):re.isMatch=!1}return re}function Ue(he){let ae={};for(let fe=0,_e=he.length;fe<_e;fe+=1){const Te=he.charAt(fe);ae[Te]=(ae[Te]||0)|1<<_e-fe-1}return ae}class on{constructor(ae,{location:fe=ne.location,threshold:_e=ne.threshold,distance:Te=ne.distance,includeMatches:Me=ne.includeMatches,findAllMatches:Be=ne.findAllMatches,minMatchCharLength:We=ne.minMatchCharLength,isCaseSensitive:it=ne.isCaseSensitive,ignoreLocation:Q=ne.ignoreLocation}={}){if(this.options={location:fe,threshold:_e,distance:Te,includeMatches:Me,findAllMatches:Be,minMatchCharLength:We,isCaseSensitive:it,ignoreLocation:Q},this.pattern=it?ae:ae.toLowerCase(),this.chunks=[],!this.pattern.length)return;const ie=(be,Ne)=>{this.chunks.push({pattern:be,alphabet:Ue(be),startIndex:Ne})},le=this.pattern.length;if(le>$e){let be=0;const Ne=le%$e,De=le-Ne;for(;be<De;)ie(this.pattern.substr(be,$e),be),be+=$e;if(Ne){const Se=le-$e;ie(this.pattern.substr(Se),Se)}}else ie(this.pattern,0)}searchIn(ae){const{isCaseSensitive:fe,includeMatches:_e}=this.options;if(fe||(ae=ae.toLowerCase()),this.pattern===ae){let De={isMatch:!0,score:0};return _e&&(De.indices=[[0,ae.length-1]]),De}const{location:Te,distance:Me,threshold:Be,findAllMatches:We,minMatchCharLength:it,ignoreLocation:Q}=this.options;let ie=[],le=0,be=!1;this.chunks.forEach(({pattern:De,alphabet:Se,startIndex:xt})=>{const{isMatch:Je,score:tt,indices:St}=et(ae,De,Se,{location:Te+xt,distance:Me,threshold:Be,findAllMatches:We,minMatchCharLength:it,includeMatches:_e,ignoreLocation:Q});Je&&(be=!0),le+=tt,Je&&St&&(ie=[...ie,...St])});let Ne={isMatch:be,score:be?le/this.chunks.length:1};return be&&_e&&(Ne.indices=ie),Ne}}class Jt{constructor(ae){this.pattern=ae}static isMultiMatch(ae){return Ln(ae,this.multiRegex)}static isSingleMatch(ae){return Ln(ae,this.singleRegex)}search(){}}function Ln(he,ae){const fe=he.match(ae);return fe?fe[1]:null}class Cn extends Jt{constructor(ae){super(ae)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(ae){const fe=ae===this.pattern;return{isMatch:fe,score:fe?0:1,indices:[0,this.pattern.length-1]}}}class ri extends Jt{constructor(ae){super(ae)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(ae){const _e=ae.indexOf(this.pattern)===-1;return{isMatch:_e,score:_e?0:1,indices:[0,ae.length-1]}}}class to extends Jt{constructor(ae){super(ae)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(ae){const fe=ae.startsWith(this.pattern);return{isMatch:fe,score:fe?0:1,indices:[0,this.pattern.length-1]}}}class On extends Jt{constructor(ae){super(ae)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(ae){const fe=!ae.startsWith(this.pattern);return{isMatch:fe,score:fe?0:1,indices:[0,ae.length-1]}}}class Br extends Jt{constructor(ae){super(ae)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(ae){const fe=ae.endsWith(this.pattern);return{isMatch:fe,score:fe?0:1,indices:[ae.length-this.pattern.length,ae.length-1]}}}class no extends Jt{constructor(ae){super(ae)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(ae){const fe=!ae.endsWith(this.pattern);return{isMatch:fe,score:fe?0:1,indices:[0,ae.length-1]}}}class oi extends Jt{constructor(ae,{location:fe=ne.location,threshold:_e=ne.threshold,distance:Te=ne.distance,includeMatches:Me=ne.includeMatches,findAllMatches:Be=ne.findAllMatches,minMatchCharLength:We=ne.minMatchCharLength,isCaseSensitive:it=ne.isCaseSensitive,ignoreLocation:Q=ne.ignoreLocation}={}){super(ae),this._bitapSearch=new on(ae,{location:fe,threshold:_e,distance:Te,includeMatches:Me,findAllMatches:Be,minMatchCharLength:We,isCaseSensitive:it,ignoreLocation:Q})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(ae){return this._bitapSearch.searchIn(ae)}}class io extends Jt{constructor(ae){super(ae)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(ae){let fe=0,_e;const Te=[],Me=this.pattern.length;for(;(_e=ae.indexOf(this.pattern,fe))>-1;)fe=_e+Me,Te.push([_e,fe-1]);const Be=!!Te.length;return{isMatch:Be,score:Be?0:1,indices:Te}}}const zr=[Cn,io,to,On,no,Br,ri,oi],ci=zr.length,Mi=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ki="|";function Xi(he,ae={}){return he.split(ki).map(fe=>{let _e=fe.trim().split(Mi).filter(Me=>Me&&!!Me.trim()),Te=[];for(let Me=0,Be=_e.length;Me<Be;Me+=1){const We=_e[Me];let it=!1,Q=-1;for(;!it&&++Q<ci;){const ie=zr[Q];let le=ie.isMultiMatch(We);le&&(Te.push(new ie(le,ae)),it=!0)}if(!it)for(Q=-1;++Q<ci;){const ie=zr[Q];let le=ie.isSingleMatch(We);if(le){Te.push(new ie(le,ae));break}}}return Te})}const ro=new Set([oi.type,io.type]);class or{constructor(ae,{isCaseSensitive:fe=ne.isCaseSensitive,includeMatches:_e=ne.includeMatches,minMatchCharLength:Te=ne.minMatchCharLength,ignoreLocation:Me=ne.ignoreLocation,findAllMatches:Be=ne.findAllMatches,location:We=ne.location,threshold:it=ne.threshold,distance:Q=ne.distance}={}){this.query=null,this.options={isCaseSensitive:fe,includeMatches:_e,minMatchCharLength:Te,findAllMatches:Be,ignoreLocation:Me,location:We,threshold:it,distance:Q},this.pattern=fe?ae:ae.toLowerCase(),this.query=Xi(this.pattern,this.options)}static condition(ae,fe){return fe.useExtendedSearch}searchIn(ae){const fe=this.query;if(!fe)return{isMatch:!1,score:1};const{includeMatches:_e,isCaseSensitive:Te}=this.options;ae=Te?ae:ae.toLowerCase();let Me=0,Be=[],We=0;for(let it=0,Q=fe.length;it<Q;it+=1){const ie=fe[it];Be.length=0,Me=0;for(let le=0,be=ie.length;le<be;le+=1){const Ne=ie[le],{isMatch:De,indices:Se,score:xt}=Ne.search(ae);if(De){if(Me+=1,We+=xt,_e){const Je=Ne.constructor.type;ro.has(Je)?Be=[...Be,...Se]:Be.push(Se)}}else{We=0,Me=0,Be.length=0;break}}if(Me){let le={isMatch:!0,score:We/Me};return _e&&(le.indices=Be),le}}return{isMatch:!1,score:1}}}const Zi=[];function $r(...he){Zi.push(...he)}function fr(he,ae){for(let fe=0,_e=Zi.length;fe<_e;fe+=1){let Te=Zi[fe];if(Te.condition(he,ae))return new Te(he,ae)}return new on(he,ae)}const Oi={AND:"$and",OR:"$or"},di={PATH:"$path",PATTERN:"$val"},En=he=>!!(he[Oi.AND]||he[Oi.OR]),Ii=he=>!!he[di.PATH],jr=he=>!m(he)&&S(he)&&!En(he),ar=he=>({[Oi.AND]:Object.keys(he).map(ae=>({[ae]:he[ae]}))});function oo(he,ae,{auto:fe=!0}={}){const _e=Te=>{let Me=Object.keys(Te);const Be=Ii(Te);if(!Be&&Me.length>1&&!En(Te))return _e(ar(Te));if(jr(Te)){const it=Be?Te[di.PATH]:Me[0],Q=Be?Te[di.PATTERN]:Te[it];if(!w(Q))throw new Error(I(it));const ie={keyId:z(it),pattern:Q};return fe&&(ie.searcher=fr(Q,ae)),ie}let We={children:[],operator:Me[0]};return Me.forEach(it=>{const Q=Te[it];m(Q)&&Q.forEach(ie=>{We.children.push(_e(ie))})}),We};return En(he)||(he=ar(he)),_e(he)}function bi(he,{ignoreFieldNorm:ae=ne.ignoreFieldNorm}){he.forEach(fe=>{let _e=1;fe.matches.forEach(({key:Te,norm:Me,score:Be})=>{const We=Te?Te.weight:null;_e*=Math.pow(Be===0&&We?Number.EPSILON:Be,(We||1)*(ae?1:Me))}),fe.score=_e})}function Vo(he,ae){const fe=he.matches;ae.matches=[],M(fe)&&fe.forEach(_e=>{if(!M(_e.indices)||!_e.indices.length)return;const{indices:Te,value:Me}=_e;let Be={indices:Te,value:Me};_e.key&&(Be.key=_e.key.src),_e.idx>-1&&(Be.refIndex=_e.idx),ae.matches.push(Be)})}function fa(he,ae){ae.score=he.score}function Dn(he,ae,{includeMatches:fe=ne.includeMatches,includeScore:_e=ne.includeScore}={}){const Te=[];return fe&&Te.push(Vo),_e&&Te.push(fa),he.map(Me=>{const{idx:Be}=Me,We={item:ae[Be],refIndex:Be};return Te.length&&Te.forEach(it=>{it(Me,We)}),We})}class ei{constructor(ae,fe={},_e){this.options={...ne,...fe},this.options.useExtendedSearch,this._keyStore=new G(this.options.keys),this.setCollection(ae,_e)}setCollection(ae,fe){if(this._docs=ae,fe&&!(fe instanceof Ie))throw new Error(k);this._myIndex=fe||we(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(ae){M(ae)&&(this._docs.push(ae),this._myIndex.add(ae))}remove(ae=()=>!1){const fe=[];for(let _e=0,Te=this._docs.length;_e<Te;_e+=1){const Me=this._docs[_e];ae(Me,_e)&&(this.removeAt(_e),_e-=1,Te-=1,fe.push(Me))}return fe}removeAt(ae){this._docs.splice(ae,1),this._myIndex.removeAt(ae)}getIndex(){return this._myIndex}search(ae,{limit:fe=-1}={}){const{includeMatches:_e,includeScore:Te,shouldSort:Me,sortFn:Be,ignoreFieldNorm:We}=this.options;let it=w(ae)?w(this._docs[0])?this._searchStringList(ae):this._searchObjectList(ae):this._searchLogical(ae);return bi(it,{ignoreFieldNorm:We}),Me&&it.sort(Be),A(fe)&&fe>-1&&(it=it.slice(0,fe)),Dn(it,this._docs,{includeMatches:_e,includeScore:Te})}_searchStringList(ae){const fe=fr(ae,this.options),{records:_e}=this._myIndex,Te=[];return _e.forEach(({v:Me,i:Be,n:We})=>{if(!M(Me))return;const{isMatch:it,score:Q,indices:ie}=fe.searchIn(Me);it&&Te.push({item:Me,idx:Be,matches:[{score:Q,value:Me,norm:We,indices:ie}]})}),Te}_searchLogical(ae){const fe=oo(ae,this.options),_e=(We,it,Q)=>{if(!We.children){const{keyId:le,searcher:be}=We,Ne=this._findMatches({key:this._keyStore.get(le),value:this._myIndex.getValueForItemAtKeyId(it,le),searcher:be});return Ne&&Ne.length?[{idx:Q,item:it,matches:Ne}]:[]}const ie=[];for(let le=0,be=We.children.length;le<be;le+=1){const Ne=We.children[le],De=_e(Ne,it,Q);if(De.length)ie.push(...De);else if(We.operator===Oi.AND)return[]}return ie},Te=this._myIndex.records,Me={},Be=[];return Te.forEach(({$:We,i:it})=>{if(M(We)){let Q=_e(fe,We,it);Q.length&&(Me[it]||(Me[it]={idx:it,item:We,matches:[]},Be.push(Me[it])),Q.forEach(({matches:ie})=>{Me[it].matches.push(...ie)}))}}),Be}_searchObjectList(ae){const fe=fr(ae,this.options),{keys:_e,records:Te}=this._myIndex,Me=[];return Te.forEach(({$:Be,i:We})=>{if(!M(Be))return;let it=[];_e.forEach((Q,ie)=>{it.push(...this._findMatches({key:Q,value:Be[ie],searcher:fe}))}),it.length&&Me.push({idx:We,item:Be,matches:it})}),Me}_findMatches({key:ae,value:fe,searcher:_e}){if(!M(fe))return[];let Te=[];if(m(fe))fe.forEach(({v:Me,i:Be,n:We})=>{if(!M(Me))return;const{isMatch:it,score:Q,indices:ie}=_e.searchIn(Me);it&&Te.push({score:Q,key:ae,value:Me,idx:Be,norm:We,indices:ie})});else{const{v:Me,n:Be}=fe,{isMatch:We,score:it,indices:Q}=_e.searchIn(Me);We&&Te.push({score:it,key:ae,value:Me,norm:Be,indices:Q})}return Te}}ei.version="6.6.2",ei.createIndex=we,ei.parseIndex=st,ei.config=ne,ei.parseQuery=oo,$r(or)},791:function(d,h,f){f.r(h),f.d(h,{__DO_NOT_USE__ActionTypes:function(){return M},applyMiddleware:function(){return G},bindActionCreators:function(){return j},combineReducers:function(){return R},compose:function(){return Y},createStore:function(){return C},legacy_createStore:function(){return k}});function m(B){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},m(B)}function v(B,P){if(m(B)!=="object"||B===null)return B;var z=B[Symbol.toPrimitive];if(z!==void 0){var $=z.call(B,P||"default");if(m($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(B)}function E(B){var P=v(B,"string");return m(P)==="symbol"?P:String(P)}function b(B,P,z){return P=E(P),P in B?Object.defineProperty(B,P,{value:z,enumerable:!0,configurable:!0,writable:!0}):B[P]=z,B}function w(B,P){var z=Object.keys(B);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(B);P&&($=$.filter(function(N){return Object.getOwnPropertyDescriptor(B,N).enumerable})),z.push.apply(z,$)}return z}function A(B){for(var P=1;P<arguments.length;P++){var z=arguments[P]!=null?arguments[P]:{};P%2?w(Object(z),!0).forEach(function($){b(B,$,z[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(z)):w(Object(z)).forEach(function($){Object.defineProperty(B,$,Object.getOwnPropertyDescriptor(z,$))})}return B}function y(B){return"Minified Redux error #"+B+"; visit https://redux.js.org/Errors?code="+B+" for the full message or use the non-minified dev environment for full errors. "}var S=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),T=function(){return Math.random().toString(36).substring(7).split("").join(".")},M={INIT:"@@redux/INIT"+T(),REPLACE:"@@redux/REPLACE"+T(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+T()}};function D(B){if(typeof B!="object"||B===null)return!1;for(var P=B;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(B)===P}function C(B,P,z){var $;if(typeof P=="function"&&typeof z=="function"||typeof z=="function"&&typeof arguments[3]=="function")throw new Error(y(0));if(typeof P=="function"&&typeof z>"u"&&(z=P,P=void 0),typeof z<"u"){if(typeof z!="function")throw new Error(y(1));return z(C)(B,P)}if(typeof B!="function")throw new Error(y(2));var N=B,V=P,q=[],J=q,ne=!1;function ue(){J===q&&(J=q.slice())}function pe(){if(ne)throw new Error(y(3));return V}function Ie(Oe){if(typeof Oe!="function")throw new Error(y(4));if(ne)throw new Error(y(5));var $e=!0;return ue(),J.push(Oe),function(){if($e){if(ne)throw new Error(y(6));$e=!1,ue();var Ue=J.indexOf(Oe);J.splice(Ue,1),q=null}}}function we(Oe){if(!D(Oe))throw new Error(y(7));if(typeof Oe.type>"u")throw new Error(y(8));if(ne)throw new Error(y(9));try{ne=!0,V=N(V,Oe)}finally{ne=!1}for(var $e=q=J,et=0;et<$e.length;et++){var Ue=$e[et];Ue()}return Oe}function st(Oe){if(typeof Oe!="function")throw new Error(y(10));N=Oe,we({type:M.REPLACE})}function Ae(){var Oe,$e=Ie;return Oe={subscribe:function(Ue){if(typeof Ue!="object"||Ue===null)throw new Error(y(11));function on(){Ue.next&&Ue.next(pe())}on();var Jt=$e(on);return{unsubscribe:Jt}}},Oe[S]=function(){return this},Oe}return we({type:M.INIT}),$={dispatch:we,subscribe:Ie,getState:pe,replaceReducer:st},$[S]=Ae,$}var k=C;function I(B){Object.keys(B).forEach(function(P){var z=B[P],$=z(void 0,{type:M.INIT});if(typeof $>"u")throw new Error(y(12));if(typeof z(void 0,{type:M.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(y(13))})}function R(B){for(var P=Object.keys(B),z={},$=0;$<P.length;$++){var N=P[$];typeof B[N]=="function"&&(z[N]=B[N])}var V=Object.keys(z),q;try{I(z)}catch(J){q=J}return function(ne,ue){if(ne===void 0&&(ne={}),q)throw q;for(var pe=!1,Ie={},we=0;we<V.length;we++){var st=V[we],Ae=z[st],Oe=ne[st],$e=Ae(Oe,ue);if(typeof $e>"u")throw ue&&ue.type,new Error(y(14));Ie[st]=$e,pe=pe||$e!==Oe}return pe=pe||V.length!==Object.keys(ne).length,pe?Ie:ne}}function F(B,P){return function(){return P(B.apply(this,arguments))}}function j(B,P){if(typeof B=="function")return F(B,P);if(typeof B!="object"||B===null)throw new Error(y(16));var z={};for(var $ in B){var N=B[$];typeof N=="function"&&(z[$]=F(N,P))}return z}function Y(){for(var B=arguments.length,P=new Array(B),z=0;z<B;z++)P[z]=arguments[z];return P.length===0?function($){return $}:P.length===1?P[0]:P.reduce(function($,N){return function(){return $(N.apply(void 0,arguments))}})}function G(){for(var B=arguments.length,P=new Array(B),z=0;z<B;z++)P[z]=arguments[z];return function($){return function(){var N=$.apply(void 0,arguments),V=function(){throw new Error(y(15))},q={getState:N.getState,dispatch:function(){return V.apply(void 0,arguments)}},J=P.map(function(ne){return ne(q)});return V=Y.apply(void 0,J)(N.dispatch),A(A({},N),{},{dispatch:V})}}}}},o={};function l(d){var h=o[d];if(h!==void 0)return h.exports;var f=o[d]={exports:{}};return r[d].call(f.exports,f,f.exports,l),f.exports}(function(){l.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(h,{a:h}),h}})(),function(){l.d=function(d,h){for(var f in h)l.o(h,f)&&!l.o(d,f)&&Object.defineProperty(d,f,{enumerable:!0,get:h[f]})}}(),function(){l.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)}}(),function(){l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}}();var c={};return function(){var d=l(373),h=l.n(d);l(187),l(883),l(789),l(686),c.default=h()}(),c=c.default,c}()})}),ru=(t,i=0,r=1)=>t>r?r:t<i?i:t,_r=(t,i=0,r=Math.pow(10,i))=>Math.round(r*t)/r,c6={grad:360/400,turn:360,rad:360/(Math.PI*2)},d6=t=>X1(Zm(t)),Zm=t=>(t[0]==="#"&&(t=t.substr(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}:{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:1}),h6=(t,i="deg")=>Number(t)*(c6[i]||1),f6=t=>{const r=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return r?m6({h:h6(r[1],r[2]),s:Number(r[3]),l:Number(r[4]),a:r[5]===void 0?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},p6=f6,m6=({h:t,s:i,l:r,a:o})=>(i*=(r<50?r:100-r)/100,{h:t,s:i>0?2*i/(r+i)*100:0,v:r+i,a:o}),g6=t=>E6(Zg(t)),K1=({h:t,s:i,v:r,a:o})=>{const l=(200-i)*r/100;return{h:_r(t),s:_r(l>0&&l<200?i*r/100/(l<=100?l:200-l)*100:0),l:_r(l/2),a:_r(o,2)}},Fh=t=>{const{h:i,s:r,l:o}=K1(t);return`hsl(${i}, ${r}%, ${o}%)`},am=t=>{const{h:i,s:r,l:o,a:l}=K1(t);return`hsla(${i}, ${r}%, ${o}%, ${l})`},Zg=({h:t,s:i,v:r,a:o})=>{t=t/360*6,i=i/100,r=r/100;const l=Math.floor(t),c=r*(1-i),d=r*(1-(t-l)*i),h=r*(1-(1-t+l)*i),f=l%6;return{r:_r([r,d,c,c,h,r][f]*255),g:_r([h,r,r,d,c,c][f]*255),b:_r([c,c,h,r,r,d][f]*255),a:_r(o,2)}},v6=t=>{const{r:i,g:r,b:o}=Zg(t);return`rgb(${i}, ${r}, ${o})`},b6=t=>{const{r:i,g:r,b:o,a:l}=Zg(t);return`rgba(${i}, ${r}, ${o}, ${l})`},J1=t=>{const r=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return r?X1({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:r[7]===void 0?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},y6=J1,sm=t=>{const i=t.toString(16);return i.length<2?"0"+i:i},E6=({r:t,g:i,b:r})=>"#"+sm(t)+sm(i)+sm(r),X1=({r:t,g:i,b:r,a:o})=>{const l=Math.max(t,i,r),c=l-Math.min(t,i,r),d=c?l===t?(i-r)/c:l===i?2+(r-t)/c:4+(t-i)/c:0;return{h:_r(60*(d<0?d+6:d)),s:_r(l?c/l*100:0),v:_r(l/255*100),a:o}},Z1=(t,i)=>{if(t===i)return!0;for(const r in t)if(t[r]!==i[r])return!1;return!0},Qg=(t,i)=>t.replace(/\s/g,"")===i.replace(/\s/g,""),_6=(t,i)=>t.toLowerCase()===i.toLowerCase()?!0:Z1(Zm(t),Zm(i)),yE={},Q1=t=>{let i=yE[t];return i||(i=document.createElement("template"),i.innerHTML=t,yE[t]=i),i},e0=(t,i,r)=>{t.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:r}))},Xl=!1,Qm=t=>"touches"in t,w6=t=>Xl&&!Qm(t)?!1:(Xl||(Xl=Qm(t)),!0),EE=(t,i)=>{const r=Qm(i)?i.touches[0]:i,o=t.el.getBoundingClientRect();e0(t.el,"move",t.getMove({x:ru((r.pageX-(o.left+window.pageXOffset))/o.width),y:ru((r.pageY-(o.top+window.pageYOffset))/o.height)}))},A6=(t,i)=>{const r=i.keyCode;r>40||t.xy&&r<37||r<33||(i.preventDefault(),e0(t.el,"move",t.getMove({x:r===39?.01:r===37?-.01:r===34?.05:r===33?-.05:r===35?1:r===36?-1:0,y:r===40?.01:r===38?-.01:0},!0)))},t0=class{constructor(t,i,r,o){const l=Q1(`<div role="slider" tabindex="0" part="${i}" ${r}><div part="${i}-pointer"></div></div>`);t.appendChild(l.content.cloneNode(!0));const c=t.querySelector(`[part=${i}]`);c.addEventListener("mousedown",this),c.addEventListener("touchstart",this),c.addEventListener("keydown",this),this.el=c,this.xy=o,this.nodes=[c.firstChild,c]}set dragging(t){const i=t?document.addEventListener:document.removeEventListener;i(Xl?"touchmove":"mousemove",this),i(Xl?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!w6(t)||!Xl&&t.button!=0)return;this.el.focus(),EE(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),EE(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":A6(this,t);break}}style(t){t.forEach((i,r)=>{for(const o in i)this.nodes[r].style.setProperty(o,i[o])})}},D6=class extends t0{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:Fh({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${_r(t)}`)}getMove(t,i){return{h:i?ru(this.h+t.x*360,0,360):360*t.x}}},x6=class extends t0{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:Fh(t)},{"background-color":Fh({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${_r(t.s)}%, Brightness ${_r(t.v)}%`)}getMove(t,i){return{s:i?ru(this.hsva.s+t.x*100,0,100):t.x*100,v:i?ru(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}},S6=":host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{display:block;content:'';position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}",T6="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",C6="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",Kd=Symbol("same"),_E=Symbol("color"),wE=Symbol("hsva"),lm=Symbol("change"),um=Symbol("update"),AE=Symbol("parts"),Nh=Symbol("css"),Ph=Symbol("sliders"),bf=class extends HTMLElement{static get observedAttributes(){return["color"]}get[Nh](){return[S6,T6,C6]}get[Ph](){return[x6,D6]}get color(){return this[_E]}set color(t){if(!this[Kd](t)){const i=this.colorModel.toHsva(t);this[um](i),this[lm](t)}}constructor(){super();const t=Q1(`<style>${this[Nh].join("")}</style>`),i=this.attachShadow({mode:"open"});i.appendChild(t.content.cloneNode(!0)),i.addEventListener("move",this),this[AE]=this[Ph].map(r=>new r(i))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,i,r){const o=this.colorModel.fromAttr(r);this[Kd](o)||(this.color=o)}handleEvent(t){const i=this[wE],r={...i,...t.detail};this[um](r);let o;!Z1(r,i)&&!this[Kd](o=this.colorModel.fromHsva(r))&&this[lm](o)}[Kd](t){return this.color&&this.colorModel.equal(t,this.color)}[um](t){this[wE]=t,this[AE].forEach(i=>i.update(t))}[lm](t){this[_E]=t,e0(this,"color-changed",{value:t})}},M6={defaultColor:"#000",toHsva:d6,fromHsva:g6,equal:_6,fromAttr:t=>t},k6=class extends bf{get colorModel(){return M6}},O6=class extends k6{};customElements.define("hex-color-picker",O6);var I6={defaultColor:"hsl(0, 0%, 0%)",toHsva:p6,fromHsva:Fh,equal:Qg,fromAttr:t=>t},R6=class extends bf{get colorModel(){return I6}},L6=class extends R6{};customElements.define("hsl-string-color-picker",L6);var F6={defaultColor:"rgb(0, 0, 0)",toHsva:y6,fromHsva:v6,equal:Qg,fromAttr:t=>t},N6=class extends bf{get colorModel(){return F6}},P6=class extends N6{};customElements.define("rgb-string-color-picker",P6);var B6=class extends t0{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const i=am({...t,a:0}),r=am({...t,a:1}),o=t.a*100;this.style([{left:`${o}%`,color:am(t)},{"--gradient":`linear-gradient(90deg, ${i}, ${r}`}]);const l=_r(o);this.el.setAttribute("aria-valuenow",`${l}`),this.el.setAttribute("aria-valuetext",`${l}%`)}getMove(t,i){return{a:i?ru(this.hsva.a+t.x):t.x}}},z6=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`,$6=class extends bf{get[Nh](){return[...super[Nh],z6]}get[Ph](){return[...super[Ph],B6]}},j6={defaultColor:"rgba(0, 0, 0, 1)",toHsva:J1,fromHsva:b6,equal:Qg,fromAttr:t=>t},H6=class extends $6{get colorModel(){return j6}},V6=class extends H6{};customElements.define("rgba-string-color-picker",V6);var U6=t=>{t.data("colorPickerFormComponent",({isAutofocused:i,isDisabled:r,state:o})=>({state:o,init:function(){this.state===null||this.state===""||this.setState(this.state),i&&this.togglePanelVisibility(this.$refs.input),this.$refs.input.addEventListener("change",l=>{this.setState(l.target.value)}),this.$refs.panel.addEventListener("color-changed",l=>{this.setState(l.detail.value)})},togglePanelVisibility:function(){r||this.$refs.panel.toggle(this.$refs.input)},setState:function(l){this.state=l,this.$refs.input.value=l,this.$refs.panel.color=l},isOpen:function(){return this.$refs.panel.style.display==="block"}}))},eA=60,tA=eA*60,nA=tA*24,Y6=nA*7,ou=1e3,cm=eA*ou,DE=tA*ou,G6=nA*ou,W6=Y6*ou,n0="millisecond",jl="second",Hl="minute",Vl="hour",rs="day",ph="week",Ro="month",iA="quarter",as="year",Ul="date",q6="YYYY-MM-DDTHH:mm:ssZ",xE="Invalid Date",K6=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,J6=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,X6={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var r=["th","st","nd","rd"],o=i%100;return"["+i+(r[(o-20)%10]||r[o]||r[0])+"]"}},eg=function(i,r,o){var l=String(i);return!l||l.length>=r?i:""+Array(r+1-l.length).join(o)+i},Z6=function(i){var r=-i.utcOffset(),o=Math.abs(r),l=Math.floor(o/60),c=o%60;return(r<=0?"+":"-")+eg(l,2,"0")+":"+eg(c,2,"0")},Q6=function t(i,r){if(i.date()<r.date())return-t(r,i);var o=(r.year()-i.year())*12+(r.month()-i.month()),l=i.clone().add(o,Ro),c=r-l<0,d=i.clone().add(o+(c?-1:1),Ro);return+(-(o+(r-l)/(c?l-d:d-l))||0)},eN=function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},tN=function(i){var r={M:Ro,y:as,w:ph,d:rs,D:Ul,h:Vl,m:Hl,s:jl,ms:n0,Q:iA};return r[i]||String(i||"").toLowerCase().replace(/s$/,"")},nN=function(i){return i===void 0},iN={s:eg,z:Z6,m:Q6,a:eN,p:tN,u:nN},lc="en",tl={};tl[lc]=X6;var i0=function(i){return i instanceof yf},Bh=function t(i,r,o){var l;if(!i)return lc;if(typeof i=="string"){var c=i.toLowerCase();tl[c]&&(l=c),r&&(tl[c]=r,l=c);var d=i.split("-");if(!l&&d.length>1)return t(d[0])}else{var h=i.name;tl[h]=i,l=h}return!o&&l&&(lc=l),l||!o&&lc},qi=function(i,r){if(i0(i))return i.clone();var o=typeof r=="object"?r:{};return o.date=i,o.args=arguments,new yf(o)},rN=function(i,r){return qi(i,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})},zn=iN;zn.l=Bh;zn.i=i0;zn.w=rN;var oN=function(i){var r=i.date,o=i.utc;if(r===null)return new Date(NaN);if(zn.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var l=r.match(K6);if(l){var c=l[2]-1||0,d=(l[7]||"0").substring(0,3);return o?new Date(Date.UTC(l[1],c,l[3]||1,l[4]||0,l[5]||0,l[6]||0,d)):new Date(l[1],c,l[3]||1,l[4]||0,l[5]||0,l[6]||0,d)}}return new Date(r)},yf=function(){function t(r){this.$L=Bh(r.locale,null,!0),this.parse(r)}var i=t.prototype;return i.parse=function(o){this.$d=oN(o),this.$x=o.x||{},this.init()},i.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},i.$utils=function(){return zn},i.isValid=function(){return this.$d.toString()!==xE},i.isSame=function(o,l){var c=qi(o);return this.startOf(l)<=c&&c<=this.endOf(l)},i.isAfter=function(o,l){return qi(o)<this.startOf(l)},i.isBefore=function(o,l){return this.endOf(l)<qi(o)},i.$g=function(o,l,c){return zn.u(o)?this[l]:this.set(c,o)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(o,l){var c=this,d=zn.u(l)?!0:l,h=zn.p(o),f=function(T,M){var D=zn.w(c.$u?Date.UTC(c.$y,M,T):new Date(c.$y,M,T),c);return d?D:D.endOf(rs)},m=function(T,M){var D=[0,0,0,0],C=[23,59,59,999];return zn.w(c.toDate()[T].apply(c.toDate("s"),(d?D:C).slice(M)),c)},v=this.$W,E=this.$M,b=this.$D,w="set"+(this.$u?"UTC":"");switch(h){case as:return d?f(1,0):f(31,11);case Ro:return d?f(1,E):f(0,E+1);case ph:{var A=this.$locale().weekStart||0,y=(v<A?v+7:v)-A;return f(d?b-y:b+(6-y),E)}case rs:case Ul:return m(w+"Hours",0);case Vl:return m(w+"Minutes",1);case Hl:return m(w+"Seconds",2);case jl:return m(w+"Milliseconds",3);default:return this.clone()}},i.endOf=function(o){return this.startOf(o,!1)},i.$set=function(o,l){var c,d=zn.p(o),h="set"+(this.$u?"UTC":""),f=(c={},c[rs]=h+"Date",c[Ul]=h+"Date",c[Ro]=h+"Month",c[as]=h+"FullYear",c[Vl]=h+"Hours",c[Hl]=h+"Minutes",c[jl]=h+"Seconds",c[n0]=h+"Milliseconds",c)[d],m=d===rs?this.$D+(l-this.$W):l;if(d===Ro||d===as){var v=this.clone().set(Ul,1);v.$d[f](m),v.init(),this.$d=v.set(Ul,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},i.set=function(o,l){return this.clone().$set(o,l)},i.get=function(o){return this[zn.p(o)]()},i.add=function(o,l){var c=this,d;o=Number(o);var h=zn.p(l),f=function(b){var w=qi(c);return zn.w(w.date(w.date()+Math.round(b*o)),c)};if(h===Ro)return this.set(Ro,this.$M+o);if(h===as)return this.set(as,this.$y+o);if(h===rs)return f(1);if(h===ph)return f(7);var m=(d={},d[Hl]=cm,d[Vl]=DE,d[jl]=ou,d)[h]||1,v=this.$d.getTime()+o*m;return zn.w(v,this)},i.subtract=function(o,l){return this.add(o*-1,l)},i.format=function(o){var l=this,c=this.$locale();if(!this.isValid())return c.invalidDate||xE;var d=o||q6,h=zn.z(this),f=this.$H,m=this.$m,v=this.$M,E=c.weekdays,b=c.months,w=c.meridiem,A=function(D,C,k,I){return D&&(D[C]||D(l,d))||k[C].slice(0,I)},y=function(D){return zn.s(f%12||12,D,"0")},S=w||function(M,D,C){var k=M<12?"AM":"PM";return C?k.toLowerCase():k},T={YY:String(this.$y).slice(-2),YYYY:this.$y,M:v+1,MM:zn.s(v+1,2,"0"),MMM:A(c.monthsShort,v,b,3),MMMM:A(b,v),D:this.$D,DD:zn.s(this.$D,2,"0"),d:String(this.$W),dd:A(c.weekdaysMin,this.$W,E,2),ddd:A(c.weekdaysShort,this.$W,E,3),dddd:E[this.$W],H:String(f),HH:zn.s(f,2,"0"),h:y(1),hh:y(2),a:S(f,m,!0),A:S(f,m,!1),m:String(m),mm:zn.s(m,2,"0"),s:String(this.$s),ss:zn.s(this.$s,2,"0"),SSS:zn.s(this.$ms,3,"0"),Z:h};return d.replace(J6,function(M,D){return D||T[M]||h.replace(":","")})},i.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},i.diff=function(o,l,c){var d,h=zn.p(l),f=qi(o),m=(f.utcOffset()-this.utcOffset())*cm,v=this-f,E=zn.m(this,f);return E=(d={},d[as]=E/12,d[Ro]=E,d[iA]=E/3,d[ph]=(v-m)/W6,d[rs]=(v-m)/G6,d[Vl]=v/DE,d[Hl]=v/cm,d[jl]=v/ou,d)[h]||v,c?E:zn.a(E)},i.daysInMonth=function(){return this.endOf(Ro).$D},i.$locale=function(){return tl[this.$L]},i.locale=function(o,l){if(!o)return this.$L;var c=this.clone(),d=Bh(o,l,!0);return d&&(c.$L=d),c},i.clone=function(){return zn.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},t}(),rA=yf.prototype;qi.prototype=rA;[["$ms",n0],["$s",jl],["$m",Hl],["$H",Vl],["$W",rs],["$M",Ro],["$y",as],["$D",Ul]].forEach(function(t){rA[t[1]]=function(i){return this.$g(i,t[0],t[1])}});qi.extend=function(t,i){return t.$i||(t(i,yf,qi),t.$i=!0),qi};qi.locale=Bh;qi.isDayjs=i0;qi.unix=function(t){return qi(t*1e3)};qi.en=tl[lc];qi.Ls=tl;qi.p={};var $n=qi,aN=pu(xF()),sN=pu(SF()),lN=pu(TF()),uN=pu(CF());$n.extend(aN.default);$n.extend(sN.default);$n.extend(lN.default);$n.extend(uN.default);window.dayjs=$n;var cN=t=>{t.data("dateTimePickerFormComponent",({displayFormat:i,firstDayOfWeek:r,isAutofocused:o,locale:l,shouldCloseOnDateSelection:c,state:d})=>{const h=$n.tz.guess();return{daysInFocusedMonth:[],displayText:"",emptyDaysInFocusedMonth:[],focusedDate:null,focusedMonth:null,focusedYear:null,hour:null,isClearingState:!1,minute:null,second:null,state:d,dayLabels:[],months:[],init:function(){$n.locale(SE[l]??SE.en),this.focusedDate=$n().tz(h);let f=this.getSelectedDate()??$n().tz(h).hour(0).minute(0).second(0);(this.getMaxDate()!==null&&f.isAfter(this.getMaxDate())||this.getMinDate()!==null&&f.isBefore(this.getMinDate()))&&(f=null),this.hour=f?.hour()??0,this.minute=f?.minute()??0,this.second=f?.second()??0,this.setDisplayText(),this.setMonths(),this.setDayLabels(),o&&this.$nextTick(()=>this.togglePanelVisibility(this.$refs.button)),this.$watch("focusedMonth",()=>{this.focusedMonth=+this.focusedMonth,this.focusedDate.month()!==this.focusedMonth&&(this.focusedDate=this.focusedDate.month(this.focusedMonth))}),this.$watch("focusedYear",()=>{if(this.focusedYear?.length>4&&(this.focusedYear=this.focusedYear.substring(0,4)),!this.focusedYear||this.focusedYear?.length!==4)return;let m=+this.focusedYear;Number.isInteger(m)||(m=$n().tz(h).year(),this.focusedYear=m),this.focusedDate.year()!==m&&(this.focusedDate=this.focusedDate.year(m))}),this.$watch("focusedDate",()=>{let m=this.focusedDate.month(),v=this.focusedDate.year();this.focusedMonth!==m&&(this.focusedMonth=m),this.focusedYear!==v&&(this.focusedYear=v),this.setupDaysGrid()}),this.$watch("hour",()=>{let m=+this.hour;if(Number.isInteger(m)?m>23?this.hour=0:m<0?this.hour=23:this.hour=m:this.hour=0,this.isClearingState)return;let v=this.getSelectedDate()??this.focusedDate;this.setState(v.hour(this.hour??0))}),this.$watch("minute",()=>{let m=+this.minute;if(Number.isInteger(m)?m>59?this.minute=0:m<0?this.minute=59:this.minute=m:this.minute=0,this.isClearingState)return;let v=this.getSelectedDate()??this.focusedDate;this.setState(v.minute(this.minute??0))}),this.$watch("second",()=>{let m=+this.second;if(Number.isInteger(m)?m>59?this.second=0:m<0?this.second=59:this.second=m:this.second=0,this.isClearingState)return;let v=this.getSelectedDate()??this.focusedDate;this.setState(v.second(this.second??0))}),this.$watch("state",()=>{if(this.state===void 0)return;let m=this.getSelectedDate();if(m===null){this.clearState();return}this.getMaxDate()!==null&&m?.isAfter(this.getMaxDate())&&(m=null),this.getMinDate()!==null&&m?.isBefore(this.getMinDate())&&(m=null);const v=m?.hour()??0;this.hour!==v&&(this.hour=v);const E=m?.minute()??0;this.minute!==E&&(this.minute=E);const b=m?.second()??0;this.second!==b&&(this.second=b),this.setDisplayText()})},clearState:function(){this.isClearingState=!0,this.setState(null),this.hour=0,this.minute=0,this.second=0,this.$nextTick(()=>this.isClearingState=!1)},dateIsDisabled:function(f){return!!(this.$refs?.disabledDates&&JSON.parse(this.$refs.disabledDates.value??[]).some(m=>(m=$n(m),m.isValid()?m.isSame(f,"day"):!1))||this.getMaxDate()&&f.isAfter(this.getMaxDate(),"day")||this.getMinDate()&&f.isBefore(this.getMinDate(),"day"))},dayIsDisabled:function(f){return this.focusedDate??=$n().tz(h),this.dateIsDisabled(this.focusedDate.date(f))},dayIsSelected:function(f){let m=this.getSelectedDate();return m===null?!1:(this.focusedDate??=$n().tz(h),m.date()===f&&m.month()===this.focusedDate.month()&&m.year()===this.focusedDate.year())},dayIsToday:function(f){let m=$n().tz(h);return this.focusedDate??=m,m.date()===f&&m.month()===this.focusedDate.month()&&m.year()===this.focusedDate.year()},focusPreviousDay:function(){this.focusedDate??=$n().tz(h),this.focusedDate=this.focusedDate.subtract(1,"day")},focusPreviousWeek:function(){this.focusedDate??=$n().tz(h),this.focusedDate=this.focusedDate.subtract(1,"week")},focusNextDay:function(){this.focusedDate??=$n().tz(h),this.focusedDate=this.focusedDate.add(1,"day")},focusNextWeek:function(){this.focusedDate??=$n().tz(h),this.focusedDate=this.focusedDate.add(1,"week")},getDayLabels:function(){const f=$n.weekdaysShort();return r===0?f:[...f.slice(r),...f.slice(0,r)]},getMaxDate:function(){let f=$n(this.$refs.maxDate?.value);return f.isValid()?f:null},getMinDate:function(){let f=$n(this.$refs.minDate?.value);return f.isValid()?f:null},getSelectedDate:function(){if(this.state===void 0||this.state===null)return null;let f=$n(this.state);return f.isValid()?f:null},togglePanelVisibility:function(){this.isOpen()||(this.focusedDate=this.getSelectedDate()??this.getMinDate()??$n().tz(h),this.setupDaysGrid()),this.$refs.panel.toggle(this.$refs.button)},selectDate:function(f=null){f&&this.setFocusedDay(f),this.focusedDate??=$n().tz(h),this.setState(this.focusedDate),c&&this.togglePanelVisibility()},setDisplayText:function(){this.displayText=this.getSelectedDate()?this.getSelectedDate().format(i):""},setMonths:function(){this.months=$n.months()},setDayLabels:function(){this.dayLabels=this.getDayLabels()},setupDaysGrid:function(){this.focusedDate??=$n().tz(h),this.emptyDaysInFocusedMonth=Array.from({length:this.focusedDate.date(8-r).day()},(f,m)=>m+1),this.daysInFocusedMonth=Array.from({length:this.focusedDate.daysInMonth()},(f,m)=>m+1)},setFocusedDay:function(f){this.focusedDate=(this.focusedDate??$n().tz(h)).date(f)},setState:function(f){if(f===null){this.state=null,this.setDisplayText();return}this.dateIsDisabled(f)||(this.state=f.hour(this.hour??0).minute(this.minute??0).second(this.second??0).format("YYYY-MM-DD HH:mm:ss"),this.setDisplayText())},isOpen:function(){return this.$refs.panel?.style.display==="block"}}})},SE={ar:MF(),bs:kF(),ca:OF(),cs:IF(),da:RF(),de:LF(),en:FF(),es:NF(),fa:PF(),fi:BF(),fr:zF(),hi:$F(),hu:jF(),hy:HF(),id:VF(),it:UF(),ja:YF(),ka:GF(),ku:WF(),ms:qF(),my:KF(),nl:JF(),pl:XF(),pt_BR:ZF(),pt_PT:QF(),ro:e6(),ru:t6(),sv:n6(),tr:i6(),uk:r6(),vi:o6(),zh_CN:a6(),zh_TW:s6()},oA={};AF(oA,{FileOrigin:()=>Vh,FileStatus:()=>qA,OptionTypes:()=>cg,Status:()=>WA,create:()=>cc,destroy:()=>gh,find:()=>hg,getOptions:()=>fg,parse:()=>dg,registerPlugin:()=>zo,setOptions:()=>Uh,supported:()=>ug});/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var dN=t=>t instanceof HTMLElement,hN=(t,i=[],r=[])=>{const o={...t},l=[],c=[],d=()=>({...o}),h=()=>{const A=[...l];return l.length=0,A},f=()=>{const A=[...c];c.length=0,A.forEach(({type:y,data:S})=>{m(y,S)})},m=(A,y,S)=>{if(S&&!document.hidden){c.push({type:A,data:y});return}w[A]&&w[A](y),l.push({type:A,data:y})},v=(A,...y)=>b[A]?b[A](...y):null,E={getState:d,processActionQueue:h,processDispatchQueue:f,dispatch:m,query:v};let b={};i.forEach(A=>{b={...A(o),...b}});let w={};return r.forEach(A=>{w={...A(m,v,o),...w}}),E},fN=(t,i,r)=>{if(typeof r=="function"){t[i]=r;return}Object.defineProperty(t,i,{...r})},ui=(t,i)=>{for(const r in t)t.hasOwnProperty(r)&&i(r,t[r])},ps=t=>{const i={};return ui(t,r=>{fN(i,r,t[r])}),i},Di=(t,i,r=null)=>{if(r===null)return t.getAttribute(i)||t.hasAttribute(i);t.setAttribute(i,r)},pN="http://www.w3.org/2000/svg",mN=["svg","path"],TE=t=>mN.includes(t),zh=(t,i,r={})=>{typeof i=="object"&&(r=i,i=null);const o=TE(t)?document.createElementNS(pN,t):document.createElement(t);return i&&(TE(t)?Di(o,"class",i):o.className=i),ui(r,(l,c)=>{Di(o,l,c)}),o},gN=t=>(i,r)=>{typeof r<"u"&&t.children[r]?t.insertBefore(i,t.children[r]):t.appendChild(i)},vN=(t,i)=>(r,o)=>(typeof o<"u"?i.splice(o,0,r):i.push(r),r),bN=(t,i)=>r=>(i.splice(i.indexOf(r),1),r.element.parentNode&&t.removeChild(r.element),r),yN=(()=>typeof window<"u"&&typeof window.document<"u")(),aA=()=>yN,EN=aA()?zh("svg"):{},_N="children"in EN?t=>t.children.length:t=>t.childNodes.length,sA=(t,i,r,o)=>{const l=r[0]||t.left,c=r[1]||t.top,d=l+t.width,h=c+t.height*(o[1]||1),f={element:{...t},inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:l,top:c,right:d,bottom:h}};return i.filter(m=>!m.isRectIgnored()).map(m=>m.rect).forEach(m=>{CE(f.inner,{...m.inner}),CE(f.outer,{...m.outer})}),ME(f.inner),f.outer.bottom+=f.element.marginBottom,f.outer.right+=f.element.marginRight,ME(f.outer),f},CE=(t,i)=>{i.top+=t.top,i.right+=t.left,i.bottom+=t.top,i.left+=t.left,i.bottom>t.bottom&&(t.bottom=i.bottom),i.right>t.right&&(t.right=i.right)},ME=t=>{t.width=t.right-t.left,t.height=t.bottom-t.top},Ks=t=>typeof t=="number",wN=(t,i,r,o=.001)=>Math.abs(t-i)<o&&Math.abs(r)<o,AN=({stiffness:t=.5,damping:i=.75,mass:r=10}={})=>{let o=null,l=null,c=0,d=!1;const m=ps({interpolate:(v,E)=>{if(d)return;if(!(Ks(o)&&Ks(l))){d=!0,c=0;return}const b=-(l-o)*t;c+=b/r,l+=c,c*=i,wN(l,o,c)||E?(l=o,c=0,d=!0,m.onupdate(l),m.oncomplete(l)):m.onupdate(l)},target:{set:v=>{if(Ks(v)&&!Ks(l)&&(l=v),o===null&&(o=v,l=v),o=v,l===o||typeof o>"u"){d=!0,c=0,m.onupdate(l),m.oncomplete(l);return}d=!1},get:()=>o},resting:{get:()=>d},onupdate:v=>{},oncomplete:v=>{}});return m},DN=t=>t<.5?2*t*t:-1+(4-2*t)*t,xN=({duration:t=500,easing:i=DN,delay:r=0}={})=>{let o=null,l,c,d=!0,h=!1,f=null;const v=ps({interpolate:(E,b)=>{d||f===null||(o===null&&(o=E),!(E-o<r)&&(l=E-o-r,l>=t||b?(l=1,c=h?0:1,v.onupdate(c*f),v.oncomplete(c*f),d=!0):(c=l/t,v.onupdate((l>=0?i(h?1-c:c):0)*f))))},target:{get:()=>h?0:f,set:E=>{if(f===null){f=E,v.onupdate(E),v.oncomplete(E);return}E<f?(f=1,h=!0):(h=!1,f=E),d=!1,o=null}},resting:{get:()=>d},onupdate:E=>{},oncomplete:E=>{}});return v},kE={spring:AN,tween:xN},SN=(t,i,r)=>{const o=t[i]&&typeof t[i][r]=="object"?t[i][r]:t[i]||t,l=typeof o=="string"?o:o.type,c=typeof o=="object"?{...o}:{};return kE[l]?kE[l](c):null},r0=(t,i,r,o=!1)=>{i=Array.isArray(i)?i:[i],i.forEach(l=>{t.forEach(c=>{let d=c,h=()=>r[c],f=m=>r[c]=m;typeof c=="object"&&(d=c.key,h=c.getter||h,f=c.setter||f),!(l[d]&&!o)&&(l[d]={get:h,set:f})})})},TN=({mixinConfig:t,viewProps:i,viewInternalAPI:r,viewExternalAPI:o})=>{const l={...i},c=[];return ui(t,(d,h)=>{const f=SN(h);if(!f)return;f.onupdate=v=>{i[d]=v},f.target=l[d],r0([{key:d,setter:v=>{f.target!==v&&(f.target=v)},getter:()=>i[d]}],[r,o],i,!0),c.push(f)}),{write:d=>{let h=document.hidden,f=!0;return c.forEach(m=>{m.resting||(f=!1),m.interpolate(d,h)}),f},destroy:()=>{}}},CN=t=>(i,r)=>{t.addEventListener(i,r)},MN=t=>(i,r)=>{t.removeEventListener(i,r)},kN=({mixinConfig:t,viewProps:i,viewInternalAPI:r,viewExternalAPI:o,viewState:l,view:c})=>{const d=[],h=CN(c.element),f=MN(c.element);return o.on=(m,v)=>{d.push({type:m,fn:v}),h(m,v)},o.off=(m,v)=>{d.splice(d.findIndex(E=>E.type===m&&E.fn===v),1),f(m,v)},{write:()=>!0,destroy:()=>{d.forEach(m=>{f(m.type,m.fn)})}}},ON=({mixinConfig:t,viewProps:i,viewExternalAPI:r})=>{r0(t,r,i)},br=t=>t!=null,IN={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},RN=({mixinConfig:t,viewProps:i,viewInternalAPI:r,viewExternalAPI:o,view:l})=>{const c={...i},d={};r0(t,[r,o],i);const h=()=>[i.translateX||0,i.translateY||0],f=()=>[i.scaleX||0,i.scaleY||0],m=()=>l.rect?sA(l.rect,l.childViews,h(),f()):null;return r.rect={get:m},o.rect={get:m},t.forEach(v=>{i[v]=typeof c[v]>"u"?IN[v]:c[v]}),{write:()=>{if(LN(d,i))return FN(l.element,i),Object.assign(d,{...i}),!0},destroy:()=>{}}},LN=(t,i)=>{if(Object.keys(t).length!==Object.keys(i).length)return!0;for(const r in i)if(i[r]!==t[r])return!0;return!1},FN=(t,{opacity:i,perspective:r,translateX:o,translateY:l,scaleX:c,scaleY:d,rotateX:h,rotateY:f,rotateZ:m,originX:v,originY:E,width:b,height:w})=>{let A="",y="";(br(v)||br(E))&&(y+=`transform-origin: ${v||0}px ${E||0}px;`),br(r)&&(A+=`perspective(${r}px) `),(br(o)||br(l))&&(A+=`translate3d(${o||0}px, ${l||0}px, 0) `),(br(c)||br(d))&&(A+=`scale3d(${br(c)?c:1}, ${br(d)?d:1}, 1) `),br(m)&&(A+=`rotateZ(${m}rad) `),br(h)&&(A+=`rotateX(${h}rad) `),br(f)&&(A+=`rotateY(${f}rad) `),A.length&&(y+=`transform:${A};`),br(i)&&(y+=`opacity:${i};`,i===0&&(y+="visibility:hidden;"),i<1&&(y+="pointer-events:none;")),br(w)&&(y+=`height:${w}px;`),br(b)&&(y+=`width:${b}px;`);const S=t.elementCurrentStyle||"";(y.length!==S.length||y!==S)&&(t.style.cssText=y,t.elementCurrentStyle=y)},NN={styles:RN,listeners:kN,animations:TN,apis:ON},OE=(t={},i={},r={})=>(i.layoutCalculated||(t.paddingTop=parseInt(r.paddingTop,10)||0,t.marginTop=parseInt(r.marginTop,10)||0,t.marginRight=parseInt(r.marginRight,10)||0,t.marginBottom=parseInt(r.marginBottom,10)||0,t.marginLeft=parseInt(r.marginLeft,10)||0,i.layoutCalculated=!0),t.left=i.offsetLeft||0,t.top=i.offsetTop||0,t.width=i.offsetWidth||0,t.height=i.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=i.scrollTop,t.hidden=i.offsetParent===null,t),Si=({tag:t="div",name:i=null,attributes:r={},read:o=()=>{},write:l=()=>{},create:c=()=>{},destroy:d=()=>{},filterFrameActionsForChild:h=(w,A)=>A,didCreateView:f=()=>{},didWriteView:m=()=>{},ignoreRect:v=!1,ignoreRectUpdate:E=!1,mixins:b=[]}={})=>(w,A={})=>{const y=zh(t,`filepond--${i}`,r),S=window.getComputedStyle(y,null),T=OE();let M=null,D=!1;const C=[],k=[],I={},R={},F=[l],j=[o],Y=[d],G=()=>y,B=()=>C.concat(),P=()=>I,z=Ae=>(Oe,$e)=>Oe(Ae,$e),$=()=>M||(M=sA(T,C,[0,0],[1,1]),M),N=()=>S,V=()=>{M=null,C.forEach($e=>$e._read()),!(E&&T.width&&T.height)&&OE(T,y,S);const Oe={root:we,props:A,rect:T};j.forEach($e=>$e(Oe))},q=(Ae,Oe,$e)=>{let et=Oe.length===0;return F.forEach(Ue=>{Ue({props:A,root:we,actions:Oe,timestamp:Ae,shouldOptimize:$e})===!1&&(et=!1)}),k.forEach(Ue=>{Ue.write(Ae)===!1&&(et=!1)}),C.filter(Ue=>!!Ue.element.parentNode).forEach(Ue=>{Ue._write(Ae,h(Ue,Oe),$e)||(et=!1)}),C.forEach((Ue,on)=>{Ue.element.parentNode||(we.appendChild(Ue.element,on),Ue._read(),Ue._write(Ae,h(Ue,Oe),$e),et=!1)}),D=et,m({props:A,root:we,actions:Oe,timestamp:Ae}),et},J=()=>{k.forEach(Ae=>Ae.destroy()),Y.forEach(Ae=>{Ae({root:we,props:A})}),C.forEach(Ae=>Ae._destroy())},ne={element:{get:G},style:{get:N},childViews:{get:B}},ue={...ne,rect:{get:$},ref:{get:P},is:Ae=>i===Ae,appendChild:gN(y),createChildView:z(w),linkView:Ae=>(C.push(Ae),Ae),unlinkView:Ae=>{C.splice(C.indexOf(Ae),1)},appendChildView:vN(y,C),removeChildView:bN(y,C),registerWriter:Ae=>F.push(Ae),registerReader:Ae=>j.push(Ae),registerDestroyer:Ae=>Y.push(Ae),invalidateLayout:()=>y.layoutCalculated=!1,dispatch:w.dispatch,query:w.query},pe={element:{get:G},childViews:{get:B},rect:{get:$},resting:{get:()=>D},isRectIgnored:()=>v,_read:V,_write:q,_destroy:J},Ie={...ne,rect:{get:()=>T}};Object.keys(b).sort((Ae,Oe)=>Ae==="styles"?1:Oe==="styles"?-1:0).forEach(Ae=>{const Oe=NN[Ae]({mixinConfig:b[Ae],viewProps:A,viewState:R,viewInternalAPI:ue,viewExternalAPI:pe,view:ps(Ie)});Oe&&k.push(Oe)});const we=ps(ue);c({root:we,props:A});const st=_N(y);return C.forEach((Ae,Oe)=>{we.appendChild(Ae.element,st+Oe)}),f(we),ps(pe)},PN=(t,i,r=60)=>{const o="__framePainter";if(window[o]){window[o].readers.push(t),window[o].writers.push(i);return}window[o]={readers:[t],writers:[i]};const l=window[o],c=1e3/r;let d=null,h=null,f=null,m=null;const v=()=>{document.hidden?(f=()=>window.setTimeout(()=>E(performance.now()),c),m=()=>window.clearTimeout(h)):(f=()=>window.requestAnimationFrame(E),m=()=>window.cancelAnimationFrame(h))};document.addEventListener("visibilitychange",()=>{m&&m(),v(),E(performance.now())});const E=b=>{h=f(E),d||(d=b);const w=b-d;w<=c||(d=b-w%c,l.readers.forEach(A=>A()),l.writers.forEach(A=>A(b)))};return v(),E(performance.now()),{pause:()=>{m(h)}}},Sr=(t,i)=>({root:r,props:o,actions:l=[],timestamp:c,shouldOptimize:d})=>{l.filter(h=>t[h.type]).forEach(h=>t[h.type]({root:r,props:o,action:h.data,timestamp:c,shouldOptimize:d})),i&&i({root:r,props:o,actions:l,timestamp:c,shouldOptimize:d})},IE=(t,i)=>i.parentNode.insertBefore(t,i),RE=(t,i)=>i.parentNode.insertBefore(t,i.nextSibling),Ef=t=>Array.isArray(t),Sa=t=>t==null,BN=t=>t.trim(),_f=t=>""+t,zN=(t,i=",")=>Sa(t)?[]:Ef(t)?t:_f(t).split(i).map(BN).filter(r=>r.length),lA=t=>typeof t=="boolean",uA=t=>lA(t)?t:t==="true",Ar=t=>typeof t=="string",cA=t=>Ks(t)?t:Ar(t)?_f(t).replace(/[a-z]+/gi,""):0,mh=t=>parseInt(cA(t),10),LE=t=>parseFloat(cA(t)),mu=t=>Ks(t)&&isFinite(t)&&Math.floor(t)===t,FE=(t,i=1e3)=>{if(mu(t))return t;let r=_f(t).trim();return/MB$/i.test(r)?(r=r.replace(/MB$i/,"").trim(),mh(r)*i*i):/KB/i.test(r)?(r=r.replace(/KB$i/,"").trim(),mh(r)*i):mh(r)},Js=t=>typeof t=="function",$N=t=>{let i=self,r=t.split("."),o=null;for(;o=r.shift();)if(i=i[o],!i)return null;return i},NE={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},jN=t=>{const i={};return i.url=Ar(t)?t:t.url||"",i.timeout=t.timeout?parseInt(t.timeout,10):0,i.headers=t.headers?t.headers:{},ui(NE,r=>{i[r]=HN(r,t[r],NE[r],i.timeout,i.headers)}),i.process=t.process||Ar(t)||t.url?i.process:null,i.remove=t.remove||null,delete i.headers,i},HN=(t,i,r,o,l)=>{if(i===null)return null;if(typeof i=="function")return i;const c={url:r==="GET"||r==="PATCH"?`?${t}=`:"",method:r,headers:l,withCredentials:!1,timeout:o,onload:null,ondata:null,onerror:null};if(Ar(i))return c.url=i,c;if(Object.assign(c,i),Ar(c.headers)){const d=c.headers.split(/:(.+)/);c.headers={header:d[0],value:d[1]}}return c.withCredentials=uA(c.withCredentials),c},VN=t=>jN(t),UN=t=>t===null,Ki=t=>typeof t=="object"&&t!==null,YN=t=>Ki(t)&&Ar(t.url)&&Ki(t.process)&&Ki(t.revert)&&Ki(t.restore)&&Ki(t.fetch),tg=t=>Ef(t)?"array":UN(t)?"null":mu(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":YN(t)?"api":typeof t,GN=t=>t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),WN={array:zN,boolean:uA,int:t=>tg(t)==="bytes"?FE(t):mh(t),number:LE,float:LE,bytes:FE,string:t=>Js(t)?t:_f(t),function:t=>$N(t),serverapi:VN,object:t=>{try{return JSON.parse(GN(t))}catch{return null}}},qN=(t,i)=>WN[i](t),dA=(t,i,r)=>{if(t===i)return t;let o=tg(t);if(o!==r){const l=qN(t,r);if(o=tg(l),l===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${r}"`;t=l}return t},KN=(t,i)=>{let r=t;return{enumerable:!0,get:()=>r,set:o=>{r=dA(o,t,i)}}},JN=t=>{const i={};return ui(t,r=>{const o=t[r];i[r]=KN(o[0],o[1])}),ps(i)},XN=t=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:JN(t)}),wf=(t,i="-")=>t.split(/(?=[A-Z])/).map(r=>r.toLowerCase()).join(i),ZN=(t,i)=>{const r={};return ui(i,o=>{r[o]={get:()=>t.getState().options[o],set:l=>{t.dispatch(`SET_${wf(o,"_").toUpperCase()}`,{value:l})}}}),r},QN=t=>(i,r,o)=>{const l={};return ui(t,c=>{const d=wf(c,"_").toUpperCase();l[`SET_${d}`]=h=>{try{o.options[c]=h.value}catch{}i(`DID_SET_${d}`,{value:o.options[c]})}}),l},eP=t=>i=>{const r={};return ui(t,o=>{r[`GET_${wf(o,"_").toUpperCase()}`]=l=>i.options[o]}),r},bo={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},o0=()=>Math.random().toString(36).substring(2,11),a0=(t,i)=>t.splice(i,1),tP=(t,i)=>{i?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},Af=()=>{const t=[],i=(o,l)=>{a0(t,t.findIndex(c=>c.event===o&&(c.cb===l||!l)))},r=(o,l,c)=>{t.filter(d=>d.event===o).map(d=>d.cb).forEach(d=>tP(()=>d(...l),c))};return{fireSync:(o,...l)=>{r(o,l,!0)},fire:(o,...l)=>{r(o,l,!1)},on:(o,l)=>{t.push({event:o,cb:l})},onOnce:(o,l)=>{t.push({event:o,cb:(...c)=>{i(o,l),l(...c)}})},off:i}},hA=(t,i,r)=>{Object.getOwnPropertyNames(t).filter(o=>!r.includes(o)).forEach(o=>Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(t,o)))},nP=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Nr=t=>{const i={};return hA(t,i,nP),i},iP=t=>{t.forEach((i,r)=>{i.released&&a0(t,r)})},Ut={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},zi={INPUT:1,LIMBO:2,LOCAL:3},fA=t=>/[^0-9]+/.exec(t),pA=()=>fA(1.1 .toLocaleString())[0],rP=()=>{const t=pA(),i=1e3 .toLocaleString(),r=1e3 .toString();return i!==r?fA(i)[0]:t==="."?",":"."},Ce={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},s0=[],Lo=(t,i,r)=>new Promise((o,l)=>{const c=s0.filter(h=>h.key===t).map(h=>h.cb);if(c.length===0){o(i);return}const d=c.shift();c.reduce((h,f)=>h.then(m=>f(m,r)),d(i,r)).then(h=>o(h)).catch(h=>l(h))}),ll=(t,i,r)=>s0.filter(o=>o.key===t).map(o=>o.cb(i,r)),oP=(t,i)=>s0.push({key:t,cb:i}),aP=t=>Object.assign(Yl,t),$h=()=>({...Yl}),sP=t=>{ui(t,(i,r)=>{Yl[i]&&(Yl[i][0]=dA(r,Yl[i][0],Yl[i][1]))})},Yl={id:[null,Ce.STRING],name:["filepond",Ce.STRING],disabled:[!1,Ce.BOOLEAN],className:[null,Ce.STRING],required:[!1,Ce.BOOLEAN],captureMethod:[null,Ce.STRING],allowSyncAcceptAttribute:[!0,Ce.BOOLEAN],allowDrop:[!0,Ce.BOOLEAN],allowBrowse:[!0,Ce.BOOLEAN],allowPaste:[!0,Ce.BOOLEAN],allowMultiple:[!1,Ce.BOOLEAN],allowReplace:[!0,Ce.BOOLEAN],allowRevert:[!0,Ce.BOOLEAN],allowRemove:[!0,Ce.BOOLEAN],allowProcess:[!0,Ce.BOOLEAN],allowReorder:[!1,Ce.BOOLEAN],allowDirectoriesOnly:[!1,Ce.BOOLEAN],storeAsFile:[!1,Ce.BOOLEAN],forceRevert:[!1,Ce.BOOLEAN],maxFiles:[null,Ce.INT],checkValidity:[!1,Ce.BOOLEAN],itemInsertLocationFreedom:[!0,Ce.BOOLEAN],itemInsertLocation:["before",Ce.STRING],itemInsertInterval:[75,Ce.INT],dropOnPage:[!1,Ce.BOOLEAN],dropOnElement:[!0,Ce.BOOLEAN],dropValidation:[!1,Ce.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Ce.ARRAY],instantUpload:[!0,Ce.BOOLEAN],maxParallelUploads:[2,Ce.INT],allowMinimumUploadDuration:[!0,Ce.BOOLEAN],chunkUploads:[!1,Ce.BOOLEAN],chunkForce:[!1,Ce.BOOLEAN],chunkSize:[5e6,Ce.INT],chunkRetryDelays:[[500,1e3,3e3],Ce.ARRAY],server:[null,Ce.SERVER_API],fileSizeBase:[1e3,Ce.INT],labelFileSizeBytes:["bytes",Ce.STRING],labelFileSizeKilobytes:["KB",Ce.STRING],labelFileSizeMegabytes:["MB",Ce.STRING],labelFileSizeGigabytes:["GB",Ce.STRING],labelDecimalSeparator:[pA(),Ce.STRING],labelThousandsSeparator:[rP(),Ce.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Ce.STRING],labelInvalidField:["Field contains invalid files",Ce.STRING],labelFileWaitingForSize:["Waiting for size",Ce.STRING],labelFileSizeNotAvailable:["Size not available",Ce.STRING],labelFileCountSingular:["file in list",Ce.STRING],labelFileCountPlural:["files in list",Ce.STRING],labelFileLoading:["Loading",Ce.STRING],labelFileAdded:["Added",Ce.STRING],labelFileLoadError:["Error during load",Ce.STRING],labelFileRemoved:["Removed",Ce.STRING],labelFileRemoveError:["Error during remove",Ce.STRING],labelFileProcessing:["Uploading",Ce.STRING],labelFileProcessingComplete:["Upload complete",Ce.STRING],labelFileProcessingAborted:["Upload cancelled",Ce.STRING],labelFileProcessingError:["Error during upload",Ce.STRING],labelFileProcessingRevertError:["Error during revert",Ce.STRING],labelTapToCancel:["tap to cancel",Ce.STRING],labelTapToRetry:["tap to retry",Ce.STRING],labelTapToUndo:["tap to undo",Ce.STRING],labelButtonRemoveItem:["Remove",Ce.STRING],labelButtonAbortItemLoad:["Abort",Ce.STRING],labelButtonRetryItemLoad:["Retry",Ce.STRING],labelButtonAbortItemProcessing:["Cancel",Ce.STRING],labelButtonUndoItemProcessing:["Undo",Ce.STRING],labelButtonRetryItemProcessing:["Retry",Ce.STRING],labelButtonProcessItem:["Upload",Ce.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Ce.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Ce.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Ce.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Ce.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Ce.STRING],oninit:[null,Ce.FUNCTION],onwarning:[null,Ce.FUNCTION],onerror:[null,Ce.FUNCTION],onactivatefile:[null,Ce.FUNCTION],oninitfile:[null,Ce.FUNCTION],onaddfilestart:[null,Ce.FUNCTION],onaddfileprogress:[null,Ce.FUNCTION],onaddfile:[null,Ce.FUNCTION],onprocessfilestart:[null,Ce.FUNCTION],onprocessfileprogress:[null,Ce.FUNCTION],onprocessfileabort:[null,Ce.FUNCTION],onprocessfilerevert:[null,Ce.FUNCTION],onprocessfile:[null,Ce.FUNCTION],onprocessfiles:[null,Ce.FUNCTION],onremovefile:[null,Ce.FUNCTION],onpreparefile:[null,Ce.FUNCTION],onupdatefiles:[null,Ce.FUNCTION],onreorderfiles:[null,Ce.FUNCTION],beforeDropFile:[null,Ce.FUNCTION],beforeAddFile:[null,Ce.FUNCTION],beforeRemoveFile:[null,Ce.FUNCTION],beforePrepareFile:[null,Ce.FUNCTION],stylePanelLayout:[null,Ce.STRING],stylePanelAspectRatio:[null,Ce.STRING],styleItemPanelAspectRatio:[null,Ce.STRING],styleButtonRemoveItemPosition:["left",Ce.STRING],styleButtonProcessItemPosition:["right",Ce.STRING],styleLoadIndicatorPosition:["right",Ce.STRING],styleProgressIndicatorPosition:["right",Ce.STRING],styleButtonRemoveItemAlign:[!1,Ce.BOOLEAN],files:[[],Ce.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Ce.ARRAY]},Xs=(t,i)=>Sa(i)?t[0]||null:mu(i)?t[i]||null:(typeof i=="object"&&(i=i.id),t.find(r=>r.id===i)||null),mA=t=>{if(Sa(t))return t;if(/:/.test(t)){const i=t.split(":");return i[1]/i[0]}return parseFloat(t)},Fo=t=>t.filter(i=>!i.archived),gA={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Jd=null,lP=()=>{if(Jd===null)try{const t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));const i=document.createElement("input");i.setAttribute("type","file"),i.files=t.files,Jd=i.files.length===1}catch{Jd=!1}return Jd},uP=[Ut.LOAD_ERROR,Ut.PROCESSING_ERROR,Ut.PROCESSING_REVERT_ERROR],cP=[Ut.LOADING,Ut.PROCESSING,Ut.PROCESSING_QUEUED,Ut.INIT],dP=[Ut.PROCESSING_COMPLETE],hP=t=>uP.includes(t.status),fP=t=>cP.includes(t.status),pP=t=>dP.includes(t.status),PE=t=>Ki(t.options.server)&&(Ki(t.options.server.process)||Js(t.options.server.process)),mP=t=>({GET_STATUS:()=>{const i=Fo(t.items),{EMPTY:r,ERROR:o,BUSY:l,IDLE:c,READY:d}=gA;return i.length===0?r:i.some(hP)?o:i.some(fP)?l:i.some(pP)?d:c},GET_ITEM:i=>Xs(t.items,i),GET_ACTIVE_ITEM:i=>Xs(Fo(t.items),i),GET_ACTIVE_ITEMS:()=>Fo(t.items),GET_ITEMS:()=>t.items,GET_ITEM_NAME:i=>{const r=Xs(t.items,i);return r?r.filename:null},GET_ITEM_SIZE:i=>{const r=Xs(t.items,i);return r?r.fileSize:null},GET_STYLES:()=>Object.keys(t.options).filter(i=>/^style/.test(i)).map(i=>({name:i,value:t.options[i]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(t.options.stylePanelLayout)?1:mA(t.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>t.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:i=>Fo(t.items).filter(r=>r.status===i),GET_TOTAL_ITEMS:()=>Fo(t.items).length,SHOULD_UPDATE_FILE_INPUT:()=>t.options.storeAsFile&&lP()&&!PE(t),IS_ASYNC:()=>PE(t),GET_FILE_SIZE_LABELS:i=>({labelBytes:i("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:i("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:i("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:i("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),gP=t=>{const i=Fo(t.items).length;if(!t.options.allowMultiple)return i===0;const r=t.options.maxFiles;return r===null||i<r},vA=(t,i,r)=>Math.max(Math.min(r,t),i),vP=(t,i,r)=>t.splice(i,0,r),bP=(t,i,r)=>Sa(i)?null:typeof r>"u"?(t.push(i),i):(r=vA(r,0,t.length),vP(t,r,i),i),ng=t=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t),Oc=t=>t.split("/").pop().split("?").shift(),Df=t=>t.split(".").pop(),yP=t=>{if(typeof t!="string")return"";const i=t.split("/").pop();return/svg/.test(i)?"svg":/zip|compressed/.test(i)?"zip":/plain/.test(i)?"txt":/msword/.test(i)?"doc":/[a-z]+/.test(i)?i==="jpeg"?"jpg":i:""},Xu=(t,i="")=>(i+t).slice(-i.length),bA=(t=new Date)=>`${t.getFullYear()}-${Xu(t.getMonth()+1,"00")}-${Xu(t.getDate(),"00")}_${Xu(t.getHours(),"00")}-${Xu(t.getMinutes(),"00")}-${Xu(t.getSeconds(),"00")}`,au=(t,i,r=null,o=null)=>{const l=typeof r=="string"?t.slice(0,t.size,r):t.slice(0,t.size,t.type);return l.lastModifiedDate=new Date,t._relativePath&&(l._relativePath=t._relativePath),Ar(i)||(i=bA()),i&&o===null&&Df(i)?l.name=i:(o=o||yP(l.type),l.name=i+(o?"."+o:"")),l},EP=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,yA=(t,i)=>{const r=EP();if(r){const o=new r;return o.append(t),o.getBlob(i)}return new Blob([t],{type:i})},_P=(t,i)=>{const r=new ArrayBuffer(t.length),o=new Uint8Array(r);for(let l=0;l<t.length;l++)o[l]=t.charCodeAt(l);return yA(r,i)},EA=t=>(/^data:(.+);/.exec(t)||[])[1]||null,wP=t=>t.split(",")[1].replace(/\s/g,""),AP=t=>atob(wP(t)),DP=t=>{const i=EA(t),r=AP(t);return _P(r,i)},xP=(t,i,r)=>au(DP(t),i,null,r),SP=t=>{if(!/^content-disposition:/i.test(t))return null;const i=t.split(/filename=|filename\*=.+''/).splice(1).map(r=>r.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(r=>r.length);return i.length?decodeURI(i[i.length-1]):null},TP=t=>{if(/content-length:/i.test(t)){const i=t.match(/[0-9]+/)[0];return i?parseInt(i,10):null}return null},CP=t=>/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null,l0=t=>{const i={source:null,name:null,size:null},r=t.split(`
`);for(let o of r){const l=SP(o);if(l){i.name=l;continue}const c=TP(o);if(c){i.size=c;continue}const d=CP(o);if(d){i.source=d;continue}}return i},MP=t=>{const i={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=()=>i.progress,o=()=>{i.request&&i.request.abort&&i.request.abort()},l=()=>{const h=i.source;d.fire("init",h),h instanceof File?d.fire("load",h):h instanceof Blob?d.fire("load",au(h,h.name)):ng(h)?d.fire("load",xP(h)):c(h)},c=h=>{if(!t){d.fire("error",{type:"error",body:"Can't load URL",code:400});return}i.timestamp=Date.now(),i.request=t(h,f=>{i.duration=Date.now()-i.timestamp,i.complete=!0,f instanceof Blob&&(f=au(f,f.name||Oc(h))),d.fire("load",f instanceof Blob?f:f?f.body:null)},f=>{d.fire("error",typeof f=="string"?{type:"error",code:0,body:f}:f)},(f,m,v)=>{if(v&&(i.size=v),i.duration=Date.now()-i.timestamp,!f){i.progress=null;return}i.progress=m/v,d.fire("progress",i.progress)},()=>{d.fire("abort")},f=>{const m=l0(typeof f=="string"?f:f.headers);d.fire("meta",{size:i.size||m.size,filename:m.name,source:m.source})})},d={...Af(),setSource:h=>i.source=h,getProgress:r,abort:o,load:l};return d},BE=t=>/GET|HEAD/.test(t),nl=(t,i,r)=>{const o={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{l=!0,d.abort()}};let l=!1,c=!1;r={method:"POST",headers:{},withCredentials:!1,...r},i=encodeURI(i),BE(r.method)&&t&&(i=`${i}${encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))}`);const d=new XMLHttpRequest,h=BE(r.method)?d:d.upload;return h.onprogress=f=>{l||o.onprogress(f.lengthComputable,f.loaded,f.total)},d.onreadystatechange=()=>{d.readyState<2||d.readyState===4&&d.status===0||c||(c=!0,o.onheaders(d))},d.onload=()=>{d.status>=200&&d.status<300?o.onload(d):o.onerror(d)},d.onerror=()=>o.onerror(d),d.onabort=()=>{l=!0,o.onabort()},d.ontimeout=()=>o.ontimeout(d),d.open(r.method,i,!0),mu(r.timeout)&&(d.timeout=r.timeout),Object.keys(r.headers).forEach(f=>{const m=unescape(encodeURIComponent(r.headers[f]));d.setRequestHeader(f,m)}),r.responseType&&(d.responseType=r.responseType),r.withCredentials&&(d.withCredentials=!0),d.send(t),o},gi=(t,i,r,o)=>({type:t,code:i,body:r,headers:o}),il=t=>i=>{t(gi("error",0,"Timeout",i.getAllResponseHeaders()))},zE=t=>/\?/.test(t),uc=(...t)=>{let i="";return t.forEach(r=>{i+=zE(i)&&zE(r)?r.replace(/\?/,"&"):r}),i},dm=(t="",i)=>{if(typeof i=="function")return i;if(!i||!Ar(i.url))return null;const r=i.onload||(l=>l),o=i.onerror||(l=>null);return(l,c,d,h,f,m)=>{const v=nl(l,uc(t,i.url),{...i,responseType:"blob"});return v.onload=E=>{const b=E.getAllResponseHeaders(),w=l0(b).name||Oc(l);c(gi("load",E.status,i.method==="HEAD"?null:au(r(E.response),w),b))},v.onerror=E=>{d(gi("error",E.status,o(E.response)||E.statusText,E.getAllResponseHeaders()))},v.onheaders=E=>{m(gi("headers",E.status,null,E.getAllResponseHeaders()))},v.ontimeout=il(d),v.onprogress=h,v.onabort=f,v}},fo={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},kP=(t,i,r,o,l,c,d,h,f,m,v)=>{const E=[],{chunkTransferId:b,chunkServer:w,chunkSize:A,chunkRetryDelays:y}=v,S={serverId:b,aborted:!1},T=i.ondata||(z=>z),M=i.onload||((z,$)=>$==="HEAD"?z.getResponseHeader("Upload-Offset"):z.response),D=i.onerror||(z=>null),C=z=>{const $=new FormData;Ki(l)&&$.append(r,JSON.stringify(l));const N=typeof i.headers=="function"?i.headers(o,l):{...i.headers,"Upload-Length":o.size},V={...i,headers:N},q=nl(T($),uc(t,i.url),V);q.onload=J=>z(M(J,V.method)),q.onerror=J=>d(gi("error",J.status,D(J.response)||J.statusText,J.getAllResponseHeaders())),q.ontimeout=il(d)},k=z=>{const $=uc(t,w.url,S.serverId),V={headers:typeof i.headers=="function"?i.headers(S.serverId):{...i.headers},method:"HEAD"},q=nl(null,$,V);q.onload=J=>z(M(J,V.method)),q.onerror=J=>d(gi("error",J.status,D(J.response)||J.statusText,J.getAllResponseHeaders())),q.ontimeout=il(d)},I=Math.floor(o.size/A);for(let z=0;z<=I;z++){const $=z*A,N=o.slice($,$+A,"application/offset+octet-stream");E[z]={index:z,size:N.size,offset:$,data:N,file:o,progress:0,retries:[...y],status:fo.QUEUED,error:null,request:null,timeout:null}}const R=()=>c(S.serverId),F=z=>z.status===fo.QUEUED||z.status===fo.ERROR,j=z=>{if(S.aborted)return;if(z=z||E.find(F),!z){E.every(ne=>ne.status===fo.COMPLETE)&&R();return}z.status=fo.PROCESSING,z.progress=null;const $=w.ondata||(ne=>ne),N=w.onerror||(ne=>null),V=uc(t,w.url,S.serverId),q=typeof w.headers=="function"?w.headers(z):{...w.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":z.offset,"Upload-Length":o.size,"Upload-Name":o.name},J=z.request=nl($(z.data),V,{...w,headers:q});J.onload=()=>{z.status=fo.COMPLETE,z.request=null,B()},J.onprogress=(ne,ue,pe)=>{z.progress=ne?ue:null,G()},J.onerror=ne=>{z.status=fo.ERROR,z.request=null,z.error=N(ne.response)||ne.statusText,Y(z)||d(gi("error",ne.status,N(ne.response)||ne.statusText,ne.getAllResponseHeaders()))},J.ontimeout=ne=>{z.status=fo.ERROR,z.request=null,Y(z)||il(d)(ne)},J.onabort=()=>{z.status=fo.QUEUED,z.request=null,f()}},Y=z=>z.retries.length===0?!1:(z.status=fo.WAITING,clearTimeout(z.timeout),z.timeout=setTimeout(()=>{j(z)},z.retries.shift()),!0),G=()=>{const z=E.reduce((N,V)=>N===null||V.progress===null?null:N+V.progress,0);if(z===null)return h(!1,0,0);const $=E.reduce((N,V)=>N+V.size,0);h(!0,z,$)},B=()=>{E.filter($=>$.status===fo.PROCESSING).length>=1||j()},P=()=>{E.forEach(z=>{clearTimeout(z.timeout),z.request&&z.request.abort()})};return S.serverId?k(z=>{S.aborted||(E.filter($=>$.offset<z).forEach($=>{$.status=fo.COMPLETE,$.progress=$.size}),B())}):C(z=>{S.aborted||(m(z),S.serverId=z,B())}),{abort:()=>{S.aborted=!0,P()}}},OP=(t,i,r,o)=>(l,c,d,h,f,m,v)=>{if(!l)return;const E=o.chunkUploads,b=E&&l.size>o.chunkSize,w=E&&(b||o.chunkForce);if(l instanceof Blob&&w)return kP(t,i,r,l,c,d,h,f,m,v,o);const A=i.ondata||(k=>k),y=i.onload||(k=>k),S=i.onerror||(k=>null),T=typeof i.headers=="function"?i.headers(l,c)||{}:{...i.headers},M={...i,headers:T};var D=new FormData;Ki(c)&&D.append(r,JSON.stringify(c)),(l instanceof Blob?[{name:null,file:l}]:l).forEach(k=>{D.append(r,k.file,k.name===null?k.file.name:`${k.name}${k.file.name}`)});const C=nl(A(D),uc(t,i.url),M);return C.onload=k=>{d(gi("load",k.status,y(k.response),k.getAllResponseHeaders()))},C.onerror=k=>{h(gi("error",k.status,S(k.response)||k.statusText,k.getAllResponseHeaders()))},C.ontimeout=il(h),C.onprogress=f,C.onabort=m,C},IP=(t="",i,r,o)=>typeof i=="function"?(...l)=>i(r,...l,o):!i||!Ar(i.url)?null:OP(t,i,r,o),Zu=(t="",i)=>{if(typeof i=="function")return i;if(!i||!Ar(i.url))return(l,c)=>c();const r=i.onload||(l=>l),o=i.onerror||(l=>null);return(l,c,d)=>{const h=nl(l,t+i.url,i);return h.onload=f=>{c(gi("load",f.status,r(f.response),f.getAllResponseHeaders()))},h.onerror=f=>{d(gi("error",f.status,o(f.response)||f.statusText,f.getAllResponseHeaders()))},h.ontimeout=il(d),h}},_A=(t=0,i=1)=>t+Math.random()*(i-t),RP=(t,i=1e3,r=0,o=25,l=250)=>{let c=null;const d=Date.now(),h=()=>{let f=Date.now()-d,m=_A(o,l);f+m>i&&(m=f+m-i);let v=f/i;if(v>=1||document.hidden){t(1);return}t(v),c=setTimeout(h,m)};return i>0&&h(),{clear:()=>{clearTimeout(c)}}},LP=(t,i)=>{const r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:o}=i,l=(v,E)=>{const b=()=>{r.duration===0||r.progress===null||m.fire("progress",m.getProgress())},w=()=>{r.complete=!0,m.fire("load-perceived",r.response.body)};m.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=RP(A=>{r.perceivedProgress=A,r.perceivedDuration=Date.now()-r.timestamp,b(),r.response&&r.perceivedProgress===1&&!r.complete&&w()},o?_A(750,1500):0),r.request=t(v,E,A=>{r.response=Ki(A)?A:{type:"load",code:200,body:`${A}`,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,m.fire("load",r.response.body),(!o||o&&r.perceivedProgress===1)&&w()},A=>{r.perceivedPerformanceUpdater.clear(),m.fire("error",Ki(A)?A:{type:"error",code:0,body:`${A}`})},(A,y,S)=>{r.duration=Date.now()-r.timestamp,r.progress=A?y/S:null,b()},()=>{r.perceivedPerformanceUpdater.clear(),m.fire("abort",r.response?r.response.body:null)},A=>{m.fire("transfer",A)})},c=()=>{r.request&&(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},d=()=>{c(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null},h=o?()=>r.progress?Math.min(r.progress,r.perceivedProgress):null:()=>r.progress||null,f=o?()=>Math.min(r.duration,r.perceivedDuration):()=>r.duration,m={...Af(),process:l,abort:c,getProgress:h,getDuration:f,reset:d};return m},wA=t=>t.substring(0,t.lastIndexOf("."))||t,FP=t=>{let i=[t.name,t.size,t.type];return t instanceof Blob||ng(t)?i[0]=t.name||bA():ng(t)?(i[1]=t.length,i[2]=EA(t)):Ar(t)&&(i[0]=Oc(t),i[1]=0,i[2]="application/octet-stream"),{name:i[0],size:i[1],type:i[2]}},su=t=>!!(t instanceof File||t instanceof Blob&&t.name),AA=t=>{if(!Ki(t))return t;const i=Ef(t)?[]:{};for(const r in t){if(!t.hasOwnProperty(r))continue;const o=t[r];i[r]=o&&Ki(o)?AA(o):o}return i},NP=(t=null,i=null,r=null)=>{const o=o0(),l={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:i,transferId:null,processingAborted:!1,status:i?Ut.PROCESSING_COMPLETE:Ut.INIT,activeLoader:null,activeProcessor:null};let c=null;const d={},h=F=>l.status=F,f=(F,...j)=>{l.released||l.frozen||I.fire(F,...j)},m=()=>Df(l.file.name),v=()=>l.file.type,E=()=>l.file.size,b=()=>l.file,w=(F,j,Y)=>{if(l.source=F,I.fireSync("init"),l.file){I.fireSync("load-skip");return}l.file=FP(F),j.on("init",()=>{f("load-init")}),j.on("meta",G=>{l.file.size=G.size,l.file.filename=G.filename,G.source&&(t=zi.LIMBO,l.serverFileReference=G.source,l.status=Ut.PROCESSING_COMPLETE),f("load-meta")}),j.on("progress",G=>{h(Ut.LOADING),f("load-progress",G)}),j.on("error",G=>{h(Ut.LOAD_ERROR),f("load-request-error",G)}),j.on("abort",()=>{h(Ut.INIT),f("load-abort")}),j.on("load",G=>{l.activeLoader=null;const B=z=>{l.file=su(z)?z:l.file,t===zi.LIMBO&&l.serverFileReference?h(Ut.PROCESSING_COMPLETE):h(Ut.IDLE),f("load")},P=z=>{l.file=G,f("load-meta"),h(Ut.LOAD_ERROR),f("load-file-error",z)};if(l.serverFileReference){B(G);return}Y(G,B,P)}),j.setSource(F),l.activeLoader=j,j.load()},A=()=>{l.activeLoader&&l.activeLoader.load()},y=()=>{if(l.activeLoader){l.activeLoader.abort();return}h(Ut.INIT),f("load-abort")},S=(F,j)=>{if(l.processingAborted){l.processingAborted=!1;return}if(h(Ut.PROCESSING),c=null,!(l.file instanceof Blob)){I.on("load",()=>{S(F,j)});return}F.on("load",B=>{l.transferId=null,l.serverFileReference=B}),F.on("transfer",B=>{l.transferId=B}),F.on("load-perceived",B=>{l.activeProcessor=null,l.transferId=null,l.serverFileReference=B,h(Ut.PROCESSING_COMPLETE),f("process-complete",B)}),F.on("start",()=>{f("process-start")}),F.on("error",B=>{l.activeProcessor=null,h(Ut.PROCESSING_ERROR),f("process-error",B)}),F.on("abort",B=>{l.activeProcessor=null,l.serverFileReference=B,h(Ut.IDLE),f("process-abort"),c&&c()}),F.on("progress",B=>{f("process-progress",B)});const Y=B=>{l.archived||F.process(B,{...d})},G=console.error;j(l.file,Y,G),l.activeProcessor=F},T=()=>{l.processingAborted=!1,h(Ut.PROCESSING_QUEUED)},M=()=>new Promise(F=>{if(!l.activeProcessor){l.processingAborted=!0,h(Ut.IDLE),f("process-abort"),F();return}c=()=>{F()},l.activeProcessor.abort()}),D=(F,j)=>new Promise((Y,G)=>{const B=l.serverFileReference!==null?l.serverFileReference:l.transferId;if(B===null){Y();return}F(B,()=>{l.serverFileReference=null,l.transferId=null,Y()},P=>{if(!j){Y();return}h(Ut.PROCESSING_REVERT_ERROR),f("process-revert-error"),G(P)}),h(Ut.IDLE),f("process-revert")}),C=(F,j,Y)=>{const G=F.split("."),B=G[0],P=G.pop();let z=d;G.forEach($=>z=z[$]),JSON.stringify(z[P])!==JSON.stringify(j)&&(z[P]=j,f("metadata-update",{key:B,value:d[B],silent:Y}))},I={id:{get:()=>o},origin:{get:()=>t,set:F=>t=F},serverId:{get:()=>l.serverFileReference},transferId:{get:()=>l.transferId},status:{get:()=>l.status},filename:{get:()=>l.file.name},filenameWithoutExtension:{get:()=>wA(l.file.name)},fileExtension:{get:m},fileType:{get:v},fileSize:{get:E},file:{get:b},relativePath:{get:()=>l.file._relativePath},source:{get:()=>l.source},getMetadata:F=>AA(F?d[F]:d),setMetadata:(F,j,Y)=>{if(Ki(F)){const G=F;return Object.keys(G).forEach(B=>{C(B,G[B],j)}),F}return C(F,j,Y),j},extend:(F,j)=>R[F]=j,abortLoad:y,retryLoad:A,requestProcessing:T,abortProcessing:M,load:w,process:S,revert:D,...Af(),freeze:()=>l.frozen=!0,release:()=>l.released=!0,released:{get:()=>l.released},archive:()=>l.archived=!0,archived:{get:()=>l.archived}},R=ps(I);return R},PP=(t,i)=>Sa(i)?0:Ar(i)?t.findIndex(r=>r.id===i):-1,$E=(t,i)=>{const r=PP(t,i);if(!(r<0))return t[r]||null},jE=(t,i,r,o,l,c)=>{const d=nl(null,t,{method:"GET",responseType:"blob"});return d.onload=h=>{const f=h.getAllResponseHeaders(),m=l0(f).name||Oc(t);i(gi("load",h.status,au(h.response,m),f))},d.onerror=h=>{r(gi("error",h.status,h.statusText,h.getAllResponseHeaders()))},d.onheaders=h=>{c(gi("headers",h.status,null,h.getAllResponseHeaders()))},d.ontimeout=il(r),d.onprogress=o,d.onabort=l,d},HE=t=>(t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),BP=t=>(t.indexOf(":")>-1||t.indexOf("//")>-1)&&HE(location.href)!==HE(t),Xd=t=>(...i)=>Js(t)?t(...i):t,zP=t=>!su(t.file),hm=(t,i)=>{clearTimeout(i.listUpdateTimeout),i.listUpdateTimeout=setTimeout(()=>{t("DID_UPDATE_ITEMS",{items:Fo(i.items)})},0)},VE=(t,...i)=>new Promise(r=>{if(!t)return r(!0);const o=t(...i);if(o==null)return r(!0);if(typeof o=="boolean")return r(o);typeof o.then=="function"&&o.then(r)}),fm=(t,i)=>{t.items.sort((r,o)=>i(Nr(r),Nr(o)))},po=(t,i)=>({query:r,success:o=()=>{},failure:l=()=>{},...c}={})=>{const d=Xs(t.items,r);if(!d){l({error:gi("error",0,"Item not found"),file:null});return}i(d,o,l,c||{})},$P=(t,i,r)=>({ABORT_ALL:()=>{Fo(r.items).forEach(o=>{o.freeze(),o.abortLoad(),o.abortProcessing()})},DID_SET_FILES:({value:o=[]})=>{const l=o.map(d=>({source:d.source?d.source:d,options:d.options}));let c=Fo(r.items);c.forEach(d=>{l.find(h=>h.source===d.source||h.source===d.file)||t("REMOVE_ITEM",{query:d,remove:!1})}),c=Fo(r.items),l.forEach((d,h)=>{c.find(f=>f.source===d.source||f.file===d.source)||t("ADD_ITEM",{...d,interactionMethod:bo.NONE,index:h})})},DID_UPDATE_ITEM_METADATA:({id:o,action:l,change:c})=>{c.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout(()=>{const d=$E(r.items,o);if(!i("IS_ASYNC")){Lo("SHOULD_PREPARE_OUTPUT",!1,{item:d,query:i,action:l,change:c}).then(v=>{const E=i("GET_BEFORE_PREPARE_FILE");E&&(v=E(d,v)),v&&t("REQUEST_PREPARE_OUTPUT",{query:o,item:d,success:b=>{t("DID_PREPARE_OUTPUT",{id:o,file:b})}},!0)});return}d.origin===zi.LOCAL&&t("DID_LOAD_ITEM",{id:d.id,error:null,serverFileReference:d.source});const h=()=>{setTimeout(()=>{t("REQUEST_ITEM_PROCESSING",{query:o})},32)},f=v=>{d.revert(Zu(r.options.server.url,r.options.server.revert),i("GET_FORCE_REVERT")).then(v?h:()=>{}).catch(()=>{})},m=v=>{d.abortProcessing().then(v?h:()=>{})};if(d.status===Ut.PROCESSING_COMPLETE)return f(r.options.instantUpload);if(d.status===Ut.PROCESSING)return m(r.options.instantUpload);r.options.instantUpload&&h()},0))},MOVE_ITEM:({query:o,index:l})=>{const c=Xs(r.items,o);if(!c)return;const d=r.items.indexOf(c);l=vA(l,0,r.items.length-1),d!==l&&r.items.splice(l,0,r.items.splice(d,1)[0])},SORT:({compare:o})=>{fm(r,o),t("DID_SORT_ITEMS",{items:i("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:o,index:l,interactionMethod:c,success:d=()=>{},failure:h=()=>{}})=>{let f=l;if(l===-1||typeof l>"u"){const w=i("GET_ITEM_INSERT_LOCATION"),A=i("GET_TOTAL_ITEMS");f=w==="before"?0:A}const m=i("GET_IGNORED_FILES"),v=w=>su(w)?!m.includes(w.name.toLowerCase()):!Sa(w),b=o.filter(v).map(w=>new Promise((A,y)=>{t("ADD_ITEM",{interactionMethod:c,source:w.source||w,success:A,failure:y,index:f++,options:w.options||{}})}));Promise.all(b).then(d).catch(h)},ADD_ITEM:({source:o,index:l=-1,interactionMethod:c,success:d=()=>{},failure:h=()=>{},options:f={}})=>{if(Sa(o)){h({error:gi("error",0,"No source"),file:null});return}if(su(o)&&r.options.ignoredFiles.includes(o.name.toLowerCase()))return;if(!gP(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){const M=gi("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:o,error:M}),h({error:M,file:null});return}const T=Fo(r.items)[0];if(T.status===Ut.PROCESSING_COMPLETE||T.status===Ut.PROCESSING_REVERT_ERROR){const M=i("GET_FORCE_REVERT");if(T.revert(Zu(r.options.server.url,r.options.server.revert),M).then(()=>{M&&t("ADD_ITEM",{source:o,index:l,interactionMethod:c,success:d,failure:h,options:f})}).catch(()=>{}),M)return}t("REMOVE_ITEM",{query:T.id})}const m=f.type==="local"?zi.LOCAL:f.type==="limbo"?zi.LIMBO:zi.INPUT,v=NP(m,m===zi.INPUT?null:o,f.file);Object.keys(f.metadata||{}).forEach(T=>{v.setMetadata(T,f.metadata[T])}),ll("DID_CREATE_ITEM",v,{query:i,dispatch:t});const E=i("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(l=E==="before"?-1:r.items.length),bP(r.items,v,l),Js(E)&&o&&fm(r,E);const b=v.id;v.on("init",()=>{t("DID_INIT_ITEM",{id:b})}),v.on("load-init",()=>{t("DID_START_ITEM_LOAD",{id:b})}),v.on("load-meta",()=>{t("DID_UPDATE_ITEM_META",{id:b})}),v.on("load-progress",T=>{t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:b,progress:T})}),v.on("load-request-error",T=>{const M=Xd(r.options.labelFileLoadError)(T);if(T.code>=400&&T.code<500){t("DID_THROW_ITEM_INVALID",{id:b,error:T,status:{main:M,sub:`${T.code} (${T.body})`}}),h({error:T,file:Nr(v)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:b,error:T,status:{main:M,sub:r.options.labelTapToRetry}})}),v.on("load-file-error",T=>{t("DID_THROW_ITEM_INVALID",{id:b,error:T.status,status:T.status}),h({error:T.status,file:Nr(v)})}),v.on("load-abort",()=>{t("REMOVE_ITEM",{query:b})}),v.on("load-skip",()=>{t("COMPLETE_LOAD_ITEM",{query:b,item:v,data:{source:o,success:d}})}),v.on("load",()=>{const T=M=>{if(!M){t("REMOVE_ITEM",{query:b});return}v.on("metadata-update",D=>{t("DID_UPDATE_ITEM_METADATA",{id:b,change:D})}),Lo("SHOULD_PREPARE_OUTPUT",!1,{item:v,query:i}).then(D=>{const C=i("GET_BEFORE_PREPARE_FILE");C&&(D=C(v,D));const k=()=>{t("COMPLETE_LOAD_ITEM",{query:b,item:v,data:{source:o,success:d}}),hm(t,r)};if(D){t("REQUEST_PREPARE_OUTPUT",{query:b,item:v,success:I=>{t("DID_PREPARE_OUTPUT",{id:b,file:I}),k()}},!0);return}k()})};Lo("DID_LOAD_ITEM",v,{query:i,dispatch:t}).then(()=>{VE(i("GET_BEFORE_ADD_FILE"),Nr(v)).then(T)}).catch(M=>{if(!M||!M.error||!M.status)return T(!1);t("DID_THROW_ITEM_INVALID",{id:b,error:M.error,status:M.status})})}),v.on("process-start",()=>{t("DID_START_ITEM_PROCESSING",{id:b})}),v.on("process-progress",T=>{t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:b,progress:T})}),v.on("process-error",T=>{t("DID_THROW_ITEM_PROCESSING_ERROR",{id:b,error:T,status:{main:Xd(r.options.labelFileProcessingError)(T),sub:r.options.labelTapToRetry}})}),v.on("process-revert-error",T=>{t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:b,error:T,status:{main:Xd(r.options.labelFileProcessingRevertError)(T),sub:r.options.labelTapToRetry}})}),v.on("process-complete",T=>{t("DID_COMPLETE_ITEM_PROCESSING",{id:b,error:null,serverFileReference:T}),t("DID_DEFINE_VALUE",{id:b,value:T})}),v.on("process-abort",()=>{t("DID_ABORT_ITEM_PROCESSING",{id:b})}),v.on("process-revert",()=>{t("DID_REVERT_ITEM_PROCESSING",{id:b}),t("DID_DEFINE_VALUE",{id:b,value:null})}),t("DID_ADD_ITEM",{id:b,index:l,interactionMethod:c}),hm(t,r);const{url:w,load:A,restore:y,fetch:S}=r.options.server||{};v.load(o,MP(m===zi.INPUT?Ar(o)&&BP(o)&&S?dm(w,S):jE:m===zi.LIMBO?dm(w,y):dm(w,A)),(T,M,D)=>{Lo("LOAD_FILE",T,{query:i}).then(M).catch(D)})},REQUEST_PREPARE_OUTPUT:({item:o,success:l,failure:c=()=>{}})=>{const d={error:gi("error",0,"Item not found"),file:null};if(o.archived)return c(d);Lo("PREPARE_OUTPUT",o.file,{query:i,item:o}).then(h=>{Lo("COMPLETE_PREPARE_OUTPUT",h,{query:i,item:o}).then(f=>{if(o.archived)return c(d);l(f)})})},COMPLETE_LOAD_ITEM:({item:o,data:l})=>{const{success:c,source:d}=l,h=i("GET_ITEM_INSERT_LOCATION");if(Js(h)&&d&&fm(r,h),t("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.origin===zi.INPUT?null:d}),c(Nr(o)),o.origin===zi.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:o.id});return}if(o.origin===zi.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:d}),t("DID_DEFINE_VALUE",{id:o.id,value:o.serverId||d});return}i("IS_ASYNC")&&r.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:o.id})},RETRY_ITEM_LOAD:po(r,o=>{o.retryLoad()}),REQUEST_ITEM_PREPARE:po(r,(o,l,c)=>{t("REQUEST_PREPARE_OUTPUT",{query:o.id,item:o,success:d=>{t("DID_PREPARE_OUTPUT",{id:o.id,file:d}),l({file:o,output:d})},failure:c},!0)}),REQUEST_ITEM_PROCESSING:po(r,(o,l,c)=>{if(!(o.status===Ut.IDLE||o.status===Ut.PROCESSING_ERROR)){const h=()=>t("REQUEST_ITEM_PROCESSING",{query:o,success:l,failure:c}),f=()=>document.hidden?h():setTimeout(h,32);o.status===Ut.PROCESSING_COMPLETE||o.status===Ut.PROCESSING_REVERT_ERROR?o.revert(Zu(r.options.server.url,r.options.server.revert),i("GET_FORCE_REVERT")).then(f).catch(()=>{}):o.status===Ut.PROCESSING&&o.abortProcessing().then(f);return}o.status!==Ut.PROCESSING_QUEUED&&(o.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:o.id}),t("PROCESS_ITEM",{query:o,success:l,failure:c},!0))}),PROCESS_ITEM:po(r,(o,l,c)=>{const d=i("GET_MAX_PARALLEL_UPLOADS");if(i("GET_ITEMS_BY_STATUS",Ut.PROCESSING).length===d){r.processingQueue.push({id:o.id,success:l,failure:c});return}if(o.status===Ut.PROCESSING)return;const f=()=>{const v=r.processingQueue.shift();if(!v)return;const{id:E,success:b,failure:w}=v,A=Xs(r.items,E);if(!A||A.archived){f();return}t("PROCESS_ITEM",{query:E,success:b,failure:w},!0)};o.onOnce("process-complete",()=>{l(Nr(o)),f();const v=r.options.server;if(r.options.instantUpload&&o.origin===zi.LOCAL&&Js(v.remove)){const w=()=>{};o.origin=zi.LIMBO,r.options.server.remove(o.source,w,w)}i("GET_ITEMS_BY_STATUS",Ut.PROCESSING_COMPLETE).length===r.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),o.onOnce("process-error",v=>{c({error:v,file:Nr(o)}),f()});const m=r.options;o.process(LP(IP(m.server.url,m.server.process,m.name,{chunkTransferId:o.transferId,chunkServer:m.server.patch,chunkUploads:m.chunkUploads,chunkForce:m.chunkForce,chunkSize:m.chunkSize,chunkRetryDelays:m.chunkRetryDelays}),{allowMinimumUploadDuration:i("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(v,E,b)=>{Lo("PREPARE_OUTPUT",v,{query:i,item:o}).then(w=>{t("DID_PREPARE_OUTPUT",{id:o.id,file:w}),E(w)}).catch(b)})}),RETRY_ITEM_PROCESSING:po(r,o=>{t("REQUEST_ITEM_PROCESSING",{query:o})}),REQUEST_REMOVE_ITEM:po(r,o=>{VE(i("GET_BEFORE_REMOVE_FILE"),Nr(o)).then(l=>{l&&t("REMOVE_ITEM",{query:o})})}),RELEASE_ITEM:po(r,o=>{o.release()}),REMOVE_ITEM:po(r,(o,l,c,d)=>{const h=()=>{const m=o.id;$E(r.items,m).archive(),t("DID_REMOVE_ITEM",{error:null,id:m,item:o}),hm(t,r),l(Nr(o))},f=r.options.server;o.origin===zi.LOCAL&&f&&Js(f.remove)&&d.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:o.id}),f.remove(o.source,()=>h(),m=>{t("DID_THROW_ITEM_REMOVE_ERROR",{id:o.id,error:gi("error",0,m,null),status:{main:Xd(r.options.labelFileRemoveError)(m),sub:r.options.labelTapToRetry}})})):((d.revert&&o.origin!==zi.LOCAL&&o.serverId!==null||r.options.chunkUploads&&o.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&o.revert(Zu(r.options.server.url,r.options.server.revert),i("GET_FORCE_REVERT")),h())}),ABORT_ITEM_LOAD:po(r,o=>{o.abortLoad()}),ABORT_ITEM_PROCESSING:po(r,o=>{if(o.serverId){t("REVERT_ITEM_PROCESSING",{id:o.id});return}o.abortProcessing().then(()=>{r.options.instantUpload&&t("REMOVE_ITEM",{query:o.id})})}),REQUEST_REVERT_ITEM_PROCESSING:po(r,o=>{if(!r.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:o});return}const l=h=>{h&&t("REVERT_ITEM_PROCESSING",{query:o})},c=i("GET_BEFORE_REMOVE_FILE");if(!c)return l(!0);const d=c(Nr(o));if(d==null)return l(!0);if(typeof d=="boolean")return l(d);typeof d.then=="function"&&d.then(l)}),REVERT_ITEM_PROCESSING:po(r,o=>{o.revert(Zu(r.options.server.url,r.options.server.revert),i("GET_FORCE_REVERT")).then(()=>{(r.options.instantUpload||zP(o))&&t("REMOVE_ITEM",{query:o.id})}).catch(()=>{})}),SET_OPTIONS:({options:o})=>{const l=Object.keys(o),c=jP.filter(h=>l.includes(h));[...c,...Object.keys(o).filter(h=>!c.includes(h))].forEach(h=>{t(`SET_${wf(h,"_").toUpperCase()}`,{value:o[h]})})}}),jP=["server"],u0=t=>t,Ta=t=>document.createElement(t),vi=(t,i)=>{let r=t.childNodes[0];r?i!==r.nodeValue&&(r.nodeValue=i):(r=document.createTextNode(i),t.appendChild(r))},UE=(t,i,r,o)=>{const l=(o%360-90)*Math.PI/180;return{x:t+r*Math.cos(l),y:i+r*Math.sin(l)}},HP=(t,i,r,o,l,c)=>{const d=UE(t,i,r,l),h=UE(t,i,r,o);return["M",d.x,d.y,"A",r,r,0,c,0,h.x,h.y].join(" ")},VP=(t,i,r,o,l)=>{let c=1;return l>o&&l-o<=.5&&(c=0),o>l&&o-l>=.5&&(c=0),HP(t,i,r,Math.min(.9999,o)*360,Math.min(.9999,l)*360,c)},UP=({root:t,props:i})=>{i.spin=!1,i.progress=0,i.opacity=0;const r=zh("svg");t.ref.path=zh("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(t.ref.path),t.ref.svg=r,t.appendChild(r)},YP=({root:t,props:i})=>{if(i.opacity===0)return;i.align&&(t.element.dataset.align=i.align);const r=parseInt(Di(t.ref.path,"stroke-width"),10),o=t.rect.element.width*.5;let l=0,c=0;i.spin?(l=0,c=.5):(l=0,c=i.progress);const d=VP(o,o,o-r,l,c);Di(t.ref.path,"d",d),Di(t.ref.path,"stroke-opacity",i.spin||i.progress>0?1:0)},YE=Si({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:UP,write:YP,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),GP=({root:t,props:i})=>{t.element.innerHTML=(i.icon||"")+`<span>${i.label}</span>`,i.isDisabled=!1},WP=({root:t,props:i})=>{const{isDisabled:r}=i,o=t.query("GET_DISABLED")||i.opacity===0;o&&!r?(i.isDisabled=!0,Di(t.element,"disabled","disabled")):!o&&r&&(i.isDisabled=!1,t.element.removeAttribute("disabled"))},DA=Si({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:GP,write:WP}),xA=(t,i=".",r=1e3,o={})=>{const{labelBytes:l="bytes",labelKilobytes:c="KB",labelMegabytes:d="MB",labelGigabytes:h="GB"}=o;t=Math.round(Math.abs(t));const f=r,m=r*r,v=r*r*r;return t<f?`${t} ${l}`:t<m?`${Math.floor(t/f)} ${c}`:t<v?`${GE(t/m,1,i)} ${d}`:`${GE(t/v,2,i)} ${h}`},GE=(t,i,r)=>t.toFixed(i).split(".").filter(o=>o!=="0").join(r),qP=({root:t,props:i})=>{const r=Ta("span");r.className="filepond--file-info-main",Di(r,"aria-hidden","true"),t.appendChild(r),t.ref.fileName=r;const o=Ta("span");o.className="filepond--file-info-sub",t.appendChild(o),t.ref.fileSize=o,vi(o,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),vi(r,u0(t.query("GET_ITEM_NAME",i.id)))},ig=({root:t,props:i})=>{vi(t.ref.fileSize,xA(t.query("GET_ITEM_SIZE",i.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),vi(t.ref.fileName,u0(t.query("GET_ITEM_NAME",i.id)))},WE=({root:t,props:i})=>{if(mu(t.query("GET_ITEM_SIZE",i.id))){ig({root:t,props:i});return}vi(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},KP=Si({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Sr({DID_LOAD_ITEM:ig,DID_UPDATE_ITEM_META:ig,DID_THROW_ITEM_LOAD_ERROR:WE,DID_THROW_ITEM_INVALID:WE}),didCreateView:t=>{ll("CREATE_VIEW",{...t,view:t})},create:qP,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),SA=t=>Math.round(t*100),JP=({root:t})=>{const i=Ta("span");i.className="filepond--file-status-main",t.appendChild(i),t.ref.main=i;const r=Ta("span");r.className="filepond--file-status-sub",t.appendChild(r),t.ref.sub=r,TA({root:t,action:{progress:null}})},TA=({root:t,action:i})=>{const r=i.progress===null?t.query("GET_LABEL_FILE_LOADING"):`${t.query("GET_LABEL_FILE_LOADING")} ${SA(i.progress)}%`;vi(t.ref.main,r),vi(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},XP=({root:t,action:i})=>{const r=i.progress===null?t.query("GET_LABEL_FILE_PROCESSING"):`${t.query("GET_LABEL_FILE_PROCESSING")} ${SA(i.progress)}%`;vi(t.ref.main,r),vi(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},ZP=({root:t})=>{vi(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),vi(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},QP=({root:t})=>{vi(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),vi(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},eB=({root:t})=>{vi(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),vi(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},qE=({root:t})=>{vi(t.ref.main,""),vi(t.ref.sub,"")},Qu=({root:t,action:i})=>{vi(t.ref.main,i.status.main),vi(t.ref.sub,i.status.sub)},tB=Si({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Sr({DID_LOAD_ITEM:qE,DID_REVERT_ITEM_PROCESSING:qE,DID_REQUEST_ITEM_PROCESSING:ZP,DID_ABORT_ITEM_PROCESSING:QP,DID_COMPLETE_ITEM_PROCESSING:eB,DID_UPDATE_ITEM_PROCESS_PROGRESS:XP,DID_UPDATE_ITEM_LOAD_PROGRESS:TA,DID_THROW_ITEM_LOAD_ERROR:Qu,DID_THROW_ITEM_INVALID:Qu,DID_THROW_ITEM_PROCESSING_ERROR:Qu,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Qu,DID_THROW_ITEM_REMOVE_ERROR:Qu}),didCreateView:t=>{ll("CREATE_VIEW",{...t,view:t})},create:JP,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),rg={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},og=[];ui(rg,t=>{og.push(t)});var Zr=t=>{if(ag(t)==="right")return 0;const i=t.ref.buttonRemoveItem.rect.element;return i.hidden?null:i.width+i.left},nB=t=>t.ref.buttonAbortItemLoad.rect.element.width,Zd=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.height/4),iB=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.left/2),rB=t=>t.query("GET_STYLE_LOAD_INDICATOR_POSITION"),oB=t=>t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),ag=t=>t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),aB={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:rB},processProgressIndicator:{opacity:0,align:oB},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},KE={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Zr},status:{translateX:Zr}},pm={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Gl={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Zr},status:{translateX:Zr,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Zr},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ag},info:{translateX:Zr},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ag},buttonRemoveItem:{opacity:1},info:{translateX:Zr},status:{opacity:1,translateX:Zr}},DID_LOAD_ITEM:KE,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Zr},status:{translateX:Zr}},DID_START_ITEM_PROCESSING:pm,DID_REQUEST_ITEM_PROCESSING:pm,DID_UPDATE_ITEM_PROCESS_PROGRESS:pm,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Zr}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Zr},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:KE},sB=Si({create:({root:t})=>{t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),lB=({root:t,props:i})=>{const r=Object.keys(rg).reduce((A,y)=>(A[y]={...rg[y]},A),{}),{id:o}=i,l=t.query("GET_ALLOW_REVERT"),c=t.query("GET_ALLOW_REMOVE"),d=t.query("GET_ALLOW_PROCESS"),h=t.query("GET_INSTANT_UPLOAD"),f=t.query("IS_ASYNC"),m=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let v;f?d&&!l?v=A=>!/RevertItemProcessing/.test(A):!d&&l?v=A=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(A):!d&&!l&&(v=A=>!/Process/.test(A)):v=A=>!/Process/.test(A);const E=v?og.filter(v):og.concat();if(h&&l&&(r.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",r.RevertItemProcessing.icon="GET_ICON_REMOVE"),f&&!l){const A=Gl.DID_COMPLETE_ITEM_PROCESSING;A.info.translateX=iB,A.info.translateY=Zd,A.status.translateY=Zd,A.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(f&&!d&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(A=>{Gl[A].status.translateY=Zd}),Gl.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=nB),m&&l){r.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const A=Gl.DID_COMPLETE_ITEM_PROCESSING;A.info.translateX=Zr,A.status.translateY=Zd,A.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}c||(r.RemoveItem.disabled=!0),ui(r,(A,y)=>{const S=t.createChildView(DA,{label:t.query(y.label),icon:t.query(y.icon),opacity:0});E.includes(A)&&t.appendChildView(S),y.disabled&&(S.element.setAttribute("disabled","disabled"),S.element.setAttribute("hidden","hidden")),S.element.dataset.align=t.query(`GET_STYLE_${y.align}`),S.element.classList.add(y.className),S.on("click",T=>{T.stopPropagation(),!y.disabled&&t.dispatch(y.action,{query:o})}),t.ref[`button${A}`]=S}),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(sB)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(KP,{id:o})),t.ref.status=t.appendChildView(t.createChildView(tB,{id:o}));const b=t.appendChildView(t.createChildView(YE,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));b.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=b;const w=t.appendChildView(t.createChildView(YE,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));w.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=w,t.ref.activeStyles=[]},uB=({root:t,actions:i,props:r})=>{cB({root:t,actions:i,props:r});let o=i.concat().filter(l=>/^DID_/.test(l.type)).reverse().find(l=>Gl[l.type]);if(o){t.ref.activeStyles=[];const l=Gl[o.type];ui(aB,(c,d)=>{const h=t.ref[c];ui(d,(f,m)=>{const v=l[c]&&typeof l[c][f]<"u"?l[c][f]:m;t.ref.activeStyles.push({control:h,key:f,value:v})})})}t.ref.activeStyles.forEach(({control:l,key:c,value:d})=>{l[c]=typeof d=="function"?d(t):d})},cB=Sr({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:t,action:i})=>{t.ref.buttonAbortItemProcessing.label=i.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:t,action:i})=>{t.ref.buttonAbortItemLoad.label=i.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:t,action:i})=>{t.ref.buttonAbortItemRemoval.label=i.value},DID_REQUEST_ITEM_PROCESSING:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:t})=>{t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:t,action:i})=>{t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=i.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:t,action:i})=>{t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=i.progress}}),dB=Si({create:lB,write:uB,didCreateView:t=>{ll("CREATE_VIEW",{...t,view:t})},name:"file"}),hB=({root:t,props:i})=>{t.ref.fileName=Ta("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(dB,{id:i.id})),t.ref.data=!1},fB=({root:t,props:i})=>{vi(t.ref.fileName,u0(t.query("GET_ITEM_NAME",i.id)))},pB=Si({create:hB,ignoreRect:!0,write:Sr({DID_LOAD_ITEM:fB}),didCreateView:t=>{ll("CREATE_VIEW",{...t,view:t})},tag:"fieldset",name:"file-wrapper"}),JE={type:"spring",damping:.6,mass:7},mB=({root:t,props:i})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:JE},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:JE},styles:["translateY"]}}].forEach(r=>{gB(t,r,i.name)}),t.element.classList.add(`filepond--${i.name}`),t.ref.scalable=null},gB=(t,i,r)=>{const o=Si({name:`panel-${i.name} filepond--${r}`,mixins:i.mixins,ignoreRectUpdate:!0}),l=t.createChildView(o,i.props);t.ref[i.name]=t.appendChildView(l)},vB=({root:t,props:i})=>{if((t.ref.scalable===null||i.scalable!==t.ref.scalable)&&(t.ref.scalable=lA(i.scalable)?i.scalable:!0,t.element.dataset.scalable=t.ref.scalable),!i.height)return;const r=t.ref.top.rect.element,o=t.ref.bottom.rect.element,l=Math.max(r.height+o.height,i.height);t.ref.center.translateY=r.height,t.ref.center.scaleY=(l-r.height-o.height)/100,t.ref.bottom.translateY=l-o.height},CA=Si({name:"panel",read:({root:t,props:i})=>i.heightCurrent=t.ref.bottom.translateY,write:vB,create:mB,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),bB=t=>{const i=t.map(o=>o.id);let r;return{setIndex:o=>{r=o},getIndex:()=>r,getItemIndex:o=>i.indexOf(o.id)}},XE={type:"spring",stiffness:.75,damping:.45,mass:10},ZE="spring",QE={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},yB=({root:t,props:i})=>{if(t.ref.handleClick=o=>t.dispatch("DID_ACTIVATE_ITEM",{id:i.id}),t.element.id=`filepond--item-${i.id}`,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(pB,{id:i.id})),t.ref.panel=t.appendChildView(t.createChildView(CA,{name:"item-panel"})),t.ref.panel.height=null,i.markedForRemoval=!1,!t.query("GET_ALLOW_REORDER"))return;t.element.dataset.dragState="idle";const r=o=>{if(!o.isPrimary)return;let l=!1;const c={x:o.pageX,y:o.pageY};i.dragOrigin={x:t.translateX,y:t.translateY},i.dragCenter={x:o.offsetX,y:o.offsetY};const d=bB(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:i.id,dragState:d});const h=m=>{if(!m.isPrimary)return;m.stopPropagation(),m.preventDefault(),i.dragOffset={x:m.pageX-c.x,y:m.pageY-c.y},i.dragOffset.x*i.dragOffset.x+i.dragOffset.y*i.dragOffset.y>16&&!l&&(l=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:i.id,dragState:d})},f=m=>{m.isPrimary&&(document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",f),i.dragOffset={x:m.pageX-c.x,y:m.pageY-c.y},t.dispatch("DID_DROP_ITEM",{id:i.id,dragState:d}),l&&setTimeout(()=>t.element.addEventListener("click",t.ref.handleClick),0))};document.addEventListener("pointermove",h),document.addEventListener("pointerup",f)};t.element.addEventListener("pointerdown",r)},EB=Sr({DID_UPDATE_PANEL_HEIGHT:({root:t,action:i})=>{t.height=i.height}}),_B=Sr({DID_GRAB_ITEM:({root:t,props:i})=>{i.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:({root:t})=>{t.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:t,props:i})=>{i.dragOffset=null,i.dragOrigin=null,t.element.dataset.dragState="drop"}},({root:t,actions:i,props:r,shouldOptimize:o})=>{t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");let l=i.concat().filter(d=>/^DID_/.test(d.type)).reverse().find(d=>QE[d.type]);l&&l.type!==r.currentState&&(r.currentState=l.type,t.element.dataset.filepondItemState=QE[r.currentState]||"");const c=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");c?o||(t.height=t.rect.element.width*c):(EB({root:t,actions:i,props:r}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),o&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),wB=Si({create:yB,write:_B,destroy:({root:t,props:i})=>{t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:i.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ZE,scaleY:ZE,translateX:XE,translateY:XE,opacity:{type:"tween",duration:150}}}}),c0=(t,i)=>Math.max(1,Math.floor((t+1)/i)),d0=(t,i,r)=>{if(!r)return;const o=t.rect.element.width,l=i.length;let c=null;if(l===0||r.top<i[0].rect.element.top)return-1;const h=i[0].rect.element,f=h.marginLeft+h.marginRight,m=h.width+f,v=c0(o,m);if(v===1){for(let w=0;w<l;w++){const A=i[w],y=A.rect.outer.top+A.rect.element.height*.5;if(r.top<y)return w}return l}const E=h.marginTop+h.marginBottom,b=h.height+E;for(let w=0;w<l;w++){const A=w%v,y=Math.floor(w/v),S=A*m,T=y*b,M=T-h.marginTop,D=S+m,C=T+b+h.marginBottom;if(r.top<C&&r.top>M){if(r.left<D)return w;w!==l-1?c=w:c=null}}return c!==null?c:l},Qd={height:0,width:0,get getHeight(){return this.height},set setHeight(t){(this.height===0||t===0)&&(this.height=t)},get getWidth(){return this.width},set setWidth(t){(this.width===0||t===0)&&(this.width=t)},setDimensions:function(t,i){(this.height===0||t===0)&&(this.height=t),(this.width===0||i===0)&&(this.width=i)}},AB=({root:t})=>{Di(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},DB=({root:t,action:i})=>{const{id:r,index:o,interactionMethod:l}=i;t.ref.addIndex=o;const c=Date.now();let d=c,h=1;if(l!==bo.NONE){h=0;const f=t.query("GET_ITEM_INSERT_INTERVAL"),m=c-t.ref.lastItemSpanwDate;d=m<f?c+(f-m):c}t.ref.lastItemSpanwDate=d,t.appendChildView(t.createChildView(wB,{spawnDate:d,id:r,opacity:h,interactionMethod:l}),o)},e_=(t,i,r,o=0,l=1)=>{t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=i,t.translateY=r,Date.now()>t.spawnDate&&(t.opacity===0&&xB(t,i,r,o,l),t.scaleX=1,t.scaleY=1,t.opacity=1))},xB=(t,i,r,o,l)=>{t.interactionMethod===bo.NONE?(t.translateX=null,t.translateX=i,t.translateY=null,t.translateY=r):t.interactionMethod===bo.DROP?(t.translateX=null,t.translateX=i-o*20,t.translateY=null,t.translateY=r-l*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===bo.BROWSE?(t.translateY=null,t.translateY=r-30):t.interactionMethod===bo.API&&(t.translateX=null,t.translateX=i-30,t.translateY=null)},SB=({root:t,action:i})=>{const{id:r}=i,o=t.childViews.find(l=>l.id===r);o&&(o.scaleX=.9,o.scaleY=.9,o.opacity=0,o.markedForRemoval=!0)},mm=t=>t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5,TB=t=>t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5,CB=({root:t,action:i})=>{const{id:r,dragState:o}=i,l=t.query("GET_ITEM",{id:r}),c=t.childViews.find(S=>S.id===r),d=t.childViews.length,h=o.getItemIndex(l);if(!c)return;const f={x:c.dragOrigin.x+c.dragOffset.x+c.dragCenter.x,y:c.dragOrigin.y+c.dragOffset.y+c.dragCenter.y},m=mm(c),v=TB(c);let E=Math.floor(t.rect.outer.width/v);E>d&&(E=d);const b=Math.floor(d/E+1);Qd.setHeight=m*b,Qd.setWidth=v*E;var w={y:Math.floor(f.y/m),x:Math.floor(f.x/v),getGridIndex:function(){return f.y>Qd.getHeight||f.y<0||f.x>Qd.getWidth||f.x<0?h:this.y*E+this.x},getColIndex:function(){const T=t.query("GET_ACTIVE_ITEMS"),M=t.childViews.filter(G=>G.rect.element.height),D=T.map(G=>M.find(B=>B.id===G.id)),C=D.findIndex(G=>G===c),k=mm(c),I=D.length;let R=I,F=0,j=0,Y=0;for(let G=0;G<I;G++)if(F=mm(D[G]),Y=j,j=Y+F,f.y<j){if(C>G){if(f.y<Y+k){R=G;break}continue}R=G;break}return R}};const A=E>1?w.getGridIndex():w.getColIndex();t.dispatch("MOVE_ITEM",{query:c,index:A});const y=o.getIndex();if(y===void 0||y!==A){if(o.setIndex(A),y===void 0)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:h,target:A})}},MB=Sr({DID_ADD_ITEM:DB,DID_REMOVE_ITEM:SB,DID_DRAG_ITEM:CB}),kB=({root:t,props:i,actions:r,shouldOptimize:o})=>{MB({root:t,props:i,actions:r});const{dragCoordinates:l}=i,c=t.rect.element.width,d=t.childViews.filter(D=>D.rect.element.height),h=t.query("GET_ACTIVE_ITEMS").map(D=>d.find(C=>C.id===D.id)).filter(D=>D),f=l?d0(t,h,l):null,m=t.ref.addIndex||null;t.ref.addIndex=null;let v=0,E=0,b=0;if(h.length===0)return;const w=h[0].rect.element,A=w.marginTop+w.marginBottom,y=w.marginLeft+w.marginRight,S=w.width+y,T=w.height+A,M=c0(c,S);if(M===1){let D=0,C=0;h.forEach((k,I)=>{if(f){let j=I-f;j===-2?C=-A*.25:j===-1?C=-A*.75:j===0?C=A*.75:j===1?C=A*.25:C=0}o&&(k.translateX=null,k.translateY=null),k.markedForRemoval||e_(k,0,D+C);let F=(k.rect.element.height+A)*(k.markedForRemoval?k.opacity:1);D+=F})}else{let D=0,C=0;h.forEach((k,I)=>{I===f&&(v=1),I===m&&(b+=1),k.markedForRemoval&&k.opacity<.5&&(E-=1);const R=I+b+v+E,F=R%M,j=Math.floor(R/M),Y=F*S,G=j*T,B=Math.sign(Y-D),P=Math.sign(G-C);D=Y,C=G,!k.markedForRemoval&&(o&&(k.translateX=null,k.translateY=null),e_(k,Y,G,B,P))})}},OB=(t,i)=>i.filter(r=>r.data&&r.data.id?t.id===r.data.id:!0),IB=Si({create:AB,write:kB,tag:"ul",name:"list",didWriteView:({root:t})=>{t.childViews.filter(i=>i.markedForRemoval&&i.opacity===0&&i.resting).forEach(i=>{i._destroy(),t.removeChildView(i)})},filterFrameActionsForChild:OB,mixins:{apis:["dragCoordinates"]}}),RB=({root:t,props:i})=>{t.ref.list=t.appendChildView(t.createChildView(IB)),i.dragCoordinates=null,i.overflowing=!1},LB=({root:t,props:i,action:r})=>{t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(i.dragCoordinates={left:r.position.scopeLeft-t.ref.list.rect.element.left,top:r.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},FB=({props:t})=>{t.dragCoordinates=null},NB=Sr({DID_DRAG:LB,DID_END_DRAG:FB}),PB=({root:t,props:i,actions:r})=>{if(NB({root:t,props:i,actions:r}),t.ref.list.dragCoordinates=i.dragCoordinates,i.overflowing&&!i.overflow&&(i.overflowing=!1,t.element.dataset.state="",t.height=null),i.overflow){const o=Math.round(i.overflow);o!==t.height&&(i.overflowing=!0,t.element.dataset.state="overflow",t.height=o)}},BB=Si({create:RB,write:PB,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),No=(t,i,r,o="")=>{r?Di(t,i,o):t.removeAttribute(i)},zB=t=>{if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){const i=Ta("form"),r=t.parentNode,o=t.nextSibling;i.appendChild(t),i.reset(),o?r.insertBefore(t,o):r.appendChild(t)}}},$B=({root:t,props:i})=>{t.element.id=`filepond--browser-${i.id}`,Di(t.element,"name",t.query("GET_NAME")),Di(t.element,"aria-controls",`filepond--assistant-${i.id}`),Di(t.element,"aria-labelledby",`filepond--drop-label-${i.id}`),MA({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),kA({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),OA({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),sg({root:t}),IA({root:t,action:{value:t.query("GET_REQUIRED")}}),RA({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=r=>{if(!t.element.value)return;const o=Array.from(t.element.files).map(l=>(l._relativePath=l.webkitRelativePath,l));setTimeout(()=>{i.onload(o),zB(t.element)},250)},t.element.addEventListener("change",t.ref.handleChange)},MA=({root:t,action:i})=>{t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&No(t.element,"accept",!!i.value,i.value?i.value.join(","):"")},kA=({root:t,action:i})=>{No(t.element,"multiple",i.value)},OA=({root:t,action:i})=>{No(t.element,"webkitdirectory",i.value)},sg=({root:t})=>{const i=t.query("GET_DISABLED"),r=t.query("GET_ALLOW_BROWSE"),o=i||!r;No(t.element,"disabled",o)},IA=({root:t,action:i})=>{i.value?t.query("GET_TOTAL_ITEMS")===0&&No(t.element,"required",!0):No(t.element,"required",!1)},RA=({root:t,action:i})=>{No(t.element,"capture",!!i.value,i.value===!0?"":i.value)},t_=({root:t})=>{const{element:i}=t;t.query("GET_TOTAL_ITEMS")>0?(No(i,"required",!1),No(i,"name",!1)):(No(i,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&i.setCustomValidity(""),t.query("GET_REQUIRED")&&No(i,"required",!0))},jB=({root:t})=>{t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},HB=Si({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:$B,destroy:({root:t})=>{t.element.removeEventListener("change",t.ref.handleChange)},write:Sr({DID_LOAD_ITEM:t_,DID_REMOVE_ITEM:t_,DID_THROW_ITEM_INVALID:jB,DID_SET_DISABLED:sg,DID_SET_ALLOW_BROWSE:sg,DID_SET_ALLOW_DIRECTORIES_ONLY:OA,DID_SET_ALLOW_MULTIPLE:kA,DID_SET_ACCEPTED_FILE_TYPES:MA,DID_SET_CAPTURE_METHOD:RA,DID_SET_REQUIRED:IA})}),n_={ENTER:13,SPACE:32},VB=({root:t,props:i})=>{const r=Ta("label");Di(r,"for",`filepond--browser-${i.id}`),Di(r,"id",`filepond--drop-label-${i.id}`),Di(r,"aria-hidden","true"),t.ref.handleKeyDown=o=>{(o.keyCode===n_.ENTER||o.keyCode===n_.SPACE)&&(o.preventDefault(),t.ref.label.click())},t.ref.handleClick=o=>{o.target===r||r.contains(o.target)||t.ref.label.click()},r.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),LA(r,i.caption),t.appendChild(r),t.ref.label=r},LA=(t,i)=>{t.innerHTML=i;const r=t.querySelector(".filepond--label-action");return r&&Di(r,"tabindex","0"),i},UB=Si({name:"drop-label",ignoreRect:!0,create:VB,destroy:({root:t})=>{t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:Sr({DID_SET_LABEL_IDLE:({root:t,action:i})=>{LA(t.ref.label,i.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),YB=Si({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),GB=({root:t})=>{const i=t.rect.element.width*.5,r=t.rect.element.height*.5;t.ref.blob=t.appendChildView(t.createChildView(YB,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:i,translateY:r}))},WB=({root:t,action:i})=>{if(!t.ref.blob){GB({root:t});return}t.ref.blob.translateX=i.position.scopeLeft,t.ref.blob.translateY=i.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1},qB=({root:t})=>{t.ref.blob&&(t.ref.blob.opacity=0)},KB=({root:t})=>{t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},JB=({root:t,props:i,actions:r})=>{XB({root:t,props:i,actions:r});const{blob:o}=t.ref;r.length===0&&o&&o.opacity===0&&(t.removeChildView(o),t.ref.blob=null)},XB=Sr({DID_DRAG:WB,DID_DROP:KB,DID_END_DRAG:qB}),ZB=Si({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:JB}),FA=(t,i)=>{try{const r=new DataTransfer;i.forEach(o=>{o instanceof File?r.items.add(o):r.items.add(new File([o],o.name,{type:o.type}))}),t.files=r.files}catch{return!1}return!0},QB=({root:t})=>t.ref.fields={},xf=(t,i)=>t.ref.fields[i],h0=t=>{t.query("GET_ACTIVE_ITEMS").forEach(i=>{t.ref.fields[i.id]&&t.element.appendChild(t.ref.fields[i.id])})},i_=({root:t})=>h0(t),e2=({root:t,action:i})=>{const l=!(t.query("GET_ITEM",i.id).origin===zi.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),c=Ta("input");c.type=l?"file":"hidden",c.name=t.query("GET_NAME"),c.disabled=t.query("GET_DISABLED"),t.ref.fields[i.id]=c,h0(t)},t2=({root:t,action:i})=>{const r=xf(t,i.id);if(!r||(i.serverFileReference!==null&&(r.value=i.serverFileReference),!t.query("SHOULD_UPDATE_FILE_INPUT")))return;const o=t.query("GET_ITEM",i.id);FA(r,[o.file])},n2=({root:t,action:i})=>{t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const r=xf(t,i.id);r&&FA(r,[i.file])},0)},i2=({root:t})=>{t.element.disabled=t.query("GET_DISABLED")},r2=({root:t,action:i})=>{const r=xf(t,i.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete t.ref.fields[i.id])},o2=({root:t,action:i})=>{const r=xf(t,i.id);r&&(i.value===null?r.removeAttribute("value"):r.value=i.value,h0(t))},a2=Sr({DID_SET_DISABLED:i2,DID_ADD_ITEM:e2,DID_LOAD_ITEM:t2,DID_REMOVE_ITEM:r2,DID_DEFINE_VALUE:o2,DID_PREPARE_OUTPUT:n2,DID_REORDER_ITEMS:i_,DID_SORT_ITEMS:i_}),s2=Si({tag:"fieldset",name:"data",create:QB,write:a2,ignoreRect:!0}),l2=t=>"getRootNode"in t?t.getRootNode():document,u2=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],c2=["css","csv","html","txt"],d2={zip:"zip|compressed",epub:"application/epub+zip"},NA=(t="")=>(t=t.toLowerCase(),u2.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):c2.includes(t)?"text/"+t:d2[t]||""),f0=t=>new Promise((i,r)=>{const o=y2(t);if(o.length&&!h2(t))return i(o);f2(t).then(i)}),h2=t=>t.files?t.files.length>0:!1,f2=t=>new Promise((i,r)=>{const o=(t.items?Array.from(t.items):[]).filter(l=>p2(l)).map(l=>m2(l));if(!o.length){i(t.files?Array.from(t.files):[]);return}Promise.all(o).then(l=>{const c=[];l.forEach(d=>{c.push.apply(c,d)}),i(c.filter(d=>d).map(d=>(d._relativePath||(d._relativePath=d.webkitRelativePath),d)))}).catch(console.error)}),p2=t=>{if(PA(t)){const i=p0(t);if(i)return i.isFile||i.isDirectory}return t.kind==="file"},m2=t=>new Promise((i,r)=>{if(b2(t)){g2(p0(t)).then(i).catch(r);return}i([t.getAsFile()])}),g2=t=>new Promise((i,r)=>{const o=[];let l=0,c=0;const d=()=>{c===0&&l===0&&i(o)},h=f=>{l++;const m=f.createReader(),v=()=>{m.readEntries(E=>{if(E.length===0){l--,d();return}E.forEach(b=>{b.isDirectory?h(b):(c++,b.file(w=>{const A=v2(w);b.fullPath&&(A._relativePath=b.fullPath),o.push(A),c--,d()}))}),v()},r)};v()};h(t)}),v2=t=>{if(t.type.length)return t;const i=t.lastModifiedDate,r=t.name,o=NA(Df(t.name));return o.length&&(t=t.slice(0,t.size,o),t.name=r,t.lastModifiedDate=i),t},b2=t=>PA(t)&&(p0(t)||{}).isDirectory,PA=t=>"webkitGetAsEntry"in t,p0=t=>t.webkitGetAsEntry(),y2=t=>{let i=[];try{if(i=_2(t),i.length)return i;i=E2(t)}catch{}return i},E2=t=>{let i=t.getData("url");return typeof i=="string"&&i.length?[i]:[]},_2=t=>{let i=t.getData("text/html");if(typeof i=="string"&&i.length){const r=i.match(/src\s*=\s*"(.+?)"/);if(r)return[r[1]]}return[]},jh=[],rl=t=>({pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}),w2=(t,i,r)=>{const o=A2(i),l={element:t,filterElement:r,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return l.destroy=o.addListener(l),l},A2=t=>{const i=jh.find(o=>o.element===t);if(i)return i;const r=D2(t);return jh.push(r),r},D2=t=>{const i=[],r={dragenter:S2,dragover:T2,dragleave:M2,drop:C2},o={};ui(r,(c,d)=>{o[c]=d(t,i),t.addEventListener(c,o[c],!1)});const l={element:t,addListener:c=>(i.push(c),()=>{i.splice(i.indexOf(c),1),i.length===0&&(jh.splice(jh.indexOf(l),1),ui(r,d=>{t.removeEventListener(d,o[d],!1)}))})};return l},x2=(t,i)=>("elementFromPoint"in t||(t=document),t.elementFromPoint(i.x,i.y)),m0=(t,i)=>{const r=l2(i),o=x2(r,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return o===i||i.contains(o)},BA=null,eh=(t,i)=>{try{t.dropEffect=i}catch{}},S2=(t,i)=>r=>{r.preventDefault(),BA=r.target,i.forEach(o=>{const{element:l,onenter:c}=o;m0(r,l)&&(o.state="enter",c(rl(r)))})},T2=(t,i)=>r=>{r.preventDefault();const o=r.dataTransfer;f0(o).then(l=>{let c=!1;i.some(d=>{const{filterElement:h,element:f,onenter:m,onexit:v,ondrag:E,allowdrop:b}=d;eh(o,"copy");const w=b(l);if(!w){eh(o,"none");return}if(m0(r,f)){if(c=!0,d.state===null){d.state="enter",m(rl(r));return}if(d.state="over",h&&!w){eh(o,"none");return}E(rl(r))}else h&&!c&&eh(o,"none"),d.state&&(d.state=null,v(rl(r)))})})},C2=(t,i)=>r=>{r.preventDefault();const o=r.dataTransfer;f0(o).then(l=>{i.forEach(c=>{const{filterElement:d,element:h,ondrop:f,onexit:m,allowdrop:v}=c;if(c.state=null,!(d&&!m0(r,h))){if(!v(l))return m(rl(r));f(rl(r),l)}})})},M2=(t,i)=>r=>{BA===r.target&&i.forEach(o=>{const{onexit:l}=o;o.state=null,l(rl(r))})},k2=(t,i,r)=>{t.classList.add("filepond--hopper");const{catchesDropsOnPage:o,requiresDropOnElement:l,filterItems:c=v=>v}=r,d=w2(t,o?document.documentElement:t,l);let h="",f="";d.allowdrop=v=>i(c(v)),d.ondrop=(v,E)=>{const b=c(E);if(!i(b)){m.ondragend(v);return}f="drag-drop",m.onload(b,v)},d.ondrag=v=>{m.ondrag(v)},d.onenter=v=>{f="drag-over",m.ondragstart(v)},d.onexit=v=>{f="drag-exit",m.ondragend(v)};const m={updateHopperState:()=>{h!==f&&(t.dataset.hopperState=f,h=f)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{d.destroy()}};return m},lg=!1,Zl=[],zA=t=>{const i=document.activeElement;if(i&&/textarea|input/i.test(i.nodeName)){let r=!1,o=i;for(;o!==document.body;){if(o.classList.contains("filepond--root")){r=!0;break}o=o.parentNode}if(!r)return}f0(t.clipboardData).then(r=>{r.length&&Zl.forEach(o=>o(r))})},O2=t=>{Zl.includes(t)||(Zl.push(t),!lg&&(lg=!0,document.addEventListener("paste",zA)))},I2=t=>{a0(Zl,Zl.indexOf(t)),Zl.length===0&&(document.removeEventListener("paste",zA),lg=!1)},R2=()=>{const t=r=>{i.onload(r)},i={destroy:()=>{I2(t)},onload:()=>{}};return O2(t),i},L2=({root:t,props:i})=>{t.element.id=`filepond--assistant-${i.id}`,Di(t.element,"role","status"),Di(t.element,"aria-live","polite"),Di(t.element,"aria-relevant","additions")},r_=null,o_=null,gm=[],Sf=(t,i)=>{t.element.textContent=i},F2=t=>{t.element.textContent=""},$A=(t,i,r)=>{const o=t.query("GET_TOTAL_ITEMS");Sf(t,`${r} ${i}, ${o} ${o===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(o_),o_=setTimeout(()=>{F2(t)},1500)},jA=t=>t.element.parentNode.contains(document.activeElement),N2=({root:t,action:i})=>{if(!jA(t))return;t.element.textContent="";const r=t.query("GET_ITEM",i.id);gm.push(r.filename),clearTimeout(r_),r_=setTimeout(()=>{$A(t,gm.join(", "),t.query("GET_LABEL_FILE_ADDED")),gm.length=0},750)},P2=({root:t,action:i})=>{if(!jA(t))return;const r=i.item;$A(t,r.filename,t.query("GET_LABEL_FILE_REMOVED"))},B2=({root:t,action:i})=>{const o=t.query("GET_ITEM",i.id).filename,l=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Sf(t,`${o} ${l}`)},a_=({root:t,action:i})=>{const o=t.query("GET_ITEM",i.id).filename,l=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");Sf(t,`${o} ${l}`)},th=({root:t,action:i})=>{const o=t.query("GET_ITEM",i.id).filename;Sf(t,`${i.status.main} ${o} ${i.status.sub}`)},z2=Si({create:L2,ignoreRect:!0,ignoreRectUpdate:!0,write:Sr({DID_LOAD_ITEM:N2,DID_REMOVE_ITEM:P2,DID_COMPLETE_ITEM_PROCESSING:B2,DID_ABORT_ITEM_PROCESSING:a_,DID_REVERT_ITEM_PROCESSING:a_,DID_THROW_ITEM_REMOVE_ERROR:th,DID_THROW_ITEM_LOAD_ERROR:th,DID_THROW_ITEM_INVALID:th,DID_THROW_ITEM_PROCESSING_ERROR:th}),tag:"span",name:"assistant"}),HA=(t,i="-")=>t.replace(new RegExp(`${i}.`,"g"),r=>r.charAt(1).toUpperCase()),VA=(t,i=16,r=!0)=>{let o=Date.now(),l=null;return(...c)=>{clearTimeout(l);const d=Date.now()-o,h=()=>{o=Date.now(),t(...c)};d<i?r||(l=setTimeout(h,i-d)):h()}},$2=1e6,Hh=t=>t.preventDefault(),j2=({root:t,props:i})=>{const r=t.query("GET_ID");r&&(t.element.id=r);const o=t.query("GET_CLASS_NAME");o&&o.split(" ").filter(f=>f.length).forEach(f=>{t.element.classList.add(f)}),t.ref.label=t.appendChildView(t.createChildView(UB,{...i,translateY:null,caption:t.query("GET_LABEL_IDLE")})),t.ref.list=t.appendChildView(t.createChildView(BB,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(CA,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(z2,{...i})),t.ref.data=t.appendChildView(t.createChildView(s2,{...i})),t.ref.measure=Ta("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter(f=>!Sa(f.value)).map(({name:f,value:m})=>{t.element.dataset[f]=m}),t.ref.widthPrevious=null,t.ref.widthUpdated=VA(()=>{t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")},250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];const l=window.matchMedia("(pointer: fine) and (hover: hover)").matches,c="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&c&&!l&&(t.element.addEventListener("touchmove",Hh,{passive:!1}),t.element.addEventListener("gesturestart",Hh));const d=t.query("GET_CREDITS");if(d.length===2){const f=document.createElement("a");f.className="filepond--credits",f.setAttribute("aria-hidden","true"),f.href=d[0],f.tabindex=-1,f.target="_blank",f.rel="noopener noreferrer",f.textContent=d[1],t.element.appendChild(f),t.ref.credits=f}},H2=({root:t,props:i,actions:r})=>{if(W2({root:t,props:i,actions:r}),r.filter(I=>/^DID_SET_STYLE_/.test(I.type)).filter(I=>!Sa(I.data.value)).map(({type:I,data:R})=>{const F=HA(I.substring(8).toLowerCase(),"_");t.element.dataset[F]=R.value,t.invalidateLayout()}),t.rect.element.hidden)return;t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());let o=t.ref.bounds;o||(o=t.ref.bounds=Y2(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);const{hopper:l,label:c,list:d,panel:h}=t.ref;l&&l.updateHopperState();const f=t.query("GET_PANEL_ASPECT_RATIO"),m=t.query("GET_ALLOW_MULTIPLE"),v=t.query("GET_TOTAL_ITEMS"),E=m?t.query("GET_MAX_FILES")||$2:1,b=v===E,w=r.find(I=>I.type==="DID_ADD_ITEM");if(b&&w){const I=w.data.interactionMethod;c.opacity=0,m?c.translateY=-40:I===bo.API?c.translateX=40:I===bo.BROWSE?c.translateY=40:c.translateY=30}else b||(c.opacity=1,c.translateX=0,c.translateY=0);const A=V2(t),y=U2(t),S=c.rect.element.height,T=!m||b?0:S,M=b?d.rect.element.marginTop:0,D=v===0?0:d.rect.element.marginBottom,C=T+M+y.visual+D,k=T+M+y.bounds+D;if(d.translateY=Math.max(0,T-d.rect.element.marginTop)-A.top,f){const I=t.rect.element.width,R=I*f;f!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=f,t.ref.updateHistory=[]);const F=t.ref.updateHistory;F.push(I);const j=2;if(F.length>j*2){const G=F.length,B=G-10;let P=0;for(let z=G;z>=B;z--)if(F[z]===F[z-2]&&P++,P>=j)return}h.scalable=!1,h.height=R;const Y=R-T-(D-A.bottom)-(b?M:0);y.visual>Y?d.overflow=Y:d.overflow=null,t.height=R}else if(o.fixedHeight){h.scalable=!1;const I=o.fixedHeight-T-(D-A.bottom)-(b?M:0);y.visual>I?d.overflow=I:d.overflow=null}else if(o.cappedHeight){const I=C>=o.cappedHeight,R=Math.min(o.cappedHeight,C);h.scalable=!0,h.height=I?R:R-A.top-A.bottom;const F=R-T-(D-A.bottom)-(b?M:0);C>o.cappedHeight&&y.visual>F?d.overflow=F:d.overflow=null,t.height=Math.min(o.cappedHeight,k-A.top-A.bottom)}else{const I=v>0?A.top+A.bottom:0;h.scalable=!0,h.height=Math.max(S,C-I),t.height=Math.max(S,k-I)}t.ref.credits&&h.heightCurrent&&(t.ref.credits.style.transform=`translateY(${h.heightCurrent}px)`)},V2=t=>{const i=t.ref.list.childViews[0].childViews[0];return i?{top:i.rect.element.marginTop,bottom:i.rect.element.marginBottom}:{top:0,bottom:0}},U2=t=>{let i=0,r=0;const o=t.ref.list,l=o.childViews[0],c=l.childViews.filter(M=>M.rect.element.height),d=t.query("GET_ACTIVE_ITEMS").map(M=>c.find(D=>D.id===M.id)).filter(M=>M);if(d.length===0)return{visual:i,bounds:r};const h=l.rect.element.width,f=d0(l,d,o.dragCoordinates),m=d[0].rect.element,v=m.marginTop+m.marginBottom,E=m.marginLeft+m.marginRight,b=m.width+E,w=m.height+v,A=typeof f<"u"&&f>=0?1:0,y=d.find(M=>M.markedForRemoval&&M.opacity<.45)?-1:0,S=d.length+A+y,T=c0(h,b);return T===1?d.forEach(M=>{const D=M.rect.element.height+v;r+=D,i+=D*M.opacity}):(r=Math.ceil(S/T)*w,i=r),{visual:i,bounds:r}},Y2=t=>{const i=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:i===0?null:i}},g0=(t,i)=>{const r=t.query("GET_ALLOW_REPLACE"),o=t.query("GET_ALLOW_MULTIPLE"),l=t.query("GET_TOTAL_ITEMS");let c=t.query("GET_MAX_FILES");const d=i.length;return!o&&d>1?(t.dispatch("DID_THROW_MAX_FILES",{source:i,error:gi("warning",0,"Max files")}),!0):(c=o?c:1,!o&&r?!1:mu(c)&&l+d>c?(t.dispatch("DID_THROW_MAX_FILES",{source:i,error:gi("warning",0,"Max files")}),!0):!1)},G2=(t,i,r)=>{const o=t.childViews[0];return d0(o,i,{left:r.scopeLeft-o.rect.element.left,top:r.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},s_=t=>{const i=t.query("GET_ALLOW_DROP"),r=t.query("GET_DISABLED"),o=i&&!r;if(o&&!t.ref.hopper){const l=k2(t.element,c=>{const d=t.query("GET_BEFORE_DROP_FILE")||(()=>!0);return t.query("GET_DROP_VALIDATION")?c.every(f=>ll("ALLOW_HOPPER_ITEM",f,{query:t.query}).every(m=>m===!0)&&d(f)):!0},{filterItems:c=>{const d=t.query("GET_IGNORED_FILES");return c.filter(h=>su(h)?!d.includes(h.name.toLowerCase()):!0)},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});l.onload=(c,d)=>{const f=t.ref.list.childViews[0].childViews.filter(v=>v.rect.element.height),m=t.query("GET_ACTIVE_ITEMS").map(v=>f.find(E=>E.id===v.id)).filter(v=>v);Lo("ADD_ITEMS",c,{dispatch:t.dispatch}).then(v=>{if(g0(t,v))return!1;t.dispatch("ADD_ITEMS",{items:v,index:G2(t.ref.list,m,d),interactionMethod:bo.DROP})}),t.dispatch("DID_DROP",{position:d}),t.dispatch("DID_END_DRAG",{position:d})},l.ondragstart=c=>{t.dispatch("DID_START_DRAG",{position:c})},l.ondrag=VA(c=>{t.dispatch("DID_DRAG",{position:c})}),l.ondragend=c=>{t.dispatch("DID_END_DRAG",{position:c})},t.ref.hopper=l,t.ref.drip=t.appendChildView(t.createChildView(ZB))}else!o&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},l_=(t,i)=>{const r=t.query("GET_ALLOW_BROWSE"),o=t.query("GET_DISABLED"),l=r&&!o;l&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(HB,{...i,onload:c=>{Lo("ADD_ITEMS",c,{dispatch:t.dispatch}).then(d=>{if(g0(t,d))return!1;t.dispatch("ADD_ITEMS",{items:d,index:-1,interactionMethod:bo.BROWSE})})}}),0):!l&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},u_=t=>{const i=t.query("GET_ALLOW_PASTE"),r=t.query("GET_DISABLED"),o=i&&!r;o&&!t.ref.paster?(t.ref.paster=R2(),t.ref.paster.onload=l=>{Lo("ADD_ITEMS",l,{dispatch:t.dispatch}).then(c=>{if(g0(t,c))return!1;t.dispatch("ADD_ITEMS",{items:c,index:-1,interactionMethod:bo.PASTE})})}):!o&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},W2=Sr({DID_SET_ALLOW_BROWSE:({root:t,props:i})=>{l_(t,i)},DID_SET_ALLOW_DROP:({root:t})=>{s_(t)},DID_SET_ALLOW_PASTE:({root:t})=>{u_(t)},DID_SET_DISABLED:({root:t,props:i})=>{s_(t),u_(t),l_(t,i),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),q2=Si({name:"root",read:({root:t})=>{t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:j2,write:H2,destroy:({root:t})=>{t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Hh),t.element.removeEventListener("gesturestart",Hh)},mixins:{styles:["height"]}}),K2=(t={})=>{let i=null;const r=$h(),o=hN(XN(r),[mP,eP(r)],[$P,QN(r)]);o.dispatch("SET_OPTIONS",{options:t});const l=()=>{document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",l);let c=null,d=!1,h=!1,f=null,m=null;const v=()=>{d||(d=!0),clearTimeout(c),c=setTimeout(()=>{d=!1,f=null,m=null,h&&(h=!1,o.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",v);const E=q2(o,{id:o0()});let b=!1,w=!1;const A={_read:()=>{d&&(m=window.innerWidth,f||(f=m),!h&&m!==f&&(o.dispatch("DID_START_RESIZE"),h=!0)),w&&b&&(b=E.element.offsetParent===null),!b&&(E._read(),w=E.rect.element.hidden)},_write:N=>{const V=o.processActionQueue().filter(q=>!/^SET_/.test(q.type));b&&!V.length||(M(V),b=E._write(N,V,h),iP(o.query("GET_ITEMS")),b&&o.processDispatchQueue())}},y=N=>V=>{const q={type:N};if(!V)return q;if(V.hasOwnProperty("error")&&(q.error=V.error?{...V.error}:null),V.status&&(q.status={...V.status}),V.file&&(q.output=V.file),V.source)q.file=V.source;else if(V.item||V.id){const J=V.item?V.item:o.query("GET_ITEM",V.id);q.file=J?Nr(J):null}return V.items&&(q.items=V.items.map(Nr)),/progress/.test(N)&&(q.progress=V.progress),V.hasOwnProperty("origin")&&V.hasOwnProperty("target")&&(q.origin=V.origin,q.target=V.target),q},S={DID_DESTROY:y("destroy"),DID_INIT:y("init"),DID_THROW_MAX_FILES:y("warning"),DID_INIT_ITEM:y("initfile"),DID_START_ITEM_LOAD:y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:y("addfileprogress"),DID_LOAD_ITEM:y("addfile"),DID_THROW_ITEM_INVALID:[y("error"),y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[y("error"),y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[y("error"),y("removefile")],DID_PREPARE_OUTPUT:y("preparefile"),DID_START_ITEM_PROCESSING:y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:y("processfiles"),DID_REVERT_ITEM_PROCESSING:y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[y("error"),y("processfile")],DID_REMOVE_ITEM:y("removefile"),DID_UPDATE_ITEMS:y("updatefiles"),DID_ACTIVATE_ITEM:y("activatefile"),DID_REORDER_ITEMS:y("reorderfiles")},T=N=>{const V={pond:$,...N};delete V.type,E.element.dispatchEvent(new CustomEvent(`FilePond:${N.type}`,{detail:V,bubbles:!0,cancelable:!0,composed:!0}));const q=[];N.hasOwnProperty("error")&&q.push(N.error),N.hasOwnProperty("file")&&q.push(N.file);const J=["type","error","file"];Object.keys(N).filter(ue=>!J.includes(ue)).forEach(ue=>q.push(N[ue])),$.fire(N.type,...q);const ne=o.query(`GET_ON${N.type.toUpperCase()}`);ne&&ne(...q)},M=N=>{N.length&&N.filter(V=>S[V.type]).forEach(V=>{const q=S[V.type];(Array.isArray(q)?q:[q]).forEach(J=>{V.type==="DID_INIT_ITEM"?T(J(V.data)):setTimeout(()=>{T(J(V.data))},0)})})},D=N=>o.dispatch("SET_OPTIONS",{options:N}),C=N=>o.query("GET_ACTIVE_ITEM",N),k=N=>new Promise((V,q)=>{o.dispatch("REQUEST_ITEM_PREPARE",{query:N,success:J=>{V(J)},failure:J=>{q(J)}})}),I=(N,V={})=>new Promise((q,J)=>{j([{source:N,options:V}],{index:V.index}).then(ne=>q(ne&&ne[0])).catch(J)}),R=N=>N.file&&N.id,F=(N,V)=>(typeof N=="object"&&!R(N)&&!V&&(V=N,N=void 0),o.dispatch("REMOVE_ITEM",{...V,query:N}),o.query("GET_ACTIVE_ITEM",N)===null),j=(...N)=>new Promise((V,q)=>{const J=[],ne={};if(Ef(N[0]))J.push.apply(J,N[0]),Object.assign(ne,N[1]||{});else{const ue=N[N.length-1];typeof ue=="object"&&!(ue instanceof Blob)&&Object.assign(ne,N.pop()),J.push(...N)}o.dispatch("ADD_ITEMS",{items:J,index:ne.index,interactionMethod:bo.API,success:V,failure:q})}),Y=()=>o.query("GET_ACTIVE_ITEMS"),G=N=>new Promise((V,q)=>{o.dispatch("REQUEST_ITEM_PROCESSING",{query:N,success:J=>{V(J)},failure:J=>{q(J)}})}),B=(...N)=>{const V=Array.isArray(N[0])?N[0]:N,q=V.length?V:Y();return Promise.all(q.map(k))},P=(...N)=>{const V=Array.isArray(N[0])?N[0]:N;if(!V.length){const q=Y().filter(J=>!(J.status===Ut.IDLE&&J.origin===zi.LOCAL)&&J.status!==Ut.PROCESSING&&J.status!==Ut.PROCESSING_COMPLETE&&J.status!==Ut.PROCESSING_REVERT_ERROR);return Promise.all(q.map(G))}return Promise.all(V.map(G))},z=(...N)=>{const V=Array.isArray(N[0])?N[0]:N;let q;typeof V[V.length-1]=="object"?q=V.pop():Array.isArray(N[0])&&(q=N[1]);const J=Y();return V.length?V.map(ue=>Ks(ue)?J[ue]?J[ue].id:null:ue).filter(ue=>ue).map(ue=>F(ue,q)):Promise.all(J.map(ue=>F(ue,q)))},$={...Af(),...A,...ZN(o,r),setOptions:D,addFile:I,addFiles:j,getFile:C,processFile:G,prepareFile:k,removeFile:F,moveFile:(N,V)=>o.dispatch("MOVE_ITEM",{query:N,index:V}),getFiles:Y,processFiles:P,removeFiles:z,prepareFiles:B,sort:N=>o.dispatch("SORT",{compare:N}),browse:()=>{var N=E.element.querySelector("input[type=file]");N&&N.click()},destroy:()=>{$.fire("destroy",E.element),o.dispatch("ABORT_ALL"),E._destroy(),window.removeEventListener("resize",v),document.removeEventListener("visibilitychange",l),o.dispatch("DID_DESTROY")},insertBefore:N=>IE(E.element,N),insertAfter:N=>RE(E.element,N),appendTo:N=>N.appendChild(E.element),replaceElement:N=>{IE(E.element,N),N.parentNode.removeChild(N),i=N},restoreElement:()=>{i&&(RE(i,E.element),E.element.parentNode.removeChild(E.element),i=null)},isAttachedTo:N=>E.element===N||i===N,element:{get:()=>E.element},status:{get:()=>o.query("GET_STATUS")}};return o.dispatch("DID_INIT"),ps($)},UA=(t={})=>{const i={};return ui($h(),(o,l)=>{i[o]=l[0]}),K2({...i,...t})},J2=t=>t.charAt(0).toLowerCase()+t.slice(1),X2=t=>HA(t.replace(/^data-/,"")),YA=(t,i)=>{ui(i,(r,o)=>{ui(t,(l,c)=>{const d=new RegExp(r);if(!d.test(l)||(delete t[l],o===!1))return;if(Ar(o)){t[o]=c;return}const f=o.group;Ki(o)&&!t[f]&&(t[f]={}),t[f][J2(l.replace(d,""))]=c}),o.mapping&&YA(t[o.group],o.mapping)})},Z2=(t,i={})=>{const r=[];ui(t.attributes,l=>{r.push(t.attributes[l])});const o=r.filter(l=>l.name).reduce((l,c)=>{const d=Di(t,c.name);return l[X2(c.name)]=d===c.name?!0:d,l},{});return YA(o,i),o},Q2=(t,i={})=>{const r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ll("SET_ATTRIBUTE_TO_OPTION_MAP",r);const o={...i},l=Z2(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,r);Object.keys(l).forEach(d=>{Ki(l[d])?(Ki(o[d])||(o[d]={}),Object.assign(o[d],l[d])):o[d]=l[d]}),o.files=(i.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(d=>({source:d.value,options:{type:d.dataset.type}})));const c=UA(o);return t.files&&Array.from(t.files).forEach(d=>{c.addFile(d)}),c.replaceElement(t),c},e5=(...t)=>dN(t[0])?Q2(...t):UA(...t),t5=["fire","_read","_write"],c_=t=>{const i={};return hA(t,i,t5),i},n5=(t,i)=>t.replace(/(?:{([a-zA-Z]+)})/g,(r,o)=>i[o]),i5=t=>{const i=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(i),o=new Worker(r);return{transfer:(l,c)=>{},post:(l,c,d)=>{const h=o0();o.onmessage=f=>{f.data.id===h&&c(f.data.message)},o.postMessage({id:h,message:l},d)},terminate:()=>{o.terminate(),URL.revokeObjectURL(r)}}},r5=t=>new Promise((i,r)=>{const o=new Image;o.onload=()=>{i(o)},o.onerror=l=>{r(l)},o.src=t}),GA=(t,i)=>{const r=t.slice(0,t.size,t.type);return r.lastModifiedDate=t.lastModifiedDate,r.name=i,r},o5=t=>GA(t,t.name),d_=[],a5=t=>{if(d_.includes(t))return;d_.push(t);const i=t({addFilter:oP,utils:{Type:Ce,forin:ui,isString:Ar,isFile:su,toNaturalFileSize:xA,replaceInString:n5,getExtensionFromFilename:Df,getFilenameWithoutExtension:wA,guesstimateMimeType:NA,getFileFromBlob:au,getFilenameFromURL:Oc,createRoute:Sr,createWorker:i5,createView:Si,createItemAPI:Nr,loadImage:r5,copyFile:o5,renameFile:GA,createBlob:yA,applyFilterChain:Lo,text:vi,getNumericAspectRatioFromString:mA},views:{fileActionButton:DA}});aP(i.options)},s5=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",l5=()=>"Promise"in window,u5=()=>"slice"in Blob.prototype,c5=()=>"URL"in window&&"createObjectURL"in window.URL,d5=()=>"visibilityState"in document,h5=()=>"performance"in window,f5=()=>"supports"in(window.CSS||{}),p5=()=>/MSIE|Trident/.test(window.navigator.userAgent),ug=(()=>{const t=aA()&&!s5()&&d5()&&l5()&&u5()&&c5()&&h5()&&(f5()||p5());return()=>t})(),is={apps:[]},m5="filepond",ul=()=>{},WA={},qA={},Vh={},cg={},cc=ul,gh=ul,dg=ul,hg=ul,zo=ul,fg=ul,Uh=ul;if(ug()){PN(()=>{is.apps.forEach(r=>r._read())},r=>{is.apps.forEach(o=>o._write(r))});const t=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:ug,create:cc,destroy:gh,parse:dg,find:hg,registerPlugin:zo,setOptions:Uh}})),document.removeEventListener("DOMContentLoaded",t)};document.readyState!=="loading"?setTimeout(()=>t(),0):document.addEventListener("DOMContentLoaded",t);const i=()=>ui($h(),(r,o)=>{cg[r]=o[1]});WA={...gA},Vh={...zi},qA={...Ut},cg={},i(),cc=(...r)=>{const o=e5(...r);return o.on("destroy",gh),is.apps.push(o),c_(o)},gh=r=>{const o=is.apps.findIndex(l=>l.isAttachedTo(r));return o>=0?(is.apps.splice(o,1)[0].restoreElement(),!0):!1},dg=r=>Array.from(r.querySelectorAll(`.${m5}`)).filter(c=>!is.apps.find(d=>d.isAttachedTo(c))).map(c=>cc(c)),hg=r=>{const o=is.apps.find(l=>l.isAttachedTo(r));return o?c_(o):null},zo=(...r)=>{r.forEach(a5),i()},fg=()=>{const r={};return ui($h(),(o,l)=>{r[o]=l[0]}),r},Uh=r=>(Ki(r)&&(is.apps.forEach(o=>{o.setOptions(r)}),sP(r)),fg())}/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var KA=({addFilter:t,utils:i})=>{const{Type:r,replaceInString:o,toNaturalFileSize:l}=i;return t("ALLOW_HOPPER_ITEM",(c,{query:d})=>{if(!d("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const h=d("GET_MAX_FILE_SIZE");if(h!==null&&c.size>h)return!1;const f=d("GET_MIN_FILE_SIZE");return!(f!==null&&c.size<f)}),t("LOAD_FILE",(c,{query:d})=>new Promise((h,f)=>{if(!d("GET_ALLOW_FILE_SIZE_VALIDATION"))return h(c);const m=d("GET_FILE_VALIDATE_SIZE_FILTER");if(m&&!m(c))return h(c);const v=d("GET_MAX_FILE_SIZE");if(v!==null&&c.size>v){f({status:{main:d("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:o(d("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(v,".",d("GET_FILE_SIZE_BASE"),d("GET_FILE_SIZE_LABELS",d))})}});return}const E=d("GET_MIN_FILE_SIZE");if(E!==null&&c.size<E){f({status:{main:d("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:o(d("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(E,".",d("GET_FILE_SIZE_BASE"),d("GET_FILE_SIZE_LABELS",d))})}});return}const b=d("GET_MAX_TOTAL_FILE_SIZE");if(b!==null&&d("GET_ACTIVE_ITEMS").reduce((A,y)=>A+y.fileSize,0)>b){f({status:{main:d("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:o(d("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:l(b,".",d("GET_FILE_SIZE_BASE"),d("GET_FILE_SIZE_LABELS",d))})}});return}h(c)})),{options:{allowFileSizeValidation:[!0,r.BOOLEAN],maxFileSize:[null,r.INT],minFileSize:[null,r.INT],maxTotalFileSize:[null,r.INT],fileValidateSizeFilter:[null,r.FUNCTION],labelMinFileSizeExceeded:["File is too small",r.STRING],labelMinFileSize:["Minimum file size is {filesize}",r.STRING],labelMaxFileSizeExceeded:["File is too large",r.STRING],labelMaxFileSize:["Maximum file size is {filesize}",r.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",r.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",r.STRING]}}},g5=typeof window<"u"&&typeof window.document<"u";g5&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:KA}));var v5=KA;/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var JA=({addFilter:t,utils:i})=>{const{Type:r,isString:o,replaceInString:l,guesstimateMimeType:c,getExtensionFromFilename:d,getFilenameFromURL:h}=i,f=(w,A)=>{const y=(/^[^/]+/.exec(w)||[]).pop(),S=A.slice(0,-2);return y===S},m=(w,A)=>w.some(y=>/\*$/.test(y)?f(A,y):y===A),v=w=>{let A="";if(o(w)){const y=h(w),S=d(y);S&&(A=c(S))}else A=w.type;return A},E=(w,A,y)=>{if(A.length===0)return!0;const S=v(w);return y?new Promise((T,M)=>{y(w,S).then(D=>{m(A,D)?T():M()}).catch(M)}):m(A,S)},b=w=>A=>w[A]===null?!1:w[A]||A;return t("SET_ATTRIBUTE_TO_OPTION_MAP",w=>Object.assign(w,{accept:"acceptedFileTypes"})),t("ALLOW_HOPPER_ITEM",(w,{query:A})=>A("GET_ALLOW_FILE_TYPE_VALIDATION")?E(w,A("GET_ACCEPTED_FILE_TYPES")):!0),t("LOAD_FILE",(w,{query:A})=>new Promise((y,S)=>{if(!A("GET_ALLOW_FILE_TYPE_VALIDATION")){y(w);return}const T=A("GET_ACCEPTED_FILE_TYPES"),M=A("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),D=E(w,T,M),C=()=>{const k=T.map(b(A("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(R=>R!==!1),I=k.filter(function(R,F){return k.indexOf(R)===F});S({status:{main:A("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:l(A("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:I.join(", "),allButLastType:I.slice(0,-1).join(", "),lastType:I[k.length-1]})}})};if(typeof D=="boolean")return D?y(w):C();D.then(()=>{y(w)}).catch(C)})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}},b5=typeof window<"u"&&typeof window.document<"u";b5&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:JA}));var y5=JA;/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var h_=t=>/^image/.test(t.type),XA=({addFilter:t,utils:i})=>{const{Type:r,isFile:o,getNumericAspectRatioFromString:l}=i,c=(m,v)=>!(!h_(m.file)||!v("GET_ALLOW_IMAGE_CROP")),d=m=>typeof m=="object",h=m=>typeof m=="number",f=(m,v)=>m.setMetadata("crop",Object.assign({},m.getMetadata("crop"),v));return t("DID_CREATE_ITEM",(m,{query:v})=>{m.extend("setImageCrop",E=>{if(!(!c(m,v)||!d(center)))return m.setMetadata("crop",E),E}),m.extend("setImageCropCenter",E=>{if(!(!c(m,v)||!d(E)))return f(m,{center:E})}),m.extend("setImageCropZoom",E=>{if(!(!c(m,v)||!h(E)))return f(m,{zoom:Math.max(1,E)})}),m.extend("setImageCropRotation",E=>{if(!(!c(m,v)||!h(E)))return f(m,{rotation:E})}),m.extend("setImageCropFlip",E=>{if(!(!c(m,v)||!d(E)))return f(m,{flip:E})}),m.extend("setImageCropAspectRatio",E=>{if(!c(m,v)||typeof E>"u")return;const b=m.getMetadata("crop"),w=l(E),A={center:{x:.5,y:.5},flip:b?Object.assign({},b.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:w};return m.setMetadata("crop",A),A})}),t("DID_LOAD_ITEM",(m,{query:v})=>new Promise((E,b)=>{const w=m.file;if(!o(w)||!h_(w)||!v("GET_ALLOW_IMAGE_CROP")||m.getMetadata("crop"))return E(m);const y=v("GET_IMAGE_CROP_ASPECT_RATIO");m.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:y?l(y):null}),E(m)})),{options:{allowImageCrop:[!0,r.BOOLEAN],imageCropAspectRatio:[null,r.STRING]}}},E5=typeof window<"u"&&typeof window.document<"u";E5&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:XA}));var _5=XA;/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var w5=t=>/^image\/jpeg/.test(t.type),$s={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},js=(t,i,r=!1)=>t.getUint16(i,r),f_=(t,i,r=!1)=>t.getUint32(i,r),A5=t=>new Promise((i,r)=>{const o=new FileReader;o.onload=function(l){const c=new DataView(l.target.result);if(js(c,0)!==$s.JPEG){i(-1);return}const d=c.byteLength;let h=2;for(;h<d;){const f=js(c,h);if(h+=2,f===$s.APP1){if(f_(c,h+=2)!==$s.EXIF)break;const m=js(c,h+=6)===$s.TIFF;h+=f_(c,h+4,m);const v=js(c,h,m);h+=2;for(let E=0;E<v;E++)if(js(c,h+E*12,m)===$s.Orientation){i(js(c,h+E*12+8,m));return}}else{if((f&$s.Unknown)!==$s.Unknown)break;h+=js(c,h)}}i(-1)},o.readAsArrayBuffer(t.slice(0,64*1024))}),D5=(()=>typeof window<"u"&&typeof window.document<"u")(),x5=()=>D5,S5="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=",ZA=void 0,vh=x5()?new Image:{};vh.onload=()=>ZA=vh.naturalWidth>vh.naturalHeight;vh.src=S5;var T5=()=>ZA,QA=({addFilter:t,utils:i})=>{const{Type:r,isFile:o}=i;return t("DID_LOAD_ITEM",(l,{query:c})=>new Promise((d,h)=>{const f=l.file;if(!o(f)||!w5(f)||!c("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!T5())return d(l);A5(f).then(m=>{l.setMetadata("exif",{orientation:m}),d(l)})})),{options:{allowImageExifOrientation:[!0,r.BOOLEAN]}}},C5=typeof window<"u"&&typeof window.document<"u";C5&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:QA}));var M5=QA;/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var k5=t=>/^image/.test(t.type),p_=(t,i)=>_c(t.x*i,t.y*i),m_=(t,i)=>_c(t.x+i.x,t.y+i.y),O5=t=>{const i=Math.sqrt(t.x*t.x+t.y*t.y);return i===0?{x:0,y:0}:_c(t.x/i,t.y/i)},nh=(t,i,r)=>{const o=Math.cos(i),l=Math.sin(i),c=_c(t.x-r.x,t.y-r.y);return _c(r.x+o*c.x-l*c.y,r.y+l*c.x+o*c.y)},_c=(t=0,i=0)=>({x:t,y:i}),Pr=(t,i,r=1,o)=>{if(typeof t=="string")return parseFloat(t)*r;if(typeof t=="number")return t*(o?i[o]:Math.min(i.width,i.height))},I5=(t,i,r)=>{const o=t.borderStyle||t.lineStyle||"solid",l=t.backgroundColor||t.fontColor||"transparent",c=t.borderColor||t.lineColor||"transparent",d=Pr(t.borderWidth||t.lineWidth,i,r),h=t.lineCap||"round",f=t.lineJoin||"round",m=typeof o=="string"?"":o.map(E=>Pr(E,i,r)).join(","),v=t.opacity||1;return{"stroke-linecap":h,"stroke-linejoin":f,"stroke-width":d||0,"stroke-dasharray":m,stroke:c,fill:l,opacity:v}},mo=t=>t!=null,R5=(t,i,r=1)=>{let o=Pr(t.x,i,r,"width")||Pr(t.left,i,r,"width"),l=Pr(t.y,i,r,"height")||Pr(t.top,i,r,"height"),c=Pr(t.width,i,r,"width"),d=Pr(t.height,i,r,"height"),h=Pr(t.right,i,r,"width"),f=Pr(t.bottom,i,r,"height");return mo(l)||(mo(d)&&mo(f)?l=i.height-d-f:l=f),mo(o)||(mo(c)&&mo(h)?o=i.width-c-h:o=h),mo(c)||(mo(o)&&mo(h)?c=i.width-o-h:c=0),mo(d)||(mo(l)&&mo(f)?d=i.height-l-f:d=0),{x:o||0,y:l||0,width:c||0,height:d||0}},L5=t=>t.map((i,r)=>`${r===0?"M":"L"} ${i.x} ${i.y}`).join(" "),oa=(t,i)=>Object.keys(i).forEach(r=>t.setAttribute(r,i[r])),F5="http://www.w3.org/2000/svg",Wl=(t,i)=>{const r=document.createElementNS(F5,t);return i&&oa(r,i),r},N5=t=>oa(t,{...t.rect,...t.styles}),P5=t=>{const i=t.rect.x+t.rect.width*.5,r=t.rect.y+t.rect.height*.5,o=t.rect.width*.5,l=t.rect.height*.5;return oa(t,{cx:i,cy:r,rx:o,ry:l,...t.styles})},B5={contain:"xMidYMid meet",cover:"xMidYMid slice"},z5=(t,i)=>{oa(t,{...t.rect,...t.styles,preserveAspectRatio:B5[i.fit]||"none"})},$5={left:"start",center:"middle",right:"end"},j5=(t,i,r,o)=>{const l=Pr(i.fontSize,r,o),c=i.fontFamily||"sans-serif",d=i.fontWeight||"normal",h=$5[i.textAlign]||"start";oa(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":d,"font-size":l,"font-family":c,"text-anchor":h}),t.text!==i.text&&(t.text=i.text,t.textContent=i.text.length?i.text:" ")},H5=(t,i,r,o)=>{oa(t,{...t.rect,...t.styles,fill:"none"});const l=t.childNodes[0],c=t.childNodes[1],d=t.childNodes[2],h=t.rect,f={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(oa(l,{x1:h.x,y1:h.y,x2:f.x,y2:f.y}),!i.lineDecoration)return;c.style.display="none",d.style.display="none";const m=O5({x:f.x-h.x,y:f.y-h.y}),v=Pr(.05,r,o);if(i.lineDecoration.indexOf("arrow-begin")!==-1){const E=p_(m,v),b=m_(h,E),w=nh(h,2,b),A=nh(h,-2,b);oa(c,{style:"display:block;",d:`M${w.x},${w.y} L${h.x},${h.y} L${A.x},${A.y}`})}if(i.lineDecoration.indexOf("arrow-end")!==-1){const E=p_(m,-v),b=m_(f,E),w=nh(f,2,b),A=nh(f,-2,b);oa(d,{style:"display:block;",d:`M${w.x},${w.y} L${f.x},${f.y} L${A.x},${A.y}`})}},V5=(t,i,r,o)=>{oa(t,{...t.styles,fill:"none",d:L5(i.points.map(l=>({x:Pr(l.x,r,o,"width"),y:Pr(l.y,r,o,"height")})))})},ih=t=>i=>Wl(t,{id:i.id}),U5=t=>{const i=Wl("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return i.onload=()=>{i.setAttribute("opacity",t.opacity||1)},i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),i},Y5=t=>{const i=Wl("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),r=Wl("line");i.appendChild(r);const o=Wl("path");i.appendChild(o);const l=Wl("path");return i.appendChild(l),i},G5={image:U5,rect:ih("rect"),ellipse:ih("ellipse"),text:ih("text"),path:ih("path"),line:Y5},W5={rect:N5,ellipse:P5,image:z5,text:j5,path:V5,line:H5},q5=(t,i)=>G5[t](i),K5=(t,i,r,o,l)=>{i!=="path"&&(t.rect=R5(r,o,l)),t.styles=I5(r,o,l),W5[i](t,r,o,l)},J5=["x","y","left","top","right","bottom","width","height"],X5=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,Z5=t=>{const[i,r]=t,o=r.points?{}:J5.reduce((l,c)=>(l[c]=X5(r[c]),l),{});return[i,{zIndex:0,...r,...o}]},Q5=(t,i)=>t[1].zIndex>i[1].zIndex?1:t[1].zIndex<i[1].zIndex?-1:0,ez=t=>t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:i,props:r})=>{if(!r.dirty)return;const{crop:o,resize:l,markup:c}=r,d=r.width,h=r.height;let f=o.width,m=o.height;if(l){const{size:w}=l;let A=w&&w.width,y=w&&w.height;const S=l.mode,T=l.upscale;A&&!y&&(y=A),y&&!A&&(A=y);const M=f<A&&m<y;if(!M||M&&T){let D=A/f,C=y/m;if(S==="force")f=A,m=y;else{let k;S==="cover"?k=Math.max(D,C):S==="contain"&&(k=Math.min(D,C)),f=f*k,m=m*k}}}const v={width:d,height:h};i.element.setAttribute("width",v.width),i.element.setAttribute("height",v.height);const E=Math.min(d/f,h/m);i.element.innerHTML="";const b=i.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");c.filter(b).map(Z5).sort(Q5).forEach(w=>{const[A,y]=w,S=q5(A,y);K5(S,A,y,v,E),i.element.appendChild(S)})}}),dc=(t,i)=>({x:t,y:i}),tz=(t,i)=>t.x*i.x+t.y*i.y,g_=(t,i)=>dc(t.x-i.x,t.y-i.y),nz=(t,i)=>tz(g_(t,i),g_(t,i)),v_=(t,i)=>Math.sqrt(nz(t,i)),b_=(t,i)=>{const r=t,o=1.5707963267948966,l=i,c=1.5707963267948966-i,d=Math.sin(o),h=Math.sin(l),f=Math.sin(c),m=Math.cos(c),v=r/d,E=v*h,b=v*f;return dc(m*E,m*b)},iz=(t,i)=>{const r=t.width,o=t.height,l=b_(r,i),c=b_(o,i),d=dc(t.x+Math.abs(l.x),t.y-Math.abs(l.y)),h=dc(t.x+t.width+Math.abs(c.y),t.y+Math.abs(c.x)),f=dc(t.x-Math.abs(c.y),t.y+t.height-Math.abs(c.x));return{width:v_(d,h),height:v_(d,f)}},rz=(t,i,r=1)=>{const o=t.height/t.width;let l=1,c=i,d=1,h=o;h>c&&(h=c,d=h/o);const f=Math.max(l/d,c/h),m=t.width/(r*f*d),v=m*i;return{width:m,height:v}},eD=(t,i,r,o)=>{const l=o.x>.5?1-o.x:o.x,c=o.y>.5?1-o.y:o.y,d=l*2*t.width,h=c*2*t.height,f=iz(i,r);return Math.max(f.width/d,f.height/h)},tD=(t,i)=>{let r=t.width,o=r*i;o>t.height&&(o=t.height,r=o/i);const l=(t.width-r)*.5,c=(t.height-o)*.5;return{x:l,y:c,width:r,height:o}},oz=(t,i={})=>{let{zoom:r,rotation:o,center:l,aspectRatio:c}=i;c||(c=t.height/t.width);const d=rz(t,c,r),h={x:d.width*.5,y:d.height*.5},f={x:0,y:0,width:d.width,height:d.height,center:h},m=typeof i.scaleToFit>"u"||i.scaleToFit,v=eD(t,tD(f,c),o,m?l:{x:.5,y:.5}),E=r*v;return{widthFloat:d.width/E,heightFloat:d.height/E,width:Math.round(d.width/E),height:Math.round(d.height/E)}},ia={type:"spring",stiffness:.5,damping:.45,mass:10},az=t=>t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:i,props:r})=>{i.appendChild(r.image)}}),sz=t=>t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:ia,originY:ia,scaleX:ia,scaleY:ia,translateX:ia,translateY:ia,rotateZ:ia}},create:({root:i,props:r})=>{r.width=r.image.width,r.height=r.image.height,i.ref.bitmap=i.appendChildView(i.createChildView(az(t),{image:r.image}))},write:({root:i,props:r})=>{const{flip:o}=r.crop,{bitmap:l}=i.ref;l.scaleX=o.horizontal?-1:1,l.scaleY=o.vertical?-1:1}}),lz=t=>t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:i,props:r}){r.background&&(i.element.style.backgroundColor=r.background)},create:({root:i,props:r})=>{i.ref.image=i.appendChildView(i.createChildView(sz(t),Object.assign({},r))),i.ref.createMarkup=()=>{i.ref.markup||(i.ref.markup=i.appendChildView(i.createChildView(ez(t),Object.assign({},r))))},i.ref.destroyMarkup=()=>{i.ref.markup&&(i.removeChildView(i.ref.markup),i.ref.markup=null)};const o=i.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");o!==null&&(o==="grid"?i.element.dataset.transparencyIndicator=o:i.element.dataset.transparencyIndicator="color")},write:({root:i,props:r,shouldOptimize:o})=>{const{crop:l,markup:c,resize:d,dirty:h,width:f,height:m}=r;i.ref.image.crop=l;const v={x:0,y:0,width:f,height:m,center:{x:f*.5,y:m*.5}},E={width:i.ref.image.width,height:i.ref.image.height},b={x:l.center.x*E.width,y:l.center.y*E.height},w={x:v.center.x-E.width*l.center.x,y:v.center.y-E.height*l.center.y},A=Math.PI*2+l.rotation%(Math.PI*2),y=l.aspectRatio||E.height/E.width,S=typeof l.scaleToFit>"u"||l.scaleToFit,T=eD(E,tD(v,y),A,S?l.center:{x:.5,y:.5}),M=l.zoom*T;c&&c.length?(i.ref.createMarkup(),i.ref.markup.width=f,i.ref.markup.height=m,i.ref.markup.resize=d,i.ref.markup.dirty=h,i.ref.markup.markup=c,i.ref.markup.crop=oz(E,l)):i.ref.markup&&i.ref.destroyMarkup();const D=i.ref.image;if(o){D.originX=null,D.originY=null,D.translateX=null,D.translateY=null,D.rotateZ=null,D.scaleX=null,D.scaleY=null;return}D.originX=b.x,D.originY=b.y,D.translateX=w.x,D.translateY=w.y,D.rotateZ=A,D.scaleX=M,D.scaleY=M}}),uz=t=>t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:ia,scaleY:ia,translateY:ia,opacity:{type:"tween",duration:400}}},create:({root:i,props:r})=>{i.ref.clip=i.appendChildView(i.createChildView(lz(t),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:({root:i,props:r,shouldOptimize:o})=>{const{clip:l}=i.ref,{image:c,crop:d,markup:h,resize:f,dirty:m}=r;if(l.crop=d,l.markup=h,l.resize=f,l.dirty=m,l.opacity=o?0:1,o||i.rect.element.hidden)return;const v=c.height/c.width;let E=d.aspectRatio||v;const b=i.rect.inner.width,w=i.rect.inner.height;let A=i.query("GET_IMAGE_PREVIEW_HEIGHT");const y=i.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),S=i.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),T=i.query("GET_PANEL_ASPECT_RATIO"),M=i.query("GET_ALLOW_MULTIPLE");T&&!M&&(A=b*T,E=T);let D=A!==null?A:Math.max(y,Math.min(b*E,S)),C=D/E;C>b&&(C=b,D=C*E),D>w&&(D=w,C=w/E),l.width=C,l.height=D}}),cz=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,y_=0,dz=t=>t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:i,props:r})=>{let o=cz;if(document.querySelector("base")){const l=new URL(window.location.href.replace(window.location.hash,"")).href;o=o.replace(/url\(\#/g,"url("+l+"#")}y_++,i.element.classList.add(`filepond--image-preview-overlay-${r.status}`),i.element.innerHTML=o.replace(/__UID__/g,y_)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),hz=function(){self.onmessage=t=>{createImageBitmap(t.data.message.file).then(i=>{self.postMessage({id:t.data.id,message:i},[i])})}},fz=function(){self.onmessage=t=>{const i=t.data.message.imageData,r=t.data.message.colorMatrix,o=i.data,l=o.length,c=r[0],d=r[1],h=r[2],f=r[3],m=r[4],v=r[5],E=r[6],b=r[7],w=r[8],A=r[9],y=r[10],S=r[11],T=r[12],M=r[13],D=r[14],C=r[15],k=r[16],I=r[17],R=r[18],F=r[19];let j=0,Y=0,G=0,B=0,P=0;for(;j<l;j+=4)Y=o[j]/255,G=o[j+1]/255,B=o[j+2]/255,P=o[j+3]/255,o[j]=Math.max(0,Math.min((Y*c+G*d+B*h+P*f+m)*255,255)),o[j+1]=Math.max(0,Math.min((Y*v+G*E+B*b+P*w+A)*255,255)),o[j+2]=Math.max(0,Math.min((Y*y+G*S+B*T+P*M+D)*255,255)),o[j+3]=Math.max(0,Math.min((Y*C+G*k+B*I+P*R+F)*255,255));self.postMessage({id:t.data.id,message:i},[i.data.buffer])}},pz=(t,i)=>{let r=new Image;r.onload=()=>{const o=r.naturalWidth,l=r.naturalHeight;r=null,i(o,l)},r.src=t},mz={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,i)=>[-1,0,0,-1,t,i],4:(t,i)=>[1,0,0,-1,0,i],5:()=>[0,1,1,0,0,0],6:(t,i)=>[0,1,-1,0,i,0],7:(t,i)=>[0,-1,-1,0,i,t],8:t=>[0,-1,1,0,0,t]},gz=(t,i,r,o)=>{o!==-1&&t.transform.apply(t,mz[o](i,r))},vz=(t,i,r,o)=>{i=Math.round(i),r=Math.round(r);const l=document.createElement("canvas");l.width=i,l.height=r;const c=l.getContext("2d");return o>=5&&o<=8&&([i,r]=[r,i]),gz(c,i,r,o),c.drawImage(t,0,0,i,r),l},nD=t=>/^image/.test(t.type)&&!/svg/.test(t.type),bz=10,yz=10,Ez=t=>{const i=Math.min(bz/t.width,yz/t.height),r=document.createElement("canvas"),o=r.getContext("2d"),l=r.width=Math.ceil(t.width*i),c=r.height=Math.ceil(t.height*i);o.drawImage(t,0,0,l,c);let d=null;try{d=o.getImageData(0,0,l,c).data}catch{return null}const h=d.length;let f=0,m=0,v=0,E=0;for(;E<h;E+=4)f+=d[E]*d[E],m+=d[E+1]*d[E+1],v+=d[E+2]*d[E+2];return f=vm(f,h),m=vm(m,h),v=vm(v,h),{r:f,g:m,b:v}},vm=(t,i)=>Math.floor(Math.sqrt(t/(i/4))),_z=(t,i)=>(i=i||document.createElement("canvas"),i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0),i),wz=t=>{let i;try{i=new ImageData(t.width,t.height)}catch{i=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return i.data.set(new Uint8ClampedArray(t.data)),i},Az=t=>new Promise((i,r)=>{const o=new Image;o.crossOrigin="Anonymous",o.onload=()=>{i(o)},o.onerror=l=>{r(l)},o.src=t}),Dz=t=>{const i=dz(t),r=uz(t),{createWorker:o}=t.utils,l=(M,D,C)=>new Promise(k=>{M.ref.imageData||(M.ref.imageData=C.getContext("2d").getImageData(0,0,C.width,C.height));const I=wz(M.ref.imageData);if(!D||D.length!==20)return C.getContext("2d").putImageData(I,0,0),k();const R=o(fz);R.post({imageData:I,colorMatrix:D},F=>{C.getContext("2d").putImageData(F,0,0),R.terminate(),k()},[I.data.buffer])}),c=(M,D)=>{M.removeChildView(D),D.image.width=1,D.image.height=1,D._destroy()},d=({root:M})=>{const D=M.ref.images.shift();return D.opacity=0,D.translateY=-15,M.ref.imageViewBin.push(D),D},h=({root:M,props:D,image:C})=>{const k=D.id,I=M.query("GET_ITEM",{id:k});if(!I)return;const R=I.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},F=M.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let j,Y,G=!1;M.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(j=I.getMetadata("markup")||[],Y=I.getMetadata("resize"),G=!0);const B=M.appendChildView(M.createChildView(r,{id:k,image:C,crop:R,resize:Y,markup:j,dirty:G,background:F,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),M.childViews.length);M.ref.images.push(B),B.opacity=1,B.scaleX=1,B.scaleY=1,B.translateY=0,setTimeout(()=>{M.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:k})},250)},f=({root:M,props:D})=>{const C=M.query("GET_ITEM",{id:D.id});if(!C)return;const k=M.ref.images[M.ref.images.length-1];k.crop=C.getMetadata("crop"),k.background=M.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),M.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(k.dirty=!0,k.resize=C.getMetadata("resize"),k.markup=C.getMetadata("markup"))},m=({root:M,props:D,action:C})=>{if(!/crop|filter|markup|resize/.test(C.change.key)||!M.ref.images.length)return;const k=M.query("GET_ITEM",{id:D.id});if(k){if(/filter/.test(C.change.key)){const I=M.ref.images[M.ref.images.length-1];l(M,C.change.value,I.image);return}if(/crop|markup|resize/.test(C.change.key)){const I=k.getMetadata("crop"),R=M.ref.images[M.ref.images.length-1];if(I&&I.aspectRatio&&R.crop&&R.crop.aspectRatio&&Math.abs(I.aspectRatio-R.crop.aspectRatio)>1e-5){const F=d({root:M});h({root:M,props:D,image:_z(F.image)})}else f({root:M,props:D})}}},v=M=>{const C=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(C?parseInt(C[1]):null)<=58?!1:"createImageBitmap"in window&&nD(M)},E=({root:M,props:D})=>{const{id:C}=D,k=M.query("GET_ITEM",C);if(!k)return;const I=URL.createObjectURL(k.file);pz(I,(R,F)=>{M.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:C,width:R,height:F})})},b=({root:M,props:D})=>{const{id:C}=D,k=M.query("GET_ITEM",C);if(!k)return;const I=URL.createObjectURL(k.file),R=()=>{Az(I).then(F)},F=j=>{URL.revokeObjectURL(I);const G=(k.getMetadata("exif")||{}).orientation||-1;let{width:B,height:P}=j;if(!B||!P)return;G>=5&&G<=8&&([B,P]=[P,B]);const z=Math.max(1,window.devicePixelRatio*.75),N=M.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*z,V=P/B,q=M.rect.element.width,J=M.rect.element.height;let ne=q,ue=ne*V;V>1?(ne=Math.min(B,q*N),ue=ne*V):(ue=Math.min(P,J*N),ne=ue/V);const pe=vz(j,ne,ue,G),Ie=()=>{const st=M.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Ez(data):null;k.setMetadata("color",st,!0),"close"in j&&j.close(),M.ref.overlayShadow.opacity=1,h({root:M,props:D,image:pe})},we=k.getMetadata("filter");we?l(M,we,pe).then(Ie):Ie()};if(v(k.file)){const j=o(hz);j.post({file:k.file},Y=>{if(j.terminate(),!Y){R();return}F(Y)})}else R()},w=({root:M})=>{const D=M.ref.images[M.ref.images.length-1];D.translateY=0,D.scaleX=1,D.scaleY=1,D.opacity=1},A=({root:M})=>{M.ref.overlayShadow.opacity=1,M.ref.overlayError.opacity=0,M.ref.overlaySuccess.opacity=0},y=({root:M})=>{M.ref.overlayShadow.opacity=.25,M.ref.overlayError.opacity=1},S=({root:M})=>{M.ref.overlayShadow.opacity=.25,M.ref.overlaySuccess.opacity=1},T=({root:M})=>{M.ref.images=[],M.ref.imageData=null,M.ref.imageViewBin=[],M.ref.overlayShadow=M.appendChildView(M.createChildView(i,{opacity:0,status:"idle"})),M.ref.overlaySuccess=M.appendChildView(M.createChildView(i,{opacity:0,status:"success"})),M.ref.overlayError=M.appendChildView(M.createChildView(i,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:T,styles:["height"],apis:["height"],destroy:({root:M})=>{M.ref.images.forEach(D=>{D.image.width=1,D.image.height=1})},didWriteView:({root:M})=>{M.ref.images.forEach(D=>{D.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:w,DID_IMAGE_PREVIEW_CONTAINER_CREATE:E,DID_FINISH_CALCULATE_PREVIEWSIZE:b,DID_UPDATE_ITEM_METADATA:m,DID_THROW_ITEM_LOAD_ERROR:y,DID_THROW_ITEM_PROCESSING_ERROR:y,DID_THROW_ITEM_INVALID:y,DID_COMPLETE_ITEM_PROCESSING:S,DID_START_ITEM_PROCESSING:A,DID_REVERT_ITEM_PROCESSING:A},({root:M})=>{const D=M.ref.imageViewBin.filter(C=>C.opacity===0);M.ref.imageViewBin=M.ref.imageViewBin.filter(C=>C.opacity>0),D.forEach(C=>c(M,C)),D.length=0})})},iD=t=>{const{addFilter:i,utils:r}=t,{Type:o,createRoute:l,isFile:c}=r,d=Dz(t);return i("CREATE_VIEW",h=>{const{is:f,view:m,query:v}=h;if(!f("file")||!v("GET_ALLOW_IMAGE_PREVIEW"))return;const E=({root:S,props:T})=>{const{id:M}=T,D=v("GET_ITEM",M);if(!D||!c(D.file)||D.archived)return;const C=D.file;if(!k5(C)||!v("GET_IMAGE_PREVIEW_FILTER_ITEM")(D))return;const k="createImageBitmap"in(window||{}),I=v("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!k&&I&&C.size>I)return;S.ref.imagePreview=m.appendChildView(m.createChildView(d,{id:M}));const R=S.query("GET_IMAGE_PREVIEW_HEIGHT");R&&S.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:D.id,height:R});const F=!k&&C.size>v("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");S.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:M},F)},b=(S,T)=>{if(!S.ref.imagePreview)return;let{id:M}=T;const D=S.query("GET_ITEM",{id:M});if(!D)return;const C=S.query("GET_PANEL_ASPECT_RATIO"),k=S.query("GET_ITEM_PANEL_ASPECT_RATIO"),I=S.query("GET_IMAGE_PREVIEW_HEIGHT");if(C||k||I)return;let{imageWidth:R,imageHeight:F}=S.ref;if(!R||!F)return;const j=S.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),Y=S.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),B=(D.getMetadata("exif")||{}).orientation||-1;if(B>=5&&B<=8&&([R,F]=[F,R]),!nD(D.file)||S.query("GET_IMAGE_PREVIEW_UPSCALE")){const q=2048/R;R*=q,F*=q}const P=F/R,z=(D.getMetadata("crop")||{}).aspectRatio||P;let $=Math.max(j,Math.min(F,Y));const N=S.rect.element.width,V=Math.min(N*z,$);S.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:D.id,height:V})},w=({root:S})=>{S.ref.shouldRescale=!0},A=({root:S,action:T})=>{T.change.key==="crop"&&(S.ref.shouldRescale=!0)},y=({root:S,action:T})=>{S.ref.imageWidth=T.width,S.ref.imageHeight=T.height,S.ref.shouldRescale=!0,S.ref.shouldDrawPreview=!0,S.dispatch("KICK")};m.registerWriter(l({DID_RESIZE_ROOT:w,DID_STOP_RESIZE:w,DID_LOAD_ITEM:E,DID_IMAGE_PREVIEW_CALCULATE_SIZE:y,DID_UPDATE_ITEM_METADATA:A},({root:S,props:T})=>{S.ref.imagePreview&&(S.rect.element.hidden||(S.ref.shouldRescale&&(b(S,T),S.ref.shouldRescale=!1),S.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{S.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:T.id})})}),S.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,o.BOOLEAN],imagePreviewFilterItem:[()=>!0,o.FUNCTION],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewZoomFactor:[2,o.INT],imagePreviewUpscale:[!1,o.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING],imagePreviewCalculateAverageImageColor:[!1,o.BOOLEAN],imagePreviewMarkupShow:[!0,o.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,o.FUNCTION]}}},xz=typeof window<"u"&&typeof window.document<"u";xz&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:iD}));var Sz=iD;/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var Tz=t=>/^image/.test(t.type),Cz=(t,i)=>{let r=new Image;r.onload=()=>{const o=r.naturalWidth,l=r.naturalHeight;r=null,i({width:o,height:l})},r.onerror=()=>i(null),r.src=t},rD=({addFilter:t,utils:i})=>{const{Type:r}=i;return t("DID_LOAD_ITEM",(o,{query:l})=>new Promise((c,d)=>{const h=o.file;if(!Tz(h)||!l("GET_ALLOW_IMAGE_RESIZE"))return c(o);const f=l("GET_IMAGE_RESIZE_MODE"),m=l("GET_IMAGE_RESIZE_TARGET_WIDTH"),v=l("GET_IMAGE_RESIZE_TARGET_HEIGHT"),E=l("GET_IMAGE_RESIZE_UPSCALE");if(m===null&&v===null)return c(o);const b=m===null?v:m,w=v===null?b:v,A=URL.createObjectURL(h);Cz(A,y=>{if(URL.revokeObjectURL(A),!y)return c(o);let{width:S,height:T}=y;const M=(o.getMetadata("exif")||{}).orientation||-1;if(M>=5&&M<=8&&([S,T]=[T,S]),S===b&&T===w)return c(o);if(!E){if(f==="cover"){if(S<=b||T<=w)return c(o)}else if(S<=b&&T<=b)return c(o)}o.setMetadata("resize",{mode:f,upscale:E,size:{width:b,height:w}}),c(o)})})),{options:{allowImageResize:[!0,r.BOOLEAN],imageResizeMode:["cover",r.STRING],imageResizeUpscale:[!0,r.BOOLEAN],imageResizeTargetWidth:[null,r.INT],imageResizeTargetHeight:[null,r.INT]}}},Mz=typeof window<"u"&&typeof window.document<"u";Mz&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:rD}));var kz=rD;/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var Oz=t=>/^image/.test(t.type),Iz=t=>t.substr(0,t.lastIndexOf("."))||t,Rz={jpeg:"jpg","svg+xml":"svg"},Lz=(t,i)=>{const r=Iz(t),o=i.split("/")[1],l=Rz[o]||o;return`${r}.${l}`},Fz=t=>/jpeg|png|svg\+xml/.test(t)?t:"image/jpeg",Nz=t=>/^image/.test(t.type),Pz={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,i)=>[-1,0,0,-1,t,i],4:(t,i)=>[1,0,0,-1,0,i],5:()=>[0,1,1,0,0,0],6:(t,i)=>[0,1,-1,0,i,0],7:(t,i)=>[0,-1,-1,0,i,t],8:t=>[0,-1,1,0,0,t]},Bz=(t,i,r)=>(r===-1&&(r=1),Pz[r](t,i)),hc=(t,i)=>({x:t,y:i}),zz=(t,i)=>t.x*i.x+t.y*i.y,E_=(t,i)=>hc(t.x-i.x,t.y-i.y),$z=(t,i)=>zz(E_(t,i),E_(t,i)),__=(t,i)=>Math.sqrt($z(t,i)),w_=(t,i)=>{const r=t,o=1.5707963267948966,l=i,c=1.5707963267948966-i,d=Math.sin(o),h=Math.sin(l),f=Math.sin(c),m=Math.cos(c),v=r/d,E=v*h,b=v*f;return hc(m*E,m*b)},jz=(t,i)=>{const r=t.width,o=t.height,l=w_(r,i),c=w_(o,i),d=hc(t.x+Math.abs(l.x),t.y-Math.abs(l.y)),h=hc(t.x+t.width+Math.abs(c.y),t.y+Math.abs(c.x)),f=hc(t.x-Math.abs(c.y),t.y+t.height-Math.abs(c.x));return{width:__(d,h),height:__(d,f)}},oD=(t,i,r=0,o={x:.5,y:.5})=>{const l=o.x>.5?1-o.x:o.x,c=o.y>.5?1-o.y:o.y,d=l*2*t.width,h=c*2*t.height,f=jz(i,r);return Math.max(f.width/d,f.height/h)},aD=(t,i)=>{let r=t.width,o=r*i;o>t.height&&(o=t.height,r=o/i);const l=(t.width-r)*.5,c=(t.height-o)*.5;return{x:l,y:c,width:r,height:o}},A_=(t,i,r=1)=>{const o=t.height/t.width;let l=1,c=i,d=1,h=o;h>c&&(h=c,d=h/o);const f=Math.max(l/d,c/h),m=t.width/(r*f*d),v=m*i;return{width:m,height:v}},sD=t=>{t.width=1,t.height=1,t.getContext("2d").clearRect(0,0,1,1)},D_=t=>t&&(t.horizontal||t.vertical),Hz=(t,i,r)=>{if(i<=1&&!D_(r))return t.width=t.naturalWidth,t.height=t.naturalHeight,t;const o=document.createElement("canvas"),l=t.naturalWidth,c=t.naturalHeight,d=i>=5&&i<=8;d?(o.width=c,o.height=l):(o.width=l,o.height=c);const h=o.getContext("2d");if(i&&h.transform.apply(h,Bz(l,c,i)),D_(r)){const f=[1,0,0,1,0,0];(!d&&r.horizontal||d&r.vertical)&&(f[0]=-1,f[4]=l),(!d&&r.vertical||d&&r.horizontal)&&(f[3]=-1,f[5]=c),h.transform(...f)}return h.drawImage(t,0,0,l,c),o},Vz=(t,i,r={},o={})=>{const{canvasMemoryLimit:l,background:c=null}=o,d=r.zoom||1,h=Hz(t,i,r.flip),f={width:h.width,height:h.height},m=r.aspectRatio||f.height/f.width;let v=A_(f,m,d);if(l){const D=v.width*v.height;if(D>l){const C=Math.sqrt(l)/Math.sqrt(D);f.width=Math.floor(f.width*C),f.height=Math.floor(f.height*C),v=A_(f,m,d)}}const E=document.createElement("canvas"),b={x:v.width*.5,y:v.height*.5},w={x:0,y:0,width:v.width,height:v.height,center:b},A=typeof r.scaleToFit>"u"||r.scaleToFit,y=d*oD(f,aD(w,m),r.rotation,A?r.center:{x:.5,y:.5});E.width=Math.round(v.width/y),E.height=Math.round(v.height/y),b.x/=y,b.y/=y;const S={x:b.x-f.width*(r.center?r.center.x:.5),y:b.y-f.height*(r.center?r.center.y:.5)},T=E.getContext("2d");c&&(T.fillStyle=c,T.fillRect(0,0,E.width,E.height)),T.translate(b.x,b.y),T.rotate(r.rotation||0),T.drawImage(h,S.x-b.x,S.y-b.y,f.width,f.height);const M=T.getImageData(0,0,E.width,E.height);return sD(E),M},Uz=(()=>typeof window<"u"&&typeof window.document<"u")();Uz&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,i,r){var o=this.toDataURL(i,r).split(",")[1];setTimeout(function(){for(var l=atob(o),c=l.length,d=new Uint8Array(c),h=0;h<c;h++)d[h]=l.charCodeAt(h);t(new Blob([d],{type:i||"image/png"}))})}}));var Yz=(t,i,r=null)=>new Promise(o=>{const l=r?r(t):t;Promise.resolve(l).then(c=>{c.toBlob(o,i.type,i.quality)})}),Yh=(t,i)=>wc(t.x*i,t.y*i),Gh=(t,i)=>wc(t.x+i.x,t.y+i.y),lD=t=>{const i=Math.sqrt(t.x*t.x+t.y*t.y);return i===0?{x:0,y:0}:wc(t.x/i,t.y/i)},hs=(t,i,r)=>{const o=Math.cos(i),l=Math.sin(i),c=wc(t.x-r.x,t.y-r.y);return wc(r.x+o*c.x-l*c.y,r.y+l*c.x+o*c.y)},wc=(t=0,i=0)=>({x:t,y:i}),rr=(t,i,r=1,o)=>{if(typeof t=="string")return parseFloat(t)*r;if(typeof t=="number")return t*(o?i[o]:Math.min(i.width,i.height))},cl=(t,i,r)=>{const o=t.borderStyle||t.lineStyle||"solid",l=t.backgroundColor||t.fontColor||"transparent",c=t.borderColor||t.lineColor||"transparent",d=rr(t.borderWidth||t.lineWidth,i,r),h=t.lineCap||"round",f=t.lineJoin||"round",m=typeof o=="string"?"":o.map(E=>rr(E,i,r)).join(","),v=t.opacity||1;return{"stroke-linecap":h,"stroke-linejoin":f,"stroke-width":d||0,"stroke-dasharray":m,stroke:c,fill:l,opacity:v}},go=t=>t!=null,gu=(t,i,r=1)=>{let o=rr(t.x,i,r,"width")||rr(t.left,i,r,"width"),l=rr(t.y,i,r,"height")||rr(t.top,i,r,"height"),c=rr(t.width,i,r,"width"),d=rr(t.height,i,r,"height"),h=rr(t.right,i,r,"width"),f=rr(t.bottom,i,r,"height");return go(l)||(go(d)&&go(f)?l=i.height-d-f:l=f),go(o)||(go(c)&&go(h)?o=i.width-c-h:o=h),go(c)||(go(o)&&go(h)?c=i.width-o-h:c=0),go(d)||(go(l)&&go(f)?d=i.height-l-f:d=0),{x:o||0,y:l||0,width:c||0,height:d||0}},Gz=t=>t.map((i,r)=>`${r===0?"M":"L"} ${i.x} ${i.y}`).join(" "),aa=(t,i)=>Object.keys(i).forEach(r=>t.setAttribute(r,i[r])),Wz="http://www.w3.org/2000/svg",ql=(t,i)=>{const r=document.createElementNS(Wz,t);return i&&aa(r,i),r},qz=t=>aa(t,{...t.rect,...t.styles}),Kz=t=>{const i=t.rect.x+t.rect.width*.5,r=t.rect.y+t.rect.height*.5,o=t.rect.width*.5,l=t.rect.height*.5;return aa(t,{cx:i,cy:r,rx:o,ry:l,...t.styles})},Jz={contain:"xMidYMid meet",cover:"xMidYMid slice"},Xz=(t,i)=>{aa(t,{...t.rect,...t.styles,preserveAspectRatio:Jz[i.fit]||"none"})},Zz={left:"start",center:"middle",right:"end"},Qz=(t,i,r,o)=>{const l=rr(i.fontSize,r,o),c=i.fontFamily||"sans-serif",d=i.fontWeight||"normal",h=Zz[i.textAlign]||"start";aa(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":d,"font-size":l,"font-family":c,"text-anchor":h}),t.text!==i.text&&(t.text=i.text,t.textContent=i.text.length?i.text:" ")},e$=(t,i,r,o)=>{aa(t,{...t.rect,...t.styles,fill:"none"});const l=t.childNodes[0],c=t.childNodes[1],d=t.childNodes[2],h=t.rect,f={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(aa(l,{x1:h.x,y1:h.y,x2:f.x,y2:f.y}),!i.lineDecoration)return;c.style.display="none",d.style.display="none";const m=lD({x:f.x-h.x,y:f.y-h.y}),v=rr(.05,r,o);if(i.lineDecoration.indexOf("arrow-begin")!==-1){const E=Yh(m,v),b=Gh(h,E),w=hs(h,2,b),A=hs(h,-2,b);aa(c,{style:"display:block;",d:`M${w.x},${w.y} L${h.x},${h.y} L${A.x},${A.y}`})}if(i.lineDecoration.indexOf("arrow-end")!==-1){const E=Yh(m,-v),b=Gh(f,E),w=hs(f,2,b),A=hs(f,-2,b);aa(d,{style:"display:block;",d:`M${w.x},${w.y} L${f.x},${f.y} L${A.x},${A.y}`})}},t$=(t,i,r,o)=>{aa(t,{...t.styles,fill:"none",d:Gz(i.points.map(l=>({x:rr(l.x,r,o,"width"),y:rr(l.y,r,o,"height")})))})},rh=t=>i=>ql(t,{id:i.id}),n$=t=>{const i=ql("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return i.onload=()=>{i.setAttribute("opacity",t.opacity||1)},i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),i},i$=t=>{const i=ql("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),r=ql("line");i.appendChild(r);const o=ql("path");i.appendChild(o);const l=ql("path");return i.appendChild(l),i},r$={image:n$,rect:rh("rect"),ellipse:rh("ellipse"),text:rh("text"),path:rh("path"),line:i$},o$={rect:qz,ellipse:Kz,image:Xz,text:Qz,path:t$,line:e$},a$=(t,i)=>r$[t](i),s$=(t,i,r,o,l)=>{i!=="path"&&(t.rect=gu(r,o,l)),t.styles=cl(r,o,l),o$[i](t,r,o,l)},uD=(t,i)=>t[1].zIndex>i[1].zIndex?1:t[1].zIndex<i[1].zIndex?-1:0,l$=(t,i={},r,o)=>new Promise(l=>{const{background:c=null}=o,d=new FileReader;d.onloadend=()=>{const h=d.result,f=document.createElement("div");f.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",f.innerHTML=h;const m=f.querySelector("svg");document.body.appendChild(f);const v=m.getBBox();f.parentNode.removeChild(f);const E=f.querySelector("title"),b=m.getAttribute("viewBox")||"",w=m.getAttribute("width")||"",A=m.getAttribute("height")||"";let y=parseFloat(w)||null,S=parseFloat(A)||null;const T=(w.match(/[a-z]+/)||[])[0]||"",M=(A.match(/[a-z]+/)||[])[0]||"",D=b.split(" ").map(parseFloat),C=D.length?{x:D[0],y:D[1],width:D[2],height:D[3]}:v;let k=y??C.width,I=S??C.height;m.style.overflow="visible",m.setAttribute("width",k),m.setAttribute("height",I);let R="";if(r&&r.length){const we={width:k,height:I};R=r.sort(uD).reduce((st,Ae)=>{const Oe=a$(Ae[0],Ae[1]);return s$(Oe,Ae[0],Ae[1],we),Oe.removeAttribute("id"),Oe.getAttribute("opacity")===1&&Oe.removeAttribute("opacity"),st+`
`+Oe.outerHTML+`
`},""),R=`

<g>${R.replace(/&nbsp;/g," ")}</g>

`}const F=i.aspectRatio||I/k,j=k,Y=j*F,G=typeof i.scaleToFit>"u"||i.scaleToFit,B=i.center?i.center.x:.5,P=i.center?i.center.y:.5,z=oD({width:k,height:I},aD({width:j,height:Y},F),i.rotation,G?{x:B,y:P}:{x:.5,y:.5}),$=i.zoom*z,N=i.rotation*(180/Math.PI),V={x:j*.5,y:Y*.5},q={x:V.x-k*B,y:V.y-I*P},J=[`rotate(${N} ${V.x} ${V.y})`,`translate(${V.x} ${V.y})`,`scale(${$})`,`translate(${-V.x} ${-V.y})`,`translate(${q.x} ${q.y})`],ne=i.flip&&i.flip.horizontal,ue=i.flip&&i.flip.vertical,pe=[`scale(${ne?-1:1} ${ue?-1:1})`,`translate(${ne?-k:0} ${ue?-I:0})`],Ie=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${j}${T}" height="${Y}${M}" 
viewBox="0 0 ${j} ${Y}" ${c?'style="background:'+c+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${E?E.textContent:""}</title>
<g transform="${J.join(" ")}">
<g transform="${pe.join(" ")}">
${m.outerHTML}${R}
</g>
</g>
</svg>`;l(Ie)},d.readAsText(t)}),u$=t=>{let i;try{i=new ImageData(t.width,t.height)}catch{i=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return i.data.set(t.data),i},c$=()=>{const t={resize:v,filter:m},i=(E,b)=>(E.forEach(w=>{b=t[w.type](b,w.data)}),b),r=(E,b)=>{let w=E.transforms,A=null;if(w.forEach(y=>{y.type==="filter"&&(A=y)}),A){let y=null;w.forEach(S=>{S.type==="resize"&&(y=S)}),y&&(y.data.matrix=A.data,w=w.filter(S=>S.type!=="filter"))}b(i(w,E.imageData))};self.onmessage=E=>{r(E.data.message,b=>{self.postMessage({id:E.data.id,message:b},[b.data.buffer])})};const o=1,l=1,c=1;function d(E,b,w){const A=b[E]/255,y=b[E+1]/255,S=b[E+2]/255,T=b[E+3]/255,M=A*w[0]+y*w[1]+S*w[2]+T*w[3]+w[4],D=A*w[5]+y*w[6]+S*w[7]+T*w[8]+w[9],C=A*w[10]+y*w[11]+S*w[12]+T*w[13]+w[14],k=A*w[15]+y*w[16]+S*w[17]+T*w[18]+w[19],I=Math.max(0,M*k)+o*(1-k),R=Math.max(0,D*k)+l*(1-k),F=Math.max(0,C*k)+c*(1-k);b[E]=Math.max(0,Math.min(1,I))*255,b[E+1]=Math.max(0,Math.min(1,R))*255,b[E+2]=Math.max(0,Math.min(1,F))*255}const h=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function f(E){return self.JSON.stringify(E||[])===h}function m(E,b){if(!b||f(b))return E;const w=E.data,A=w.length,y=b[0],S=b[1],T=b[2],M=b[3],D=b[4],C=b[5],k=b[6],I=b[7],R=b[8],F=b[9],j=b[10],Y=b[11],G=b[12],B=b[13],P=b[14],z=b[15],$=b[16],N=b[17],V=b[18],q=b[19];let J=0,ne=0,ue=0,pe=0,Ie=0,we=0,st=0,Ae=0,Oe=0,$e=0,et=0,Ue=0;for(;J<A;J+=4)ne=w[J]/255,ue=w[J+1]/255,pe=w[J+2]/255,Ie=w[J+3]/255,we=ne*y+ue*S+pe*T+Ie*M+D,st=ne*C+ue*k+pe*I+Ie*R+F,Ae=ne*j+ue*Y+pe*G+Ie*B+P,Oe=ne*z+ue*$+pe*N+Ie*V+q,$e=Math.max(0,we*Oe)+o*(1-Oe),et=Math.max(0,st*Oe)+l*(1-Oe),Ue=Math.max(0,Ae*Oe)+c*(1-Oe),w[J]=Math.max(0,Math.min(1,$e))*255,w[J+1]=Math.max(0,Math.min(1,et))*255,w[J+2]=Math.max(0,Math.min(1,Ue))*255;return E}function v(E,b){let{mode:w="contain",upscale:A=!1,width:y,height:S,matrix:T}=b;if(T=!T||f(T)?null:T,!y&&!S)return m(E,T);if(y===null?y=S:S===null&&(S=y),w!=="force"){let B=y/E.width,P=S/E.height,z=1;if(w==="cover"?z=Math.max(B,P):w==="contain"&&(z=Math.min(B,P)),z>1&&A===!1)return m(E,T);y=E.width*z,S=E.height*z}const M=E.width,D=E.height,C=Math.round(y),k=Math.round(S),I=E.data,R=new Uint8ClampedArray(C*k*4),F=M/C,j=D/k,Y=Math.ceil(F*.5),G=Math.ceil(j*.5);for(let B=0;B<k;B++)for(let P=0;P<C;P++){let z=(P+B*C)*4,$=0,N=0,V=0,q=0,J=0,ne=0,ue=0,pe=(B+.5)*j;for(let Ie=Math.floor(B*j);Ie<(B+1)*j;Ie++){let we=Math.abs(pe-(Ie+.5))/G,st=(P+.5)*F,Ae=we*we;for(let Oe=Math.floor(P*F);Oe<(P+1)*F;Oe++){let $e=Math.abs(st-(Oe+.5))/Y,et=Math.sqrt(Ae+$e*$e);if(et>=-1&&et<=1&&($=2*et*et*et-3*et*et+1,$>0)){$e=4*(Oe+Ie*M);let Ue=I[$e+3];ue+=$*Ue,V+=$,Ue<255&&($=$*Ue/250),q+=$*I[$e],J+=$*I[$e+1],ne+=$*I[$e+2],N+=$}}}R[z]=q/N,R[z+1]=J/N,R[z+2]=ne/N,R[z+3]=ue/V,T&&d(z,R,T)}return{data:R,width:C,height:k}}},d$=(t,i)=>{if(t.getUint32(i+4,!1)!==1165519206)return;i+=4;const r=t.getUint16(i+=6,!1)===18761;i+=t.getUint32(i+4,r);const o=t.getUint16(i,r);i+=2;for(let l=0;l<o;l++)if(t.getUint16(i+l*12,r)===274)return t.setUint16(i+l*12+8,1,r),!0;return!1},h$=t=>{const i=new DataView(t);if(i.getUint16(0)!==65496)return null;let r=2,o,l,c=!1;for(;r<i.byteLength&&(o=i.getUint16(r,!1),l=i.getUint16(r+2,!1)+2,!(!(o>=65504&&o<=65519||o===65534)||(c||(c=d$(i,r)),r+l>i.byteLength)));)r+=l;return t.slice(0,r)},f$=t=>new Promise(i=>{const r=new FileReader;r.onload=()=>i(h$(r.result)||null),r.readAsArrayBuffer(t.slice(0,256*1024))}),p$=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,m$=(t,i)=>{const r=p$();if(r){const o=new r;return o.append(t),o.getBlob(i)}return new Blob([t],{type:i})},g$=()=>Math.random().toString(36).substr(2,9),v$=t=>{const i=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(i),o=new Worker(r),l=[];return{transfer:()=>{},post:(c,d,h)=>{const f=g$();l[f]=d,o.onmessage=m=>{const v=l[m.data.id];v&&(v(m.data.message),delete l[m.data.id])},o.postMessage({id:f,message:c},h)},terminate:()=>{o.terminate(),URL.revokeObjectURL(r)}}},b$=t=>new Promise((i,r)=>{const o=new Image;o.onload=()=>{i(o)},o.onerror=l=>{r(l)},o.src=t}),y$=t=>t.reduce((i,r)=>i.then(o=>r().then(Array.prototype.concat.bind(o))),Promise.resolve([])),E$=(t,i)=>new Promise(r=>{const o={width:t.width,height:t.height},l=t.getContext("2d"),c=i.sort(uD).map(d=>()=>new Promise(h=>{T$[d[0]](l,o,d[1],h)&&h()}));y$(c).then(()=>r(t))}),vu=(t,i)=>{t.beginPath(),t.lineCap=i["stroke-linecap"],t.lineJoin=i["stroke-linejoin"],t.lineWidth=i["stroke-width"],i["stroke-dasharray"].length&&t.setLineDash(i["stroke-dasharray"].split(",")),t.fillStyle=i.fill,t.strokeStyle=i.stroke,t.globalAlpha=i.opacity||1},bu=t=>{t.fill(),t.stroke(),t.globalAlpha=1},_$=(t,i,r)=>{const o=gu(r,i),l=cl(r,i);return vu(t,l),t.rect(o.x,o.y,o.width,o.height),bu(t),!0},w$=(t,i,r)=>{const o=gu(r,i),l=cl(r,i);vu(t,l);const c=o.x,d=o.y,h=o.width,f=o.height,m=.5522848,v=h/2*m,E=f/2*m,b=c+h,w=d+f,A=c+h/2,y=d+f/2;return t.moveTo(c,y),t.bezierCurveTo(c,y-E,A-v,d,A,d),t.bezierCurveTo(A+v,d,b,y-E,b,y),t.bezierCurveTo(b,y+E,A+v,w,A,w),t.bezierCurveTo(A-v,w,c,y+E,c,y),bu(t),!0},A$=(t,i,r,o)=>{const l=gu(r,i),c=cl(r,i);vu(t,c);const d=new Image;new URL(r.src,window.location.href).origin!==window.location.origin&&(d.crossOrigin=""),d.onload=()=>{if(r.fit==="cover"){const f=l.width/l.height,m=f>1?d.width:d.height*f,v=f>1?d.width/f:d.height,E=d.width*.5-m*.5,b=d.height*.5-v*.5;t.drawImage(d,E,b,m,v,l.x,l.y,l.width,l.height)}else if(r.fit==="contain"){const f=Math.min(l.width/d.width,l.height/d.height),m=f*d.width,v=f*d.height,E=l.x+l.width*.5-m*.5,b=l.y+l.height*.5-v*.5;t.drawImage(d,0,0,d.width,d.height,E,b,m,v)}else t.drawImage(d,0,0,d.width,d.height,l.x,l.y,l.width,l.height);bu(t),o()},d.src=r.src},D$=(t,i,r)=>{const o=gu(r,i),l=cl(r,i);vu(t,l);const c=rr(r.fontSize,i),d=r.fontFamily||"sans-serif",h=r.fontWeight||"normal",f=r.textAlign||"left";return t.font=`${h} ${c}px ${d}`,t.textAlign=f,t.fillText(r.text,o.x,o.y),bu(t),!0},x$=(t,i,r)=>{const o=cl(r,i);vu(t,o),t.beginPath();const l=r.points.map(d=>({x:rr(d.x,i,1,"width"),y:rr(d.y,i,1,"height")}));t.moveTo(l[0].x,l[0].y);const c=l.length;for(let d=1;d<c;d++)t.lineTo(l[d].x,l[d].y);return bu(t),!0},S$=(t,i,r)=>{const o=gu(r,i),l=cl(r,i);vu(t,l),t.beginPath();const c={x:o.x,y:o.y},d={x:o.x+o.width,y:o.y+o.height};t.moveTo(c.x,c.y),t.lineTo(d.x,d.y);const h=lD({x:d.x-c.x,y:d.y-c.y}),f=.04*Math.min(i.width,i.height);if(r.lineDecoration.indexOf("arrow-begin")!==-1){const m=Yh(h,f),v=Gh(c,m),E=hs(c,2,v),b=hs(c,-2,v);t.moveTo(E.x,E.y),t.lineTo(c.x,c.y),t.lineTo(b.x,b.y)}if(r.lineDecoration.indexOf("arrow-end")!==-1){const m=Yh(h,-f),v=Gh(d,m),E=hs(d,2,v),b=hs(d,-2,v);t.moveTo(E.x,E.y),t.lineTo(d.x,d.y),t.lineTo(b.x,b.y)}return bu(t),!0},T$={rect:_$,ellipse:w$,image:A$,text:D$,line:S$,path:x$},C$=t=>{const i=document.createElement("canvas");return i.width=t.width,i.height=t.height,i.getContext("2d").putImageData(t,0,0),i},M$=(t,i,r={})=>new Promise((o,l)=>{if(!t||!Nz(t))return l({status:"not an image file",file:t});const{stripImageHead:c,beforeCreateBlob:d,afterCreateBlob:h,canvasMemoryLimit:f}=r,{crop:m,size:v,filter:E,markup:b,output:w}=i,A=i.image&&i.image.orientation?Math.max(1,Math.min(8,i.image.orientation)):null,y=w&&w.quality,S=y===null?null:y/100,T=w&&w.type||null,M=w&&w.background||null,D=[];v&&(typeof v.width=="number"||typeof v.height=="number")&&D.push({type:"resize",data:v}),E&&E.length===20&&D.push({type:"filter",data:E});const C=R=>{const F=h?h(R):R;Promise.resolve(F).then(o)},k=(R,F)=>{const j=C$(R),Y=b.length?E$(j,b):j;Promise.resolve(Y).then(G=>{Yz(G,F,d).then(B=>{if(sD(G),c)return C(B);f$(t).then(P=>{P!==null&&(B=new Blob([P,B.slice(20)],{type:B.type})),C(B)})}).catch(l)})};if(/svg/.test(t.type)&&T===null)return l$(t,m,b,{background:M}).then(R=>{o(m$(R,"image/svg+xml"))});const I=URL.createObjectURL(t);b$(I).then(R=>{URL.revokeObjectURL(I);const F=Vz(R,A,m,{canvasMemoryLimit:f,background:M}),j={quality:S,type:T||t.type};if(!D.length)return k(F,j);const Y=v$(c$);Y.post({transforms:D,imageData:F},G=>{k(u$(G),j),Y.terminate()},[F.data.buffer])}).catch(l)}),k$=["x","y","left","top","right","bottom","width","height"],O$=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,I$=t=>{const[i,r]=t,o=r.points?{}:k$.reduce((l,c)=>(l[c]=O$(r[c]),l),{});return[i,{zIndex:0,...r,...o}]},R$=t=>new Promise((i,r)=>{const o=new Image;o.src=URL.createObjectURL(t);const l=()=>{const d=o.naturalWidth,h=o.naturalHeight;d&&h&&(URL.revokeObjectURL(o.src),clearInterval(c),i({width:d,height:h}))};o.onerror=d=>{URL.revokeObjectURL(o.src),clearInterval(c),r(d)};const c=setInterval(l,1);l()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,i,r){const o=this;setTimeout(()=>{const l=o.toDataURL(i,r).split(",")[1],c=atob(l);let d=c.length;const h=new Uint8Array(d);for(;d--;)h[d]=c.charCodeAt(d);t(new Blob([h],{type:i||"image/png"}))})}}));var v0=typeof window<"u"&&typeof window.document<"u",L$=v0&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,cD=({addFilter:t,utils:i})=>{const{Type:r,forin:o,getFileFromBlob:l,isFile:c}=i,d=["crop","resize","filter","markup","output"],h=v=>(E,b,w)=>E(b,v?v(w):w),f=v=>v.aspectRatio===null&&v.rotation===0&&v.zoom===1&&v.center&&v.center.x===.5&&v.center.y===.5&&v.flip&&v.flip.horizontal===!1&&v.flip.vertical===!1;t("SHOULD_PREPARE_OUTPUT",(v,{query:E})=>new Promise(b=>{b(!E("IS_ASYNC"))}));const m=(v,E,b)=>new Promise(w=>{if(!v("GET_ALLOW_IMAGE_TRANSFORM")||b.archived||!c(E)||!Oz(E))return w(!1);R$(E).then(()=>{const A=v("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(A){const y=A(E);if(y==null)return handleRevert(!0);if(typeof y=="boolean")return w(y);if(typeof y.then=="function")return y.then(w)}w(!0)}).catch(A=>{w(!1)})});return t("DID_CREATE_ITEM",(v,{query:E,dispatch:b})=>{E("GET_ALLOW_IMAGE_TRANSFORM")&&v.extend("requestPrepare",()=>new Promise((w,A)=>{b("REQUEST_PREPARE_OUTPUT",{query:v.id,item:v,success:w,failure:A},!0)}))}),t("PREPARE_OUTPUT",(v,{query:E,item:b})=>new Promise(w=>{m(E,v,b).then(A=>{if(!A)return w(v);const y=[];E("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&y.push(()=>new Promise(F=>{F({name:E("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:v})})),E("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&y.push((F,j,Y)=>new Promise(G=>{F(j,Y).then(B=>G({name:E("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:B}))}));const S=E("GET_IMAGE_TRANSFORM_VARIANTS")||{};o(S,(F,j)=>{const Y=h(j);y.push((G,B,P)=>new Promise(z=>{Y(G,B,P).then($=>z({name:F,file:$}))}))});const T=E("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),M=E("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),D=T===null?null:T/100,C=E("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),k=E("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||d;b.setMetadata("output",{type:C,quality:D,client:k},!0);const I=(F,j)=>new Promise((Y,G)=>{const B={...j};Object.keys(B).filter(ue=>ue!=="exif").forEach(ue=>{k.indexOf(ue)===-1&&delete B[ue]});const{resize:P,exif:z,output:$,crop:N,filter:V,markup:q}=B,J={image:{orientation:z?z.orientation:null},output:$&&($.type||typeof $.quality=="number"||$.background)?{type:$.type,quality:typeof $.quality=="number"?$.quality*100:null,background:$.background||E("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:P&&(P.size.width||P.size.height)?{mode:P.mode,upscale:P.upscale,...P.size}:void 0,crop:N&&!f(N)?{...N}:void 0,markup:q&&q.length?q.map(I$):[],filter:V};if(J.output){const ue=$.type?$.type!==F.type:!1,pe=/\/jpe?g$/.test(F.type),Ie=$.quality!==null?pe&&M==="always":!1;if(!!!(J.size||J.crop||J.filter||ue||Ie))return Y(F)}const ne={beforeCreateBlob:E("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:E("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:E("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:E("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};M$(F,J,ne).then(ue=>{const pe=l(ue,Lz(F.name,Fz(ue.type)));Y(pe)}).catch(G)}),R=y.map(F=>F(I,v,b.getMetadata()));Promise.all(R).then(F=>{w(F.length===1&&F[0].name===null?F[0].file:F)})})})),{options:{allowImageTransform:[!0,r.BOOLEAN],imageTransformImageFilter:[null,r.FUNCTION],imageTransformOutputMimeType:[null,r.STRING],imageTransformOutputQuality:[null,r.INT],imageTransformOutputStripImageHead:[!0,r.BOOLEAN],imageTransformClientTransforms:[null,r.ARRAY],imageTransformOutputQualityMode:["always",r.STRING],imageTransformVariants:[null,r.OBJECT],imageTransformVariantsIncludeDefault:[!0,r.BOOLEAN],imageTransformVariantsDefaultName:[null,r.STRING],imageTransformVariantsIncludeOriginal:[!1,r.BOOLEAN],imageTransformVariantsOriginalName:["original_",r.STRING],imageTransformBeforeCreateBlob:[null,r.FUNCTION],imageTransformAfterCreateBlob:[null,r.FUNCTION],imageTransformCanvasMemoryLimit:[v0&&L$?4096*4096:null,r.INT],imageTransformCanvasBackgroundColor:[null,r.STRING]}}};v0&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:cD}));var F$=cD;/*!
 * FilePondPluginMediaPreview 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */var pg=t=>/^video/.test(t.type),fc=t=>/^audio/.test(t.type),N$=class{constructor(t,i){this.mediaEl=t,this.audioElems=i,this.onplayhead=!1,this.duration=0,this.timelineWidth=this.audioElems.timeline.offsetWidth-this.audioElems.playhead.offsetWidth,this.moveplayheadFn=this.moveplayhead.bind(this),this.registerListeners()}registerListeners(){this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1),this.mediaEl.addEventListener("canplaythrough",()=>this.duration=this.mediaEl.duration,!1),this.audioElems.timeline.addEventListener("click",this.timelineClicked.bind(this),!1),this.audioElems.button.addEventListener("click",this.play.bind(this)),this.audioElems.playhead.addEventListener("mousedown",this.mouseDown.bind(this),!1),window.addEventListener("mouseup",this.mouseUp.bind(this),!1)}play(){this.mediaEl.paused?this.mediaEl.play():this.mediaEl.pause(),this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause")}timeUpdate(){let t=this.mediaEl.currentTime/this.duration*100;this.audioElems.playhead.style.marginLeft=t+"%",this.mediaEl.currentTime===this.duration&&(this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause"))}moveplayhead(t){let i=t.clientX-this.getPosition(this.audioElems.timeline);i>=0&&i<=this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=i+"px"),i<0&&(this.audioElems.playhead.style.marginLeft="0px"),i>this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=this.timelineWidth-4+"px")}timelineClicked(t){this.moveplayhead(t),this.mediaEl.currentTime=this.duration*this.clickPercent(t)}mouseDown(){this.onplayhead=!0,window.addEventListener("mousemove",this.moveplayheadFn,!0),this.mediaEl.removeEventListener("timeupdate",this.timeUpdate.bind(this),!1)}mouseUp(t){window.removeEventListener("mousemove",this.moveplayheadFn,!0),this.onplayhead==!0&&(this.moveplayhead(t),this.mediaEl.currentTime=this.duration*this.clickPercent(t),this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1)),this.onplayhead=!1}clickPercent(t){return(t.clientX-this.getPosition(this.audioElems.timeline))/this.timelineWidth}getPosition(t){return t.getBoundingClientRect().left}},P$=t=>t.utils.createView({name:"media-preview",tag:"div",ignoreRect:!0,create:({root:i,props:r})=>{const o=i.query("GET_ITEM",{id:r.id});let l=fc(o.file)?"audio":"video";if(i.ref.media=document.createElement(l),i.ref.media.setAttribute("controls",!0),i.element.appendChild(i.ref.media),fc(o.file)){let c=document.createDocumentFragment();i.ref.audio=[],i.ref.audio.container=document.createElement("div"),i.ref.audio.button=document.createElement("span"),i.ref.audio.timeline=document.createElement("div"),i.ref.audio.playhead=document.createElement("div"),i.ref.audio.container.className="audioplayer",i.ref.audio.button.className="playpausebtn play",i.ref.audio.timeline.className="timeline",i.ref.audio.playhead.className="playhead",i.ref.audio.timeline.appendChild(i.ref.audio.playhead),i.ref.audio.container.appendChild(i.ref.audio.button),i.ref.audio.container.appendChild(i.ref.audio.timeline),c.appendChild(i.ref.audio.container),i.element.appendChild(c)}},write:t.utils.createRoute({DID_MEDIA_PREVIEW_LOAD:({root:i,props:r})=>{const o=i.query("GET_ITEM",{id:r.id});if(!o)return;let l=window.URL||window.webkitURL,c=new Blob([o.file],{type:o.file.type});i.ref.media.type=o.file.type,i.ref.media.src=o.file.mock&&o.file.url||l.createObjectURL(c),fc(o.file)&&new N$(i.ref.media,i.ref.audio),i.ref.media.addEventListener("loadeddata",()=>{let d=75;if(pg(o.file)){let h=i.ref.media.offsetWidth,f=i.ref.media.videoWidth/h;d=i.ref.media.videoHeight/f}i.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:d})},!1)}})}),B$=t=>{const i=({root:o,props:l})=>{const{id:c}=l;o.query("GET_ITEM",c)&&o.dispatch("DID_MEDIA_PREVIEW_LOAD",{id:c})},r=({root:o,props:l})=>{const c=P$(t);o.ref.media=o.appendChildView(o.createChildView(c,{id:l.id}))};return t.utils.createView({name:"media-preview-wrapper",create:r,write:t.utils.createRoute({DID_MEDIA_PREVIEW_CONTAINER_CREATE:i})})},dD=t=>{const{addFilter:i,utils:r}=t,{Type:o,createRoute:l}=r,c=B$(t);return i("CREATE_VIEW",d=>{const{is:h,view:f,query:m}=d;if(!h("file"))return;const v=({root:E,props:b})=>{const{id:w}=b,A=m("GET_ITEM",w),y=m("GET_ALLOW_VIDEO_PREVIEW"),S=m("GET_ALLOW_AUDIO_PREVIEW");!A||A.archived||(!pg(A.file)||!y)&&(!fc(A.file)||!S)||(E.ref.mediaPreview=f.appendChildView(f.createChildView(c,{id:w})),E.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:w}))};f.registerWriter(l({DID_LOAD_ITEM:v},({root:E,props:b})=>{const{id:w}=b,A=m("GET_ITEM",w),y=E.query("GET_ALLOW_VIDEO_PREVIEW"),S=E.query("GET_ALLOW_AUDIO_PREVIEW");!A||(!pg(A.file)||!y)&&(!fc(A.file)||!S)||E.rect.element.hidden}))}),{options:{allowVideoPreview:[!0,o.BOOLEAN],allowAudioPreview:[!0,o.BOOLEAN]}}},z$=typeof window<"u"&&typeof window.document<"u";z$&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:dD}));var $$={labelIdle:'اسحب و ادرج ملفاتك أو <span class="filepond--label-action"> تصفح </span>',labelInvalidField:"الحقل يحتوي على ملفات غير صالحة",labelFileWaitingForSize:"بانتظار الحجم",labelFileSizeNotAvailable:"الحجم غير متاح",labelFileLoading:"بالإنتظار",labelFileLoadError:"حدث خطأ أثناء التحميل",labelFileProcessing:"يتم الرفع",labelFileProcessingComplete:"تم الرفع",labelFileProcessingAborted:"تم إلغاء الرفع",labelFileProcessingError:"حدث خطأ أثناء الرفع",labelFileProcessingRevertError:"حدث خطأ أثناء التراجع",labelFileRemoveError:"حدث خطأ أثناء الحذف",labelTapToCancel:"انقر للإلغاء",labelTapToRetry:"انقر لإعادة المحاولة",labelTapToUndo:"انقر للتراجع",labelButtonRemoveItem:"مسح",labelButtonAbortItemLoad:"إلغاء",labelButtonRetryItemLoad:"إعادة",labelButtonAbortItemProcessing:"إلغاء",labelButtonUndoItemProcessing:"تراجع",labelButtonRetryItemProcessing:"إعادة",labelButtonProcessItem:"رفع",labelMaxFileSizeExceeded:"الملف كبير جدا",labelMaxFileSize:"حجم الملف الأقصى: {filesize}",labelMaxTotalFileSizeExceeded:"تم تجاوز الحد الأقصى للحجم الإجمالي",labelMaxTotalFileSize:"الحد الأقصى لحجم الملف: {filesize}",labelFileTypeNotAllowed:"ملف من نوع غير صالح",fileValidateTypeLabelExpectedTypes:"تتوقع {allButLastType} من {lastType}",imageValidateSizeLabelFormatError:"نوع الصورة غير مدعوم",imageValidateSizeLabelImageSizeTooSmall:"الصورة صغير جدا",imageValidateSizeLabelImageSizeTooBig:"الصورة كبيرة جدا",imageValidateSizeLabelExpectedMinSize:"الحد الأدنى للأبعاد هو: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"الحد الأقصى للأبعاد هو: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"الدقة ضعيفة جدا",imageValidateSizeLabelImageResolutionTooHigh:"الدقة مرتفعة جدا",imageValidateSizeLabelExpectedMinResolution:"أقل دقة: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"أقصى دقة: {maxResolution}"},j$={labelIdle:'Přetáhněte soubor sem (drag&drop) nebo <span class="filepond--label-action"> Vyhledat </span>',labelInvalidField:"Pole obsahuje chybné soubory",labelFileWaitingForSize:"Zjišťuje se velikost",labelFileSizeNotAvailable:"Velikost není známá",labelFileLoading:"Přenáší se",labelFileLoadError:"Chyba při přenosu",labelFileProcessing:"Probíhá upload",labelFileProcessingComplete:"Upload dokončen",labelFileProcessingAborted:"Upload stornován",labelFileProcessingError:"Chyba při uploadu",labelFileProcessingRevertError:"Chyba při obnově",labelFileRemoveError:"Chyba při odstranění",labelTapToCancel:"klepněte pro storno",labelTapToRetry:"klepněte pro opakování",labelTapToUndo:"klepněte pro vrácení",labelButtonRemoveItem:"Odstranit",labelButtonAbortItemLoad:"Storno",labelButtonRetryItemLoad:"Opakovat",labelButtonAbortItemProcessing:"Zpět",labelButtonUndoItemProcessing:"Vrátit",labelButtonRetryItemProcessing:"Opakovat",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Soubor je příliš velký",labelMaxFileSize:"Největší velikost souboru je {filesize}",labelMaxTotalFileSizeExceeded:"Překročena maximální celková velikost souboru",labelMaxTotalFileSize:"Maximální celková velikost souboru je {filesize}",labelFileTypeNotAllowed:"Soubor je nesprávného typu",fileValidateTypeLabelExpectedTypes:"Očekává se {allButLastType} nebo {lastType}",imageValidateSizeLabelFormatError:"Obrázek tohoto typu není podporován",imageValidateSizeLabelImageSizeTooSmall:"Obrázek je příliš malý",imageValidateSizeLabelImageSizeTooBig:"Obrázek je příliš velký",imageValidateSizeLabelExpectedMinSize:"Minimální rozměr je {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximální rozměr je {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rozlišení je příliš malé",imageValidateSizeLabelImageResolutionTooHigh:"Rozlišení je příliš velké",imageValidateSizeLabelExpectedMinResolution:"Minimální rozlišení je {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximální rozlišení je {maxResolution}"},H$={labelIdle:'Træk & slip filer eller <span class = "filepond - label-action"> Gennemse </span>',labelInvalidField:"Felt indeholder ugyldige filer",labelFileWaitingForSize:"Venter på størrelse",labelFileSizeNotAvailable:"Størrelse ikke tilgængelig",labelFileLoading:"Loader",labelFileLoadError:"Load fejlede",labelFileProcessing:"Uploader",labelFileProcessingComplete:"Upload færdig",labelFileProcessingAborted:"Upload annulleret",labelFileProcessingError:"Upload fejlede",labelFileProcessingRevertError:"Fortryd fejlede",labelFileRemoveError:"Fjern fejlede",labelTapToCancel:"tryk for at annullere",labelTapToRetry:"tryk for at prøve igen",labelTapToUndo:"tryk for at fortryde",labelButtonRemoveItem:"Fjern",labelButtonAbortItemLoad:"Annuller",labelButtonRetryItemLoad:"Forsøg igen",labelButtonAbortItemProcessing:"Annuller",labelButtonUndoItemProcessing:"Fortryd",labelButtonRetryItemProcessing:"Prøv igen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Filen er for stor",labelMaxFileSize:"Maksimal filstørrelse er {filesize}",labelMaxTotalFileSizeExceeded:"Maksimal totalstørrelse overskredet",labelMaxTotalFileSize:"Maksimal total filstørrelse er {filesize}",labelFileTypeNotAllowed:"Ugyldig filtype",fileValidateTypeLabelExpectedTypes:"Forventer {allButLastType} eller {lastType}",imageValidateSizeLabelFormatError:"Ugyldigt format",imageValidateSizeLabelImageSizeTooSmall:"Billedet er for lille",imageValidateSizeLabelImageSizeTooBig:"Billedet er for stort",imageValidateSizeLabelExpectedMinSize:"Minimum størrelse er {minBredde} × {minHøjde}",imageValidateSizeLabelExpectedMaxSize:"Maksimal størrelse er {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"For lav opløsning",imageValidateSizeLabelImageResolutionTooHigh:"For høj opløsning",imageValidateSizeLabelExpectedMinResolution:"Minimum opløsning er {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimal opløsning er {maxResolution}"},V$={labelIdle:'Dateien ablegen oder <span class="filepond--label-action"> auswählen </span>',labelInvalidField:"Feld beinhaltet ungültige Dateien",labelFileWaitingForSize:"Dateigröße berechnen",labelFileSizeNotAvailable:"Dateigröße nicht verfügbar",labelFileLoading:"Laden",labelFileLoadError:"Fehler beim Laden",labelFileProcessing:"Upload läuft",labelFileProcessingComplete:"Upload abgeschlossen",labelFileProcessingAborted:"Upload abgebrochen",labelFileProcessingError:"Fehler beim Upload",labelFileProcessingRevertError:"Fehler beim Wiederherstellen",labelFileRemoveError:"Fehler beim Löschen",labelTapToCancel:"abbrechen",labelTapToRetry:"erneut versuchen",labelTapToUndo:"rückgängig",labelButtonRemoveItem:"Entfernen",labelButtonAbortItemLoad:"Verwerfen",labelButtonRetryItemLoad:"Erneut versuchen",labelButtonAbortItemProcessing:"Abbrechen",labelButtonUndoItemProcessing:"Rückgängig",labelButtonRetryItemProcessing:"Erneut versuchen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Datei ist zu groß",labelMaxFileSize:"Maximale Dateigröße: {filesize}",labelMaxTotalFileSizeExceeded:"Maximale gesamte Dateigröße überschritten",labelMaxTotalFileSize:"Maximale gesamte Dateigröße: {filesize}",labelFileTypeNotAllowed:"Dateityp ungültig",fileValidateTypeLabelExpectedTypes:"Erwartet {allButLastType} oder {lastType}",imageValidateSizeLabelFormatError:"Bildtyp nicht unterstützt",imageValidateSizeLabelImageSizeTooSmall:"Bild ist zu klein",imageValidateSizeLabelImageSizeTooBig:"Bild ist zu groß",imageValidateSizeLabelExpectedMinSize:"Mindestgröße: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximale Größe: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Auflösung ist zu niedrig",imageValidateSizeLabelImageResolutionTooHigh:"Auflösung ist zu hoch",imageValidateSizeLabelExpectedMinResolution:"Mindestauflösung: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximale Auflösung: {maxResolution}"},U$={labelIdle:'Drag & Drop your files or <span class="filepond--label-action"> Browse </span>',labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"Size not available",labelFileLoading:"Loading",labelFileLoadError:"Error during load",labelFileProcessing:"Uploading",labelFileProcessingComplete:"Upload complete",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelFileRemoveError:"Error during remove",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Remove",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Cancel",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is {filesize}",labelMaxTotalFileSizeExceeded:"Maximum total size exceeded",labelMaxTotalFileSize:"Maximum total file size is {filesize}",labelFileTypeNotAllowed:"File of invalid type",fileValidateTypeLabelExpectedTypes:"Expects {allButLastType} or {lastType}",imageValidateSizeLabelFormatError:"Image type not supported",imageValidateSizeLabelImageSizeTooSmall:"Image is too small",imageValidateSizeLabelImageSizeTooBig:"Image is too big",imageValidateSizeLabelExpectedMinSize:"Minimum size is {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum size is {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolution is too low",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimum resolution is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum resolution is {maxResolution}"},Y$={labelIdle:'Arrastra y suelta tus archivos o <span class = "filepond--label-action"> Examinar <span>',labelInvalidField:"El campo contiene archivos inválidos",labelFileWaitingForSize:"Esperando tamaño",labelFileSizeNotAvailable:"Tamaño no disponible",labelFileLoading:"Cargando",labelFileLoadError:"Error durante la carga",labelFileProcessing:"Cargando",labelFileProcessingComplete:"Carga completa",labelFileProcessingAborted:"Carga cancelada",labelFileProcessingError:"Error durante la carga",labelFileProcessingRevertError:"Error durante la reversión",labelFileRemoveError:"Error durante la eliminación",labelTapToCancel:"toca para cancelar",labelTapToRetry:"tocar para volver a intentar",labelTapToUndo:"tocar para deshacer",labelButtonRemoveItem:"Eliminar",labelButtonAbortItemLoad:"Abortar",labelButtonRetryItemLoad:"Reintentar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Deshacer",labelButtonRetryItemProcessing:"Reintentar",labelButtonProcessItem:"Cargar",labelMaxFileSizeExceeded:"El archivo es demasiado grande",labelMaxFileSize:"El tamaño máximo del archivo es {filesize}",labelMaxTotalFileSizeExceeded:"Tamaño total máximo excedido",labelMaxTotalFileSize:"El tamaño total máximo del archivo es {filesize}",labelFileTypeNotAllowed:"Archivo de tipo no válido",fileValidateTypeLabelExpectedTypes:"Espera {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagen no compatible",imageValidateSizeLabelImageSizeTooSmall:"La imagen es demasiado pequeña",imageValidateSizeLabelImageSizeTooBig:"La imagen es demasiado grande",imageValidateSizeLabelExpectedMinSize:"El tamaño mínimo es {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"El tamaño máximo es {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La resolución es demasiado baja",imageValidateSizeLabelImageResolutionTooHigh:"La resolución es demasiado alta",imageValidateSizeLabelExpectedMinResolution:"La resolución mínima es {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La resolución máxima es {maxResolution}"},G$={labelIdle:'فایل را اینجا بکشید و رها کنید، یا <span class="filepond--label-action"> جستجو کنید </span>',labelInvalidField:"فیلد دارای فایل های نامعتبر است",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"حجم فایل مجاز نیست",labelFileLoading:"درحال بارگذاری",labelFileLoadError:"خطا در زمان اجرا",labelFileProcessing:"درحال بارگذاری",labelFileProcessingComplete:"بارگذاری کامل شد",labelFileProcessingAborted:"بارگذاری لغو شد",labelFileProcessingError:"خطا در زمان بارگذاری",labelFileProcessingRevertError:"خطا در زمان حذف",labelFileRemoveError:"خطا در زمان حذف",labelTapToCancel:"برای لغو ضربه بزنید",labelTapToRetry:"برای تکرار کلیک کنید",labelTapToUndo:"برای برگشت کلیک کنید",labelButtonRemoveItem:"حذف",labelButtonAbortItemLoad:"لغو",labelButtonRetryItemLoad:"تکرار",labelButtonAbortItemProcessing:"لغو",labelButtonUndoItemProcessing:"برگشت",labelButtonRetryItemProcessing:"تکرار",labelButtonProcessItem:"بارگذاری",labelMaxFileSizeExceeded:"فایل بسیار حجیم است",labelMaxFileSize:"حداکثر مجاز فایل {filesize} است",labelMaxTotalFileSizeExceeded:"از حداکثر حجم فایل بیشتر شد",labelMaxTotalFileSize:"حداکثر حجم فایل {filesize} است",labelFileTypeNotAllowed:"نوع فایل نامعتبر است",fileValidateTypeLabelExpectedTypes:"در انتظار {allButLastType} یا {lastType}",imageValidateSizeLabelFormatError:"فرمت تصویر پشتیبانی نمی شود",imageValidateSizeLabelImageSizeTooSmall:"تصویر بسیار کوچک است",imageValidateSizeLabelImageSizeTooBig:"تصویر بسیار بزرگ است",imageValidateSizeLabelExpectedMinSize:"حداقل اندازه {minWidth} × {minHeight} است",imageValidateSizeLabelExpectedMaxSize:"حداکثر اندازه {maxWidth} × {maxHeight} است",imageValidateSizeLabelImageResolutionTooLow:"وضوح تصویر بسیار کم است",imageValidateSizeLabelImageResolutionTooHigh:"وضوع تصویر بسیار زیاد است",imageValidateSizeLabelExpectedMinResolution:"حداقل وضوح تصویر {minResolution} است",imageValidateSizeLabelExpectedMaxResolution:"حداکثر وضوح تصویر {maxResolution} است"},W$={labelIdle:'Vedä ja pudota tiedostoja tai <span class="filepond--label-action"> Selaa </span>',labelInvalidField:"Kentässä on virheellisiä tiedostoja",labelFileWaitingForSize:"Odotetaan kokoa",labelFileSizeNotAvailable:"Kokoa ei saatavilla",labelFileLoading:"Ladataan",labelFileLoadError:"Virhe latauksessa",labelFileProcessing:"Lähetetään",labelFileProcessingComplete:"Lähetys valmis",labelFileProcessingAborted:"Lähetys peruttu",labelFileProcessingError:"Virhe lähetyksessä",labelFileProcessingRevertError:"Virhe palautuksessa",labelFileRemoveError:"Virhe poistamisessa",labelTapToCancel:"peruuta napauttamalla",labelTapToRetry:"yritä uudelleen napauttamalla",labelTapToUndo:"kumoa napauttamalla",labelButtonRemoveItem:"Poista",labelButtonAbortItemLoad:"Keskeytä",labelButtonRetryItemLoad:"Yritä uudelleen",labelButtonAbortItemProcessing:"Peruuta",labelButtonUndoItemProcessing:"Kumoa",labelButtonRetryItemProcessing:"Yritä uudelleen",labelButtonProcessItem:"Lähetä",labelMaxFileSizeExceeded:"Tiedoston koko on liian suuri",labelMaxFileSize:"Tiedoston maksimikoko on {filesize}",labelMaxTotalFileSizeExceeded:"Tiedostojen yhdistetty maksimikoko ylitetty",labelMaxTotalFileSize:"Tiedostojen yhdistetty maksimikoko on {filesize}",labelFileTypeNotAllowed:"Tiedostotyyppiä ei sallita",fileValidateTypeLabelExpectedTypes:"Sallitaan {allButLastType} tai {lastType}",imageValidateSizeLabelFormatError:"Kuvatyyppiä ei tueta",imageValidateSizeLabelImageSizeTooSmall:"Kuva on liian pieni",imageValidateSizeLabelImageSizeTooBig:"Kuva on liian suuri",imageValidateSizeLabelExpectedMinSize:"Minimikoko on {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksimikoko on {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resoluutio on liian pieni",imageValidateSizeLabelImageResolutionTooHigh:"Resoluutio on liian suuri",imageValidateSizeLabelExpectedMinResolution:"Minimiresoluutio on {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksimiresoluutio on {maxResolution}"},q$={labelIdle:'Faites glisser vos fichiers ou <span class = "filepond--label-action"> Parcourir <span>',labelInvalidField:"Le champ contient des fichiers invalides",labelFileWaitingForSize:"En attente de taille",labelFileSizeNotAvailable:"Taille non disponible",labelFileLoading:"Chargement",labelFileLoadError:"Erreur durant le chargement",labelFileProcessing:"Traitement",labelFileProcessingComplete:"Traitement effectué",labelFileProcessingAborted:"Traitement interrompu",labelFileProcessingError:"Erreur durant le traitement",labelFileProcessingRevertError:"Erreur durant la restauration",labelFileRemoveError:"Erreur durant la suppression",labelTapToCancel:"appuyer pour annuler",labelTapToRetry:"appuyer pour réessayer",labelTapToUndo:"appuyer pour revenir en arrière",labelButtonRemoveItem:"Retirer",labelButtonAbortItemLoad:"Annuler",labelButtonRetryItemLoad:"Recommencer",labelButtonAbortItemProcessing:"Annuler",labelButtonUndoItemProcessing:"Revenir en arrière",labelButtonRetryItemProcessing:"Recommencer",labelButtonProcessItem:"Transférer",labelMaxFileSizeExceeded:"Le fichier est trop volumineux",labelMaxFileSize:"La taille maximale de fichier est {filesize}",labelMaxTotalFileSizeExceeded:"Taille totale maximale dépassée",labelMaxTotalFileSize:"La taille totale maximale des fichiers est {filesize}",labelFileTypeNotAllowed:"Fichier non valide",fileValidateTypeLabelExpectedTypes:"Attendu {allButLastType} ou {lastType}",imageValidateSizeLabelFormatError:"Type d'image non pris en charge",imageValidateSizeLabelImageSizeTooSmall:"L'image est trop petite",imageValidateSizeLabelImageSizeTooBig:"L'image est trop grande",imageValidateSizeLabelExpectedMinSize:"La taille minimale est {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"La taille maximale est {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La résolution est trop faible",imageValidateSizeLabelImageResolutionTooHigh:"La résolution est trop élevée",imageValidateSizeLabelExpectedMinResolution:"La résolution minimale est {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La résolution maximale est {maxResolution}"},K$={labelIdle:'Mozgasd ide a fájlt a feltöltéshez, vagy <span class="filepond--label-action"> tallózás </span>',labelInvalidField:"A mező érvénytelen fájlokat tartalmaz",labelFileWaitingForSize:"Fáljméret kiszámolása",labelFileSizeNotAvailable:"A fájlméret nem elérhető",labelFileLoading:"Töltés",labelFileLoadError:"Hiba a betöltés során",labelFileProcessing:"Feltöltés",labelFileProcessingComplete:"Sikeres feltöltés",labelFileProcessingAborted:"A feltöltés megszakítva",labelFileProcessingError:"Hiba történt a feltöltés során",labelFileProcessingRevertError:"Hiba a visszaállítás során",labelFileRemoveError:"Hiba történt az eltávolítás során",labelTapToCancel:"koppints a törléshez",labelTapToRetry:"koppints az újrakezdéshez",labelTapToUndo:"koppints a visszavonáshoz",labelButtonRemoveItem:"Eltávolítás",labelButtonAbortItemLoad:"Megszakítás",labelButtonRetryItemLoad:"Újrapróbálkozás",labelButtonAbortItemProcessing:"Megszakítás",labelButtonUndoItemProcessing:"Visszavonás",labelButtonRetryItemProcessing:"Újrapróbálkozás",labelButtonProcessItem:"Feltöltés",labelMaxFileSizeExceeded:"A fájl túllépte a maximális méretet",labelMaxFileSize:"Maximális fájlméret: {filesize}",labelMaxTotalFileSizeExceeded:"Túllépte a maximális teljes méretet",labelMaxTotalFileSize:"A maximáis teljes fájlméret: {filesize}",labelFileTypeNotAllowed:"Érvénytelen típusú fájl",fileValidateTypeLabelExpectedTypes:"Engedélyezett típusok {allButLastType} vagy {lastType}",imageValidateSizeLabelFormatError:"A képtípus nem támogatott",imageValidateSizeLabelImageSizeTooSmall:"A kép túl kicsi",imageValidateSizeLabelImageSizeTooBig:"A kép túl nagy",imageValidateSizeLabelExpectedMinSize:"Minimum méret: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum méret: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"A felbontás túl alacsony",imageValidateSizeLabelImageResolutionTooHigh:"A felbontás túl magas",imageValidateSizeLabelExpectedMinResolution:"Minimáis felbontás: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximális felbontás: {maxResolution}"},J$={labelIdle:'Seret dan Jatuhkan file Anda atau <span class="filepond--label-action">Jelajahi</span>',labelInvalidField:"Field berisi file tidak valid",labelFileWaitingForSize:"Menunggu ukuran",labelFileSizeNotAvailable:"Ukuran tidak tersedia",labelFileLoading:"Memuat",labelFileLoadError:"Kesalahan saat memuat",labelFileProcessing:"Mengunggah",labelFileProcessingComplete:"Unggahan selesai",labelFileProcessingAborted:"Unggahan dibatalkan",labelFileProcessingError:"Kesalahan saat mengunggah",labelFileProcessingRevertError:"Kesalahan saat pengembalian",labelFileRemoveError:"Kesalahan saat menghapus",labelTapToCancel:"ketuk untuk membatalkan",labelTapToRetry:"ketuk untuk mencoba lagi",labelTapToUndo:"ketuk untuk mengurungkan",labelButtonRemoveItem:"Hapus",labelButtonAbortItemLoad:"Batal",labelButtonRetryItemLoad:"Coba Kembali",labelButtonAbortItemProcessing:"Batal",labelButtonUndoItemProcessing:"Batal",labelButtonRetryItemProcessing:"Coba Kembali",labelButtonProcessItem:"Unggah",labelMaxFileSizeExceeded:"File terlalu besar",labelMaxFileSize:"Ukuran file maksimum adalah {filesize}",labelMaxTotalFileSizeExceeded:"Jumlah file maksimum terlampaui",labelMaxTotalFileSize:"Jumlah file maksimum adalah {filesize}",labelFileTypeNotAllowed:"Jenis file tidak valid",fileValidateTypeLabelExpectedTypes:"Mengharapkan {allButLastType} atau {lastType}",imageValidateSizeLabelFormatError:"Jenis gambar tidak didukung",imageValidateSizeLabelImageSizeTooSmall:"Gambar terlalu kecil",imageValidateSizeLabelImageSizeTooBig:"Gambar terlalu besar",imageValidateSizeLabelExpectedMinSize:"Ukuran minimum adalah {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Ukuran maksimum adalah {minWidth} × {minHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolusi terlalu rendah",imageValidateSizeLabelImageResolutionTooHigh:"Resolusi terlalu tinggi",imageValidateSizeLabelExpectedMinResolution:"Resolusi minimum adalah {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Resolusi maksimum adalah {maxResolution}"},X$={labelIdle:'Trascina e rilascia i tuoi file oppure <span class = "filepond--label-action"> Carica <span>',labelInvalidField:"Il campo contiene dei file non validi",labelFileWaitingForSize:"Aspettando le dimensioni",labelFileSizeNotAvailable:"Dimensioni non disponibili",labelFileLoading:"Caricamento",labelFileLoadError:"Errore durante il caricamento",labelFileProcessing:"Caricamento",labelFileProcessingComplete:"Caricamento completato",labelFileProcessingAborted:"Caricamento cancellato",labelFileProcessingError:"Errore durante il caricamento",labelFileProcessingRevertError:"Errore durante il ripristino",labelFileRemoveError:"Errore durante l'eliminazione",labelTapToCancel:"tocca per cancellare",labelTapToRetry:"tocca per riprovare",labelTapToUndo:"tocca per ripristinare",labelButtonRemoveItem:"Elimina",labelButtonAbortItemLoad:"Cancella",labelButtonRetryItemLoad:"Ritenta",labelButtonAbortItemProcessing:"Camcella",labelButtonUndoItemProcessing:"Indietro",labelButtonRetryItemProcessing:"Ritenta",labelButtonProcessItem:"Carica",labelMaxFileSizeExceeded:"Il peso del file è eccessivo",labelMaxFileSize:"Il peso massimo del file è {filesize}",labelMaxTotalFileSizeExceeded:"Dimensione totale massima superata",labelMaxTotalFileSize:"La dimensione massima totale del file è {filesize}",labelFileTypeNotAllowed:"File non supportato",fileValidateTypeLabelExpectedTypes:"Aspetta {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo di immagine non compatibile",imageValidateSizeLabelImageSizeTooSmall:"L'immagine è troppo piccola",imageValidateSizeLabelImageSizeTooBig:"L'immagine è troppo grande",imageValidateSizeLabelExpectedMinSize:"La dimensione minima è {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"La dimensione massima è {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La risoluzione è troppo bassa",imageValidateSizeLabelImageResolutionTooHigh:"La risoluzione è troppo alta",imageValidateSizeLabelExpectedMinResolution:"La risoluzione minima è {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La risoluzione massima è {maxResolution}"},Z$={labelIdle:'Drag & Drop je bestanden of <span class="filepond--label-action"> Bladeren </span>',labelInvalidField:"Veld bevat ongeldige bestanden",labelFileWaitingForSize:"Wachten op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileLoading:"Laden",labelFileLoadError:"Fout tijdens laden",labelFileProcessing:"Uploaden",labelFileProcessingComplete:"Upload afgerond",labelFileProcessingAborted:"Upload geannuleerd",labelFileProcessingError:"Fout tijdens upload",labelFileProcessingRevertError:"Fout bij herstellen",labelFileRemoveError:"Fout bij verwijderen",labelTapToCancel:"tik om te annuleren",labelTapToRetry:"tik om opnieuw te proberen",labelTapToUndo:"tik om ongedaan te maken",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Afbreken",labelButtonRetryItemLoad:"Opnieuw proberen",labelButtonAbortItemProcessing:"Annuleren",labelButtonUndoItemProcessing:"Ongedaan maken",labelButtonRetryItemProcessing:"Opnieuw proberen",labelButtonProcessItem:"Upload",labelMaxFileSizeExceeded:"Bestand is te groot",labelMaxFileSize:"Maximale bestandsgrootte is {filesize}",labelMaxTotalFileSizeExceeded:"Maximale totale grootte overschreden",labelMaxTotalFileSize:"Maximale totale bestandsgrootte is {filesize}",labelFileTypeNotAllowed:"Ongeldig bestandstype",fileValidateTypeLabelExpectedTypes:"Verwacht {allButLastType} of {lastType}",imageValidateSizeLabelFormatError:"Afbeeldingstype niet ondersteund",imageValidateSizeLabelImageSizeTooSmall:"Afbeelding is te klein",imageValidateSizeLabelImageSizeTooBig:"Afbeelding is te groot",imageValidateSizeLabelExpectedMinSize:"Minimale afmeting is {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximale afmeting is {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolutie is te laag",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimale resolutie is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximale resolutie is {maxResolution}"},Q$={labelIdle:'Przeciągnij i upuść lub <span class="filepond--label-action">wybierz</span> pliki',labelInvalidField:"Nieprawidłowe pliki",labelFileWaitingForSize:"Pobieranie rozmiaru",labelFileSizeNotAvailable:"Nieznany rozmiar",labelFileLoading:"Wczytywanie",labelFileLoadError:"Błąd wczytywania",labelFileProcessing:"Przesyłanie",labelFileProcessingComplete:"Przesłano",labelFileProcessingAborted:"Przerwano",labelFileProcessingError:"Przesyłanie nie powiodło się",labelFileProcessingRevertError:"Coś poszło nie tak",labelFileRemoveError:"Nieudane usunięcie",labelTapToCancel:"Anuluj",labelTapToRetry:"Ponów",labelTapToUndo:"Cofnij",labelButtonRemoveItem:"Usuń",labelButtonAbortItemLoad:"Przerwij",labelButtonRetryItemLoad:"Ponów",labelButtonAbortItemProcessing:"Anuluj",labelButtonUndoItemProcessing:"Cofnij",labelButtonRetryItemProcessing:"Ponów",labelButtonProcessItem:"Prześlij",labelMaxFileSizeExceeded:"Plik jest zbyt duży",labelMaxFileSize:"Dopuszczalna wielkość pliku to {filesize}",labelMaxTotalFileSizeExceeded:"Przekroczono łączny rozmiar plików",labelMaxTotalFileSize:"Łączny rozmiar plików nie może przekroczyć {filesize}",labelFileTypeNotAllowed:"Niedozwolony rodzaj pliku",fileValidateTypeLabelExpectedTypes:"Oczekiwano {allButLastType} lub {lastType}",imageValidateSizeLabelFormatError:"Nieobsługiwany format obrazu",imageValidateSizeLabelImageSizeTooSmall:"Obraz jest zbyt mały",imageValidateSizeLabelImageSizeTooBig:"Obraz jest zbyt duży",imageValidateSizeLabelExpectedMinSize:"Minimalne wymiary obrazu to {minWidth}×{minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maksymalna wymiary obrazu to {maxWidth}×{maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rozdzielczość jest zbyt niska",imageValidateSizeLabelImageResolutionTooHigh:"Rozdzielczość jest zbyt wysoka",imageValidateSizeLabelExpectedMinResolution:"Minimalna rozdzielczość to {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maksymalna rozdzielczość to {maxResolution}"},x_={labelIdle:'Arraste e solte os arquivos ou <span class="filepond--label-action"> Clique aqui </span>',labelInvalidField:"Arquivos inválidos",labelFileWaitingForSize:"Calculando o tamanho do arquivo",labelFileSizeNotAvailable:"Tamanho do arquivo indisponível",labelFileLoading:"Carregando",labelFileLoadError:"Erro durante o carregamento",labelFileProcessing:"Enviando",labelFileProcessingComplete:"Envio finalizado",labelFileProcessingAborted:"Envio cancelado",labelFileProcessingError:"Erro durante o envio",labelFileProcessingRevertError:"Erro ao reverter o envio",labelFileRemoveError:"Erro ao remover o arquivo",labelTapToCancel:"clique para cancelar",labelTapToRetry:"clique para reenviar",labelTapToUndo:"clique para desfazer",labelButtonRemoveItem:"Remover",labelButtonAbortItemLoad:"Abortar",labelButtonRetryItemLoad:"Reenviar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Desfazer",labelButtonRetryItemProcessing:"Reenviar",labelButtonProcessItem:"Enviar",labelMaxFileSizeExceeded:"Arquivo é muito grande",labelMaxFileSize:"O tamanho máximo permitido: {filesize}",labelMaxTotalFileSizeExceeded:"Tamanho total dos arquivos excedido",labelMaxTotalFileSize:"Tamanho total permitido: {filesize}",labelFileTypeNotAllowed:"Tipo de arquivo inválido",fileValidateTypeLabelExpectedTypes:"Tipos de arquivo suportados são {allButLastType} ou {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagem inválida",imageValidateSizeLabelImageSizeTooSmall:"Imagem muito pequena",imageValidateSizeLabelImageSizeTooBig:"Imagem muito grande",imageValidateSizeLabelExpectedMinSize:"Tamanho mínimo permitida: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Tamanho máximo permitido: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolução muito baixa",imageValidateSizeLabelImageResolutionTooHigh:"Resolução muito alta",imageValidateSizeLabelExpectedMinResolution:"Resolução mínima permitida: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Resolução máxima permitida: {maxResolution}"},ej={labelIdle:'Trage și plasează fișiere sau <span class="filepond--label-action"> Caută-le </span>',labelInvalidField:"Câmpul conține fișiere care nu sunt valide",labelFileWaitingForSize:"În așteptarea dimensiunii",labelFileSizeNotAvailable:"Dimensiunea nu este diponibilă",labelFileLoading:"Se încarcă",labelFileLoadError:"Eroare la încărcare",labelFileProcessing:"Se încarcă",labelFileProcessingComplete:"Încărcare finalizată",labelFileProcessingAborted:"Încărcare anulată",labelFileProcessingError:"Eroare la încărcare",labelFileProcessingRevertError:"Eroare la anulare",labelFileRemoveError:"Eroare la ştergere",labelTapToCancel:"apasă pentru a anula",labelTapToRetry:"apasă pentru a reîncerca",labelTapToUndo:"apasă pentru a anula",labelButtonRemoveItem:"Şterge",labelButtonAbortItemLoad:"Anulează",labelButtonRetryItemLoad:"Reîncearcă",labelButtonAbortItemProcessing:"Anulează",labelButtonUndoItemProcessing:"Anulează",labelButtonRetryItemProcessing:"Reîncearcă",labelButtonProcessItem:"Încarcă",labelMaxFileSizeExceeded:"Fișierul este prea mare",labelMaxFileSize:"Dimensiunea maximă a unui fișier este de {filesize}",labelMaxTotalFileSizeExceeded:"Dimensiunea totală maximă a fost depășită",labelMaxTotalFileSize:"Dimensiunea totală maximă a fișierelor este de {filesize}",labelFileTypeNotAllowed:"Tipul fișierului nu este valid",fileValidateTypeLabelExpectedTypes:"Se așteaptă {allButLastType} sau {lastType}",imageValidateSizeLabelFormatError:"Formatul imaginii nu este acceptat",imageValidateSizeLabelImageSizeTooSmall:"Imaginea este prea mică",imageValidateSizeLabelImageSizeTooBig:"Imaginea este prea mare",imageValidateSizeLabelExpectedMinSize:"Mărimea minimă este de {maxWidth} x {maxHeight}",imageValidateSizeLabelExpectedMaxSize:"Mărimea maximă este de {maxWidth} x {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Rezoluția este prea mică",imageValidateSizeLabelImageResolutionTooHigh:"Rezoluția este prea mare",imageValidateSizeLabelExpectedMinResolution:"Rezoluția minimă este de {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Rezoluția maximă este de {maxResolution}"},tj={labelIdle:'Перетащите файлы или <span class="filepond--label-action"> выберите </span>',labelInvalidField:"Поле содержит недопустимые файлы",labelFileWaitingForSize:"Укажите размер",labelFileSizeNotAvailable:"Размер не поддерживается",labelFileLoading:"Ожидание",labelFileLoadError:"Ошибка при ожидании",labelFileProcessing:"Загрузка",labelFileProcessingComplete:"Загрузка завершена",labelFileProcessingAborted:"Загрузка отменена",labelFileProcessingError:"Ошибка при загрузке",labelFileProcessingRevertError:"Ошибка при возврате",labelFileRemoveError:"Ошибка при удалении",labelTapToCancel:"нажмите для отмены",labelTapToRetry:"нажмите, чтобы повторить попытку",labelTapToUndo:"нажмите для отмены последнего действия",labelButtonRemoveItem:"Удалить",labelButtonAbortItemLoad:"Прекращено",labelButtonRetryItemLoad:"Повторите попытку",labelButtonAbortItemProcessing:"Отмена",labelButtonUndoItemProcessing:"Отмена последнего действия",labelButtonRetryItemProcessing:"Повторите попытку",labelButtonProcessItem:"Загрузка",labelMaxFileSizeExceeded:"Файл слишком большой",labelMaxFileSize:"Максимальный размер файла: {filesize}",labelMaxTotalFileSizeExceeded:"Превышен максимальный размер",labelMaxTotalFileSize:"Максимальный размер файла: {filesize}",labelFileTypeNotAllowed:"Файл неверного типа",fileValidateTypeLabelExpectedTypes:"Ожидается {allButLastType} или {lastType}",imageValidateSizeLabelFormatError:"Тип изображения не поддерживается",imageValidateSizeLabelImageSizeTooSmall:"Изображение слишком маленькое",imageValidateSizeLabelImageSizeTooBig:"Изображение слишком большое",imageValidateSizeLabelExpectedMinSize:"Минимальный размер: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Максимальный размер: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Разрешение слишком низкое",imageValidateSizeLabelImageResolutionTooHigh:"Разрешение слишком высокое",imageValidateSizeLabelExpectedMinResolution:"Минимальное разрешение: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Максимальное разрешение: {maxResolution}"},nj={labelIdle:'Drag och släpp dina filer eller <span class="filepond--label-action"> Bläddra </span>',labelInvalidField:"Fältet innehåller felaktiga filer",labelFileWaitingForSize:"Väntar på storlek",labelFileSizeNotAvailable:"Storleken finns inte tillgänglig",labelFileLoading:"Laddar",labelFileLoadError:"Fel under laddning",labelFileProcessing:"Laddar upp",labelFileProcessingComplete:"Uppladdning klar",labelFileProcessingAborted:"Uppladdning avbruten",labelFileProcessingError:"Fel under uppladdning",labelFileProcessingRevertError:"Fel under återställning",labelFileRemoveError:"Fel under borttagning",labelTapToCancel:"tryck för att avbryta",labelTapToRetry:"tryck för att försöka igen",labelTapToUndo:"tryck för att ångra",labelButtonRemoveItem:"Tabort",labelButtonAbortItemLoad:"Avbryt",labelButtonRetryItemLoad:"Försök igen",labelButtonAbortItemProcessing:"Avbryt",labelButtonUndoItemProcessing:"Ångra",labelButtonRetryItemProcessing:"Försök igen",labelButtonProcessItem:"Ladda upp",labelMaxFileSizeExceeded:"Filen är för stor",labelMaxFileSize:"Största tillåtna filstorlek är {filesize}",labelMaxTotalFileSizeExceeded:"Maximal uppladdningsstorlek uppnåd",labelMaxTotalFileSize:"Maximal uppladdningsstorlek är {filesize}",labelFileTypeNotAllowed:"Felaktig filtyp",fileValidateTypeLabelExpectedTypes:"Godkända filtyper {allButLastType} eller {lastType}",imageValidateSizeLabelFormatError:"Bildtypen saknar stöd",imageValidateSizeLabelImageSizeTooSmall:"Bilden är för liten",imageValidateSizeLabelImageSizeTooBig:"Bilden är för stor",imageValidateSizeLabelExpectedMinSize:"Minimal storlek är {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximal storlek är {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Upplösningen är för låg",imageValidateSizeLabelImageResolutionTooHigh:"Upplösningen är för hög",imageValidateSizeLabelExpectedMinResolution:"Minsta tillåtna upplösning är {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Högsta tillåtna upplösning är {maxResolution}"},ij={labelIdle:'Dosyanızı Sürükleyin & Bırakın ya da <span class="filepond--label-action"> Seçin </span>',labelInvalidField:"Alan geçersiz dosyalar içeriyor",labelFileWaitingForSize:"Boyut hesaplanıyor",labelFileSizeNotAvailable:"Boyut mevcut değil",labelFileLoading:"Yükleniyor",labelFileLoadError:"Yükleme sırasında hata oluştu",labelFileProcessing:"Yükleniyor",labelFileProcessingComplete:"Yükleme tamamlandı",labelFileProcessingAborted:"Yükleme iptal edildi",labelFileProcessingError:"Yüklerken hata oluştu",labelFileProcessingRevertError:"Geri çekerken hata oluştu",labelFileRemoveError:"Kaldırırken hata oluştu",labelTapToCancel:"İptal etmek için tıklayın",labelTapToRetry:"Tekrar denemek için tıklayın",labelTapToUndo:"Geri almak için tıklayın",labelButtonRemoveItem:"Kaldır",labelButtonAbortItemLoad:"İptal Et",labelButtonRetryItemLoad:"Tekrar dene",labelButtonAbortItemProcessing:"İptal et",labelButtonUndoItemProcessing:"Geri Al",labelButtonRetryItemProcessing:"Tekrar dene",labelButtonProcessItem:"Yükle",labelMaxFileSizeExceeded:"Dosya çok büyük",labelMaxFileSize:"En fazla dosya boyutu: {filesize}",labelMaxTotalFileSizeExceeded:"Maximum boyut aşıldı",labelMaxTotalFileSize:"Maximum dosya boyutu :{filesize}",labelFileTypeNotAllowed:"Geçersiz dosya tipi",fileValidateTypeLabelExpectedTypes:"Şu {allButLastType} ya da şu dosya olması gerekir: {lastType}",imageValidateSizeLabelFormatError:"Resim tipi desteklenmiyor",imageValidateSizeLabelImageSizeTooSmall:"Resim çok küçük",imageValidateSizeLabelImageSizeTooBig:"Resim çok büyük",imageValidateSizeLabelExpectedMinSize:"Minimum boyut {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum boyut {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Çözünürlük çok düşük",imageValidateSizeLabelImageResolutionTooHigh:"Çözünürlük çok yüksek",imageValidateSizeLabelExpectedMinResolution:"Minimum çözünürlük {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum çözünürlük {maxResolution}"},rj={labelIdle:'Перетягніть файли або <span class="filepond--label-action"> виберіть </span>',labelInvalidField:"Поле містить недопустимі файли",labelFileWaitingForSize:"Вкажіть розмір",labelFileSizeNotAvailable:"Розмір не доступний",labelFileLoading:"Очікування",labelFileLoadError:"Помилка при очікуванні",labelFileProcessing:"Завантаження",labelFileProcessingComplete:"Завантаження завершено",labelFileProcessingAborted:"Завантаження скасовано",labelFileProcessingError:"Помилка при завантаженні",labelFileProcessingRevertError:"Помилка при відновленні",labelFileRemoveError:"Помилка при видаленні",labelTapToCancel:"Відмінити",labelTapToRetry:"Натисніть, щоб повторити спробу",labelTapToUndo:"Натисніть, щоб відмінити останню дію",labelButtonRemoveItem:"Видалити",labelButtonAbortItemLoad:"Відмінити",labelButtonRetryItemLoad:"Повторити спробу",labelButtonAbortItemProcessing:"Відмінити",labelButtonUndoItemProcessing:"Відмінити останню дію",labelButtonRetryItemProcessing:"Повторити спробу",labelButtonProcessItem:"Завантаження",labelMaxFileSizeExceeded:"Файл занадто великий",labelMaxFileSize:"Максимальний розмір файлу: {filesize}",labelMaxTotalFileSizeExceeded:"Перевищено максимальний загальний розмір",labelMaxTotalFileSize:"Максимальний загальний розмір: {filesize}",labelFileTypeNotAllowed:"Формат файлу не підтримується",fileValidateTypeLabelExpectedTypes:"Очікується {allButLastType} або {lastType}",imageValidateSizeLabelFormatError:"Формат зображення не підтримується",imageValidateSizeLabelImageSizeTooSmall:"Зображення занадто маленьке",imageValidateSizeLabelImageSizeTooBig:"Зображення занадто велике",imageValidateSizeLabelExpectedMinSize:"Мінімальний розмір: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Максимальний розмір: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Розміри зображення занадто маленькі",imageValidateSizeLabelImageResolutionTooHigh:"Розміри зображення занадто великі",imageValidateSizeLabelExpectedMinResolution:"Мінімальні розміри: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Максимальні розміри: {maxResolution}"},oj={labelIdle:'Kéo thả tệp của bạn hoặc <span class="filepond--label-action"> Tìm kiếm </span>',labelInvalidField:"Trường chứa các tệp không hợp lệ",labelFileWaitingForSize:"Đang chờ kích thước",labelFileSizeNotAvailable:"Kích thước không có sẵn",labelFileLoading:"Đang tải",labelFileLoadError:"Lỗi khi tải",labelFileProcessing:"Đang tải lên",labelFileProcessingComplete:"Tải lên thành công",labelFileProcessingAborted:"Đã huỷ tải lên",labelFileProcessingError:"Lỗi khi tải lên",labelFileProcessingRevertError:"Lỗi khi hoàn nguyên",labelFileRemoveError:"Lỗi khi xóa",labelTapToCancel:"nhấn để hủy",labelTapToRetry:"nhấn để thử lại",labelTapToUndo:"nhấn để hoàn tác",labelButtonRemoveItem:"Xoá",labelButtonAbortItemLoad:"Huỷ bỏ",labelButtonRetryItemLoad:"Thử lại",labelButtonAbortItemProcessing:"Hủy bỏ",labelButtonUndoItemProcessing:"Hoàn tác",labelButtonRetryItemProcessing:"Thử lại",labelButtonProcessItem:"Tải lên",labelMaxFileSizeExceeded:"Tập tin quá lớn",labelMaxFileSize:"Kích thước tệp tối đa là {filesize}",labelMaxTotalFileSizeExceeded:"Đã vượt quá tổng kích thước tối đa",labelMaxTotalFileSize:"Tổng kích thước tệp tối đa là {filesize}",labelFileTypeNotAllowed:"Tệp thuộc loại không hợp lệ",fileValidateTypeLabelExpectedTypes:"Kiểu tệp hợp lệ là {allButLastType} hoặc {lastType}",imageValidateSizeLabelFormatError:"Loại hình ảnh không được hỗ trợ",imageValidateSizeLabelImageSizeTooSmall:"Hình ảnh quá nhỏ",imageValidateSizeLabelImageSizeTooBig:"Hình ảnh quá lớn",imageValidateSizeLabelExpectedMinSize:"Kích thước tối thiểu là {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Kích thước tối đa là {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Độ phân giải quá thấp",imageValidateSizeLabelImageResolutionTooHigh:"Độ phân giải quá cao",imageValidateSizeLabelExpectedMinResolution:"Độ phân giải tối thiểu là {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Độ phân giải tối đa là {maxResolution}"},aj={labelIdle:'拖放文件，或者 <span class="filepond--label-action"> 浏览 </span>',labelInvalidField:"字段包含无效文件",labelFileWaitingForSize:"计算文件大小",labelFileSizeNotAvailable:"文件大小不可用",labelFileLoading:"加载",labelFileLoadError:"加载错误",labelFileProcessing:"上传",labelFileProcessingComplete:"已上传",labelFileProcessingAborted:"上传已取消",labelFileProcessingError:"上传出错",labelFileProcessingRevertError:"还原出错",labelFileRemoveError:"删除出错",labelTapToCancel:"点击取消",labelTapToRetry:"点击重试",labelTapToUndo:"点击撤消",labelButtonRemoveItem:"删除",labelButtonAbortItemLoad:"中止",labelButtonRetryItemLoad:"重试",labelButtonAbortItemProcessing:"取消",labelButtonUndoItemProcessing:"撤消",labelButtonRetryItemProcessing:"重试",labelButtonProcessItem:"上传",labelMaxFileSizeExceeded:"文件太大",labelMaxFileSize:"最大值: {filesize}",labelMaxTotalFileSizeExceeded:"超过最大文件大小",labelMaxTotalFileSize:"最大文件大小：{filesize}",labelFileTypeNotAllowed:"文件类型无效",fileValidateTypeLabelExpectedTypes:"应为 {allButLastType} 或 {lastType}",imageValidateSizeLabelFormatError:"不支持图像类型",imageValidateSizeLabelImageSizeTooSmall:"图像太小",imageValidateSizeLabelImageSizeTooBig:"图像太大",imageValidateSizeLabelExpectedMinSize:"最小值: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"最大值: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"分辨率太低",imageValidateSizeLabelImageResolutionTooHigh:"分辨率太高",imageValidateSizeLabelExpectedMinResolution:"最小分辨率：{minResolution}",imageValidateSizeLabelExpectedMaxResolution:"最大分辨率：{maxResolution}"},sj={labelIdle:'拖放檔案，或者 <span class="filepond--label-action"> 瀏覽 </span>',labelInvalidField:"不支援此檔案",labelFileWaitingForSize:"正在計算檔案大小",labelFileSizeNotAvailable:"檔案大小不符",labelFileLoading:"讀取中",labelFileLoadError:"讀取錯誤",labelFileProcessing:"上傳",labelFileProcessingComplete:"已上傳",labelFileProcessingAborted:"上傳已取消",labelFileProcessingError:"上傳發生錯誤",labelFileProcessingRevertError:"還原錯誤",labelFileRemoveError:"刪除錯誤",labelTapToCancel:"點擊取消",labelTapToRetry:"點擊重試",labelTapToUndo:"點擊還原",labelButtonRemoveItem:"刪除",labelButtonAbortItemLoad:"停止",labelButtonRetryItemLoad:"重試",labelButtonAbortItemProcessing:"取消",labelButtonUndoItemProcessing:"取消",labelButtonRetryItemProcessing:"重試",labelButtonProcessItem:"上傳",labelMaxFileSizeExceeded:"檔案過大",labelMaxFileSize:"最大值：{filesize}",labelMaxTotalFileSizeExceeded:"超過最大可上傳大小",labelMaxTotalFileSize:"最大可上傳大小：{filesize}",labelFileTypeNotAllowed:"不支援此類型檔案",fileValidateTypeLabelExpectedTypes:"應為 {allButLastType} 或 {lastType}",imageValidateSizeLabelFormatError:"不支持此類圖片類型",imageValidateSizeLabelImageSizeTooSmall:"圖片過小",imageValidateSizeLabelImageSizeTooBig:"圖片過大",imageValidateSizeLabelExpectedMinSize:"最小尺寸：{minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"最大尺寸：{maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"解析度過低",imageValidateSizeLabelImageResolutionTooHigh:"解析度過高",imageValidateSizeLabelExpectedMinResolution:"最低解析度：{minResolution}",imageValidateSizeLabelExpectedMaxResolution:"最高解析度：{maxResolution}"};zo(v5);zo(y5);zo(_5);zo(M5);zo(Sz);zo(kz);zo(F$);zo(dD);window.FilePond=oA;var lj=t=>{t.data("fileUploadFormComponent",({acceptedFileTypes:i,canDownload:r,canOpen:o,canPreview:l,canReorder:c,deleteUploadedFileUsing:d,getUploadedFileUrlsUsing:h,imageCropAspectRatio:f,imagePreviewHeight:m,imageResizeMode:v,imageResizeTargetHeight:E,imageResizeTargetWidth:b,imageResizeUpscale:w,isAvatar:A,loadingIndicatorPosition:y,locale:S,panelAspectRatio:T,panelLayout:M,placeholder:D,maxSize:C,minSize:k,removeUploadedFileButtonPosition:I,removeUploadedFileUsing:R,reorderUploadedFilesUsing:F,shouldAppendFiles:j,shouldOrientImageFromExif:Y,shouldTransformImage:G,state:B,uploadButtonPosition:P,uploadProgressIndicatorPosition:z,uploadUsing:$})=>({fileKeyIndex:{},pond:null,shouldUpdateState:!0,state:B,lastState:null,uploadedFileUrlIndex:{},init:async function(){Uh(S_[S]??S_.en),this.pond=cc(this.$refs.input,{acceptedFileTypes:i,allowPaste:!1,allowReorder:c,allowImageExifOrientation:Y,allowImagePreview:l,allowVideoPreview:l,allowAudioPreview:l,allowImageTransform:G,credits:!1,files:await this.getFiles(),imageCropAspectRatio:f,imagePreviewHeight:m,imageResizeTargetHeight:E,imageResizeTargetWidth:b,imageResizeMode:v,imageResizeUpscale:w,itemInsertLocation:j?"after":"before",...D&&{labelIdle:D},maxFileSize:C,minFileSize:k,styleButtonProcessItemPosition:P,styleButtonRemoveItemPosition:I,styleLoadIndicatorPosition:y,stylePanelAspectRatio:T,stylePanelLayout:M,styleProgressIndicatorPosition:z,server:{load:async(N,V)=>{let J=await(await fetch(N)).blob();V(J)},process:(N,V,q,J,ne,ue)=>{this.shouldUpdateState=!1;let pe=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,Ie=>(Ie^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Ie/4).toString(16));$(pe,V,Ie=>{this.shouldUpdateState=!0,J(Ie)},ne,ue)},remove:async(N,V)=>{let q=this.uploadedFileUrlIndex[N]??null;q&&(await d(q),V())},revert:async(N,V)=>{await R(N),V()}}}),this.$watch("state",async()=>{if(this.shouldUpdateState){if(this.state!==null&&Object.values(this.state).filter(N=>N.startsWith("livewire-file:")).length){this.lastState=null;return}JSON.stringify(this.state)!==this.lastState&&(this.lastState=JSON.stringify(this.state),this.pond.files=await this.getFiles())}}),this.pond.on("reorderfiles",async N=>{const V=N.map(q=>q.source instanceof File?q.serverId:this.uploadedFileUrlIndex[q.source]??null).filter(q=>q);await F(j?V:V.reverse())}),this.pond.on("initfile",async N=>{r&&(A||this.insertDownloadLink(N))}),this.pond.on("initfile",async N=>{o&&(A||this.insertOpenLink(N))}),this.pond.on("processfilestart",async()=>{this.dispatchFormEvent("file-upload-started")}),this.pond.on("processfileprogress",async()=>{this.dispatchFormEvent("file-upload-started")}),this.pond.on("processfile",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfiles",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfileabort",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfilerevert",async()=>{this.dispatchFormEvent("file-upload-finished")})},dispatchFormEvent:function(N){this.$el.closest("form")?.dispatchEvent(new CustomEvent(N,{composed:!0,cancelable:!0}))},getUploadedFileUrls:async function(){const N=await h();this.fileKeyIndex=N??{},this.uploadedFileUrlIndex=Object.entries(this.fileKeyIndex).filter(V=>V).reduce((V,[q,J])=>(V[J]=q,V),{})},getFiles:async function(){await this.getUploadedFileUrls();let N=[];for(const V of Object.values(this.fileKeyIndex))V&&N.push({source:V,options:{type:"local"}});return j?N:N.reverse()},insertDownloadLink:function(N){if(N.origin!==Vh.LOCAL)return;const V=this.getDownloadLink(N);V&&document.getElementById(`filepond--item-${N.id}`).querySelector(".filepond--file-info-main").prepend(V)},insertOpenLink:function(N){if(N.origin!==Vh.LOCAL)return;const V=this.getOpenLink(N);V&&document.getElementById(`filepond--item-${N.id}`).querySelector(".filepond--file-info-main").prepend(V)},getDownloadLink:function(N){let V=N.source;if(!V)return;const q=document.createElement("a");return q.className="filepond--download-icon",q.href=V,q.download=N.file.name,q},getOpenLink:function(N){let V=N.source;if(!V)return;const q=document.createElement("a");return q.className="filepond--open-icon",q.href=V,q.target="_blank",q}}))},S_={ar:$$,cs:j$,da:H$,de:V$,en:U$,es:Y$,fa:G$,fi:W$,fr:q$,hu:K$,id:J$,it:X$,nl:Z$,pl:Q$,pt_BR:x_,pt_PT:x_,ro:ej,ru:tj,sv:nj,tr:ij,uk:rj,vi:oj,zh_CN:aj,zh_TW:sj},uj=t=>{t.data("keyValueFormComponent",({state:i})=>({state:i,rows:[],shouldUpdateRows:!0,init:function(){this.updateRows(),this.rows.length<=0&&this.addRow(),this.shouldUpdateRows=!0,this.$watch("state",()=>{if(!this.shouldUpdateRows){this.shouldUpdateRows=!0;return}this.updateRows()})},addRow:function(){this.rows.push({key:"",value:""}),this.updateState()},deleteRow:function(r){this.rows.splice(r,1),this.rows.length<=0&&this.addRow(),this.updateState(),this.shouldUpdateRows=!0},reorderRows:function(r){const o=t.raw(this.rows),l=o.splice(r.oldIndex,1)[0];o.splice(r.newIndex,0,l),this.rows=o,this.updateState()},updateRows:function(){let r=[];for(let[o,l]of Object.entries(this.state??{}))r.push({key:o,value:l});this.rows=r},updateState:function(){let r={};this.rows.forEach(o=>{o.key===""||o.key===null||(r[o.key]=o.value)}),this.shouldUpdateRows=!1,this.state=r}}))},lu=class{constructor(t,i){this.file=t,this.directory=i,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(t,i){return cj(t,i)}static from(t){const i=[];for(const r of t)if(r instanceof File)i.push(new lu(r));else if(r instanceof lu)i.push(r);else throw new Error("Unexpected type");return i}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(this.file.type)>-1}saving(t){if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=t}saved(t){var i,r,o;if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=(i=t?.id)!==null&&i!==void 0?i:null,this.href=(r=t?.href)!==null&&r!==void 0?r:null,this.name=(o=t?.name)!==null&&o!==void 0?o:null}isPending(){return this.state==="pending"}isSaving(){return this.state==="saving"}isSaved(){return this.state==="saved"}};function cj(t,i){return i&&pj(t)?fD("",mj(t)):Promise.resolve(hD(Array.from(t.files||[])).map(r=>new lu(r)))}function dj(t){return t.name.startsWith(".")}function hD(t){return Array.from(t).filter(i=>!dj(i))}function hj(t){return new Promise(function(i,r){t.file(i,r)})}function fj(t){return new Promise(function(i,r){const o=[],l=t.createReader(),c=()=>{l.readEntries(d=>{d.length>0?(o.push(...d),c()):i(o)},r)};c()})}async function fD(t,i){const r=[];for(const o of hD(i))if(o.isDirectory)r.push(...await fD(o.fullPath,await fj(o)));else{const l=await hj(o);r.push(new lu(l,t))}return r}function pj(t){return t.items&&Array.from(t.items).some(i=>{const r=i.webkitGetAsEntry&&i.webkitGetAsEntry();return r&&r.isDirectory})}function mj(t){return Array.from(t.items).map(i=>i.webkitGetAsEntry()).filter(i=>i!=null)}var Ac=class extends HTMLElement{connectedCallback(){this.addEventListener("dragenter",oh),this.addEventListener("dragover",oh),this.addEventListener("dragleave",T_),this.addEventListener("drop",C_),this.addEventListener("paste",M_),this.addEventListener("change",k_)}disconnectedCallback(){this.removeEventListener("dragenter",oh),this.removeEventListener("dragover",oh),this.removeEventListener("dragleave",T_),this.removeEventListener("drop",C_),this.removeEventListener("paste",M_),this.removeEventListener("change",k_)}get directory(){return this.hasAttribute("directory")}set directory(t){t?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(t){const i=t instanceof DataTransfer?await lu.traverse(t,this.directory):lu.from(t);this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:i}}))&&i.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:i}}))}};function pD(t){return Array.from(t.types).indexOf("Files")>=0}var bm=null;function oh(t){const i=t.currentTarget;bm&&clearTimeout(bm),bm=window.setTimeout(()=>i.removeAttribute("hover"),200);const r=t.dataTransfer;!r||!pD(r)||(r.dropEffect="copy",i.setAttribute("hover",""),t.stopPropagation(),t.preventDefault())}function T_(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none"),t.currentTarget.removeAttribute("hover"),t.stopPropagation(),t.preventDefault()}function C_(t){const i=t.currentTarget;if(!(i instanceof Ac))return;i.removeAttribute("hover");const r=t.dataTransfer;!r||!pD(r)||(i.attach(r),t.stopPropagation(),t.preventDefault())}var gj=/^image\/(gif|png|jpeg)$/;function vj(t){for(const i of t)if(gj.test(i.type))return i.getAsFile();return null}function M_(t){if(!t.clipboardData||!t.clipboardData.items)return;const i=t.currentTarget;if(!(i instanceof Ac))return;const r=vj(t.clipboardData.items);if(!r)return;const o=[r];i.attach(o),t.preventDefault()}function k_(t){const i=t.currentTarget;if(!(i instanceof Ac))return;const r=t.target;if(!(r instanceof HTMLInputElement))return;const o=i.getAttribute("input");if(o&&r.id!==o)return;const l=r.files;!l||l.length===0||(i.attach(l),r.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=Ac,window.customElements.define("file-attachment",Ac));var bj=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function mD(t){const i=[];for(const r of t.querySelectorAll(bj.join(", ")))r.hidden||r.offsetWidth<=0&&r.offsetHeight<=0||r.closest("markdown-toolbar")===t&&i.push(r);return i}function yj(t){return function(i){(i.key===" "||i.key==="Enter")&&(i.preventDefault(),t(i))}}var Dr=new WeakMap,eo=class extends HTMLElement{constructor(){super();const t=()=>{const i=Dr.get(this);i&&W_(this,i)};this.addEventListener("keydown",yj(t)),this.addEventListener("click",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){const t=Dr.get(this);t&&W_(this,t)}},O_=class extends eo{constructor(){super();const t=parseInt(this.getAttribute("level")||"3",10);if(t<1||t>6)return;const i=`${"#".repeat(t)} `;Dr.set(this,{prefix:i})}};window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=O_,window.customElements.define("md-header",O_));var I_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","b")}};window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=I_,window.customElements.define("md-bold",I_));var R_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","i")}};window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=R_,window.customElements.define("md-italic",R_));var L_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","."),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=L_,window.customElements.define("md-quote",L_));var F_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","e")}};window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=F_,window.customElements.define("md-code",F_));var N_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","k")}};window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=N_,window.customElements.define("md-link",N_));var P_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-image")||(window.MarkdownImageButtonElement=P_,window.customElements.define("md-image",P_));var B_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"- ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","8"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=B_,window.customElements.define("md-unordered-list",B_));var z_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","7"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=z_,window.customElements.define("md-ordered-list",z_));var $_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","L")}};window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=$_,window.customElements.define("md-task-list",$_));var j_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"@",prefixSpace:!0})}};window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=j_,window.customElements.define("md-mention",j_));var H_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"#",prefixSpace:!0})}};window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=H_,window.customElements.define("md-ref",H_));var V_=class extends eo{constructor(){super(),Dr.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}};window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=V_,window.customElements.define("md-strikethrough",V_));var U_=navigator.userAgent.match(/Macintosh/)?"Meta":"Control",mg=class extends HTMLElement{constructor(){super()}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",Y_);const t=Aj.bind(null,this);this.field&&(this.field.addEventListener("keydown",t),ym.set(this,t)),this.setAttribute("tabindex","0"),this.addEventListener("focus",Ej,{once:!0})}disconnectedCallback(){const t=ym.get(this);t&&this.field&&(this.field.removeEventListener("keydown",t),ym.delete(this)),this.removeEventListener("keydown",Y_)}get field(){const t=this.getAttribute("for");if(!t)return null;const i="getRootNode"in this?this.getRootNode():document;let r;return(i instanceof Document||i instanceof ShadowRoot)&&(r=i.getElementById(t)),r instanceof HTMLTextAreaElement?r:null}};function Ej({target:t}){if(!(t instanceof Element))return;t.removeAttribute("tabindex");let i="0";for(const r of mD(t))r.setAttribute("tabindex",i),i==="0"&&(r.focus(),i="-1")}function Y_(t){const i=t.key;if(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Home"&&i!=="End")return;const r=t.currentTarget;if(!(r instanceof HTMLElement))return;const o=mD(r),l=o.indexOf(t.target),c=o.length;if(l===-1)return;let d=0;i==="ArrowLeft"&&(d=l-1),i==="ArrowRight"&&(d=l+1),i==="End"&&(d=c-1),d<0&&(d=c-1),d>c-1&&(d=0);for(let h=0;h<c;h+=1)o[h].setAttribute("tabindex",h===d?"0":"-1");t.preventDefault(),o[d].focus()}var ym=new WeakMap;function _j(t){return t.hasAttribute("hotkey-requires-shift")&&t.getAttribute("hotkey-requires-shift")!=="false"}function wj(t,i,r){for(const o of t.querySelectorAll("[hotkey]"))if(o.getAttribute("hotkey")===i&&(!_j(o)||r))return o;return null}function Aj(t,i){if(i.metaKey&&U_==="Meta"||i.ctrlKey&&U_==="Control"){const r=i.shiftKey?i.key.toUpperCase():i.key,o=wj(t,r,i.shiftKey);o&&(o.click(),i.preventDefault())}}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=mg,window.customElements.define("markdown-toolbar",mg));function gg(t){return t.trim().split(`
`).length>1}function G_(t,i){return Array(i+1).join(t)}function Dj(t,i){let r=i;for(;t[r]&&t[r-1]!=null&&!t[r-1].match(/\s/);)r--;return r}function gD(t,i,r){let o=i;const l=r?/\n/:/\s/;for(;t[o]&&!t[o].match(l);)o++;return o}var Hs=null;function xj(t,{text:i,selectionStart:r,selectionEnd:o}){const l=t.selectionStart,c=t.value.slice(0,l),d=t.value.slice(t.selectionEnd);if(Hs===null||Hs===!0){t.contentEditable="true";try{Hs=document.execCommand("insertText",!1,i)}catch{Hs=!1}t.contentEditable="false"}if(Hs&&!t.value.slice(0,t.selectionStart).endsWith(i)&&(Hs=!1),!Hs){try{document.execCommand("ms-beginUndoUnit")}catch{}t.value=c+i+d;try{document.execCommand("ms-endUndoUnit")}catch{}t.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}r!=null&&o!=null?t.setSelectionRange(r,o):t.setSelectionRange(l,t.selectionEnd)}function Sj(t,i){const r=t.value.slice(t.selectionStart,t.selectionEnd);let o;i.orderedList?o=kj(t):i.multiline&&gg(r)?o=Mj(t,i):o=Cj(t,i),xj(t,o)}function Tj(t,i,r,o=!1){if(t.selectionStart===t.selectionEnd)t.selectionStart=Dj(t.value,t.selectionStart),t.selectionEnd=gD(t.value,t.selectionEnd,o);else{const l=t.selectionStart-i.length,c=t.selectionEnd+r.length,d=t.value.slice(l,t.selectionStart)===i,h=t.value.slice(t.selectionEnd,c)===r;d&&h&&(t.selectionStart=l,t.selectionEnd=c)}return t.value.slice(t.selectionStart,t.selectionEnd)}function b0(t){const i=t.value.slice(0,t.selectionStart),r=t.value.slice(t.selectionEnd),o=i.match(/\n*$/),l=r.match(/^\n*/),c=o?o[0].length:0,d=l?l[0].length:0;let h,f;return i.match(/\S/)&&c<2&&(h=G_(`
`,2-c)),r.match(/\S/)&&d<2&&(f=G_(`
`,2-d)),h==null&&(h=""),f==null&&(f=""),{newlinesToAppend:h,newlinesToPrepend:f}}function Cj(t,i){let r,o;const{prefix:l,suffix:c,blockPrefix:d,blockSuffix:h,replaceNext:f,prefixSpace:m,scanFor:v,surroundWithNewlines:E}=i,b=t.selectionStart,w=t.selectionEnd;let A=t.value.slice(t.selectionStart,t.selectionEnd),y=gg(A)&&d.length>0?`${d}
`:l,S=gg(A)&&h.length>0?`
${h}`:c;if(m){const C=t.value[t.selectionStart-1];t.selectionStart!==0&&C!=null&&!C.match(/\s/)&&(y=` ${y}`)}A=Tj(t,y,S,i.multiline);let T=t.selectionStart,M=t.selectionEnd;const D=f.length>0&&S.indexOf(f)>-1&&A.length>0;if(E){const C=b0(t);r=C.newlinesToAppend,o=C.newlinesToPrepend,y=r+l,S+=o}if(A.startsWith(y)&&A.endsWith(S)){const C=A.slice(y.length,A.length-S.length);if(b===w){let k=b-y.length;k=Math.max(k,T),k=Math.min(k,T+C.length),T=M=k}else M=T+C.length;return{text:C,selectionStart:T,selectionEnd:M}}else if(D)if(v.length>0&&A.match(v)){S=S.replace(f,A);const C=y+S;return T=M=T+y.length,{text:C,selectionStart:T,selectionEnd:M}}else{const C=y+A+S;return T=T+y.length+A.length+S.indexOf(f),M=T+f.length,{text:C,selectionStart:T,selectionEnd:M}}else{let C=y+A+S;T=b+y.length,M=w+y.length;const k=A.match(/^\s*|\s*$/g);if(i.trimFirst&&k){const I=k[0]||"",R=k[1]||"";C=I+y+A.trim()+S+R,T+=I.length,M-=R.length}return{text:C,selectionStart:T,selectionEnd:M}}}function Mj(t,i){const{prefix:r,suffix:o,surroundWithNewlines:l}=i;let c=t.value.slice(t.selectionStart,t.selectionEnd),d=t.selectionStart,h=t.selectionEnd;const f=c.split(`
`);if(f.every(v=>v.startsWith(r)&&v.endsWith(o)))c=f.map(v=>v.slice(r.length,v.length-o.length)).join(`
`),h=d+c.length;else if(c=f.map(v=>r+v+o).join(`
`),l){const{newlinesToAppend:v,newlinesToPrepend:E}=b0(t);d+=v.length,h=d+c.length,c=v+c+E}return{text:c,selectionStart:d,selectionEnd:h}}function kj(t){const i=/^\d+\.\s+/,r=t.selectionStart===t.selectionEnd;let o,l,c=t.value.slice(t.selectionStart,t.selectionEnd),d=c,h=c.split(`
`),f,m;if(r){const b=t.value.slice(0,t.selectionStart).split(/\n/);f=t.selectionStart-b[b.length-1].length,m=gD(t.value,t.selectionStart,!0),d=t.value.slice(f,m)}const v=d.split(`
`);if(v.every(b=>i.test(b))){if(h=v.map(b=>b.replace(i,"")),c=h.join(`
`),r&&f&&m){const b=v[0].length-h[0].length;l=o=t.selectionStart-b,t.selectionStart=f,t.selectionEnd=m}}else{h=Oj(h),c=h.join(`
`);const{newlinesToAppend:b,newlinesToPrepend:w}=b0(t);l=t.selectionStart+b.length,o=l+c.length,r&&(l=o),c=b+c+w}return{text:c,selectionStart:l,selectionEnd:o}}function Oj(t){let i,r,o;const l=[];for(o=i=0,r=t.length;i<r;o=++i){const c=t[o];l.push(`${o+1}. ${c}`)}return l}function W_(t,i){const r=t.closest("markdown-toolbar");if(!(r instanceof mg))return;const l=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1}),i),c=r.field;c&&(c.focus(),Sj(c,l))}/*! @license DOMPurify 2.4.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.5/LICENSE */function us(t){return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},us(t)}function vg(t,i){return vg=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o},vg(t,i)}function Ij(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bh(t,i,r){return Ij()?bh=Reflect.construct:bh=function(l,c,d){var h=[null];h.push.apply(h,c);var f=Function.bind.apply(l,h),m=new f;return d&&vg(m,d.prototype),m},bh.apply(null,arguments)}function Io(t){return Rj(t)||Lj(t)||Fj(t)||Nj()}function Rj(t){if(Array.isArray(t))return bg(t)}function Lj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fj(t,i){if(t){if(typeof t=="string")return bg(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bg(t,i)}}function bg(t,i){(i==null||i>t.length)&&(i=t.length);for(var r=0,o=new Array(i);r<i;r++)o[r]=t[r];return o}function Nj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pj=Object.hasOwnProperty,q_=Object.setPrototypeOf,Bj=Object.isFrozen,zj=Object.getPrototypeOf,$j=Object.getOwnPropertyDescriptor,xr=Object.freeze,$o=Object.seal,jj=Object.create,vD=typeof Reflect<"u"&&Reflect,Wh=vD.apply,yg=vD.construct;Wh||(Wh=function(i,r,o){return i.apply(r,o)});xr||(xr=function(i){return i});$o||($o=function(i){return i});yg||(yg=function(i,r){return bh(i,Io(r))});var Hj=yo(Array.prototype.forEach),K_=yo(Array.prototype.pop),ec=yo(Array.prototype.push),yh=yo(String.prototype.toLowerCase),Em=yo(String.prototype.toString),Vj=yo(String.prototype.match),ko=yo(String.prototype.replace),Uj=yo(String.prototype.indexOf),Yj=yo(String.prototype.trim),yr=yo(RegExp.prototype.test),_m=Gj(TypeError);function yo(t){return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return Wh(t,i,o)}}function Gj(t){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return yg(t,r)}}function Qt(t,i,r){r=r||yh,q_&&q_(t,null);for(var o=i.length;o--;){var l=i[o];if(typeof l=="string"){var c=r(l);c!==l&&(Bj(i)||(i[o]=c),l=c)}t[l]=!0}return t}function Vs(t){var i=jj(null),r;for(r in t)Wh(Pj,t,[r])===!0&&(i[r]=t[r]);return i}function ah(t,i){for(;t!==null;){var r=$j(t,i);if(r){if(r.get)return yo(r.get);if(typeof r.value=="function")return yo(r.value)}t=zj(t)}function o(l){return console.warn("fallback value for",l),null}return o}var J_=xr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wm=xr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Am=xr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Wj=xr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Dm=xr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),qj=xr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),X_=xr(["#text"]),Z_=xr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),xm=xr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Q_=xr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sh=xr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Kj=$o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jj=$o(/<%[\w\W]*|[\w\W]*%>/gm),Xj=$o(/\${[\w\W]*}/gm),Zj=$o(/^data-[\-\w.\u00B7-\uFFFF]/),Qj=$o(/^aria-[\-\w]+$/),eH=$o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tH=$o(/^(?:\w+script|data):/i),nH=$o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iH=$o(/^html$/i),rH=function(){return typeof window>"u"?null:window},oH=function(i,r){if(us(i)!=="object"||typeof i.createPolicy!="function")return null;var o=null,l="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(l)&&(o=r.currentScript.getAttribute(l));var c="dompurify"+(o?"#"+o:"");try{return i.createPolicy(c,{createHTML:function(h){return h},createScriptURL:function(h){return h}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}};function bD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rH(),i=function(re){return bD(re)};if(i.version="2.4.5",i.removed=[],!t||!t.document||t.document.nodeType!==9)return i.isSupported=!1,i;var r=t.document,o=t.document,l=t.DocumentFragment,c=t.HTMLTemplateElement,d=t.Node,h=t.Element,f=t.NodeFilter,m=t.NamedNodeMap,v=m===void 0?t.NamedNodeMap||t.MozNamedAttrMap:m,E=t.HTMLFormElement,b=t.DOMParser,w=t.trustedTypes,A=h.prototype,y=ah(A,"cloneNode"),S=ah(A,"nextSibling"),T=ah(A,"childNodes"),M=ah(A,"parentNode");if(typeof c=="function"){var D=o.createElement("template");D.content&&D.content.ownerDocument&&(o=D.content.ownerDocument)}var C=oH(w,r),k=C?C.createHTML(""):"",I=o,R=I.implementation,F=I.createNodeIterator,j=I.createDocumentFragment,Y=I.getElementsByTagName,G=r.importNode,B={};try{B=Vs(o).documentMode?o.documentMode:{}}catch{}var P={};i.isSupported=typeof M=="function"&&R&&typeof R.createHTMLDocument<"u"&&B!==9;var z=Kj,$=Jj,N=Xj,V=Zj,q=Qj,J=tH,ne=nH,ue=eH,pe=null,Ie=Qt({},[].concat(Io(J_),Io(wm),Io(Am),Io(Dm),Io(X_))),we=null,st=Qt({},[].concat(Io(Z_),Io(xm),Io(Q_),Io(sh))),Ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,$e=null,et=!0,Ue=!0,on=!1,Jt=!0,Ln=!1,Cn=!1,ri=!1,to=!1,On=!1,Br=!1,no=!1,oi=!0,io=!1,zr="user-content-",ci=!0,Mi=!1,ki={},Xi=null,ro=Qt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),or=null,Zi=Qt({},["audio","video","img","source","image","track"]),$r=null,fr=Qt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oi="http://www.w3.org/1998/Math/MathML",di="http://www.w3.org/2000/svg",En="http://www.w3.org/1999/xhtml",Ii=En,jr=!1,ar=null,oo=Qt({},[Oi,di,En],Em),bi,Vo=["application/xhtml+xml","text/html"],fa="text/html",Dn,ei=null,he=o.createElement("form"),ae=function(re){return re instanceof RegExp||re instanceof Function},fe=function(re){ei&&ei===re||((!re||us(re)!=="object")&&(re={}),re=Vs(re),bi=Vo.indexOf(re.PARSER_MEDIA_TYPE)===-1?bi=fa:bi=re.PARSER_MEDIA_TYPE,Dn=bi==="application/xhtml+xml"?Em:yh,pe="ALLOWED_TAGS"in re?Qt({},re.ALLOWED_TAGS,Dn):Ie,we="ALLOWED_ATTR"in re?Qt({},re.ALLOWED_ATTR,Dn):st,ar="ALLOWED_NAMESPACES"in re?Qt({},re.ALLOWED_NAMESPACES,Em):oo,$r="ADD_URI_SAFE_ATTR"in re?Qt(Vs(fr),re.ADD_URI_SAFE_ATTR,Dn):fr,or="ADD_DATA_URI_TAGS"in re?Qt(Vs(Zi),re.ADD_DATA_URI_TAGS,Dn):Zi,Xi="FORBID_CONTENTS"in re?Qt({},re.FORBID_CONTENTS,Dn):ro,Oe="FORBID_TAGS"in re?Qt({},re.FORBID_TAGS,Dn):{},$e="FORBID_ATTR"in re?Qt({},re.FORBID_ATTR,Dn):{},ki="USE_PROFILES"in re?re.USE_PROFILES:!1,et=re.ALLOW_ARIA_ATTR!==!1,Ue=re.ALLOW_DATA_ATTR!==!1,on=re.ALLOW_UNKNOWN_PROTOCOLS||!1,Jt=re.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ln=re.SAFE_FOR_TEMPLATES||!1,Cn=re.WHOLE_DOCUMENT||!1,On=re.RETURN_DOM||!1,Br=re.RETURN_DOM_FRAGMENT||!1,no=re.RETURN_TRUSTED_TYPE||!1,to=re.FORCE_BODY||!1,oi=re.SANITIZE_DOM!==!1,io=re.SANITIZE_NAMED_PROPS||!1,ci=re.KEEP_CONTENT!==!1,Mi=re.IN_PLACE||!1,ue=re.ALLOWED_URI_REGEXP||ue,Ii=re.NAMESPACE||En,Ae=re.CUSTOM_ELEMENT_HANDLING||{},re.CUSTOM_ELEMENT_HANDLING&&ae(re.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=re.CUSTOM_ELEMENT_HANDLING.tagNameCheck),re.CUSTOM_ELEMENT_HANDLING&&ae(re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),re.CUSTOM_ELEMENT_HANDLING&&typeof re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ln&&(Ue=!1),Br&&(On=!0),ki&&(pe=Qt({},Io(X_)),we=[],ki.html===!0&&(Qt(pe,J_),Qt(we,Z_)),ki.svg===!0&&(Qt(pe,wm),Qt(we,xm),Qt(we,sh)),ki.svgFilters===!0&&(Qt(pe,Am),Qt(we,xm),Qt(we,sh)),ki.mathMl===!0&&(Qt(pe,Dm),Qt(we,Q_),Qt(we,sh))),re.ADD_TAGS&&(pe===Ie&&(pe=Vs(pe)),Qt(pe,re.ADD_TAGS,Dn)),re.ADD_ATTR&&(we===st&&(we=Vs(we)),Qt(we,re.ADD_ATTR,Dn)),re.ADD_URI_SAFE_ATTR&&Qt($r,re.ADD_URI_SAFE_ATTR,Dn),re.FORBID_CONTENTS&&(Xi===ro&&(Xi=Vs(Xi)),Qt(Xi,re.FORBID_CONTENTS,Dn)),ci&&(pe["#text"]=!0),Cn&&Qt(pe,["html","head","body"]),pe.table&&(Qt(pe,["tbody"]),delete Oe.tbody),xr&&xr(re),ei=re)},_e=Qt({},["mi","mo","mn","ms","mtext"]),Te=Qt({},["foreignobject","desc","title","annotation-xml"]),Me=Qt({},["title","style","font","a","script"]),Be=Qt({},wm);Qt(Be,Am),Qt(Be,Wj);var We=Qt({},Dm);Qt(We,qj);var it=function(re){var me=M(re);(!me||!me.tagName)&&(me={namespaceURI:Ii,tagName:"template"});var de=yh(re.tagName),ke=yh(me.tagName);return ar[re.namespaceURI]?re.namespaceURI===di?me.namespaceURI===En?de==="svg":me.namespaceURI===Oi?de==="svg"&&(ke==="annotation-xml"||_e[ke]):Boolean(Be[de]):re.namespaceURI===Oi?me.namespaceURI===En?de==="math":me.namespaceURI===di?de==="math"&&Te[ke]:Boolean(We[de]):re.namespaceURI===En?me.namespaceURI===di&&!Te[ke]||me.namespaceURI===Oi&&!_e[ke]?!1:!We[de]&&(Me[de]||!Be[de]):!!(bi==="application/xhtml+xml"&&ar[re.namespaceURI]):!1},Q=function(re){ec(i.removed,{element:re});try{re.parentNode.removeChild(re)}catch{try{re.outerHTML=k}catch{re.remove()}}},ie=function(re,me){try{ec(i.removed,{attribute:me.getAttributeNode(re),from:me})}catch{ec(i.removed,{attribute:null,from:me})}if(me.removeAttribute(re),re==="is"&&!we[re])if(On||Br)try{Q(me)}catch{}else try{me.setAttribute(re,"")}catch{}},le=function(re){var me,de;if(to)re="<remove></remove>"+re;else{var ke=Vj(re,/^[\r\n\t ]+/);de=ke&&ke[0]}bi==="application/xhtml+xml"&&Ii===En&&(re='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+re+"</body></html>");var ct=C?C.createHTML(re):re;if(Ii===En)try{me=new b().parseFromString(ct,bi)}catch{}if(!me||!me.documentElement){me=R.createDocument(Ii,"template",null);try{me.documentElement.innerHTML=jr?k:ct}catch{}}var qe=me.body||me.documentElement;return re&&de&&qe.insertBefore(o.createTextNode(de),qe.childNodes[0]||null),Ii===En?Y.call(me,Cn?"html":"body")[0]:Cn?me.documentElement:qe},be=function(re){return F.call(re.ownerDocument||re,re,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},Ne=function(re){return re instanceof E&&(typeof re.nodeName!="string"||typeof re.textContent!="string"||typeof re.removeChild!="function"||!(re.attributes instanceof v)||typeof re.removeAttribute!="function"||typeof re.setAttribute!="function"||typeof re.namespaceURI!="string"||typeof re.insertBefore!="function"||typeof re.hasChildNodes!="function")},De=function(re){return us(d)==="object"?re instanceof d:re&&us(re)==="object"&&typeof re.nodeType=="number"&&typeof re.nodeName=="string"},Se=function(re,me,de){P[re]&&Hj(P[re],function(ke){ke.call(i,me,de,ei)})},xt=function(re){var me;if(Se("beforeSanitizeElements",re,null),Ne(re)||yr(/[\u0080-\uFFFF]/,re.nodeName))return Q(re),!0;var de=Dn(re.nodeName);if(Se("uponSanitizeElement",re,{tagName:de,allowedTags:pe}),re.hasChildNodes()&&!De(re.firstElementChild)&&(!De(re.content)||!De(re.content.firstElementChild))&&yr(/<[/\w]/g,re.innerHTML)&&yr(/<[/\w]/g,re.textContent)||de==="select"&&yr(/<template/i,re.innerHTML))return Q(re),!0;if(!pe[de]||Oe[de]){if(!Oe[de]&&tt(de)&&(Ae.tagNameCheck instanceof RegExp&&yr(Ae.tagNameCheck,de)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(de)))return!1;if(ci&&!Xi[de]){var ke=M(re)||re.parentNode,ct=T(re)||re.childNodes;if(ct&&ke)for(var qe=ct.length,Xe=qe-1;Xe>=0;--Xe)ke.insertBefore(y(ct[Xe],!0),S(re))}return Q(re),!0}return re instanceof h&&!it(re)||(de==="noscript"||de==="noembed")&&yr(/<\/no(script|embed)/i,re.innerHTML)?(Q(re),!0):(Ln&&re.nodeType===3&&(me=re.textContent,me=ko(me,z," "),me=ko(me,$," "),me=ko(me,N," "),re.textContent!==me&&(ec(i.removed,{element:re.cloneNode()}),re.textContent=me)),Se("afterSanitizeElements",re,null),!1)},Je=function(re,me,de){if(oi&&(me==="id"||me==="name")&&(de in o||de in he))return!1;if(!(Ue&&!$e[me]&&yr(V,me))){if(!(et&&yr(q,me))){if(!we[me]||$e[me]){if(!(tt(re)&&(Ae.tagNameCheck instanceof RegExp&&yr(Ae.tagNameCheck,re)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(re))&&(Ae.attributeNameCheck instanceof RegExp&&yr(Ae.attributeNameCheck,me)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(me))||me==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&yr(Ae.tagNameCheck,de)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(de))))return!1}else if(!$r[me]){if(!yr(ue,ko(de,ne,""))){if(!((me==="src"||me==="xlink:href"||me==="href")&&re!=="script"&&Uj(de,"data:")===0&&or[re])){if(!(on&&!yr(J,ko(de,ne,"")))){if(de)return!1}}}}}}return!0},tt=function(re){return re.indexOf("-")>0},St=function(re){var me,de,ke,ct;Se("beforeSanitizeAttributes",re,null);var qe=re.attributes;if(qe){var Xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we};for(ct=qe.length;ct--;){me=qe[ct];var ce=me,Tt=ce.name,mt=ce.namespaceURI;if(de=Tt==="value"?me.value:Yj(me.value),ke=Dn(Tt),Xe.attrName=ke,Xe.attrValue=de,Xe.keepAttr=!0,Xe.forceKeepAttr=void 0,Se("uponSanitizeAttribute",re,Xe),de=Xe.attrValue,!Xe.forceKeepAttr&&(ie(Tt,re),!!Xe.keepAttr)){if(!Jt&&yr(/\/>/i,de)){ie(Tt,re);continue}Ln&&(de=ko(de,z," "),de=ko(de,$," "),de=ko(de,N," "));var Qi=Dn(re.nodeName);if(Je(Qi,ke,de)){if(io&&(ke==="id"||ke==="name")&&(ie(Tt,re),de=zr+de),C&&us(w)==="object"&&typeof w.getAttributeType=="function"&&!mt)switch(w.getAttributeType(Qi,ke)){case"TrustedHTML":de=C.createHTML(de);break;case"TrustedScriptURL":de=C.createScriptURL(de);break}try{mt?re.setAttributeNS(mt,Tt,de):re.setAttribute(Tt,de),K_(i.removed)}catch{}}}}Se("afterSanitizeAttributes",re,null)}},Vt=function Pe(re){var me,de=be(re);for(Se("beforeSanitizeShadowDOM",re,null);me=de.nextNode();)Se("uponSanitizeShadowNode",me,null),!xt(me)&&(me.content instanceof l&&Pe(me.content),St(me));Se("afterSanitizeShadowDOM",re,null)};return i.sanitize=function(Pe){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me,de,ke,ct,qe;if(jr=!Pe,jr&&(Pe="<!-->"),typeof Pe!="string"&&!De(Pe)){if(typeof Pe.toString!="function")throw _m("toString is not a function");if(Pe=Pe.toString(),typeof Pe!="string")throw _m("dirty is not a string, aborting")}if(!i.isSupported){if(us(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Pe=="string")return t.toStaticHTML(Pe);if(De(Pe))return t.toStaticHTML(Pe.outerHTML)}return Pe}if(ri||fe(re),i.removed=[],typeof Pe=="string"&&(Mi=!1),Mi){if(Pe.nodeName){var Xe=Dn(Pe.nodeName);if(!pe[Xe]||Oe[Xe])throw _m("root node is forbidden and cannot be sanitized in-place")}}else if(Pe instanceof d)me=le("<!---->"),de=me.ownerDocument.importNode(Pe,!0),de.nodeType===1&&de.nodeName==="BODY"||de.nodeName==="HTML"?me=de:me.appendChild(de);else{if(!On&&!Ln&&!Cn&&Pe.indexOf("<")===-1)return C&&no?C.createHTML(Pe):Pe;if(me=le(Pe),!me)return On?null:no?k:""}me&&to&&Q(me.firstChild);for(var ce=be(Mi?Pe:me);ke=ce.nextNode();)ke.nodeType===3&&ke===ct||xt(ke)||(ke.content instanceof l&&Vt(ke.content),St(ke),ct=ke);if(ct=null,Mi)return Pe;if(On){if(Br)for(qe=j.call(me.ownerDocument);me.firstChild;)qe.appendChild(me.firstChild);else qe=me;return(we.shadowroot||we.shadowrootmod)&&(qe=G.call(r,qe,!0)),qe}var Tt=Cn?me.outerHTML:me.innerHTML;return Cn&&pe["!doctype"]&&me.ownerDocument&&me.ownerDocument.doctype&&me.ownerDocument.doctype.name&&yr(iH,me.ownerDocument.doctype.name)&&(Tt="<!DOCTYPE "+me.ownerDocument.doctype.name+`>
`+Tt),Ln&&(Tt=ko(Tt,z," "),Tt=ko(Tt,$," "),Tt=ko(Tt,N," ")),C&&no?C.createHTML(Tt):Tt},i.setConfig=function(Pe){fe(Pe),ri=!0},i.clearConfig=function(){ei=null,ri=!1},i.isValidAttribute=function(Pe,re,me){ei||fe({});var de=Dn(Pe),ke=Dn(re);return Je(de,ke,me)},i.addHook=function(Pe,re){typeof re=="function"&&(P[Pe]=P[Pe]||[],ec(P[Pe],re))},i.removeHook=function(Pe){if(P[Pe])return K_(P[Pe])},i.removeHooks=function(Pe){P[Pe]&&(P[Pe]=[])},i.removeAllHooks=function(){P={}},i}var aH=bD();function yD(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var yu=yD();function sH(t){yu=t}var ED=/[&<>"']/,lH=new RegExp(ED.source,"g"),_D=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,uH=new RegExp(_D.source,"g"),cH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ew=t=>cH[t];function ir(t,i){if(i){if(ED.test(t))return t.replace(lH,ew)}else if(_D.test(t))return t.replace(uH,ew);return t}var dH=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function wD(t){return t.replace(dH,(i,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}var hH=/(^|[^\[])\^/g;function jn(t,i){t=typeof t=="string"?t:t.source,i=i||"";const r={replace:(o,l)=>(l=l.source||l,l=l.replace(hH,"$1"),t=t.replace(o,l),r),getRegex:()=>new RegExp(t,i)};return r}var fH=/[^\w:]/g,pH=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function tw(t,i,r){if(t){let o;try{o=decodeURIComponent(wD(r)).replace(fH,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}i&&!pH.test(r)&&(r=bH(i,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}var lh={},mH=/^[^:]+:\/*[^/]*$/,gH=/^([^:]+:)[\s\S]*$/,vH=/^([^:]+:\/*[^/]*)[\s\S]*$/;function bH(t,i){lh[" "+t]||(mH.test(t)?lh[" "+t]=t+"/":lh[" "+t]=Eh(t,"/",!0)),t=lh[" "+t];const r=t.indexOf(":")===-1;return i.substring(0,2)==="//"?r?i:t.replace(gH,"$1")+i:i.charAt(0)==="/"?r?i:t.replace(vH,"$1")+i:t+i}var qh={exec:function(){}};function Ho(t){let i=1,r,o;for(;i<arguments.length;i++){r=arguments[i];for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}function nw(t,i){const r=t.replace(/\|/g,(c,d,h)=>{let f=!1,m=d;for(;--m>=0&&h[m]==="\\";)f=!f;return f?"|":" |"}),o=r.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>i)o.splice(i);else for(;o.length<i;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function Eh(t,i,r){const o=t.length;if(o===0)return"";let l=0;for(;l<o;){const c=t.charAt(o-l-1);if(c===i&&!r)l++;else if(c!==i&&r)l++;else break}return t.slice(0,o-l)}function yH(t,i){if(t.indexOf(i[1])===-1)return-1;const r=t.length;let o=0,l=0;for(;l<r;l++)if(t[l]==="\\")l++;else if(t[l]===i[0])o++;else if(t[l]===i[1]&&(o--,o<0))return l;return-1}function AD(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function iw(t,i){if(i<1)return"";let r="";for(;i>1;)i&1&&(r+=t),i>>=1,t+=t;return r+t}function rw(t,i,r,o){const l=i.href,c=i.title?ir(i.title):null,d=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){o.state.inLink=!0;const h={type:"link",raw:r,href:l,title:c,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,h}return{type:"image",raw:r,href:l,title:c,text:ir(d)}}function EH(t,i){const r=t.match(/^(\s+)(?:```)/);if(r===null)return i;const o=r[1];return i.split(`
`).map(l=>{const c=l.match(/^\s+/);if(c===null)return l;const[d]=c;return d.length>=o.length?l.slice(o.length):l}).join(`
`)}var y0=class{constructor(t){this.options=t||yu}space(t){const i=this.rules.block.newline.exec(t);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(t){const i=this.rules.block.code.exec(t);if(i){const r=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Eh(r,`
`)}}}fences(t){const i=this.rules.block.fences.exec(t);if(i){const r=i[0],o=EH(r,i[3]||"");return{type:"code",raw:r,lang:i[2]?i[2].trim().replace(this.rules.inline._escapes,"$1"):i[2],text:o}}}heading(t){const i=this.rules.block.heading.exec(t);if(i){let r=i[2].trim();if(/#$/.test(r)){const o=Eh(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const i=this.rules.block.hr.exec(t);if(i)return{type:"hr",raw:i[0]}}blockquote(t){const i=this.rules.block.blockquote.exec(t);if(i){const r=i[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const l=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:i[0],tokens:l,text:r}}}list(t){let i=this.rules.block.list.exec(t);if(i){let r,o,l,c,d,h,f,m,v,E,b,w,A=i[1].trim();const y=A.length>1,S={type:"list",raw:"",ordered:y,start:y?+A.slice(0,-1):"",loose:!1,items:[]};A=y?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=y?A:"[*+-]");const T=new RegExp(`^( {0,3}${A})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(w=!1,!(!(i=T.exec(t))||this.rules.block.hr.test(t)));){if(r=i[0],t=t.substring(r.length),m=i[2].split(`
`,1)[0].replace(/^\t+/,D=>" ".repeat(3*D.length)),v=t.split(`
`,1)[0],this.options.pedantic?(c=2,b=m.trimLeft()):(c=i[2].search(/[^ ]/),c=c>4?1:c,b=m.slice(c),c+=i[1].length),h=!1,!m&&/^ *$/.test(v)&&(r+=v+`
`,t=t.substring(v.length+1),w=!0),!w){const D=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),k=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),I=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;t&&(E=t.split(`
`,1)[0],v=E,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(k.test(v)||I.test(v)||D.test(v)||C.test(t)));){if(v.search(/[^ ]/)>=c||!v.trim())b+=`
`+v.slice(c);else{if(h||m.search(/[^ ]/)>=4||k.test(m)||I.test(m)||C.test(m))break;b+=`
`+v}!h&&!v.trim()&&(h=!0),r+=E+`
`,t=t.substring(E.length+1),m=v.slice(c)}}S.loose||(f?S.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(b),o&&(l=o[0]!=="[ ] ",b=b.replace(/^\[[ xX]\] +/,""))),S.items.push({type:"list_item",raw:r,task:!!o,checked:l,loose:!1,text:b}),S.raw+=r}S.items[S.items.length-1].raw=r.trimRight(),S.items[S.items.length-1].text=b.trimRight(),S.raw=S.raw.trimRight();const M=S.items.length;for(d=0;d<M;d++)if(this.lexer.state.top=!1,S.items[d].tokens=this.lexer.blockTokens(S.items[d].text,[]),!S.loose){const D=S.items[d].tokens.filter(k=>k.type==="space"),C=D.length>0&&D.some(k=>/\n.*\n/.test(k.raw));S.loose=C}if(S.loose)for(d=0;d<M;d++)S.items[d].loose=!0;return S}}html(t){const i=this.rules.block.html.exec(t);if(i){const r={type:"html",raw:i[0],pre:!this.options.sanitizer&&(i[1]==="pre"||i[1]==="script"||i[1]==="style"),text:i[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(i[0]):ir(i[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(t){const i=this.rules.block.def.exec(t);if(i){const r=i[1].toLowerCase().replace(/\s+/g," "),o=i[2]?i[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline._escapes,"$1"):i[3];return{type:"def",tag:r,raw:i[0],href:o,title:l}}}table(t){const i=this.rules.block.table.exec(t);if(i){const r={type:"table",header:nw(i[1]).map(o=>({text:o})),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=i[0];let o=r.align.length,l,c,d,h;for(l=0;l<o;l++)/^ *-+: *$/.test(r.align[l])?r.align[l]="right":/^ *:-+: *$/.test(r.align[l])?r.align[l]="center":/^ *:-+ *$/.test(r.align[l])?r.align[l]="left":r.align[l]=null;for(o=r.rows.length,l=0;l<o;l++)r.rows[l]=nw(r.rows[l],r.header.length).map(f=>({text:f}));for(o=r.header.length,c=0;c<o;c++)r.header[c].tokens=this.lexer.inline(r.header[c].text);for(o=r.rows.length,c=0;c<o;c++)for(h=r.rows[c],d=0;d<h.length;d++)h[d].tokens=this.lexer.inline(h[d].text);return r}}}lheading(t){const i=this.rules.block.lheading.exec(t);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(t){const i=this.rules.block.paragraph.exec(t);if(i){const r=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const i=this.rules.block.text.exec(t);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(t){const i=this.rules.inline.escape.exec(t);if(i)return{type:"escape",raw:i[0],text:ir(i[1])}}tag(t){const i=this.rules.inline.tag.exec(t);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):ir(i[0]):i[0]}}link(t){const i=this.rules.inline.link.exec(t);if(i){const r=i[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const c=Eh(r.slice(0,-1),"\\");if((r.length-c.length)%2===0)return}else{const c=yH(i[2],"()");if(c>-1){const h=(i[0].indexOf("!")===0?5:4)+i[1].length+c;i[2]=i[2].substring(0,c),i[0]=i[0].substring(0,h).trim(),i[3]=""}}let o=i[2],l="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);c&&(o=c[1],l=c[3])}else l=i[3]?i[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),rw(i,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}}reflink(t,i){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=i[o.toLowerCase()],!o){const l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return rw(r,o,r[0],this.lexer)}}emStrong(t,i,r=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const l=o[1]||o[2]||"";if(!l||l&&(r===""||this.rules.inline.punctuation.exec(r))){const c=o[0].length-1;let d,h,f=c,m=0;const v=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,i=i.slice(-1*t.length+c);(o=v.exec(i))!=null;){if(d=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!d)continue;if(h=d.length,o[3]||o[4]){f+=h;continue}else if((o[5]||o[6])&&c%3&&!((c+h)%3)){m+=h;continue}if(f-=h,f>0)continue;h=Math.min(h,h+f+m);const E=t.slice(0,c+o.index+(o[0].length-d.length)+h);if(Math.min(c,h)%2){const w=E.slice(1,-1);return{type:"em",raw:E,text:w,tokens:this.lexer.inlineTokens(w)}}const b=E.slice(2,-2);return{type:"strong",raw:E,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(t){const i=this.rules.inline.code.exec(t);if(i){let r=i[2].replace(/\n/g," ");const o=/[^ ]/.test(r),l=/^ /.test(r)&&/ $/.test(r);return o&&l&&(r=r.substring(1,r.length-1)),r=ir(r,!0),{type:"codespan",raw:i[0],text:r}}}br(t){const i=this.rules.inline.br.exec(t);if(i)return{type:"br",raw:i[0]}}del(t){const i=this.rules.inline.del.exec(t);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(t,i){const r=this.rules.inline.autolink.exec(t);if(r){let o,l;return r[2]==="@"?(o=ir(this.options.mangle?i(r[1]):r[1]),l="mailto:"+o):(o=ir(r[1]),l=o),{type:"link",raw:r[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}url(t,i){let r;if(r=this.rules.inline.url.exec(t)){let o,l;if(r[2]==="@")o=ir(this.options.mangle?i(r[0]):r[0]),l="mailto:"+o;else{let c;do c=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(c!==r[0]);o=ir(r[0]),r[1]==="www."?l="http://"+r[0]:l=r[0]}return{type:"link",raw:r[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t,i){const r=this.rules.inline.text.exec(t);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ir(r[0]):r[0]:o=ir(this.options.smartypants?i(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}},Mt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qh,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Mt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Mt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Mt.def=jn(Mt.def).replace("label",Mt._label).replace("title",Mt._title).getRegex();Mt.bullet=/(?:[*+-]|\d{1,9}[.)])/;Mt.listItemStart=jn(/^( *)(bull) */).replace("bull",Mt.bullet).getRegex();Mt.list=jn(Mt.list).replace(/bull/g,Mt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Mt.def.source+")").getRegex();Mt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Mt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Mt.html=jn(Mt.html,"i").replace("comment",Mt._comment).replace("tag",Mt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Mt.paragraph=jn(Mt._paragraph).replace("hr",Mt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mt._tag).getRegex();Mt.blockquote=jn(Mt.blockquote).replace("paragraph",Mt.paragraph).getRegex();Mt.normal=Ho({},Mt);Mt.gfm=Ho({},Mt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Mt.gfm.table=jn(Mt.gfm.table).replace("hr",Mt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mt._tag).getRegex();Mt.gfm.paragraph=jn(Mt._paragraph).replace("hr",Mt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Mt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mt._tag).getRegex();Mt.pedantic=Ho({},Mt.normal,{html:jn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Mt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:jn(Mt.normal._paragraph).replace("hr",Mt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Mt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ut={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ut._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";ut.punctuation=jn(ut.punctuation).replace(/punctuation/g,ut._punctuation).getRegex();ut.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ut.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;ut._comment=jn(Mt._comment).replace("(?:-->|$)","-->").getRegex();ut.emStrong.lDelim=jn(ut.emStrong.lDelim).replace(/punct/g,ut._punctuation).getRegex();ut.emStrong.rDelimAst=jn(ut.emStrong.rDelimAst,"g").replace(/punct/g,ut._punctuation).getRegex();ut.emStrong.rDelimUnd=jn(ut.emStrong.rDelimUnd,"g").replace(/punct/g,ut._punctuation).getRegex();ut._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ut._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ut._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ut.autolink=jn(ut.autolink).replace("scheme",ut._scheme).replace("email",ut._email).getRegex();ut._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ut.tag=jn(ut.tag).replace("comment",ut._comment).replace("attribute",ut._attribute).getRegex();ut._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ut._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ut._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ut.link=jn(ut.link).replace("label",ut._label).replace("href",ut._href).replace("title",ut._title).getRegex();ut.reflink=jn(ut.reflink).replace("label",ut._label).replace("ref",Mt._label).getRegex();ut.nolink=jn(ut.nolink).replace("ref",Mt._label).getRegex();ut.reflinkSearch=jn(ut.reflinkSearch,"g").replace("reflink",ut.reflink).replace("nolink",ut.nolink).getRegex();ut.normal=Ho({},ut);ut.pedantic=Ho({},ut.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:jn(/^!?\[(label)\]\((.*?)\)/).replace("label",ut._label).getRegex(),reflink:jn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ut._label).getRegex()});ut.gfm=Ho({},ut.normal,{escape:jn(ut.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});ut.gfm.url=jn(ut.gfm.url,"i").replace("email",ut.gfm._extended_email).getRegex();ut.breaks=Ho({},ut.gfm,{br:jn(ut.br).replace("{2,}","*").getRegex(),text:jn(ut.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function _H(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ow(t){let i="",r,o;const l=t.length;for(r=0;r<l;r++)o=t.charCodeAt(r),Math.random()>.5&&(o="x"+o.toString(16)),i+="&#"+o+";";return i}var bs=class{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||yu,this.options.tokenizer=this.options.tokenizer||new y0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={block:Mt.normal,inline:ut.normal};this.options.pedantic?(i.block=Mt.pedantic,i.inline=ut.pedantic):this.options.gfm&&(i.block=Mt.gfm,this.options.breaks?i.inline=ut.breaks:i.inline=ut.gfm),this.tokenizer.rules=i}static get rules(){return{block:Mt,inline:ut}}static lex(t,i){return new bs(i).lex(t)}static lexInline(t,i){return new bs(i).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let i;for(;i=this.inlineQueue.shift();)this.inlineTokens(i.src,i.tokens);return this.tokens}blockTokens(t,i=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(d,h,f)=>h+"    ".repeat(f.length));let r,o,l,c;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(d=>(r=d.call({lexer:this},t,i))?(t=t.substring(r.raw.length),i.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&i.length>0?i[i.length-1].raw+=`
`:i.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),o=i[i.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):i.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),o=i[i.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),i.push(r);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let d=1/0;const h=t.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},h),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(l=t.substring(0,d+1))}if(this.state.top&&(r=this.tokenizer.paragraph(l))){o=i[i.length-1],c&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):i.push(r),c=l.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),o=i[i.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):i.push(r);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,i}inline(t,i=[]){return this.inlineQueue.push({src:t,tokens:i}),i}inlineTokens(t,i=[]){let r,o,l,c=t,d,h,f;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(d=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)m.includes(d[0].slice(d[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,d.index)+"["+iw("a",d[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(d=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,d.index)+"["+iw("a",d[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(d=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,d.index+d[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(h||(f=""),h=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(r=m.call({lexer:this},t,i))?(t=t.substring(r.raw.length),i.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),o=i[i.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):i.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),o=i[i.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):i.push(r);continue}if(r=this.tokenizer.emStrong(t,c,f)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),i.push(r);continue}if(r=this.tokenizer.autolink(t,ow)){t=t.substring(r.raw.length),i.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,ow))){t=t.substring(r.raw.length),i.push(r);continue}if(l=t,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const v=t.slice(1);let E;this.options.extensions.startInline.forEach(function(b){E=b.call({lexer:this},v),typeof E=="number"&&E>=0&&(m=Math.min(m,E))}),m<1/0&&m>=0&&(l=t.substring(0,m+1))}if(r=this.tokenizer.inlineText(l,_H)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),h=!0,o=i[i.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):i.push(r);continue}if(t){const m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return i}},E0=class{constructor(t){this.options=t||yu}code(t,i,r){const o=(i||"").match(/\S*/)[0];if(this.options.highlight){const l=this.options.highlight(t,o);l!=null&&l!==t&&(r=!0,t=l)}return t=t.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+ir(o)+'">'+(r?t:ir(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:ir(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,i,r,o){if(this.options.headerIds){const l=this.options.headerPrefix+o.slug(r);return`<h${i} id="${l}">${t}</h${i}>
`}return`<h${i}>${t}</h${i}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,i,r){const o=i?"ol":"ul",l=i&&r!==1?' start="'+r+'"':"";return"<"+o+l+`>
`+t+"</"+o+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,i){return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,i){const r=i.header?"th":"td";return(i.align?`<${r} align="${i.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,i,r){if(t=tw(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o='<a href="'+t+'"';return i&&(o+=' title="'+i+'"'),o+=">"+r+"</a>",o}image(t,i,r){if(t=tw(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o=`<img src="${t}" alt="${r}"`;return i&&(o+=` title="${i}"`),o+=this.options.xhtml?"/>":">",o}text(t){return t}},DD=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,i,r){return""+r}image(t,i,r){return""+r}br(){return""}},xD=class{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,i){let r=t,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[t];do o++,r=t+"-"+o;while(this.seen.hasOwnProperty(r))}return i||(this.seen[t]=o,this.seen[r]=0),r}slug(t,i={}){const r=this.serialize(t);return this.getNextSafeSlug(r,i.dryrun)}},Aa=class{constructor(t){this.options=t||yu,this.options.renderer=this.options.renderer||new E0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new DD,this.slugger=new xD}static parse(t,i){return new Aa(i).parse(t)}static parseInline(t,i){return new Aa(i).parseInline(t)}parse(t,i=!0){let r="",o,l,c,d,h,f,m,v,E,b,w,A,y,S,T,M,D,C,k;const I=t.length;for(o=0;o<I;o++){if(b=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[b.type]&&(k=this.options.extensions.renderers[b.type].call({parser:this},b),k!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(b.type))){r+=k||"";continue}switch(b.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(b.tokens),b.depth,wD(this.parseInline(b.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(b.text,b.lang,b.escaped);continue}case"table":{for(v="",m="",d=b.header.length,l=0;l<d;l++)m+=this.renderer.tablecell(this.parseInline(b.header[l].tokens),{header:!0,align:b.align[l]});for(v+=this.renderer.tablerow(m),E="",d=b.rows.length,l=0;l<d;l++){for(f=b.rows[l],m="",h=f.length,c=0;c<h;c++)m+=this.renderer.tablecell(this.parseInline(f[c].tokens),{header:!1,align:b.align[c]});E+=this.renderer.tablerow(m)}r+=this.renderer.table(v,E);continue}case"blockquote":{E=this.parse(b.tokens),r+=this.renderer.blockquote(E);continue}case"list":{for(w=b.ordered,A=b.start,y=b.loose,d=b.items.length,E="",l=0;l<d;l++)T=b.items[l],M=T.checked,D=T.task,S="",T.task&&(C=this.renderer.checkbox(M),y?T.tokens.length>0&&T.tokens[0].type==="paragraph"?(T.tokens[0].text=C+" "+T.tokens[0].text,T.tokens[0].tokens&&T.tokens[0].tokens.length>0&&T.tokens[0].tokens[0].type==="text"&&(T.tokens[0].tokens[0].text=C+" "+T.tokens[0].tokens[0].text)):T.tokens.unshift({type:"text",text:C}):S+=C),S+=this.parse(T.tokens,y),E+=this.renderer.listitem(S,D,M);r+=this.renderer.list(E,w,A);continue}case"html":{r+=this.renderer.html(b.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(b.tokens));continue}case"text":{for(E=b.tokens?this.parseInline(b.tokens):b.text;o+1<I&&t[o+1].type==="text";)b=t[++o],E+=`
`+(b.tokens?this.parseInline(b.tokens):b.text);r+=i?this.renderer.paragraph(E):E;continue}default:{const R='Token with "'+b.type+'" type was not found.';if(this.options.silent){console.error(R);return}else throw new Error(R)}}}return r}parseInline(t,i){i=i||this.renderer;let r="",o,l,c;const d=t.length;for(o=0;o<d;o++){if(l=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(c=this.options.extensions.renderers[l.type].call({parser:this},l),c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){r+=c||"";continue}switch(l.type){case"escape":{r+=i.text(l.text);break}case"html":{r+=i.html(l.text);break}case"link":{r+=i.link(l.href,l.title,this.parseInline(l.tokens,i));break}case"image":{r+=i.image(l.href,l.title,l.text);break}case"strong":{r+=i.strong(this.parseInline(l.tokens,i));break}case"em":{r+=i.em(this.parseInline(l.tokens,i));break}case"codespan":{r+=i.codespan(l.text);break}case"br":{r+=i.br();break}case"del":{r+=i.del(this.parseInline(l.tokens,i));break}case"text":{r+=i.text(l.text);break}default:{const h='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(h);return}else throw new Error(h)}}}return r}};function Ft(t,i,r){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof i=="function"&&(r=i,i=null),i=Ho({},Ft.defaults,i||{}),AD(i),r){const l=i.highlight;let c;try{c=bs.lex(t,i)}catch(f){return r(f)}const d=function(f){let m;if(!f)try{i.walkTokens&&Ft.walkTokens(c,i.walkTokens),m=Aa.parse(c,i)}catch(v){f=v}return i.highlight=l,f?r(f):r(null,m)};if(!l||l.length<3||(delete i.highlight,!c.length))return d();let h=0;Ft.walkTokens(c,function(f){f.type==="code"&&(h++,setTimeout(()=>{l(f.text,f.lang,function(m,v){if(m)return d(m);v!=null&&v!==f.text&&(f.text=v,f.escaped=!0),h--,h===0&&d()})},0))}),h===0&&d();return}function o(l){if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,i.silent)return"<p>An error occurred:</p><pre>"+ir(l.message+"",!0)+"</pre>";throw l}try{const l=bs.lex(t,i);if(i.walkTokens){if(i.async)return Promise.all(Ft.walkTokens(l,i.walkTokens)).then(()=>Aa.parse(l,i)).catch(o);Ft.walkTokens(l,i.walkTokens)}return Aa.parse(l,i)}catch(l){o(l)}}Ft.options=Ft.setOptions=function(t){return Ho(Ft.defaults,t),sH(Ft.defaults),Ft};Ft.getDefaults=yD;Ft.defaults=yu;Ft.use=function(...t){const i=Ft.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(r=>{const o=Ho({},r);if(o.async=Ft.defaults.async||o.async,r.extensions&&(r.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){const c=i.renderers[l.name];c?i.renderers[l.name]=function(...d){let h=l.renderer.apply(this,d);return h===!1&&(h=c.apply(this,d)),h}:i.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");i[l.level]?i[l.level].unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&(l.level==="block"?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:l.level==="inline"&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),o.extensions=i),r.renderer){const l=Ft.defaults.renderer||new E0;for(const c in r.renderer){const d=l[c];l[c]=(...h)=>{let f=r.renderer[c].apply(l,h);return f===!1&&(f=d.apply(l,h)),f}}o.renderer=l}if(r.tokenizer){const l=Ft.defaults.tokenizer||new y0;for(const c in r.tokenizer){const d=l[c];l[c]=(...h)=>{let f=r.tokenizer[c].apply(l,h);return f===!1&&(f=d.apply(l,h)),f}}o.tokenizer=l}if(r.walkTokens){const l=Ft.defaults.walkTokens;o.walkTokens=function(c){let d=[];return d.push(r.walkTokens.call(this,c)),l&&(d=d.concat(l.call(this,c))),d}}Ft.setOptions(o)})};Ft.walkTokens=function(t,i){let r=[];for(const o of t)switch(r=r.concat(i.call(Ft,o)),o.type){case"table":{for(const l of o.header)r=r.concat(Ft.walkTokens(l.tokens,i));for(const l of o.rows)for(const c of l)r=r.concat(Ft.walkTokens(c.tokens,i));break}case"list":{r=r.concat(Ft.walkTokens(o.items,i));break}default:Ft.defaults.extensions&&Ft.defaults.extensions.childTokens&&Ft.defaults.extensions.childTokens[o.type]?Ft.defaults.extensions.childTokens[o.type].forEach(function(l){r=r.concat(Ft.walkTokens(o[l],i))}):o.tokens&&(r=r.concat(Ft.walkTokens(o.tokens,i)))}return r};Ft.parseInline=function(t,i){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");i=Ho({},Ft.defaults,i||{}),AD(i);try{const r=bs.lexInline(t,i);return i.walkTokens&&Ft.walkTokens(r,i.walkTokens),Aa.parseInline(r,i)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,i.silent)return"<p>An error occurred:</p><pre>"+ir(r.message+"",!0)+"</pre>";throw r}};Ft.Parser=Aa;Ft.parser=Aa.parse;Ft.Renderer=E0;Ft.TextRenderer=DD;Ft.Lexer=bs;Ft.lexer=bs.lex;Ft.Tokenizer=y0;Ft.Slugger=xD;Ft.parse=Ft;Ft.options;Ft.setOptions;Ft.use;Ft.walkTokens;Ft.parseInline;Aa.parse;bs.lex;function _h(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var aw={space:/^\n+/,blockCode:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)(\n)(|[\s\S]*?\n)( {0,3}\1[~`]* *(?:\n+|$)|$)/,heading:/^#{1,6} [^\n]+(\n|$)/,lheading:/^[^\n]+\n {0,3}(=+|-+) *(\n+|$)/,hr:/^(([-_*]) *){3,}(\n+|$)/,list:/^( {0})((?:[*+-]|\d{1,9}\.)) [\s\S]+?(?:\n+(?! )(?!\1(?:[*+-]|\d{1,9}\.) )\n*|\s*$)/,blockquote:/^( {0,3}> ?([^\n]*)(?:\n|$))+/,html:/^ {0,3}(?:<(script|pre|style)[\s>][\s\S]*?(?:<\/\1>[^\n]*\n+|$)|<!--(?!-?>)[\s\S]*?-->[^\n]*(\n+|$)|<\/?(\w+)(?: +|\n|\/?>)[\s\S]*?(?:\n{2,}|$))/,paragraph:/^[^\n]+/},sw={strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,inlineCode:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,link:/^!?\[([\s\S]+)\]\(\s*([\s\S]+)(?:\s+([\s\S]+))?\s*\)/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/},ta=(t,i,r)=>`<${t} class="mdhl-${r}">${i}</${t}>`,wH={codeInFences:(t,i)=>ta("span",_h(t),"codeInFences"),heading:(t,i,r)=>ta("b",r(t.text,i),t.type),lheading:(t,i,r)=>ta("b",r(t.text,i),"heading"),paragraph:(t,i,r)=>ta("span",r(t.text,i),t.type),list:(t,i,r)=>{const o=t.text.split(`
`).map(l=>{const c=l.substr(0,1),d=l.substr(1),h=r(d,i);return`${ta("span",c,"bullet")}${h}`}).join(`
`);return ta("span",o,"list")},fences:(t,i)=>{const[,r,o,l,c,d]=t.cap,h=i.codeInFences(c,o);return`${r}${_h(o)}${l}${h}${d}`},space:t=>t.text,text:t=>t.text,em:t=>ta("i",t.text,t.type),strong:t=>ta("b",t.text,t.type),defaultInlineRenderer:t=>ta("span",t.text,t.type),defaultBlockRenderer:t=>ta("span",_h(t.text),t.type)};function SD(t,i){let r="";for(;t;)if(!Object.keys(sw).some(o=>{const l=sw[o].exec(t);if(l){const c=l[0];t=t.substring(c.length);const d=_h(c);return r+=(i[o]||i.defaultInlineRenderer)({type:o,text:d,cap:l},i,SD),!0}return!1}))throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return r}function AH(t){const i=[];for(t=t.replace(/^ +$/gm,"");t;)if(!Object.keys(aw).some(r=>{const o=aw[r].exec(t);if(o){const l=o[0];return t=t.substring(l.length),i.push({text:l,type:r,cap:o}),!0}return!1}))throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return i}function DH(t,i){return t.map(r=>(i[r.type]||i.defaultBlockRenderer)(r,i,SD)).join("").replace(/\n/g,"<br/>")}function xH(t,i=wH){return DH(AH(t),i)}var SH=t=>{t.data("markdownEditorFormComponent",({state:i,tab:r})=>({attachment:null,overlay:null,preview:"",state:i,tab:r,init:function(){this.state!==null&&this.$nextTick(()=>{this.render()}),this.$watch("state",o=>{o===null&&(this.state=""),this.render()})},render:function(){(this.$refs.textarea?.scrollHeight??0)>0&&(this.$refs.overlay.style.height="150px",this.$refs.overlay.style.height=this.$refs.textarea.scrollHeight+"px"),this.state=this.state.replace(`\r
`,`
`),this.overlay=null,this.overlay=xH(this.state),this.preview=null,this.preview=aH.sanitize(Ft(this.state))},checkForAutoInsertion:function(){const o=this.$refs.textarea.value.split(`
`),l=this.$refs.textarea.value.substring(0,this.$refs.textarea.value.selectionStart).split(`
`).length,c=o[l-2];if(c.match(/^(\*\s|-\s)|^(\d)+\./)){if(c.match(/^(\*\s)/))c.trim().length>1?o[l-1]="* ":delete o[l-2];else if(c.match(/^(-\s)/))c.trim().length>1?o[l-1]="- ":delete o[l-2];else{const h=c.match(/^(\d)+/)[0];c.trim().length>h.length+2?o[l-1]=`${parseInt(h)+1}. `:delete o[l-2]}this.state=o.join(`
`),this.render()}}}))},al=pu(l6());al.default.config.blockAttributes.default.tagName="p";al.default.config.blockAttributes.default.breakOnReturn=!0;al.default.config.blockAttributes.heading={tagName:"h2",terminal:!0,breakOnReturn:!0,group:!1};al.default.config.blockAttributes.subHeading={tagName:"h3",terminal:!0,breakOnReturn:!0,group:!1};al.default.Block.prototype.breaksOnReturn=function(){const t=this.getLastAttribute();return al.default.getBlockConfig(t||"default")?.breakOnReturn??!1};al.default.LineBreakInsertion.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset>0:this.shouldBreakFormattedBlock()?!1:this.breaksOnReturn};var TH=t=>{t.data("richEditorFormComponent",({state:i})=>({state:i,init:function(){this.$refs.trix?.editor?.loadHTML(this.state),this.$watch("state",()=>{document.activeElement!==this.$refs.trix&&this.$refs.trix?.editor?.loadHTML(this.state)})}}))},CH=pu(u6()),MH=t=>{t.data("selectFormComponent",({isHtmlAllowed:i,getOptionLabelUsing:r,getOptionLabelsUsing:o,getOptionsUsing:l,getSearchResultsUsing:c,isAutofocused:d,isMultiple:h,hasDynamicOptions:f,hasDynamicSearchResults:m,loadingMessage:v,maxItems:E,maxItemsMessage:b,noSearchResultsMessage:w,options:A,optionsLimit:y,placeholder:S,position:T,searchDebounce:M,searchingMessage:D,searchPrompt:C,state:k})=>({isSearching:!1,select:null,selectedOptions:[],isStateBeingUpdated:!1,state:k,init:async function(){this.select=new CH.default(this.$refs.input,{allowHTML:i,duplicateItemsAllowed:!1,itemSelectText:"",loadingText:v,maxItemCount:E??-1,maxItemText:I=>window.pluralize(b,I,{count:I}),noChoicesText:C,noResultsText:w,placeholderValue:S,position:T??"auto",removeItemButton:!0,renderChoiceLimit:y,searchFields:["label"],searchResultLimit:y,shouldSort:!1}),await this.refreshChoices({withInitialOptions:!0}),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state)),this.refreshPlaceholder(),d&&this.select.showDropdown(),this.$refs.input.addEventListener("change",()=>{this.refreshPlaceholder(),!this.isStateBeingUpdated&&(this.isStateBeingUpdated=!0,this.state=this.select.getValue(!0)??null,this.$nextTick(()=>this.isStateBeingUpdated=!1))}),f&&this.$refs.input.addEventListener("showDropdown",async()=>{this.select.clearChoices(),await this.select.setChoices([{label:v,value:"",disabled:!0}]),await this.refreshChoices()}),m&&(this.$refs.input.addEventListener("search",async I=>{let R=I.detail.value?.trim();[null,void 0,""].includes(R)||(this.isSearching=!0,this.select.clearChoices(),await this.select.setChoices([{label:D,value:"",disabled:!0}]))}),this.$refs.input.addEventListener("search",t.debounce(async I=>{await this.refreshChoices({search:I.detail.value?.trim()}),this.isSearching=!1},M))),this.$watch("state",async()=>{if(this.refreshPlaceholder(),this.isStateBeingUpdated)return;const I=await this.getChoices({withInitialOptions:!f});this.select.clearStore(),this.setChoices(I),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state))})},refreshChoices:async function(I={}){this.setChoices(await this.getChoices(I))},setChoices:function(I){this.select.setChoices(I,"value","label",!0)},getChoices:async function(I={}){const R=await this.getOptions(I);return R.concat(await this.getMissingOptions(R))},getOptions:async function({search:I,withInitialOptions:R}){return R?A:I!==""&&I!==null&&I!==void 0?await c(I):await l()},refreshPlaceholder:function(){h||(this.select._renderItems(),[null,void 0,""].includes(this.state)&&(this.$el.querySelector(".choices__list--single").innerHTML=`<div class="choices__placeholder choices__item">${S}</div>`))},formatState:function(I){return h?(I??[]).map(R=>R?.toString()):I?.toString()},getMissingOptions:async function(I){let R=this.formatState(this.state);if([null,void 0,"",[],{}].includes(R))return{};const F=new Set(I.length?I.map(j=>j.value):[]);return h?R.every(j=>F.has(j))?{}:await o():F.has(R)?F:[{label:await r(),value:R}]}}))},kH=t=>{t.data("tagsInputFormComponent",({state:i})=>({newTag:"",state:i,createTag:function(){if(this.newTag=this.newTag.trim(),this.newTag!==""){if(this.state.includes(this.newTag)){this.newTag="";return}this.state.push(this.newTag),this.newTag=""}},deleteTag:function(r){this.state=this.state.filter(o=>o!==r)}}))};function Kh(t){return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Kh(t)}function Ti(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function lw(t,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ci(t,i,r){return i&&lw(t.prototype,i),r&&lw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OH(t,i,r){return i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}function da(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Eg(t,i)}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},It(t)}function Eg(t,i){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},Eg(t,i)}function IH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RH(t,i){if(t==null)return{};var r={},o=Object.keys(t),l,c;for(c=0;c<o.length;c++)l=o[c],!(i.indexOf(l)>=0)&&(r[l]=t[l]);return r}function Ic(t,i){if(t==null)return{};var r=RH(t,i),o,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(l=0;l<c.length;l++)o=c[l],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function LH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FH(t,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LH(t)}function ha(t){var i=IH();return function(){var o=It(t),l;if(i){var c=It(this).constructor;l=Reflect.construct(o,arguments,c)}else l=o.apply(this,arguments);return FH(this,l)}}function TD(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&(t=It(t),t!==null););return t}function rn(){return typeof Reflect<"u"&&Reflect.get?rn=Reflect.get.bind():rn=function(i,r,o){var l=TD(i,r);if(l){var c=Object.getOwnPropertyDescriptor(l,r);return c.get?c.get.call(arguments.length<3?i:o):c.value}},rn.apply(this,arguments)}function wh(t,i,r,o){return typeof Reflect<"u"&&Reflect.set?wh=Reflect.set:wh=function(c,d,h,f){var m=TD(c,d),v;if(m){if(v=Object.getOwnPropertyDescriptor(m,d),v.set)return v.set.call(f,h),!0;if(!v.writable)return!1}if(v=Object.getOwnPropertyDescriptor(f,d),v){if(!v.writable)return!1;v.value=h,Object.defineProperty(f,d,v)}else OH(f,d,h);return!0},wh(t,i,r,o)}function Da(t,i,r,o,l){var c=wh(t,i,r,o||t);if(!c&&l)throw new Error("failed to set property");return r}function Po(t,i){return BH(t)||$H(t,i)||CD(t,i)||HH()}function NH(t){return PH(t)||zH(t)||CD(t)||jH()}function PH(t){if(Array.isArray(t))return _g(t)}function BH(t){if(Array.isArray(t))return t}function zH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $H(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o=[],l=!0,c=!1,d,h;try{for(r=r.call(t);!(l=(d=r.next()).done)&&(o.push(d.value),!(i&&o.length===i));l=!0);}catch(f){c=!0,h=f}finally{try{!l&&r.return!=null&&r.return()}finally{if(c)throw h}}return o}}function CD(t,i){if(t){if(typeof t=="string")return _g(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(t,i)}}function _g(t,i){(i==null||i>t.length)&&(i=t.length);for(var r=0,o=new Array(i);r<i;r++)o[r]=t[r];return o}function jH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zn=function(){function t(i){Ti(this,t),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},i)}return Ci(t,[{key:"aggregate",value:function(r){return this.rawInserted+=r.rawInserted,this.skip=this.skip||r.skip,this.inserted+=r.inserted,this.tailShift+=r.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}();function Ql(t){return typeof t=="string"||t instanceof String}var Rt={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function VH(t){switch(t){case Rt.LEFT:return Rt.FORCE_LEFT;case Rt.RIGHT:return Rt.FORCE_RIGHT;default:return t}}function Sm(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function Dc(t){return Array.isArray(t)?t:[t,new Zn]}function wg(t,i){if(i===t)return!0;var r=Array.isArray(i),o=Array.isArray(t),l;if(r&&o){if(i.length!=t.length)return!1;for(l=0;l<i.length;l++)if(!wg(i[l],t[l]))return!1;return!0}if(r!=o)return!1;if(i&&t&&Kh(i)==="object"&&Kh(t)==="object"){var c=i instanceof Date,d=t instanceof Date;if(c&&d)return i.getTime()==t.getTime();if(c!=d)return!1;var h=i instanceof RegExp,f=t instanceof RegExp;if(h&&f)return i.toString()==t.toString();if(h!=f)return!1;var m=Object.keys(i);for(l=0;l<m.length;l++)if(!Object.prototype.hasOwnProperty.call(t,m[l]))return!1;for(l=0;l<m.length;l++)if(!wg(t[m[l]],i[m[l]]))return!1;return!0}else if(i&&t&&typeof i=="function"&&typeof t=="function")return i.toString()===t.toString();return!1}var UH=function(){function t(i,r,o,l){for(Ti(this,t),this.value=i,this.cursorPos=r,this.oldValue=o,this.oldSelection=l;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Ci(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?Rt.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?Rt.RIGHT:Rt.LEFT}}]),t}(),wa=function(){function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;Ti(this,t),this.value=i,this.from=r,this.stop=o}return Ci(t,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(r){this.value+=String(r)}},{key:"appendTo",value:function(r){return r.append(this.toString(),{tail:!0}).aggregate(r._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(r){Object.assign(this,r)}},{key:"unshift",value:function(r){if(!this.value.length||r!=null&&this.from>=r)return"";var o=this.value[0];return this.value=this.value.slice(1),o}},{key:"shift",value:function(){if(!this.value.length)return"";var r=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),r}}]),t}();function un(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new un.InputMask(t,i)}var Oa=function(){function t(i){Ti(this,t),this._value="",this._update(Object.assign({},t.DEFAULTS,i)),this.isInitialized=!0}return Ci(t,[{key:"updateOptions",value:function(r){Object.keys(r).length&&this.withValueRefresh(this._update.bind(this,r))}},{key:"_update",value:function(r){Object.assign(this,r)}},{key:"state",get:function(){return{_value:this.value}},set:function(r){this._value=r._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(r){this.resolve(r)}},{key:"resolve",value:function(r){return this.reset(),this.append(r,{input:!0},""),this.doCommit(),this.value}},{key:"unmaskedValue",get:function(){return this.value},set:function(r){this.reset(),this.append(r,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(r){this.value=this.doFormat(r)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(r){this.reset(),this.append(r,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return this.isComplete}},{key:"nearestInputPos",value:function(r,o){return r}},{key:"extractInput",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(r,o)}},{key:"extractTail",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return new wa(this.extractInput(r,o),r)}},{key:"appendTail",value:function(r){return Ql(r)&&(r=new wa(String(r))),r.appendTo(this)}},{key:"_appendCharRaw",value:function(r){return r?(this._value+=r,new Zn({inserted:r,rawInserted:r})):new Zn}},{key:"_appendChar",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0,c=this.state,d,h=Dc(this.doPrepare(r,o)),f=Po(h,2);if(r=f[0],d=f[1],d=d.aggregate(this._appendCharRaw(r,o)),d.inserted){var m,v=this.doValidate(o)!==!1;if(v&&l!=null){var E=this.state;this.overwrite===!0&&(m=l.state,l.unshift(this.value.length));var b=this.appendTail(l);v=b.rawInserted===l.toString(),!(v&&b.inserted)&&this.overwrite==="shift"&&(this.state=E,m=l.state,l.shift(),b=this.appendTail(l),v=b.rawInserted===l.toString()),v&&b.inserted&&(this.state=E)}v||(d=new Zn,this.state=c,l&&m&&(l.state=m))}return d}},{key:"_appendPlaceholder",value:function(){return new Zn}},{key:"_appendEager",value:function(){return new Zn}},{key:"append",value:function(r,o,l){if(!Ql(r))throw new Error("value should be string");var c=new Zn,d=Ql(l)?new wa(String(l)):l;o!=null&&o.tail&&(o._beforeTailState=this.state);for(var h=0;h<r.length;++h)c.aggregate(this._appendChar(r[h],o,d));return d!=null&&(c.tailShift+=this.appendTail(d).tailShift),this.eager&&o!==null&&o!==void 0&&o.input&&r&&c.aggregate(this._appendEager()),c}},{key:"remove",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this._value=this.value.slice(0,r)+this.value.slice(o),new Zn}},{key:"withValueRefresh",value:function(r){if(this._refreshing||!this.isInitialized)return r();this._refreshing=!0;var o=this.rawInputValue,l=this.value,c=r();return this.rawInputValue=o,this.value&&this.value!==l&&l.indexOf(this.value)===0&&this.append(l.slice(this.value.length),{},""),delete this._refreshing,c}},{key:"runIsolated",value:function(r){if(this._isolated||!this.isInitialized)return r(this);this._isolated=!0;var o=this.state,l=r(this);return this.state=o,delete this._isolated,l}},{key:"doPrepare",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.prepare?this.prepare(r,this,o):r}},{key:"doValidate",value:function(r){return(!this.validate||this.validate(this.value,this,r))&&(!this.parent||this.parent.doValidate(r))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(r){return this.format?this.format(r,this):r}},{key:"doParse",value:function(r){return this.parse?this.parse(r,this):r}},{key:"splice",value:function(r,o,l,c){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{input:!0},h=r+o,f=this.extractTail(h),m;this.eager&&(c=VH(c),m=this.extractInput(0,h,{raw:!0}));var v=this.nearestInputPos(r,o>1&&r!==0&&!this.eager?Rt.NONE:c),E=new Zn({tailShift:v-r}).aggregate(this.remove(v));if(this.eager&&c!==Rt.NONE&&m===this.rawInputValue)if(c===Rt.FORCE_LEFT)for(var b;m===this.rawInputValue&&(b=this.value.length);)E.aggregate(new Zn({tailShift:-1})).aggregate(this.remove(b-1));else c===Rt.FORCE_RIGHT&&f.unshift();return E.aggregate(this.append(l,d,f))}},{key:"maskEquals",value:function(r){return this.mask===r}},{key:"typedValueEquals",value:function(r){var o=this.typedValue;return r===o||t.EMPTY_VALUES.includes(r)&&t.EMPTY_VALUES.includes(o)||this.doFormat(r)===this.doFormat(this.typedValue)}}]),t}();Oa.DEFAULTS={format:function(i){return i},parse:function(i){return i}};Oa.EMPTY_VALUES=[void 0,null,""];un.Masked=Oa;function MD(t){if(t==null)throw new Error("mask property should be defined");return t instanceof RegExp?un.MaskedRegExp:Ql(t)?un.MaskedPattern:t instanceof Date||t===Date?un.MaskedDate:t instanceof Number||typeof t=="number"||t===Number?un.MaskedNumber:Array.isArray(t)||t===Array?un.MaskedDynamic:un.Masked&&t.prototype instanceof un.Masked?t:t instanceof un.Masked?t.constructor:t instanceof Function?un.MaskedFunction:(console.warn("Mask not found for mask",t),un.Masked)}function sl(t){if(un.Masked&&t instanceof un.Masked)return t;t=Object.assign({},t);var i=t.mask;if(un.Masked&&i instanceof un.Masked)return i;var r=MD(i);if(!r)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new r(t)}un.createMask=sl;var YH=["mask"],GH={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},kD=function(){function t(i){Ti(this,t);var r=i.mask,o=Ic(i,YH);this.masked=sl({mask:r}),Object.assign(this,o)}return Ci(t,[{key:"reset",value:function(){this.isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return r===0&&o>=1?(this.isFilled=!1,this.masked.remove(r,o)):new Zn}},{key:"value",get:function(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isFilled)return new Zn;var l=this.masked.state,c=this.masked._appendChar(r,o);return c.inserted&&this.doValidate(o)===!1&&(c.inserted=c.rawInserted="",this.masked.state=l),!c.inserted&&!this.isOptional&&!this.lazy&&!o.input&&(c.inserted=this.placeholderChar),c.skip=!c.inserted&&!this.isOptional,this.isFilled=Boolean(c.inserted),c}},{key:"append",value:function(){var r;return(r=this.masked).append.apply(r,arguments)}},{key:"_appendPlaceholder",value:function(){var r=new Zn;return this.isFilled||this.isOptional||(this.isFilled=!0,r.inserted=this.placeholderChar),r}},{key:"_appendEager",value:function(){return new Zn}},{key:"extractTail",value:function(){var r;return(r=this.masked).extractTail.apply(r,arguments)}},{key:"appendTail",value:function(){var r;return(r=this.masked).appendTail.apply(r,arguments)}},{key:"extractInput",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,l=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(r,o,l)}},{key:"nearestInputPos",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.NONE,l=0,c=this.value.length,d=Math.min(Math.max(r,l),c);switch(o){case Rt.LEFT:case Rt.FORCE_LEFT:return this.isComplete?d:l;case Rt.RIGHT:case Rt.FORCE_RIGHT:return this.isComplete?d:c;case Rt.NONE:default:return d}}},{key:"doValidate",value:function(){var r,o;return(r=this.masked).doValidate.apply(r,arguments)&&(!this.parent||(o=this.parent).doValidate.apply(o,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{masked:this.masked.state,isFilled:this.isFilled}},set:function(r){this.masked.state=r.masked,this.isFilled=r.isFilled}}]),t}(),OD=function(){function t(i){Ti(this,t),Object.assign(this,i),this._value="",this.isFixed=!0}return Ci(t,[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._value=this._value.slice(0,r)+this._value.slice(o),this._value||(this._isRawInput=!1),new Zn}},{key:"nearestInputPos",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.NONE,l=0,c=this._value.length;switch(o){case Rt.LEFT:case Rt.FORCE_LEFT:return l;case Rt.NONE:case Rt.RIGHT:case Rt.FORCE_RIGHT:default:return c}}},{key:"extractInput",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l.raw&&this._isRawInput&&this._value.slice(r,o)||""}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return Boolean(this._value)}},{key:"_appendChar",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=new Zn;if(this._value)return l;var c=this.char===r,d=c&&(this.isUnmasking||o.input||o.raw)&&(!o.raw||!this.eager)&&!o.tail;return d&&(l.rawInserted=this.char),this._value=l.inserted=this.char,this._isRawInput=d&&(o.raw||o.input),l}},{key:"_appendEager",value:function(){return this._appendChar(this.char,{tail:!0})}},{key:"_appendPlaceholder",value:function(){var r=new Zn;return this._value||(this._value=r.inserted=this.char),r}},{key:"extractTail",value:function(){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,new wa("")}},{key:"appendTail",value:function(r){return Ql(r)&&(r=new wa(String(r))),r.appendTo(this)}},{key:"append",value:function(r,o,l){var c=this._appendChar(r[0],o);return l!=null&&(c.tailShift+=this.appendTail(l).tailShift),c}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(r){Object.assign(this,r)}}]),t}(),WH=["chunks"],uw=function(){function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ti(this,t),this.chunks=i,this.from=r}return Ci(t,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(r){if(String(r)){Ql(r)&&(r=new wa(String(r)));var o=this.chunks[this.chunks.length-1],l=o&&(o.stop===r.stop||r.stop==null)&&r.from===o.from+o.toString().length;if(r instanceof wa)l?o.extend(r.toString()):this.chunks.push(r);else if(r instanceof t){if(r.stop==null)for(var c;r.chunks.length&&r.chunks[0].stop==null;)c=r.chunks.shift(),c.from+=r.from,this.extend(c);r.toString()&&(r.stop=r.blockIndex,this.chunks.push(r))}}}},{key:"appendTo",value:function(r){if(!(r instanceof un.MaskedPattern)){var o=new wa(this.toString());return o.appendTo(r)}for(var l=new Zn,c=0;c<this.chunks.length&&!l.skip;++c){var d=this.chunks[c],h=r._mapPosToBlock(r.value.length),f=d.stop,m=void 0;if(f!=null&&(!h||h.index<=f)&&((d instanceof t||r._stops.indexOf(f)>=0)&&l.aggregate(r._appendPlaceholder(f)),m=d instanceof t&&r._blocks[f]),m){var v=m.appendTail(d);v.skip=!1,l.aggregate(v),r._value+=v.inserted;var E=d.toString().slice(v.rawInserted.length);E&&l.aggregate(r.append(E,{tail:!0}))}else l.aggregate(r.append(d.toString(),{tail:!0}))}return l}},{key:"state",get:function(){return{chunks:this.chunks.map(function(r){return r.state}),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(r){var o=r.chunks,l=Ic(r,WH);Object.assign(this,l),this.chunks=o.map(function(c){var d="chunks"in c?new t:new wa;return d.state=c,d})}},{key:"unshift",value:function(r){if(!this.chunks.length||r!=null&&this.from>=r)return"";for(var o=r!=null?r-this.from:r,l=0;l<this.chunks.length;){var c=this.chunks[l],d=c.unshift(o);if(c.toString()){if(!d)break;++l}else this.chunks.splice(l,1);if(d)return d}return""}},{key:"shift",value:function(){if(!this.chunks.length)return"";for(var r=this.chunks.length-1;0<=r;){var o=this.chunks[r],l=o.shift();if(o.toString()){if(!l)break;--r}else this.chunks.splice(r,1);if(l)return l}return""}}]),t}(),qH=function(){function t(i,r){Ti(this,t),this.masked=i,this._log=[];var o=i._mapPosToBlock(r)||(r<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0}),l=o.offset,c=o.index;this.offset=l,this.index=c,this.ok=!1}return Ci(t,[{key:"block",get:function(){return this.masked._blocks[this.index]}},{key:"pos",get:function(){return this.masked._blockStartPos(this.index)+this.offset}},{key:"state",get:function(){return{index:this.index,offset:this.offset,ok:this.ok}},set:function(r){Object.assign(this,r)}},{key:"pushState",value:function(){this._log.push(this.state)}},{key:"popState",value:function(){var r=this._log.pop();return this.state=r,r}},{key:"bindBlock",value:function(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}},{key:"_pushLeft",value:function(r){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((o=this.block)===null||o===void 0?void 0:o.value.length)||0){var o;if(r())return this.ok=!0}return this.ok=!1}},{key:"_pushRight",value:function(r){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(r())return this.ok=!0;return this.ok=!1}},{key:"pushLeftBeforeFilled",value:function(){var r=this;return this._pushLeft(function(){if(!(r.block.isFixed||!r.block.value)&&(r.offset=r.block.nearestInputPos(r.offset,Rt.FORCE_LEFT),r.offset!==0))return!0})}},{key:"pushLeftBeforeInput",value:function(){var r=this;return this._pushLeft(function(){if(!r.block.isFixed)return r.offset=r.block.nearestInputPos(r.offset,Rt.LEFT),!0})}},{key:"pushLeftBeforeRequired",value:function(){var r=this;return this._pushLeft(function(){if(!(r.block.isFixed||r.block.isOptional&&!r.block.value))return r.offset=r.block.nearestInputPos(r.offset,Rt.LEFT),!0})}},{key:"pushRightBeforeFilled",value:function(){var r=this;return this._pushRight(function(){if(!(r.block.isFixed||!r.block.value)&&(r.offset=r.block.nearestInputPos(r.offset,Rt.FORCE_RIGHT),r.offset!==r.block.value.length))return!0})}},{key:"pushRightBeforeInput",value:function(){var r=this;return this._pushRight(function(){if(!r.block.isFixed)return r.offset=r.block.nearestInputPos(r.offset,Rt.NONE),!0})}},{key:"pushRightBeforeRequired",value:function(){var r=this;return this._pushRight(function(){if(!(r.block.isFixed||r.block.isOptional&&!r.block.value))return r.offset=r.block.nearestInputPos(r.offset,Rt.NONE),!0})}}]),t}(),KH=function(t){da(r,t);var i=ha(r);function r(){return Ti(this,r),i.apply(this,arguments)}return Ci(r,[{key:"_update",value:function(l){l.mask&&(l.validate=function(c){return c.search(l.mask)>=0}),rn(It(r.prototype),"_update",this).call(this,l)}}]),r}(Oa);un.MaskedRegExp=KH;var JH=["_blocks"],Ia=function(t){da(r,t);var i=ha(r);function r(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ti(this,r),o.definitions=Object.assign({},GH,o.definitions),i.call(this,Object.assign({},r.DEFAULTS,o))}return Ci(r,[{key:"_update",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l.definitions=Object.assign({},this.definitions,l.definitions),rn(It(r.prototype),"_update",this).call(this,l),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var l=this,c=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var d=this.mask;if(!(!d||!c))for(var h=!1,f=!1,m=0;m<d.length;++m){if(this.blocks){var v=function(){var A=d.slice(m),y=Object.keys(l.blocks).filter(function(M){return A.indexOf(M)===0});y.sort(function(M,D){return D.length-M.length});var S=y[0];if(S){var T=sl(Object.assign({parent:l,lazy:l.lazy,eager:l.eager,placeholderChar:l.placeholderChar,overwrite:l.overwrite},l.blocks[S]));return T&&(l._blocks.push(T),l._maskedBlocks[S]||(l._maskedBlocks[S]=[]),l._maskedBlocks[S].push(l._blocks.length-1)),m+=S.length-1,"continue"}}();if(v==="continue")continue}var E=d[m],b=E in c;if(E===r.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(E==="{"||E==="}"){h=!h;continue}if(E==="["||E==="]"){f=!f;continue}if(E===r.ESCAPE_CHAR){if(++m,E=d[m],!E)break;b=!1}var w=b?new kD({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,mask:c[E],isOptional:f}):new OD({char:E,eager:this.eager,isUnmasking:h});this._blocks.push(w)}}},{key:"state",get:function(){return Object.assign({},rn(It(r.prototype),"state",this),{_blocks:this._blocks.map(function(l){return l.state})})},set:function(l){var c=l._blocks,d=Ic(l,JH);this._blocks.forEach(function(h,f){return h.state=c[f]}),Da(It(r.prototype),"state",d,this,!0)}},{key:"reset",value:function(){rn(It(r.prototype),"reset",this).call(this),this._blocks.forEach(function(l){return l.reset()})}},{key:"isComplete",get:function(){return this._blocks.every(function(l){return l.isComplete})}},{key:"isFilled",get:function(){return this._blocks.every(function(l){return l.isFilled})}},{key:"isFixed",get:function(){return this._blocks.every(function(l){return l.isFixed})}},{key:"isOptional",get:function(){return this._blocks.every(function(l){return l.isOptional})}},{key:"doCommit",value:function(){this._blocks.forEach(function(l){return l.doCommit()}),rn(It(r.prototype),"doCommit",this).call(this)}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(l,c){return l+=c.unmaskedValue},"")},set:function(l){Da(It(r.prototype),"unmaskedValue",l,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(l,c){return l+=c.value},"")},set:function(l){Da(It(r.prototype),"value",l,this,!0)}},{key:"appendTail",value:function(l){return rn(It(r.prototype),"appendTail",this).call(this,l).aggregate(this._appendPlaceholder())}},{key:"_appendEager",value:function(){var l,c=new Zn,d=(l=this._mapPosToBlock(this.value.length))===null||l===void 0?void 0:l.index;if(d==null)return c;this._blocks[d].isFilled&&++d;for(var h=d;h<this._blocks.length;++h){var f=this._blocks[h]._appendEager();if(!f.inserted)break;c.aggregate(f)}return c}},{key:"_appendCharRaw",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=this._mapPosToBlock(this.value.length),h=new Zn;if(!d)return h;for(var f=d.index;;++f){var m,v,E=this._blocks[f];if(!E)break;var b=E._appendChar(l,Object.assign({},c,{_beforeTailState:(m=c._beforeTailState)===null||m===void 0||(v=m._blocks)===null||v===void 0?void 0:v[f]})),w=b.skip;if(h.aggregate(b),w||b.rawInserted)break}return h}},{key:"extractTail",value:function(){var l=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,h=new uw;return c===d||this._forEachBlocksInRange(c,d,function(f,m,v,E){var b=f.extractTail(v,E);b.stop=l._findStopBefore(m),b.from=l._blockStartPos(m),b instanceof uw&&(b.blockIndex=m),h.extend(b)}),h}},{key:"extractInput",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(l===c)return"";var h="";return this._forEachBlocksInRange(l,c,function(f,m,v,E){h+=f.extractInput(v,E,d)}),h}},{key:"_findStopBefore",value:function(l){for(var c,d=0;d<this._stops.length;++d){var h=this._stops[d];if(h<=l)c=h;else break}return c}},{key:"_appendPlaceholder",value:function(l){var c=this,d=new Zn;if(this.lazy&&l==null)return d;var h=this._mapPosToBlock(this.value.length);if(!h)return d;var f=h.index,m=l??this._blocks.length;return this._blocks.slice(f,m).forEach(function(v){if(!v.lazy||l!=null){var E=v._blocks!=null?[v._blocks.length]:[],b=v._appendPlaceholder.apply(v,E);c._value+=b.inserted,d.aggregate(b)}}),d}},{key:"_mapPosToBlock",value:function(l){for(var c="",d=0;d<this._blocks.length;++d){var h=this._blocks[d],f=c.length;if(c+=h.value,l<=c.length)return{index:d,offset:l-f}}}},{key:"_blockStartPos",value:function(l){return this._blocks.slice(0,l).reduce(function(c,d){return c+=d.value.length},0)}},{key:"_forEachBlocksInRange",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,d=arguments.length>2?arguments[2]:void 0,h=this._mapPosToBlock(l);if(h){var f=this._mapPosToBlock(c),m=f&&h.index===f.index,v=h.offset,E=f&&m?f.offset:this._blocks[h.index].value.length;if(d(this._blocks[h.index],h.index,v,E),f&&!m){for(var b=h.index+1;b<f.index;++b)d(this._blocks[b],b,0,this._blocks[b].value.length);d(this._blocks[f.index],f.index,0,f.offset)}}}},{key:"remove",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,d=rn(It(r.prototype),"remove",this).call(this,l,c);return this._forEachBlocksInRange(l,c,function(h,f,m,v){d.aggregate(h.remove(m,v))}),d}},{key:"nearestInputPos",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.NONE;if(!this._blocks.length)return 0;var d=new qH(this,l);if(c===Rt.NONE)return d.pushRightBeforeInput()||(d.popState(),d.pushLeftBeforeInput())?d.pos:this.value.length;if(c===Rt.LEFT||c===Rt.FORCE_LEFT){if(c===Rt.LEFT){if(d.pushRightBeforeFilled(),d.ok&&d.pos===l)return l;d.popState()}if(d.pushLeftBeforeInput(),d.pushLeftBeforeRequired(),d.pushLeftBeforeFilled(),c===Rt.LEFT){if(d.pushRightBeforeInput(),d.pushRightBeforeRequired(),d.ok&&d.pos<=l||(d.popState(),d.ok&&d.pos<=l))return d.pos;d.popState()}return d.ok?d.pos:c===Rt.FORCE_LEFT?0:(d.popState(),d.ok||(d.popState(),d.ok)?d.pos:0)}return c===Rt.RIGHT||c===Rt.FORCE_RIGHT?(d.pushRightBeforeInput(),d.pushRightBeforeRequired(),d.pushRightBeforeFilled()?d.pos:c===Rt.FORCE_RIGHT?this.value.length:(d.popState(),d.ok||(d.popState(),d.ok)?d.pos:this.nearestInputPos(l,Rt.LEFT))):l}},{key:"maskedBlock",value:function(l){return this.maskedBlocks(l)[0]}},{key:"maskedBlocks",value:function(l){var c=this,d=this._maskedBlocks[l];return d?d.map(function(h){return c._blocks[h]}):[]}}]),r}(Oa);Ia.DEFAULTS={lazy:!0,placeholderChar:"_"};Ia.STOP_CHAR="`";Ia.ESCAPE_CHAR="\\";Ia.InputDefinition=kD;Ia.FixedDefinition=OD;un.MaskedPattern=Ia;var Ah=function(t){da(r,t);var i=ha(r);function r(){return Ti(this,r),i.apply(this,arguments)}return Ci(r,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"_update",value:function(l){l=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},l);var c=String(l.to).length;l.maxLength!=null&&(c=Math.max(c,l.maxLength)),l.maxLength=c;for(var d=String(l.from).padStart(c,"0"),h=String(l.to).padStart(c,"0"),f=0;f<h.length&&h[f]===d[f];)++f;l.mask=h.slice(0,f).replace(/0/g,"\\0")+"0".repeat(c-f),rn(It(r.prototype),"_update",this).call(this,l)}},{key:"isComplete",get:function(){return rn(It(r.prototype),"isComplete",this)&&Boolean(this.value)}},{key:"boundaries",value:function(l){var c="",d="",h=l.match(/^(\D*)(\d*)(\D*)/)||[],f=Po(h,3),m=f[1],v=f[2];return v&&(c="0".repeat(m.length)+v,d="9".repeat(m.length)+v),c=c.padEnd(this.maxLength,"0"),d=d.padEnd(this.maxLength,"9"),[c,d]}},{key:"doPrepare",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d,h=Dc(rn(It(r.prototype),"doPrepare",this).call(this,l.replace(/\D/g,""),c)),f=Po(h,2);if(l=f[0],d=f[1],!this.autofix||!l)return l;var m=String(this.from).padStart(this.maxLength,"0"),v=String(this.to).padStart(this.maxLength,"0"),E=this.value+l;if(E.length>this.maxLength)return"";var b=this.boundaries(E),w=Po(b,2),A=w[0],y=w[1];return Number(y)<this.from?m[E.length-1]:Number(A)>this.to?this.autofix==="pad"&&E.length<this.maxLength?["",d.aggregate(this.append(m[E.length-1]+l,c))]:v[E.length-1]:l}},{key:"doValidate",value:function(){var l,c=this.value,d=c.search(/[^0]/);if(d===-1&&c.length<=this._matchFrom)return!0;for(var h=this.boundaries(c),f=Po(h,2),m=f[0],v=f[1],E=arguments.length,b=new Array(E),w=0;w<E;w++)b[w]=arguments[w];return this.from<=Number(v)&&Number(m)<=this.to&&(l=rn(It(r.prototype),"doValidate",this)).call.apply(l,[this].concat(b))}}]),r}(Ia);un.MaskedRange=Ah;var _0=function(t){da(r,t);var i=ha(r);function r(o){return Ti(this,r),i.call(this,Object.assign({},r.DEFAULTS,o))}return Ci(r,[{key:"_update",value:function(l){l.mask===Date&&delete l.mask,l.pattern&&(l.mask=l.pattern);var c=l.blocks;l.blocks=Object.assign({},r.GET_DEFAULT_BLOCKS()),l.min&&(l.blocks.Y.from=l.min.getFullYear()),l.max&&(l.blocks.Y.to=l.max.getFullYear()),l.min&&l.max&&l.blocks.Y.from===l.blocks.Y.to&&(l.blocks.m.from=l.min.getMonth()+1,l.blocks.m.to=l.max.getMonth()+1,l.blocks.m.from===l.blocks.m.to&&(l.blocks.d.from=l.min.getDate(),l.blocks.d.to=l.max.getDate())),Object.assign(l.blocks,this.blocks,c),Object.keys(l.blocks).forEach(function(d){var h=l.blocks[d];!("autofix"in h)&&"autofix"in l&&(h.autofix=l.autofix)}),rn(It(r.prototype),"_update",this).call(this,l)}},{key:"doValidate",value:function(){for(var l,c=this.date,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return(l=rn(It(r.prototype),"doValidate",this)).call.apply(l,[this].concat(h))&&(!this.isComplete||this.isDateExist(this.value)&&c!=null&&(this.min==null||this.min<=c)&&(this.max==null||c<=this.max))}},{key:"isDateExist",value:function(l){return this.format(this.parse(l,this),this).indexOf(l)>=0}},{key:"date",get:function(){return this.typedValue},set:function(l){this.typedValue=l}},{key:"typedValue",get:function(){return this.isComplete?rn(It(r.prototype),"typedValue",this):null},set:function(l){Da(It(r.prototype),"typedValue",l,this,!0)}},{key:"maskEquals",value:function(l){return l===Date||rn(It(r.prototype),"maskEquals",this).call(this,l)}}]),r}(Ia);_0.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(i){if(!i)return"";var r=String(i.getDate()).padStart(2,"0"),o=String(i.getMonth()+1).padStart(2,"0"),l=i.getFullYear();return[r,o,l].join(".")},parse:function(i){var r=i.split("."),o=Po(r,3),l=o[0],c=o[1],d=o[2];return new Date(d,c-1,l)}};_0.GET_DEFAULT_BLOCKS=function(){return{d:{mask:Ah,from:1,to:31,maxLength:2},m:{mask:Ah,from:1,to:12,maxLength:2},Y:{mask:Ah,from:1900,to:9999}}};un.MaskedDate=_0;var w0=function(){function t(){Ti(this,t)}return Ci(t,[{key:"selectionStart",get:function(){var r;try{r=this._unsafeSelectionStart}catch{}return r??this.value.length}},{key:"selectionEnd",get:function(){var r;try{r=this._unsafeSelectionEnd}catch{}return r??this.value.length}},{key:"select",value:function(r,o){if(!(r==null||o==null||r===this.selectionStart&&o===this.selectionEnd))try{this._unsafeSelect(r,o)}catch{}}},{key:"_unsafeSelect",value:function(r,o){}},{key:"isActive",get:function(){return!1}},{key:"bindEvents",value:function(r){}},{key:"unbindEvents",value:function(){}}]),t}();un.MaskElement=w0;var Tf=function(t){da(r,t);var i=ha(r);function r(o){var l;return Ti(this,r),l=i.call(this),l.input=o,l._handlers={},l}return Ci(r,[{key:"rootElement",get:function(){var l,c,d;return(l=(c=(d=this.input).getRootNode)===null||c===void 0?void 0:c.call(d))!==null&&l!==void 0?l:document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(l,c){this.input.setSelectionRange(l,c)}},{key:"value",get:function(){return this.input.value},set:function(l){this.input.value=l}},{key:"bindEvents",value:function(l){var c=this;Object.keys(l).forEach(function(d){return c._toggleEventHandler(r.EVENTS_MAP[d],l[d])})}},{key:"unbindEvents",value:function(){var l=this;Object.keys(this._handlers).forEach(function(c){return l._toggleEventHandler(c)})}},{key:"_toggleEventHandler",value:function(l,c){this._handlers[l]&&(this.input.removeEventListener(l,this._handlers[l]),delete this._handlers[l]),c&&(this.input.addEventListener(l,c),this._handlers[l]=c)}}]),r}(w0);Tf.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};un.HTMLMaskElement=Tf;var ID=function(t){da(r,t);var i=ha(r);function r(){return Ti(this,r),i.apply(this,arguments)}return Ci(r,[{key:"_unsafeSelectionStart",get:function(){var l=this.rootElement,c=l.getSelection&&l.getSelection(),d=c&&c.anchorOffset,h=c&&c.focusOffset;return h==null||d==null||d<h?d:h}},{key:"_unsafeSelectionEnd",get:function(){var l=this.rootElement,c=l.getSelection&&l.getSelection(),d=c&&c.anchorOffset,h=c&&c.focusOffset;return h==null||d==null||d>h?d:h}},{key:"_unsafeSelect",value:function(l,c){if(this.rootElement.createRange){var d=this.rootElement.createRange();d.setStart(this.input.firstChild||this.input,l),d.setEnd(this.input.lastChild||this.input,c);var h=this.rootElement,f=h.getSelection&&h.getSelection();f&&(f.removeAllRanges(),f.addRange(d))}}},{key:"value",get:function(){return this.input.textContent},set:function(l){this.input.textContent=l}}]),r}(Tf);un.HTMLContenteditableMaskElement=ID;var XH=["mask"],ZH=function(){function t(i,r){Ti(this,t),this.el=i instanceof w0?i:i.isContentEditable&&i.tagName!=="INPUT"&&i.tagName!=="TEXTAREA"?new ID(i):new Tf(i),this.masked=sl(r),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Ci(t,[{key:"mask",get:function(){return this.masked.mask},set:function(r){if(!this.maskEquals(r)){if(!(r instanceof un.Masked)&&this.masked.constructor===MD(r)){this.masked.updateOptions({mask:r});return}var o=sl({mask:r});o.unmaskedValue=this.masked.unmaskedValue,this.masked=o}}},{key:"maskEquals",value:function(r){var o;return r==null||((o=this.masked)===null||o===void 0?void 0:o.maskEquals(r))}},{key:"value",get:function(){return this._value},set:function(r){this.value!==r&&(this.masked.value=r,this.updateControl(),this.alignCursor())}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(r){this.unmaskedValue!==r&&(this.masked.unmaskedValue=r,this.updateControl(),this.alignCursor())}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(r){this.masked.typedValueEquals(r)||(this.masked.typedValue=r,this.updateControl(),this.alignCursor())}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(r){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];var d=this._listeners[r];d&&d.forEach(function(h){return h.apply(void 0,l)})}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(r){!this.el||!this.el.isActive||(this.el.select(r,r),this._saveSelection())}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var r=this.masked.unmaskedValue,o=this.masked.value,l=this.unmaskedValue!==r||this.value!==o;this._unmaskedValue=r,this._value=o,this.el.value!==o&&(this.el.value=o),l&&this._fireChangeEvents()}},{key:"updateOptions",value:function(r){var o=r.mask,l=Ic(r,XH),c=!this.maskEquals(o),d=!wg(this.masked,l);c&&(this.mask=o),d&&this.masked.updateOptions(l),(c||d)&&this.updateControl()}},{key:"updateCursor",value:function(r){r!=null&&(this.cursorPos=r,this._delayUpdateCursor(r))}},{key:"_delayUpdateCursor",value:function(r){var o=this;this._abortUpdateCursor(),this._changingCursorPos=r,this._cursorChanging=setTimeout(function(){o.el&&(o.cursorPos=o._changingCursorPos,o._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Rt.LEFT))}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(r,o){return this._listeners[r]||(this._listeners[r]=[]),this._listeners[r].push(o),this}},{key:"off",value:function(r,o){if(!this._listeners[r])return this;if(!o)return delete this._listeners[r],this;var l=this._listeners[r].indexOf(o);return l>=0&&this._listeners[r].splice(l,1),this}},{key:"_onInput",value:function(r){if(this._inputEvent=r,this._abortUpdateCursor(),!this._selection)return this.updateValue();var o=new UH(this.el.value,this.cursorPos,this.value,this._selection),l=this.masked.rawInputValue,c=this.masked.splice(o.startChangePos,o.removed.length,o.inserted,o.removeDirection,{input:!0,raw:!0}).offset,d=l===this.masked.rawInputValue?o.removeDirection:Rt.NONE,h=this.masked.nearestInputPos(o.startChangePos+c,d);d!==Rt.NONE&&(h=this.masked.nearestInputPos(h,Rt.NONE)),this.updateControl(),this.updateCursor(h),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(r){r.preventDefault(),r.stopPropagation()}},{key:"_onFocus",value:function(r){this.alignCursorFriendly()}},{key:"_onClick",value:function(r){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}]),t}();un.InputMask=ZH;var QH=function(t){da(r,t);var i=ha(r);function r(){return Ti(this,r),i.apply(this,arguments)}return Ci(r,[{key:"_update",value:function(l){l.enum&&(l.mask="*".repeat(l.enum[0].length)),rn(It(r.prototype),"_update",this).call(this,l)}},{key:"doValidate",value:function(){for(var l=this,c,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return this.enum.some(function(m){return m.indexOf(l.unmaskedValue)>=0})&&(c=rn(It(r.prototype),"doValidate",this)).call.apply(c,[this].concat(h))}}]),r}(Ia);un.MaskedEnum=QH;var A0=function(t){da(r,t);var i=ha(r);function r(o){return Ti(this,r),i.call(this,Object.assign({},r.DEFAULTS,o))}return Ci(r,[{key:"_update",value:function(l){rn(It(r.prototype),"_update",this).call(this,l),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var l="^"+(this.allowNegative?"[+|\\-]?":""),c="(0|([1-9]+\\d*))?",d="\\d*",h=(this.scale?"("+Sm(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(l+c+h),this._numberRegExp=new RegExp(l+d+h),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Sm).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Sm(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(l){return l.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(l){var c=l.split(this.radix);return c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),c.join(this.radix)}},{key:"doPrepare",value:function(l){var c;l=l.replace(this._mapToRadixRegExp,this.radix);for(var d=this._removeThousandsSeparators(l),h=arguments.length,f=new Array(h>1?h-1:0),m=1;m<h;m++)f[m-1]=arguments[m];var v=Dc((c=rn(It(r.prototype),"doPrepare",this)).call.apply(c,[this,d].concat(f))),E=Po(v,2),b=E[0],w=E[1];return l&&!d&&(w.skip=!0),[b,w]}},{key:"_separatorsCount",value:function(l){for(var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=0,h=0;h<l;++h)this._value.indexOf(this.thousandsSeparator,h)===h&&(++d,c&&(l+=this.thousandsSeparator.length));return d}},{key:"_separatorsCountFromSlice",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(l).length,!0)}},{key:"extractInput",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,d=arguments.length>2?arguments[2]:void 0,h=this._adjustRangeWithSeparators(l,c),f=Po(h,2);return l=f[0],c=f[1],this._removeThousandsSeparators(rn(It(r.prototype),"extractInput",this).call(this,l,c,d))}},{key:"_appendCharRaw",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.thousandsSeparator)return rn(It(r.prototype),"_appendCharRaw",this).call(this,l,c);var d=c.tail&&c._beforeTailState?c._beforeTailState._value:this._value,h=this._separatorsCountFromSlice(d);this._value=this._removeThousandsSeparators(this.value);var f=rn(It(r.prototype),"_appendCharRaw",this).call(this,l,c);this._value=this._insertThousandsSeparators(this._value);var m=c.tail&&c._beforeTailState?c._beforeTailState._value:this._value,v=this._separatorsCountFromSlice(m);return f.tailShift+=(v-h)*this.thousandsSeparator.length,f.skip=!f.rawInserted&&l===this.thousandsSeparator,f}},{key:"_findSeparatorAround",value:function(l){if(this.thousandsSeparator){var c=l-this.thousandsSeparator.length+1,d=this.value.indexOf(this.thousandsSeparator,c);if(d<=l)return d}return-1}},{key:"_adjustRangeWithSeparators",value:function(l,c){var d=this._findSeparatorAround(l);d>=0&&(l=d);var h=this._findSeparatorAround(c);return h>=0&&(c=h+this.thousandsSeparator.length),[l,c]}},{key:"remove",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,d=this._adjustRangeWithSeparators(l,c),h=Po(d,2);l=h[0],c=h[1];var f=this.value.slice(0,l),m=this.value.slice(c),v=this._separatorsCount(f.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(f+m));var E=this._separatorsCountFromSlice(f);return new Zn({tailShift:(E-v)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(l,c){if(!this.thousandsSeparator)return l;switch(c){case Rt.NONE:case Rt.LEFT:case Rt.FORCE_LEFT:{var d=this._findSeparatorAround(l-1);if(d>=0){var h=d+this.thousandsSeparator.length;if(l<h||this.value.length<=h||c===Rt.FORCE_LEFT)return d}break}case Rt.RIGHT:case Rt.FORCE_RIGHT:{var f=this._findSeparatorAround(l);if(f>=0)return f+this.thousandsSeparator.length}}return l}},{key:"doValidate",value:function(l){var c=l.input?this._numberRegExpInput:this._numberRegExp,d=c.test(this._removeThousandsSeparators(this.value));if(d){var h=this.number;d=d&&!isNaN(h)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return d&&rn(It(r.prototype),"doValidate",this).call(this,l)}},{key:"doCommit",value:function(){if(this.value){var l=this.number,c=l;this.min!=null&&(c=Math.max(c,this.min)),this.max!=null&&(c=Math.min(c,this.max)),c!==l&&(this.unmaskedValue=String(c));var d=this.value;this.normalizeZeros&&(d=this._normalizeZeros(d)),this.padFractionalZeros&&this.scale>0&&(d=this._padFractionalZeros(d)),this._value=d}rn(It(r.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(l){var c=this._removeThousandsSeparators(l).split(this.radix);return c[0]=c[0].replace(/^(\D*)(0*)(\d*)/,function(d,h,f,m){return h+m}),l.length&&!/\d$/.test(c[0])&&(c[0]=c[0]+"0"),c.length>1&&(c[1]=c[1].replace(/0*$/,""),c[1].length||(c.length=1)),this._insertThousandsSeparators(c.join(this.radix))}},{key:"_padFractionalZeros",value:function(l){if(!l)return l;var c=l.split(this.radix);return c.length<2&&c.push(""),c[1]=c[1].padEnd(this.scale,"0"),c.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(l){Da(It(r.prototype),"unmaskedValue",l.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(l){Da(It(r.prototype),"unmaskedValue",String(l),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(l){this.typedValue=l}},{key:"allowNegative",get:function(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}},{key:"typedValueEquals",value:function(l){return(rn(It(r.prototype),"typedValueEquals",this).call(this,l)||r.EMPTY_VALUES.includes(l)&&r.EMPTY_VALUES.includes(this.typedValue))&&!(l===0&&this.value==="")}}]),r}(Oa);A0.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};A0.EMPTY_VALUES=[].concat(NH(Oa.EMPTY_VALUES),[0]);un.MaskedNumber=A0;var e9=function(t){da(r,t);var i=ha(r);function r(){return Ti(this,r),i.apply(this,arguments)}return Ci(r,[{key:"_update",value:function(l){l.mask&&(l.validate=l.mask),rn(It(r.prototype),"_update",this).call(this,l)}}]),r}(Oa);un.MaskedFunction=e9;var t9=["compiledMasks","currentMaskRef","currentMask"],RD=function(t){da(r,t);var i=ha(r);function r(o){var l;return Ti(this,r),l=i.call(this,Object.assign({},r.DEFAULTS,o)),l.currentMask=null,l}return Ci(r,[{key:"_update",value:function(l){rn(It(r.prototype),"_update",this).call(this,l),"mask"in l&&(this.compiledMasks=Array.isArray(l.mask)?l.mask.map(function(c){return sl(c)}):[])}},{key:"_appendCharRaw",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=this._applyDispatch(l,c);return this.currentMask&&d.aggregate(this.currentMask._appendChar(l,this.currentMaskFlags(c))),d}},{key:"_applyDispatch",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=c.tail&&c._beforeTailState!=null?c._beforeTailState._value:this.value,h=this.rawInputValue,f=c.tail&&c._beforeTailState!=null?c._beforeTailState._rawInputValue:h,m=h.slice(f.length),v=this.currentMask,E=new Zn,b=v?.state;if(this.currentMask=this.doDispatch(l,Object.assign({},c)),this.currentMask)if(this.currentMask!==v){if(this.currentMask.reset(),f){var w=this.currentMask.append(f,{raw:!0});E.tailShift=w.inserted.length-d.length}m&&(E.tailShift+=this.currentMask.append(m,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=b;return E}},{key:"_appendPlaceholder",value:function(){var l=this._applyDispatch.apply(this,arguments);return this.currentMask&&l.aggregate(this.currentMask._appendPlaceholder()),l}},{key:"_appendEager",value:function(){var l=this._applyDispatch.apply(this,arguments);return this.currentMask&&l.aggregate(this.currentMask._appendEager()),l}},{key:"currentMaskFlags",value:function(l){var c,d;return Object.assign({},l,{_beforeTailState:((c=l._beforeTailState)===null||c===void 0?void 0:c.currentMaskRef)===this.currentMask&&((d=l._beforeTailState)===null||d===void 0?void 0:d.currentMask)||l._beforeTailState})}},{key:"doDispatch",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.dispatch(l,this,c)}},{key:"doValidate",value:function(l){return rn(It(r.prototype),"doValidate",this).call(this,l)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(l)))}},{key:"doPrepare",value:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=Dc(rn(It(r.prototype),"doPrepare",this).call(this,l,c)),h=Po(d,2),f=h[0],m=h[1];if(this.currentMask){var v,E=Dc(rn(It(r.prototype),"doPrepare",this).call(this,f,this.currentMaskFlags(c))),b=Po(E,2);f=b[0],v=b[1],m=m.aggregate(v)}return[f,m]}},{key:"reset",value:function(){var l;(l=this.currentMask)===null||l===void 0||l.reset(),this.compiledMasks.forEach(function(c){return c.reset()})}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(l){Da(It(r.prototype),"value",l,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(l){Da(It(r.prototype),"unmaskedValue",l,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(l){var c=String(l);this.currentMask&&(this.currentMask.typedValue=l,c=this.currentMask.unmaskedValue),this.unmaskedValue=c}},{key:"isComplete",get:function(){var l;return Boolean((l=this.currentMask)===null||l===void 0?void 0:l.isComplete)}},{key:"isFilled",get:function(){var l;return Boolean((l=this.currentMask)===null||l===void 0?void 0:l.isFilled)}},{key:"remove",value:function(){var l=new Zn;if(this.currentMask){var c;l.aggregate((c=this.currentMask).remove.apply(c,arguments)).aggregate(this._applyDispatch())}return l}},{key:"state",get:function(){var l;return Object.assign({},rn(It(r.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(c){return c.state}),currentMaskRef:this.currentMask,currentMask:(l=this.currentMask)===null||l===void 0?void 0:l.state})},set:function(l){var c=l.compiledMasks,d=l.currentMaskRef,h=l.currentMask,f=Ic(l,t9);this.compiledMasks.forEach(function(m,v){return m.state=c[v]}),d!=null&&(this.currentMask=d,this.currentMask.state=h),Da(It(r.prototype),"state",f,this,!0)}},{key:"extractInput",value:function(){var l;return this.currentMask?(l=this.currentMask).extractInput.apply(l,arguments):""}},{key:"extractTail",value:function(){for(var l,c,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return this.currentMask?(l=this.currentMask).extractTail.apply(l,h):(c=rn(It(r.prototype),"extractTail",this)).call.apply(c,[this].concat(h))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),rn(It(r.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var l,c,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return this.currentMask?(l=this.currentMask).nearestInputPos.apply(l,h):(c=rn(It(r.prototype),"nearestInputPos",this)).call.apply(c,[this].concat(h))}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:rn(It(r.prototype),"overwrite",this)},set:function(l){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}},{key:"eager",get:function(){return this.currentMask?this.currentMask.eager:rn(It(r.prototype),"eager",this)},set:function(l){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}},{key:"maskEquals",value:function(l){return Array.isArray(l)&&this.compiledMasks.every(function(c,d){var h;return c.maskEquals((h=l[d])===null||h===void 0?void 0:h.mask)})}},{key:"typedValueEquals",value:function(l){var c;return Boolean((c=this.currentMask)===null||c===void 0?void 0:c.typedValueEquals(l))}}]),r}(Oa);RD.DEFAULTS={dispatch:function(i,r,o){if(r.compiledMasks.length){var l=r.rawInputValue,c=r.compiledMasks.map(function(d,h){d.reset(),d.append(l,{raw:!0}),d.append(i,r.currentMaskFlags(o));var f=d.rawInputValue.length;return{weight:f,index:h}});return c.sort(function(d,h){return h.weight-d.weight}),r.compiledMasks[c[0].index]}}};un.MaskedDynamic=RD;var Ag={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function LD(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ag.MASKED,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ag.MASKED,o=sl(t);return function(l){return o.runIsolated(function(c){return c[i]=l,c[r]})}}function n9(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return LD.apply(void 0,r)(t)}un.PIPE_TYPE=Ag;un.createPipe=LD;un.pipe=n9;try{globalThis.IMask=un}catch{}var i9=t=>{t.data("textInputFormComponent",({getMaskOptionsUsing:i,state:r})=>({isStateBeingUpdated:!1,mask:null,state:r,init:function(){i&&(this.state&&(this.$el.value=this.state?.valueOf()),this.mask=un(this.$el,i(un)).on("accept",()=>{this.isStateBeingUpdated=!0,this.state=this.mask.unmaskedValue,this.$nextTick(()=>this.isStateBeingUpdated=!1)}),this.$watch("state",()=>{this.isStateBeingUpdated||(this.mask.unmaskedValue=this.state?.valueOf()??"")}))}}))},r9=t=>{t.data("textareaFormComponent",()=>({init:function(){this.$nextTick(()=>{this.render()})},render:function(){this.$el.scrollHeight>0&&(this.$el.style.height="150px",this.$el.style.height=this.$el.scrollHeight+2+"px")}}))};/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function cw(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,o)}return r}function la(t){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?cw(Object(r),!0).forEach(function(o){o9(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function Dh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dh=function(i){return typeof i}:Dh=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Dh(t)}function o9(t,i,r){return i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}function Ca(){return Ca=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ca.apply(this,arguments)}function a9(t,i){if(t==null)return{};var r={},o=Object.keys(t),l,c;for(c=0;c<o.length;c++)l=o[c],!(i.indexOf(l)>=0)&&(r[l]=t[l]);return r}function s9(t,i){if(t==null)return{};var r=a9(t,i),o,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(l=0;l<c.length;l++)o=c[l],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}var l9="1.15.0";function xa(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ra=xa(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rc=xa(/Edge/i),dw=xa(/firefox/i),pc=xa(/safari/i)&&!xa(/chrome/i)&&!xa(/android/i),FD=xa(/iP(ad|od|hone)/i),ND=xa(/chrome/i)&&xa(/android/i),PD={capture:!1,passive:!1};function An(t,i,r){t.addEventListener(i,r,!Ra&&PD)}function gn(t,i,r){t.removeEventListener(i,r,!Ra&&PD)}function Jh(t,i){if(i){if(i[0]===">"&&(i=i.substring(1)),t)try{if(t.matches)return t.matches(i);if(t.msMatchesSelector)return t.msMatchesSelector(i);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(i)}catch{return!1}return!1}}function u9(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ra(t,i,r,o){if(t){r=r||document;do{if(i!=null&&(i[0]===">"?t.parentNode===r&&Jh(t,i):Jh(t,i))||o&&t===r)return t;if(t===r)break}while(t=u9(t))}return null}var hw=/\s+/g;function Jr(t,i,r){if(t&&i)if(t.classList)t.classList[r?"add":"remove"](i);else{var o=(" "+t.className+" ").replace(hw," ").replace(" "+i+" "," ");t.className=(o+(r?" "+i:"")).replace(hw," ")}}function Bt(t,i,r){var o=t&&t.style;if(o){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),i===void 0?r:r[i];!(i in o)&&i.indexOf("webkit")===-1&&(i="-webkit-"+i),o[i]=r+(typeof r=="string"?"":"px")}}function eu(t,i){var r="";if(typeof t=="string")r=t;else do{var o=Bt(t,"transform");o&&o!=="none"&&(r=o+" "+r)}while(!i&&(t=t.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(r)}function BD(t,i,r){if(t){var o=t.getElementsByTagName(i),l=0,c=o.length;if(r)for(;l<c;l++)r(o[l],l);return o}return[]}function sa(){var t=document.scrollingElement;return t||document.documentElement}function $i(t,i,r,o,l){if(!(!t.getBoundingClientRect&&t!==window)){var c,d,h,f,m,v,E;if(t!==window&&t.parentNode&&t!==sa()?(c=t.getBoundingClientRect(),d=c.top,h=c.left,f=c.bottom,m=c.right,v=c.height,E=c.width):(d=0,h=0,f=window.innerHeight,m=window.innerWidth,v=window.innerHeight,E=window.innerWidth),(i||r)&&t!==window&&(l=l||t.parentNode,!Ra))do if(l&&l.getBoundingClientRect&&(Bt(l,"transform")!=="none"||r&&Bt(l,"position")!=="static")){var b=l.getBoundingClientRect();d-=b.top+parseInt(Bt(l,"border-top-width")),h-=b.left+parseInt(Bt(l,"border-left-width")),f=d+c.height,m=h+c.width;break}while(l=l.parentNode);if(o&&t!==window){var w=eu(l||t),A=w&&w.a,y=w&&w.d;w&&(d/=y,h/=A,E/=A,v/=y,f=d+v,m=h+E)}return{top:d,left:h,bottom:f,right:m,width:E,height:v}}}function fw(t,i,r){for(var o=fs(t,!0),l=$i(t)[i];o;){var c=$i(o)[r],d=void 0;if(r==="top"||r==="left"?d=l>=c:d=l<=c,!d)return o;if(o===sa())break;o=fs(o,!1)}return!1}function uu(t,i,r,o){for(var l=0,c=0,d=t.children;c<d.length;){if(d[c].style.display!=="none"&&d[c]!==zt.ghost&&(o||d[c]!==zt.dragged)&&ra(d[c],r.draggable,t,!1)){if(l===i)return d[c];l++}c++}return null}function D0(t,i){for(var r=t.lastElementChild;r&&(r===zt.ghost||Bt(r,"display")==="none"||i&&!Jh(r,i));)r=r.previousElementSibling;return r||null}function vo(t,i){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==zt.clone&&(!i||Jh(t,i))&&r++;return r}function pw(t){var i=0,r=0,o=sa();if(t)do{var l=eu(t),c=l.a,d=l.d;i+=t.scrollLeft*c,r+=t.scrollTop*d}while(t!==o&&(t=t.parentNode));return[i,r]}function c9(t,i){for(var r in t)if(t.hasOwnProperty(r)){for(var o in i)if(i.hasOwnProperty(o)&&i[o]===t[r][o])return Number(r)}return-1}function fs(t,i){if(!t||!t.getBoundingClientRect)return sa();var r=t,o=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var l=Bt(r);if(r.clientWidth<r.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return sa();if(o||i)return r;o=!0}}while(r=r.parentNode);return sa()}function d9(t,i){if(t&&i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);return t}function Tm(t,i){return Math.round(t.top)===Math.round(i.top)&&Math.round(t.left)===Math.round(i.left)&&Math.round(t.height)===Math.round(i.height)&&Math.round(t.width)===Math.round(i.width)}var mc;function zD(t,i){return function(){if(!mc){var r=arguments,o=this;r.length===1?t.call(o,r[0]):t.apply(o,r),mc=setTimeout(function(){mc=void 0},i)}}}function h9(){clearTimeout(mc),mc=void 0}function $D(t,i,r){t.scrollLeft+=i,t.scrollTop+=r}function jD(t){var i=window.Polymer,r=window.jQuery||window.Zepto;return i&&i.dom?i.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}var Qr="Sortable"+new Date().getTime();function f9(){var t=[],i;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(l){if(!(Bt(l,"display")==="none"||l===zt.ghost)){t.push({target:l,rect:$i(l)});var c=la({},t[t.length-1].rect);if(l.thisAnimationDuration){var d=eu(l,!0);d&&(c.top-=d.f,c.left-=d.e)}l.fromRect=c}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(c9(t,{target:o}),1)},animateAll:function(o){var l=this;if(!this.options.animation){clearTimeout(i),typeof o=="function"&&o();return}var c=!1,d=0;t.forEach(function(h){var f=0,m=h.target,v=m.fromRect,E=$i(m),b=m.prevFromRect,w=m.prevToRect,A=h.rect,y=eu(m,!0);y&&(E.top-=y.f,E.left-=y.e),m.toRect=E,m.thisAnimationDuration&&Tm(b,E)&&!Tm(v,E)&&(A.top-E.top)/(A.left-E.left)===(v.top-E.top)/(v.left-E.left)&&(f=m9(A,b,w,l.options)),Tm(E,v)||(m.prevFromRect=v,m.prevToRect=E,f||(f=l.options.animation),l.animate(m,A,E,f)),f&&(c=!0,d=Math.max(d,f),clearTimeout(m.animationResetTimer),m.animationResetTimer=setTimeout(function(){m.animationTime=0,m.prevFromRect=null,m.fromRect=null,m.prevToRect=null,m.thisAnimationDuration=null},f),m.thisAnimationDuration=f)}),clearTimeout(i),c?i=setTimeout(function(){typeof o=="function"&&o()},d):typeof o=="function"&&o(),t=[]},animate:function(o,l,c,d){if(d){Bt(o,"transition",""),Bt(o,"transform","");var h=eu(this.el),f=h&&h.a,m=h&&h.d,v=(l.left-c.left)/(f||1),E=(l.top-c.top)/(m||1);o.animatingX=!!v,o.animatingY=!!E,Bt(o,"transform","translate3d("+v+"px,"+E+"px,0)"),this.forRepaintDummy=p9(o),Bt(o,"transition","transform "+d+"ms"+(this.options.easing?" "+this.options.easing:"")),Bt(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Bt(o,"transition",""),Bt(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},d)}}}}function p9(t){return t.offsetWidth}function m9(t,i,r,o){return Math.sqrt(Math.pow(i.top-t.top,2)+Math.pow(i.left-t.left,2))/Math.sqrt(Math.pow(i.top-r.top,2)+Math.pow(i.left-r.left,2))*o.animation}var Bl=[],Cm={initializeByDefault:!0},Lc={mount:function(i){for(var r in Cm)Cm.hasOwnProperty(r)&&!(r in i)&&(i[r]=Cm[r]);Bl.forEach(function(o){if(o.pluginName===i.pluginName)throw"Sortable: Cannot mount plugin ".concat(i.pluginName," more than once")}),Bl.push(i)},pluginEvent:function(i,r,o){var l=this;this.eventCanceled=!1,o.cancel=function(){l.eventCanceled=!0};var c=i+"Global";Bl.forEach(function(d){r[d.pluginName]&&(r[d.pluginName][c]&&r[d.pluginName][c](la({sortable:r},o)),r.options[d.pluginName]&&r[d.pluginName][i]&&r[d.pluginName][i](la({sortable:r},o)))})},initializePlugins:function(i,r,o,l){Bl.forEach(function(h){var f=h.pluginName;if(!(!i.options[f]&&!h.initializeByDefault)){var m=new h(i,r,i.options);m.sortable=i,m.options=i.options,i[f]=m,Ca(o,m.defaults)}});for(var c in i.options)if(i.options.hasOwnProperty(c)){var d=this.modifyOption(i,c,i.options[c]);typeof d<"u"&&(i.options[c]=d)}},getEventProperties:function(i,r){var o={};return Bl.forEach(function(l){typeof l.eventProperties=="function"&&Ca(o,l.eventProperties.call(r[l.pluginName],i))}),o},modifyOption:function(i,r,o){var l;return Bl.forEach(function(c){i[c.pluginName]&&c.optionListeners&&typeof c.optionListeners[r]=="function"&&(l=c.optionListeners[r].call(i[c.pluginName],o))}),l}};function g9(t){var i=t.sortable,r=t.rootEl,o=t.name,l=t.targetEl,c=t.cloneEl,d=t.toEl,h=t.fromEl,f=t.oldIndex,m=t.newIndex,v=t.oldDraggableIndex,E=t.newDraggableIndex,b=t.originalEvent,w=t.putSortable,A=t.extraEventProperties;if(i=i||r&&r[Qr],!!i){var y,S=i.options,T="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Ra&&!Rc?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=d||r,y.from=h||r,y.item=l||r,y.clone=c,y.oldIndex=f,y.newIndex=m,y.oldDraggableIndex=v,y.newDraggableIndex=E,y.originalEvent=b,y.pullMode=w?w.lastPutMode:void 0;var M=la(la({},A),Lc.getEventProperties(o,i));for(var D in M)y[D]=M[D];r&&r.dispatchEvent(y),S[T]&&S[T].call(i,y)}}var v9=["evt"],Fr=function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=o.evt,c=s9(o,v9);Lc.pluginEvent.bind(zt)(i,r,la({dragEl:Ve,parentEl:li,ghostEl:Kt,rootEl:Xn,nextEl:Ws,lastDownEl:xh,cloneEl:ii,cloneHidden:cs,dragStarted:nc,putSortable:nr,activeSortable:zt.active,originalEvent:l,oldIndex:Kl,oldDraggableIndex:gc,newIndex:Xr,newDraggableIndex:ss,hideGhostForTarget:YD,unhideGhostForTarget:GD,cloneNowHidden:function(){cs=!0},cloneNowShown:function(){cs=!1},dispatchSortableEvent:function(h){Er({sortable:r,name:h,originalEvent:l})}},c))};function Er(t){g9(la({putSortable:nr,cloneEl:ii,targetEl:Ve,rootEl:Xn,oldIndex:Kl,oldDraggableIndex:gc,newIndex:Xr,newDraggableIndex:ss},t))}var Ve,li,Kt,Xn,Ws,xh,ii,cs,Kl,Xr,gc,ss,uh,nr,$l=!1,Xh=!1,Zh=[],Us,Oo,Mm,km,mw,gw,nc,zl,vc,bc=!1,ch=!1,Sh,hr,Om=[],Dg=!1,Qh=[],Cf=typeof document<"u",dh=FD,vw=Rc||Ra?"cssFloat":"float",b9=Cf&&!ND&&!FD&&"draggable"in document.createElement("div"),HD=function(){if(Cf){if(Ra)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),VD=function(i,r){var o=Bt(i),l=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),c=uu(i,0,r),d=uu(i,1,r),h=c&&Bt(c),f=d&&Bt(d),m=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+$i(c).width,v=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+$i(d).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(c&&h.float&&h.float!=="none"){var E=h.float==="left"?"left":"right";return d&&(f.clear==="both"||f.clear===E)?"vertical":"horizontal"}return c&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||m>=l&&o[vw]==="none"||d&&o[vw]==="none"&&m+v>l)?"vertical":"horizontal"},y9=function(i,r,o){var l=o?i.left:i.top,c=o?i.right:i.bottom,d=o?i.width:i.height,h=o?r.left:r.top,f=o?r.right:r.bottom,m=o?r.width:r.height;return l===h||c===f||l+d/2===h+m/2},E9=function(i,r){var o;return Zh.some(function(l){var c=l[Qr].options.emptyInsertThreshold;if(!(!c||D0(l))){var d=$i(l),h=i>=d.left-c&&i<=d.right+c,f=r>=d.top-c&&r<=d.bottom+c;if(h&&f)return o=l}}),o},UD=function(i){function r(c,d){return function(h,f,m,v){var E=h.options.group.name&&f.options.group.name&&h.options.group.name===f.options.group.name;if(c==null&&(d||E))return!0;if(c==null||c===!1)return!1;if(d&&c==="clone")return c;if(typeof c=="function")return r(c(h,f,m,v),d)(h,f,m,v);var b=(d?h:f).options.group.name;return c===!0||typeof c=="string"&&c===b||c.join&&c.indexOf(b)>-1}}var o={},l=i.group;(!l||Dh(l)!="object")&&(l={name:l}),o.name=l.name,o.checkPull=r(l.pull,!0),o.checkPut=r(l.put),o.revertClone=l.revertClone,i.group=o},YD=function(){!HD&&Kt&&Bt(Kt,"display","none")},GD=function(){!HD&&Kt&&Bt(Kt,"display","")};Cf&&!ND&&document.addEventListener("click",function(t){if(Xh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Xh=!1,!1},!0);var Ys=function(i){if(Ve){i=i.touches?i.touches[0]:i;var r=E9(i.clientX,i.clientY);if(r){var o={};for(var l in i)i.hasOwnProperty(l)&&(o[l]=i[l]);o.target=o.rootEl=r,o.preventDefault=void 0,o.stopPropagation=void 0,r[Qr]._onDragOver(o)}}},_9=function(i){Ve&&Ve.parentNode[Qr]._isOutsideThisEl(i.target)};function zt(t,i){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=i=Ca({},i),t[Qr]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return VD(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(d,h){d.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:zt.supportPointer!==!1&&"PointerEvent"in window&&!pc,emptyInsertThreshold:5};Lc.initializePlugins(this,t,r);for(var o in r)!(o in i)&&(i[o]=r[o]);UD(i);for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=i.forceFallback?!1:b9,this.nativeDraggable&&(this.options.touchStartThreshold=1),i.supportPointer?An(t,"pointerdown",this._onTapStart):(An(t,"mousedown",this._onTapStart),An(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(An(t,"dragover",this),An(t,"dragenter",this)),Zh.push(this.el),i.store&&i.store.get&&this.sort(i.store.get(this)||[]),Ca(this,f9())}zt.prototype={constructor:zt,_isOutsideThisEl:function(i){!this.el.contains(i)&&i!==this.el&&(zl=null)},_getDirection:function(i,r){return typeof this.options.direction=="function"?this.options.direction.call(this,i,r,Ve):this.options.direction},_onTapStart:function(i){if(i.cancelable){var r=this,o=this.el,l=this.options,c=l.preventOnFilter,d=i.type,h=i.touches&&i.touches[0]||i.pointerType&&i.pointerType==="touch"&&i,f=(h||i).target,m=i.target.shadowRoot&&(i.path&&i.path[0]||i.composedPath&&i.composedPath()[0])||f,v=l.filter;if(M9(o),!Ve&&!(/mousedown|pointerdown/.test(d)&&i.button!==0||l.disabled)&&!m.isContentEditable&&!(!this.nativeDraggable&&pc&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=ra(f,l.draggable,o,!1),!(f&&f.animated)&&xh!==f)){if(Kl=vo(f),gc=vo(f,l.draggable),typeof v=="function"){if(v.call(this,i,f,this)){Er({sortable:r,rootEl:m,name:"filter",targetEl:f,toEl:o,fromEl:o}),Fr("filter",r,{evt:i}),c&&i.cancelable&&i.preventDefault();return}}else if(v&&(v=v.split(",").some(function(E){if(E=ra(m,E.trim(),o,!1),E)return Er({sortable:r,rootEl:E,name:"filter",targetEl:f,fromEl:o,toEl:o}),Fr("filter",r,{evt:i}),!0}),v)){c&&i.cancelable&&i.preventDefault();return}l.handle&&!ra(m,l.handle,o,!1)||this._prepareDragStart(i,h,f)}}},_prepareDragStart:function(i,r,o){var l=this,c=l.el,d=l.options,h=c.ownerDocument,f;if(o&&!Ve&&o.parentNode===c){var m=$i(o);if(Xn=c,Ve=o,li=Ve.parentNode,Ws=Ve.nextSibling,xh=o,uh=d.group,zt.dragged=Ve,Us={target:Ve,clientX:(r||i).clientX,clientY:(r||i).clientY},mw=Us.clientX-m.left,gw=Us.clientY-m.top,this._lastX=(r||i).clientX,this._lastY=(r||i).clientY,Ve.style["will-change"]="all",f=function(){if(Fr("delayEnded",l,{evt:i}),zt.eventCanceled){l._onDrop();return}l._disableDelayedDragEvents(),!dw&&l.nativeDraggable&&(Ve.draggable=!0),l._triggerDragStart(i,r),Er({sortable:l,name:"choose",originalEvent:i}),Jr(Ve,d.chosenClass,!0)},d.ignore.split(",").forEach(function(v){BD(Ve,v.trim(),Im)}),An(h,"dragover",Ys),An(h,"mousemove",Ys),An(h,"touchmove",Ys),An(h,"mouseup",l._onDrop),An(h,"touchend",l._onDrop),An(h,"touchcancel",l._onDrop),dw&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ve.draggable=!0),Fr("delayStart",this,{evt:i}),d.delay&&(!d.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Rc||Ra))){if(zt.eventCanceled){this._onDrop();return}An(h,"mouseup",l._disableDelayedDrag),An(h,"touchend",l._disableDelayedDrag),An(h,"touchcancel",l._disableDelayedDrag),An(h,"mousemove",l._delayedDragTouchMoveHandler),An(h,"touchmove",l._delayedDragTouchMoveHandler),d.supportPointer&&An(h,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(f,d.delay)}else f()}},_delayedDragTouchMoveHandler:function(i){var r=i.touches?i.touches[0]:i;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ve&&Im(Ve),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var i=this.el.ownerDocument;gn(i,"mouseup",this._disableDelayedDrag),gn(i,"touchend",this._disableDelayedDrag),gn(i,"touchcancel",this._disableDelayedDrag),gn(i,"mousemove",this._delayedDragTouchMoveHandler),gn(i,"touchmove",this._delayedDragTouchMoveHandler),gn(i,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(i,r){r=r||i.pointerType=="touch"&&i,!this.nativeDraggable||r?this.options.supportPointer?An(document,"pointermove",this._onTouchMove):r?An(document,"touchmove",this._onTouchMove):An(document,"mousemove",this._onTouchMove):(An(Ve,"dragend",this),An(Xn,"dragstart",this._onDragStart));try{document.selection?Th(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(i,r){if($l=!1,Xn&&Ve){Fr("dragStarted",this,{evt:r}),this.nativeDraggable&&An(document,"dragover",_9);var o=this.options;!i&&Jr(Ve,o.dragClass,!1),Jr(Ve,o.ghostClass,!0),zt.active=this,i&&this._appendGhost(),Er({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Oo){this._lastX=Oo.clientX,this._lastY=Oo.clientY,YD();for(var i=document.elementFromPoint(Oo.clientX,Oo.clientY),r=i;i&&i.shadowRoot&&(i=i.shadowRoot.elementFromPoint(Oo.clientX,Oo.clientY),i!==r);)r=i;if(Ve.parentNode[Qr]._isOutsideThisEl(i),r)do{if(r[Qr]){var o=void 0;if(o=r[Qr]._onDragOver({clientX:Oo.clientX,clientY:Oo.clientY,target:i,rootEl:r}),o&&!this.options.dragoverBubble)break}i=r}while(r=r.parentNode);GD()}},_onTouchMove:function(i){if(Us){var r=this.options,o=r.fallbackTolerance,l=r.fallbackOffset,c=i.touches?i.touches[0]:i,d=Kt&&eu(Kt,!0),h=Kt&&d&&d.a,f=Kt&&d&&d.d,m=dh&&hr&&pw(hr),v=(c.clientX-Us.clientX+l.x)/(h||1)+(m?m[0]-Om[0]:0)/(h||1),E=(c.clientY-Us.clientY+l.y)/(f||1)+(m?m[1]-Om[1]:0)/(f||1);if(!zt.active&&!$l){if(o&&Math.max(Math.abs(c.clientX-this._lastX),Math.abs(c.clientY-this._lastY))<o)return;this._onDragStart(i,!0)}if(Kt){d?(d.e+=v-(Mm||0),d.f+=E-(km||0)):d={a:1,b:0,c:0,d:1,e:v,f:E};var b="matrix(".concat(d.a,",").concat(d.b,",").concat(d.c,",").concat(d.d,",").concat(d.e,",").concat(d.f,")");Bt(Kt,"webkitTransform",b),Bt(Kt,"mozTransform",b),Bt(Kt,"msTransform",b),Bt(Kt,"transform",b),Mm=v,km=E,Oo=c}i.cancelable&&i.preventDefault()}},_appendGhost:function(){if(!Kt){var i=this.options.fallbackOnBody?document.body:Xn,r=$i(Ve,!0,dh,!0,i),o=this.options;if(dh){for(hr=i;Bt(hr,"position")==="static"&&Bt(hr,"transform")==="none"&&hr!==document;)hr=hr.parentNode;hr!==document.body&&hr!==document.documentElement?(hr===document&&(hr=sa()),r.top+=hr.scrollTop,r.left+=hr.scrollLeft):hr=sa(),Om=pw(hr)}Kt=Ve.cloneNode(!0),Jr(Kt,o.ghostClass,!1),Jr(Kt,o.fallbackClass,!0),Jr(Kt,o.dragClass,!0),Bt(Kt,"transition",""),Bt(Kt,"transform",""),Bt(Kt,"box-sizing","border-box"),Bt(Kt,"margin",0),Bt(Kt,"top",r.top),Bt(Kt,"left",r.left),Bt(Kt,"width",r.width),Bt(Kt,"height",r.height),Bt(Kt,"opacity","0.8"),Bt(Kt,"position",dh?"absolute":"fixed"),Bt(Kt,"zIndex","100000"),Bt(Kt,"pointerEvents","none"),zt.ghost=Kt,i.appendChild(Kt),Bt(Kt,"transform-origin",mw/parseInt(Kt.style.width)*100+"% "+gw/parseInt(Kt.style.height)*100+"%")}},_onDragStart:function(i,r){var o=this,l=i.dataTransfer,c=o.options;if(Fr("dragStart",this,{evt:i}),zt.eventCanceled){this._onDrop();return}Fr("setupClone",this),zt.eventCanceled||(ii=jD(Ve),ii.removeAttribute("id"),ii.draggable=!1,ii.style["will-change"]="",this._hideClone(),Jr(ii,this.options.chosenClass,!1),zt.clone=ii),o.cloneId=Th(function(){Fr("clone",o),!zt.eventCanceled&&(o.options.removeCloneOnHide||Xn.insertBefore(ii,Ve),o._hideClone(),Er({sortable:o,name:"clone"}))}),!r&&Jr(Ve,c.dragClass,!0),r?(Xh=!0,o._loopId=setInterval(o._emulateDragOver,50)):(gn(document,"mouseup",o._onDrop),gn(document,"touchend",o._onDrop),gn(document,"touchcancel",o._onDrop),l&&(l.effectAllowed="move",c.setData&&c.setData.call(o,l,Ve)),An(document,"drop",o),Bt(Ve,"transform","translateZ(0)")),$l=!0,o._dragStartId=Th(o._dragStarted.bind(o,r,i)),An(document,"selectstart",o),nc=!0,pc&&Bt(document.body,"user-select","none")},_onDragOver:function(i){var r=this.el,o=i.target,l,c,d,h=this.options,f=h.group,m=zt.active,v=uh===f,E=h.sort,b=nr||m,w,A=this,y=!1;if(Dg)return;function S(q,J){Fr(q,A,la({evt:i,isOwner:v,axis:w?"vertical":"horizontal",revert:d,dragRect:l,targetRect:c,canSort:E,fromSortable:b,target:o,completed:M,onMove:function(ue,pe){return hh(Xn,r,Ve,l,ue,$i(ue),i,pe)},changed:D},J))}function T(){S("dragOverAnimationCapture"),A.captureAnimationState(),A!==b&&b.captureAnimationState()}function M(q){return S("dragOverCompleted",{insertion:q}),q&&(v?m._hideClone():m._showClone(A),A!==b&&(Jr(Ve,nr?nr.options.ghostClass:m.options.ghostClass,!1),Jr(Ve,h.ghostClass,!0)),nr!==A&&A!==zt.active?nr=A:A===zt.active&&nr&&(nr=null),b===A&&(A._ignoreWhileAnimating=o),A.animateAll(function(){S("dragOverAnimationComplete"),A._ignoreWhileAnimating=null}),A!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(o===Ve&&!Ve.animated||o===r&&!o.animated)&&(zl=null),!h.dragoverBubble&&!i.rootEl&&o!==document&&(Ve.parentNode[Qr]._isOutsideThisEl(i.target),!q&&Ys(i)),!h.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),y=!0}function D(){Xr=vo(Ve),ss=vo(Ve,h.draggable),Er({sortable:A,name:"change",toEl:r,newIndex:Xr,newDraggableIndex:ss,originalEvent:i})}if(i.preventDefault!==void 0&&i.cancelable&&i.preventDefault(),o=ra(o,h.draggable,r,!0),S("dragOver"),zt.eventCanceled)return y;if(Ve.contains(i.target)||o.animated&&o.animatingX&&o.animatingY||A._ignoreWhileAnimating===o)return M(!1);if(Xh=!1,m&&!h.disabled&&(v?E||(d=li!==Xn):nr===this||(this.lastPutMode=uh.checkPull(this,m,Ve,i))&&f.checkPut(this,m,Ve,i))){if(w=this._getDirection(i,o)==="vertical",l=$i(Ve),S("dragOverValid"),zt.eventCanceled)return y;if(d)return li=Xn,T(),this._hideClone(),S("revert"),zt.eventCanceled||(Ws?Xn.insertBefore(Ve,Ws):Xn.appendChild(Ve)),M(!0);var C=D0(r,h.draggable);if(!C||x9(i,w,this)&&!C.animated){if(C===Ve)return M(!1);if(C&&r===i.target&&(o=C),o&&(c=$i(o)),hh(Xn,r,Ve,l,o,c,i,!!o)!==!1)return T(),C&&C.nextSibling?r.insertBefore(Ve,C.nextSibling):r.appendChild(Ve),li=r,D(),M(!0)}else if(C&&D9(i,w,this)){var k=uu(r,0,h,!0);if(k===Ve)return M(!1);if(o=k,c=$i(o),hh(Xn,r,Ve,l,o,c,i,!1)!==!1)return T(),r.insertBefore(Ve,k),li=r,D(),M(!0)}else if(o.parentNode===r){c=$i(o);var I=0,R,F=Ve.parentNode!==r,j=!y9(Ve.animated&&Ve.toRect||l,o.animated&&o.toRect||c,w),Y=w?"top":"left",G=fw(o,"top","top")||fw(Ve,"top","top"),B=G?G.scrollTop:void 0;zl!==o&&(R=c[Y],bc=!1,ch=!j&&h.invertSwap||F),I=S9(i,o,c,w,j?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,ch,zl===o);var P;if(I!==0){var z=vo(Ve);do z-=I,P=li.children[z];while(P&&(Bt(P,"display")==="none"||P===Kt))}if(I===0||P===o)return M(!1);zl=o,vc=I;var $=o.nextElementSibling,N=!1;N=I===1;var V=hh(Xn,r,Ve,l,o,c,i,N);if(V!==!1)return(V===1||V===-1)&&(N=V===1),Dg=!0,setTimeout(A9,30),T(),N&&!$?r.appendChild(Ve):o.parentNode.insertBefore(Ve,N?$:o),G&&$D(G,0,B-G.scrollTop),li=Ve.parentNode,R!==void 0&&!ch&&(Sh=Math.abs(R-$i(o)[Y])),D(),M(!0)}if(r.contains(Ve))return M(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){gn(document,"mousemove",this._onTouchMove),gn(document,"touchmove",this._onTouchMove),gn(document,"pointermove",this._onTouchMove),gn(document,"dragover",Ys),gn(document,"mousemove",Ys),gn(document,"touchmove",Ys)},_offUpEvents:function(){var i=this.el.ownerDocument;gn(i,"mouseup",this._onDrop),gn(i,"touchend",this._onDrop),gn(i,"pointerup",this._onDrop),gn(i,"touchcancel",this._onDrop),gn(document,"selectstart",this)},_onDrop:function(i){var r=this.el,o=this.options;if(Xr=vo(Ve),ss=vo(Ve,o.draggable),Fr("drop",this,{evt:i}),li=Ve&&Ve.parentNode,Xr=vo(Ve),ss=vo(Ve,o.draggable),zt.eventCanceled){this._nulling();return}$l=!1,ch=!1,bc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xg(this.cloneId),xg(this._dragStartId),this.nativeDraggable&&(gn(document,"drop",this),gn(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),pc&&Bt(document.body,"user-select",""),Bt(Ve,"transform",""),i&&(nc&&(i.cancelable&&i.preventDefault(),!o.dropBubble&&i.stopPropagation()),Kt&&Kt.parentNode&&Kt.parentNode.removeChild(Kt),(Xn===li||nr&&nr.lastPutMode!=="clone")&&ii&&ii.parentNode&&ii.parentNode.removeChild(ii),Ve&&(this.nativeDraggable&&gn(Ve,"dragend",this),Im(Ve),Ve.style["will-change"]="",nc&&!$l&&Jr(Ve,nr?nr.options.ghostClass:this.options.ghostClass,!1),Jr(Ve,this.options.chosenClass,!1),Er({sortable:this,name:"unchoose",toEl:li,newIndex:null,newDraggableIndex:null,originalEvent:i}),Xn!==li?(Xr>=0&&(Er({rootEl:li,name:"add",toEl:li,fromEl:Xn,originalEvent:i}),Er({sortable:this,name:"remove",toEl:li,originalEvent:i}),Er({rootEl:li,name:"sort",toEl:li,fromEl:Xn,originalEvent:i}),Er({sortable:this,name:"sort",toEl:li,originalEvent:i})),nr&&nr.save()):Xr!==Kl&&Xr>=0&&(Er({sortable:this,name:"update",toEl:li,originalEvent:i}),Er({sortable:this,name:"sort",toEl:li,originalEvent:i})),zt.active&&((Xr==null||Xr===-1)&&(Xr=Kl,ss=gc),Er({sortable:this,name:"end",toEl:li,originalEvent:i}),this.save()))),this._nulling()},_nulling:function(){Fr("nulling",this),Xn=Ve=li=Kt=Ws=ii=xh=cs=Us=Oo=nc=Xr=ss=Kl=gc=zl=vc=nr=uh=zt.dragged=zt.ghost=zt.clone=zt.active=null,Qh.forEach(function(i){i.checked=!0}),Qh.length=Mm=km=0},handleEvent:function(i){switch(i.type){case"drop":case"dragend":this._onDrop(i);break;case"dragenter":case"dragover":Ve&&(this._onDragOver(i),w9(i));break;case"selectstart":i.preventDefault();break}},toArray:function(){for(var i=[],r,o=this.el.children,l=0,c=o.length,d=this.options;l<c;l++)r=o[l],ra(r,d.draggable,this.el,!1)&&i.push(r.getAttribute(d.dataIdAttr)||C9(r));return i},sort:function(i,r){var o={},l=this.el;this.toArray().forEach(function(c,d){var h=l.children[d];ra(h,this.options.draggable,l,!1)&&(o[c]=h)},this),r&&this.captureAnimationState(),i.forEach(function(c){o[c]&&(l.removeChild(o[c]),l.appendChild(o[c]))}),r&&this.animateAll()},save:function(){var i=this.options.store;i&&i.set&&i.set(this)},closest:function(i,r){return ra(i,r||this.options.draggable,this.el,!1)},option:function(i,r){var o=this.options;if(r===void 0)return o[i];var l=Lc.modifyOption(this,i,r);typeof l<"u"?o[i]=l:o[i]=r,i==="group"&&UD(o)},destroy:function(){Fr("destroy",this);var i=this.el;i[Qr]=null,gn(i,"mousedown",this._onTapStart),gn(i,"touchstart",this._onTapStart),gn(i,"pointerdown",this._onTapStart),this.nativeDraggable&&(gn(i,"dragover",this),gn(i,"dragenter",this)),Array.prototype.forEach.call(i.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Zh.splice(Zh.indexOf(this.el),1),this.el=i=null},_hideClone:function(){if(!cs){if(Fr("hideClone",this),zt.eventCanceled)return;Bt(ii,"display","none"),this.options.removeCloneOnHide&&ii.parentNode&&ii.parentNode.removeChild(ii),cs=!0}},_showClone:function(i){if(i.lastPutMode!=="clone"){this._hideClone();return}if(cs){if(Fr("showClone",this),zt.eventCanceled)return;Ve.parentNode==Xn&&!this.options.group.revertClone?Xn.insertBefore(ii,Ve):Ws?Xn.insertBefore(ii,Ws):Xn.appendChild(ii),this.options.group.revertClone&&this.animate(Ve,ii),Bt(ii,"display",""),cs=!1}}};function w9(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function hh(t,i,r,o,l,c,d,h){var f,m=t[Qr],v=m.options.onMove,E;return window.CustomEvent&&!Ra&&!Rc?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=i,f.from=t,f.dragged=r,f.draggedRect=o,f.related=l||i,f.relatedRect=c||$i(i),f.willInsertAfter=h,f.originalEvent=d,t.dispatchEvent(f),v&&(E=v.call(m,f,d)),E}function Im(t){t.draggable=!1}function A9(){Dg=!1}function D9(t,i,r){var o=$i(uu(r.el,0,r.options,!0)),l=10;return i?t.clientX<o.left-l||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-l||t.clientY<o.bottom&&t.clientX<o.left}function x9(t,i,r){var o=$i(D0(r.el,r.options.draggable)),l=10;return i?t.clientX>o.right+l||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+l}function S9(t,i,r,o,l,c,d,h){var f=o?t.clientY:t.clientX,m=o?r.height:r.width,v=o?r.top:r.left,E=o?r.bottom:r.right,b=!1;if(!d){if(h&&Sh<m*l){if(!bc&&(vc===1?f>v+m*c/2:f<E-m*c/2)&&(bc=!0),bc)b=!0;else if(vc===1?f<v+Sh:f>E-Sh)return-vc}else if(f>v+m*(1-l)/2&&f<E-m*(1-l)/2)return T9(i)}return b=b||d,b&&(f<v+m*c/2||f>E-m*c/2)?f>v+m/2?1:-1:0}function T9(t){return vo(Ve)<vo(t)?1:-1}function C9(t){for(var i=t.tagName+t.className+t.src+t.href+t.textContent,r=i.length,o=0;r--;)o+=i.charCodeAt(r);return o.toString(36)}function M9(t){Qh.length=0;for(var i=t.getElementsByTagName("input"),r=i.length;r--;){var o=i[r];o.checked&&Qh.push(o)}}function Th(t){return setTimeout(t,0)}function xg(t){return clearTimeout(t)}Cf&&An(document,"touchmove",function(t){(zt.active||$l)&&t.cancelable&&t.preventDefault()});zt.utils={on:An,off:gn,css:Bt,find:BD,is:function(i,r){return!!ra(i,r,i,!1)},extend:d9,throttle:zD,closest:ra,toggleClass:Jr,clone:jD,index:vo,nextTick:Th,cancelNextTick:xg,detectDirection:VD,getChild:uu};zt.get=function(t){return t[Qr]};zt.mount=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];i[0].constructor===Array&&(i=i[0]),i.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(zt.utils=la(la({},zt.utils),o.utils)),Lc.mount(o)})};zt.create=function(t,i){return new zt(t,i)};zt.version=l9;var Ai=[],ic,Sg,Tg=!1,Rm,Lm,ef,rc;function k9(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this))}return t.prototype={dragStarted:function(r){var o=r.originalEvent;this.sortable.nativeDraggable?An(document,"dragover",this._handleAutoScroll):this.options.supportPointer?An(document,"pointermove",this._handleFallbackAutoScroll):o.touches?An(document,"touchmove",this._handleFallbackAutoScroll):An(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var o=r.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?gn(document,"dragover",this._handleAutoScroll):(gn(document,"pointermove",this._handleFallbackAutoScroll),gn(document,"touchmove",this._handleFallbackAutoScroll),gn(document,"mousemove",this._handleFallbackAutoScroll)),bw(),Ch(),h9()},nulling:function(){ef=Sg=ic=Tg=rc=Rm=Lm=null,Ai.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,o){var l=this,c=(r.touches?r.touches[0]:r).clientX,d=(r.touches?r.touches[0]:r).clientY,h=document.elementFromPoint(c,d);if(ef=r,o||this.options.forceAutoScrollFallback||Rc||Ra||pc){Fm(r,this.options,h,o);var f=fs(h,!0);Tg&&(!rc||c!==Rm||d!==Lm)&&(rc&&bw(),rc=setInterval(function(){var m=fs(document.elementFromPoint(c,d),!0);m!==f&&(f=m,Ch()),Fm(r,l.options,m,o)},10),Rm=c,Lm=d)}else{if(!this.options.bubbleScroll||fs(h,!0)===sa()){Ch();return}Fm(r,this.options,fs(h,!1),!1)}}},Ca(t,{pluginName:"scroll",initializeByDefault:!0})}function Ch(){Ai.forEach(function(t){clearInterval(t.pid)}),Ai=[]}function bw(){clearInterval(rc)}var Fm=zD(function(t,i,r,o){if(i.scroll){var l=(t.touches?t.touches[0]:t).clientX,c=(t.touches?t.touches[0]:t).clientY,d=i.scrollSensitivity,h=i.scrollSpeed,f=sa(),m=!1,v;Sg!==r&&(Sg=r,Ch(),ic=i.scroll,v=i.scrollFn,ic===!0&&(ic=fs(r,!0)));var E=0,b=ic;do{var w=b,A=$i(w),y=A.top,S=A.bottom,T=A.left,M=A.right,D=A.width,C=A.height,k=void 0,I=void 0,R=w.scrollWidth,F=w.scrollHeight,j=Bt(w),Y=w.scrollLeft,G=w.scrollTop;w===f?(k=D<R&&(j.overflowX==="auto"||j.overflowX==="scroll"||j.overflowX==="visible"),I=C<F&&(j.overflowY==="auto"||j.overflowY==="scroll"||j.overflowY==="visible")):(k=D<R&&(j.overflowX==="auto"||j.overflowX==="scroll"),I=C<F&&(j.overflowY==="auto"||j.overflowY==="scroll"));var B=k&&(Math.abs(M-l)<=d&&Y+D<R)-(Math.abs(T-l)<=d&&!!Y),P=I&&(Math.abs(S-c)<=d&&G+C<F)-(Math.abs(y-c)<=d&&!!G);if(!Ai[E])for(var z=0;z<=E;z++)Ai[z]||(Ai[z]={});(Ai[E].vx!=B||Ai[E].vy!=P||Ai[E].el!==w)&&(Ai[E].el=w,Ai[E].vx=B,Ai[E].vy=P,clearInterval(Ai[E].pid),(B!=0||P!=0)&&(m=!0,Ai[E].pid=setInterval(function(){o&&this.layer===0&&zt.active._onTouchMove(ef);var $=Ai[this.layer].vy?Ai[this.layer].vy*h:0,N=Ai[this.layer].vx?Ai[this.layer].vx*h:0;typeof v=="function"&&v.call(zt.dragged.parentNode[Qr],N,$,t,ef,Ai[this.layer].el)!=="continue"||$D(Ai[this.layer].el,N,$)}.bind({layer:E}),24))),E++}while(i.bubbleScroll&&b!==f&&(b=fs(b,!1)));Tg=m}},30),WD=function(i){var r=i.originalEvent,o=i.putSortable,l=i.dragEl,c=i.activeSortable,d=i.dispatchSortableEvent,h=i.hideGhostForTarget,f=i.unhideGhostForTarget;if(r){var m=o||c;h();var v=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,E=document.elementFromPoint(v.clientX,v.clientY);f(),m&&!m.el.contains(E)&&(d("spill"),this.onSpill({dragEl:l,putSortable:o}))}};function x0(){}x0.prototype={startIndex:null,dragStart:function(i){var r=i.oldDraggableIndex;this.startIndex=r},onSpill:function(i){var r=i.dragEl,o=i.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var l=uu(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(r,l):this.sortable.el.appendChild(r),this.sortable.animateAll(),o&&o.animateAll()},drop:WD};Ca(x0,{pluginName:"revertOnSpill"});function S0(){}S0.prototype={onSpill:function(i){var r=i.dragEl,o=i.putSortable,l=o||this.sortable;l.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),l.animateAll()},drop:WD};Ca(S0,{pluginName:"removeOnSpill"});zt.mount(new k9);zt.mount(S0,x0);var T0=zt;window.Sortable=T0;window.Livewire.directive("sortable",t=>{t.sortable=T0.create(t,{draggable:"[wire\\:sortable\\.item]",handle:"[wire\\:sortable\\.handle]",dataIdAttr:"wire:sortable.item"})});var O9=t=>{t.directive("sortable",i=>{i.sortable=T0.create(i,{draggable:"[x-sortable-item]",handle:"[x-sortable-handle]",dataIdAttr:"x-sortable-item"})})};function ua(t){return t.split("-")[0]}function ol(t){return t.split("-")[1]}function Eu(t){return["top","bottom"].includes(ua(t))?"x":"y"}function C0(t){return t==="y"?"height":"width"}function yw(t,i,r){let{reference:o,floating:l}=t;const c=o.x+o.width/2-l.width/2,d=o.y+o.height/2-l.height/2,h=Eu(i),f=C0(h),m=o[f]/2-l[f]/2,v=ua(i),E=h==="x";let b;switch(v){case"top":b={x:c,y:o.y-l.height};break;case"bottom":b={x:c,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:d};break;case"left":b={x:o.x-l.width,y:d};break;default:b={x:o.x,y:o.y}}switch(ol(i)){case"start":b[h]-=m*(r&&E?-1:1);break;case"end":b[h]+=m*(r&&E?-1:1);break}return b}var I9=async(t,i,r)=>{const{placement:o="bottom",strategy:l="absolute",middleware:c=[],platform:d}=r,h=await(d.isRTL==null?void 0:d.isRTL(i));if(d==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),c.filter(A=>{let{name:y}=A;return y==="autoPlacement"||y==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));let f=await d.getElementRects({reference:t,floating:i,strategy:l}),{x:m,y:v}=yw(f,o,h),E=o,b={},w=0;for(let A=0;A<c.length;A++){if(w++,w>100)throw new Error(["Floating UI: The middleware lifecycle appears to be","running in an infinite loop. This is usually caused by a `reset`","continually being returned without a break condition."].join(" "));const{name:y,fn:S}=c[A],{x:T,y:M,data:D,reset:C}=await S({x:m,y:v,initialPlacement:o,placement:E,strategy:l,middlewareData:b,rects:f,platform:d,elements:{reference:t,floating:i}});if(m=T??m,v=M??v,b={...b,[y]:{...b[y],...D}},C){typeof C=="object"&&(C.placement&&(E=C.placement),C.rects&&(f=C.rects===!0?await d.getElementRects({reference:t,floating:i,strategy:l}):C.rects),{x:m,y:v}=yw(f,E,h)),A=-1;continue}}return{x:m,y:v,placement:E,strategy:l,middlewareData:b}};function R9(t){return{top:0,right:0,bottom:0,left:0,...t}}function M0(t){return typeof t!="number"?R9(t):{top:t,right:t,bottom:t,left:t}}function xc(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function cu(t,i){var r;i===void 0&&(i={});const{x:o,y:l,platform:c,rects:d,elements:h,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:E="floating",altBoundary:b=!1,padding:w=0}=i,A=M0(w),S=h[b?E==="floating"?"reference":"floating":E],T=xc(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(S)))==null||r?S:S.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:m,rootBoundary:v,strategy:f})),M=xc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({rect:E==="floating"?{...d.floating,x:o,y:l}:d.reference,offsetParent:await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),strategy:f}):d[E]);return{top:T.top-M.top+A.top,bottom:M.bottom-T.bottom+A.bottom,left:T.left-M.left+A.left,right:M.right-T.right+A.right}}var qD=Math.min,ls=Math.max;function Cg(t,i,r){return ls(t,qD(i,r))}var KD=t=>({name:"arrow",options:t,async fn(i){const{element:r,padding:o=0}=t??{},{x:l,y:c,placement:d,rects:h,platform:f}=i;if(r==null)return console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const m=M0(o),v={x:l,y:c},E=Eu(d),b=C0(E),w=await f.getDimensions(r),A=E==="y"?"top":"left",y=E==="y"?"bottom":"right",S=h.reference[b]+h.reference[E]-v[E]-h.floating[b],T=v[E]-h.reference[E],M=await(f.getOffsetParent==null?void 0:f.getOffsetParent(r)),D=M?E==="y"?M.clientHeight||0:M.clientWidth||0:0,C=S/2-T/2,k=m[A],I=D-w[b]-m[y],R=D/2-w[b]/2+C,F=Cg(k,R,I);return{data:{[E]:F,centerOffset:R-F}}}}),L9={left:"right",right:"left",bottom:"top",top:"bottom"};function tf(t){return t.replace(/left|right|bottom|top/g,i=>L9[i])}function JD(t,i,r){r===void 0&&(r=!1);const o=ol(t),l=Eu(t),c=C0(l);let d=l==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return i.reference[c]>i.floating[c]&&(d=tf(d)),{main:d,cross:tf(d)}}var F9={start:"end",end:"start"};function Mg(t){return t.replace(/start|end/g,i=>F9[i])}var XD=["top","right","bottom","left"],N9=XD.reduce((t,i)=>t.concat(i,i+"-start",i+"-end"),[]);function P9(t,i,r){return(t?[...r.filter(l=>ol(l)===t),...r.filter(l=>ol(l)!==t)]:r.filter(l=>ua(l)===l)).filter(l=>t?ol(l)===t||(i?Mg(l)!==l:!1):!0)}var k0=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(i){var r,o,l,c,d;const{x:h,y:f,rects:m,middlewareData:v,placement:E,platform:b,elements:w}=i,{alignment:A=null,allowedPlacements:y=N9,autoAlignment:S=!0,...T}=t,M=P9(A,S,y),D=await cu(i,T),C=(r=(o=v.autoPlacement)==null?void 0:o.index)!=null?r:0,k=M[C];if(k==null)return{};const{main:I,cross:R}=JD(k,m,await(b.isRTL==null?void 0:b.isRTL(w.floating)));if(E!==k)return{x:h,y:f,reset:{placement:M[0]}};const F=[D[ua(k)],D[I],D[R]],j=[...(l=(c=v.autoPlacement)==null?void 0:c.overflows)!=null?l:[],{placement:k,overflows:F}],Y=M[C+1];if(Y)return{data:{index:C+1,overflows:j},reset:{placement:Y}};const G=j.slice().sort((z,$)=>z.overflows[0]-$.overflows[0]),B=(d=G.find(z=>{let{overflows:$}=z;return $.every(N=>N<=0)}))==null?void 0:d.placement,P=B??G[0].placement;return P!==E?{data:{index:C+1,overflows:j},reset:{placement:P}}:{}}}};function B9(t){const i=tf(t);return[Mg(t),i,Mg(i)]}var ZD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(i){var r;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:f}=i,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:b="bestFit",flipAlignment:w=!0,...A}=t,y=ua(o),T=E||(y===d||!w?[tf(d)]:B9(d)),M=[d,...T],D=await cu(i,A),C=[];let k=((r=l.flip)==null?void 0:r.overflows)||[];if(m&&C.push(D[y]),v){const{main:j,cross:Y}=JD(o,c,await(h.isRTL==null?void 0:h.isRTL(f.floating)));C.push(D[j],D[Y])}if(k=[...k,{placement:o,overflows:C}],!C.every(j=>j<=0)){var I,R;const j=((I=(R=l.flip)==null?void 0:R.index)!=null?I:0)+1,Y=M[j];if(Y)return{data:{index:j,overflows:k},reset:{placement:Y}};let G="bottom";switch(b){case"bestFit":{var F;const B=(F=k.map(P=>[P,P.overflows.filter(z=>z>0).reduce((z,$)=>z+$,0)]).sort((P,z)=>P[1]-z[1])[0])==null?void 0:F[0].placement;B&&(G=B);break}case"initialPlacement":G=d;break}if(o!==G)return{reset:{placement:G}}}return{}}}};function Ew(t,i){return{top:t.top-i.height,right:t.right-i.width,bottom:t.bottom-i.height,left:t.left-i.width}}function _w(t){return XD.some(i=>t[i]>=0)}var QD=function(t){let{strategy:i="referenceHidden",...r}=t===void 0?{}:t;return{name:"hide",async fn(o){const{rects:l}=o;switch(i){case"referenceHidden":{const c=await cu(o,{...r,elementContext:"reference"}),d=Ew(c,l.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:_w(d)}}}case"escaped":{const c=await cu(o,{...r,altBoundary:!0}),d=Ew(c,l.floating);return{data:{escapedOffsets:d,escaped:_w(d)}}}default:return{}}}}};function z9(t,i,r,o){o===void 0&&(o=!1);const l=ua(t),c=ol(t),d=Eu(t)==="x",h=["left","top"].includes(l)?-1:1,f=o&&d?-1:1,m=typeof r=="function"?r({...i,placement:t}):r;let{mainAxis:v,crossAxis:E,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return c&&typeof b=="number"&&(E=c==="end"?b*-1:b),d?{x:E*f,y:v*h}:{x:v*h,y:E*f}}var ex=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(i){const{x:r,y:o,placement:l,rects:c,platform:d,elements:h}=i,f=z9(l,c,t,await(d.isRTL==null?void 0:d.isRTL(h.floating)));return{x:r+f.x,y:o+f.y,data:f}}}};function $9(t){return t==="x"?"y":"x"}var tx=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(i){const{x:r,y:o,placement:l}=i,{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:S=>{let{x:T,y:M}=S;return{x:T,y:M}}},...f}=t,m={x:r,y:o},v=await cu(i,f),E=Eu(ua(l)),b=$9(E);let w=m[E],A=m[b];if(c){const S=E==="y"?"top":"left",T=E==="y"?"bottom":"right",M=w+v[S],D=w-v[T];w=Cg(M,w,D)}if(d){const S=b==="y"?"top":"left",T=b==="y"?"bottom":"right",M=A+v[S],D=A-v[T];A=Cg(M,A,D)}const y=h.fn({...i,[E]:w,[b]:A});return{...y,data:{x:y.x-r,y:y.y-o}}}}},nx=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(i){const{placement:r,rects:o,platform:l,elements:c}=i,{apply:d,...h}=t,f=await cu(i,h),m=ua(r),v=ol(r);let E,b;m==="top"||m==="bottom"?(E=m,b=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(b=m,E=v==="end"?"top":"bottom");const w=ls(f.left,0),A=ls(f.right,0),y=ls(f.top,0),S=ls(f.bottom,0),T={height:o.floating.height-(["left","right"].includes(r)?2*(y!==0||S!==0?y+S:ls(f.top,f.bottom)):f[E]),width:o.floating.width-(["top","bottom"].includes(r)?2*(w!==0||A!==0?w+A:ls(f.left,f.right)):f[b])},M=await l.getDimensions(c.floating);d?.({...T,...o});const D=await l.getDimensions(c.floating);return M.width!==D.width||M.height!==D.height?{reset:{rects:!0}}:{}}}},ix=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(i){var r;const{placement:o,elements:l,rects:c,platform:d,strategy:h}=i,{padding:f=2,x:m,y:v}=t,E=xc(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({rect:c.reference,offsetParent:await(d.getOffsetParent==null?void 0:d.getOffsetParent(l.floating)),strategy:h}):c.reference),b=(r=await(d.getClientRects==null?void 0:d.getClientRects(l.reference)))!=null?r:[],w=M0(f);function A(){if(b.length===2&&b[0].left>b[1].right&&m!=null&&v!=null){var S;return(S=b.find(T=>m>T.left-w.left&&m<T.right+w.right&&v>T.top-w.top&&v<T.bottom+w.bottom))!=null?S:E}if(b.length>=2){if(Eu(o)==="x"){const G=b[0],B=b[b.length-1],P=ua(o)==="top",z=G.top,$=B.bottom,N=P?G.left:B.left,V=P?G.right:B.right,q=V-N,J=$-z;return{top:z,bottom:$,left:N,right:V,width:q,height:J,x:N,y:z}}const T=ua(o)==="left",M=ls(...b.map(G=>G.right)),D=qD(...b.map(G=>G.left)),C=b.filter(G=>T?G.left===D:G.right===M),k=C[0].top,I=C[C.length-1].bottom,R=D,F=M,j=F-R,Y=I-k;return{top:k,bottom:I,left:R,right:F,width:j,height:Y,x:R,y:k}}return E}const y=await d.getElementRects({reference:{getBoundingClientRect:A},floating:l.floating,strategy:h});return c.reference.x!==y.reference.x||c.reference.y!==y.reference.y||c.reference.width!==y.reference.width||c.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}};function rx(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function La(t){if(t==null)return window;if(!rx(t)){const i=t.ownerDocument;return i&&i.defaultView||window}return t}function Fc(t){return La(t).getComputedStyle(t)}function Ma(t){return rx(t)?"":t?(t.nodeName||"").toLowerCase():""}function ca(t){return t instanceof La(t).HTMLElement}function ys(t){return t instanceof La(t).Element}function j9(t){return t instanceof La(t).Node}function O0(t){if(typeof ShadowRoot>"u")return!1;const i=La(t).ShadowRoot;return t instanceof i||t instanceof ShadowRoot}function Mf(t){const{overflow:i,overflowX:r,overflowY:o}=Fc(t);return/auto|scroll|overlay|hidden/.test(i+o+r)}function H9(t){return["table","td","th"].includes(Ma(t))}function ox(t){const i=navigator.userAgent.toLowerCase().includes("firefox"),r=Fc(t);return r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].includes(r.willChange)||i&&r.willChange==="filter"||i&&(r.filter?r.filter!=="none":!1)}function ax(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}var ww=Math.min,yc=Math.max,nf=Math.round;function ka(t,i,r){var o,l,c,d;i===void 0&&(i=!1),r===void 0&&(r=!1);const h=t.getBoundingClientRect();let f=1,m=1;i&&ca(t)&&(f=t.offsetWidth>0&&nf(h.width)/t.offsetWidth||1,m=t.offsetHeight>0&&nf(h.height)/t.offsetHeight||1);const v=ys(t)?La(t):window,E=!ax()&&r,b=(h.left+(E&&(o=(l=v.visualViewport)==null?void 0:l.offsetLeft)!=null?o:0))/f,w=(h.top+(E&&(c=(d=v.visualViewport)==null?void 0:d.offsetTop)!=null?c:0))/m,A=h.width/f,y=h.height/m;return{width:A,height:y,top:w,right:b+A,bottom:w+y,left:b,x:b,y:w}}function _s(t){return((j9(t)?t.ownerDocument:t.document)||window.document).documentElement}function kf(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function sx(t){return ka(_s(t)).left+kf(t).scrollLeft}function V9(t){const i=ka(t);return nf(i.width)!==t.offsetWidth||nf(i.height)!==t.offsetHeight}function U9(t,i,r){const o=ca(i),l=_s(i),c=ka(t,o&&V9(i),r==="fixed");let d={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if(o||!o&&r!=="fixed")if((Ma(i)!=="body"||Mf(l))&&(d=kf(i)),ca(i)){const f=ka(i,!0);h.x=f.x+i.clientLeft,h.y=f.y+i.clientTop}else l&&(h.x=sx(l));return{x:c.left+d.scrollLeft-h.x,y:c.top+d.scrollTop-h.y,width:c.width,height:c.height}}function lx(t){return Ma(t)==="html"?t:t.assignedSlot||t.parentNode||(O0(t)?t.host:null)||_s(t)}function Aw(t){return!ca(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function Y9(t){let i=lx(t);for(O0(i)&&(i=i.host);ca(i)&&!["html","body"].includes(Ma(i));){if(ox(i))return i;i=i.parentNode}return null}function kg(t){const i=La(t);let r=Aw(t);for(;r&&H9(r)&&getComputedStyle(r).position==="static";)r=Aw(r);return r&&(Ma(r)==="html"||Ma(r)==="body"&&getComputedStyle(r).position==="static"&&!ox(r))?i:r||Y9(t)||i}function Dw(t){if(ca(t))return{width:t.offsetWidth,height:t.offsetHeight};const i=ka(t);return{width:i.width,height:i.height}}function G9(t){let{rect:i,offsetParent:r,strategy:o}=t;const l=ca(r),c=_s(r);if(r===c)return i;let d={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if((l||!l&&o!=="fixed")&&((Ma(r)!=="body"||Mf(c))&&(d=kf(r)),ca(r))){const f=ka(r,!0);h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{...i,x:i.x-d.scrollLeft+h.x,y:i.y-d.scrollTop+h.y}}function W9(t,i){const r=La(t),o=_s(t),l=r.visualViewport;let c=o.clientWidth,d=o.clientHeight,h=0,f=0;if(l){c=l.width,d=l.height;const m=ax();(m||!m&&i==="fixed")&&(h=l.offsetLeft,f=l.offsetTop)}return{width:c,height:d,x:h,y:f}}function q9(t){var i;const r=_s(t),o=kf(t),l=(i=t.ownerDocument)==null?void 0:i.body,c=yc(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=yc(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0);let h=-o.scrollLeft+sx(t);const f=-o.scrollTop;return Fc(l||r).direction==="rtl"&&(h+=yc(r.clientWidth,l?l.clientWidth:0)-c),{width:c,height:d,x:h,y:f}}function ux(t){const i=lx(t);return["html","body","#document"].includes(Ma(i))?t.ownerDocument.body:ca(i)&&Mf(i)?i:ux(i)}function rf(t,i){var r;i===void 0&&(i=[]);const o=ux(t),l=o===((r=t.ownerDocument)==null?void 0:r.body),c=La(o),d=l?[c].concat(c.visualViewport||[],Mf(o)?o:[]):o,h=i.concat(d);return l?h:h.concat(rf(d))}function K9(t,i){const r=i==null||i.getRootNode==null?void 0:i.getRootNode();if(t!=null&&t.contains(i))return!0;if(r&&O0(r)){let o=i;do{if(o&&t===o)return!0;o=o.parentNode||o.host}while(o)}return!1}function J9(t,i){const r=ka(t,!1,i==="fixed"),o=r.top+t.clientTop,l=r.left+t.clientLeft;return{top:o,left:l,x:l,y:o,right:l+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function xw(t,i,r){return i==="viewport"?xc(W9(t,r)):ys(i)?J9(i,r):xc(q9(_s(t)))}function X9(t){const i=rf(t),o=["absolute","fixed"].includes(Fc(t).position)&&ca(t)?kg(t):t;return ys(o)?i.filter(l=>ys(l)&&K9(l,o)&&Ma(l)!=="body"):[]}function Z9(t){let{element:i,boundary:r,rootBoundary:o,strategy:l}=t;const d=[...r==="clippingAncestors"?X9(i):[].concat(r),o],h=d[0],f=d.reduce((m,v)=>{const E=xw(i,v,l);return m.top=yc(E.top,m.top),m.right=ww(E.right,m.right),m.bottom=ww(E.bottom,m.bottom),m.left=yc(E.left,m.left),m},xw(i,h,l));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}var Q9={getClippingRect:Z9,convertOffsetParentRelativeRectToViewportRelativeRect:G9,isElement:ys,getDimensions:Dw,getOffsetParent:kg,getDocumentElement:_s,getElementRects:t=>{let{reference:i,floating:r,strategy:o}=t;return{reference:U9(i,kg(r),o),floating:{...Dw(r),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Fc(t).direction==="rtl"};function Sw(t,i,r,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=!0,animationFrame:h=!1}=o;let f=!1;const m=l&&!h,v=c&&!h,E=d&&!h,b=m||v?[...ys(t)?rf(t):[],...rf(i)]:[];b.forEach(T=>{m&&T.addEventListener("scroll",r,{passive:!0}),v&&T.addEventListener("resize",r)});let w=null;E&&(w=new ResizeObserver(r),ys(t)&&w.observe(t),w.observe(i));let A,y=h?ka(t):null;h&&S();function S(){if(f)return;const T=ka(t);y&&(T.x!==y.x||T.y!==y.y||T.width!==y.width||T.height!==y.height)&&r(),y=T,A=requestAnimationFrame(S)}return()=>{var T;f=!0,b.forEach(M=>{m&&M.removeEventListener("scroll",r),v&&M.removeEventListener("resize",r)}),(T=w)==null||T.disconnect(),w=null,h&&cancelAnimationFrame(A)}}var Tw=(t,i,r)=>I9(t,i,{platform:Q9,...r}),e7=t=>{const i={placement:"bottom",middleware:[]},r=Object.keys(t),o=l=>t[l];return r.includes("offset")&&i.middleware.push(ex(o("offset"))),r.includes("placement")&&(i.placement=o("placement")),r.includes("autoPlacement")&&!r.includes("flip")&&i.middleware.push(k0(o("autoPlacement"))),r.includes("flip")&&i.middleware.push(ZD(o("flip"))),r.includes("shift")&&i.middleware.push(tx(o("shift"))),r.includes("inline")&&i.middleware.push(ix(o("inline"))),r.includes("arrow")&&i.middleware.push(KD(o("arrow"))),r.includes("hide")&&i.middleware.push(QD(o("hide"))),r.includes("size")&&i.middleware.push(nx(o("size"))),i},t7=(t,i)=>{const r={component:{trap:!1},float:{placement:"bottom",strategy:"absolute",middleware:[]}},o=l=>t[t.indexOf(l)+1];return t.includes("trap")&&(r.component.trap=!0),t.includes("teleport")&&(r.float.strategy="fixed"),t.includes("offset")&&r.float.middleware.push(ex(i.offset||10)),t.includes("placement")&&(r.float.placement=o("placement")),t.includes("autoPlacement")&&!t.includes("flip")&&r.float.middleware.push(k0(i.autoPlacement)),t.includes("flip")&&r.float.middleware.push(ZD(i.flip)),t.includes("shift")&&r.float.middleware.push(tx(i.shift)),t.includes("inline")&&r.float.middleware.push(ix(i.inline)),t.includes("arrow")&&r.float.middleware.push(KD(i.arrow)),t.includes("hide")&&r.float.middleware.push(QD(i.hide)),t.includes("size")&&r.float.middleware.push(nx(i.size)),r},n7=t=>{var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),r="";t||(t=Math.floor(Math.random()*i.length));for(var o=0;o<t;o++)r+=i[Math.floor(Math.random()*i.length)];return r},i7=[],r7=[],o7=[];function a7(t,i){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,o])=>{(i===void 0||i.includes(r))&&(o.forEach(l=>l()),delete t._x_attributeCleanups[r])})}new MutationObserver(s7);function Cw(t){return t()}function s7(t){let i=[],r=[],o=new Map,l=new Map;for(let c=0;c<t.length;c++)if(!t[c].target._x_ignoreMutationObserver&&(t[c].type==="childList"&&(t[c].addedNodes.forEach(d=>d.nodeType===1&&i.push(d)),t[c].removedNodes.forEach(d=>d.nodeType===1&&r.push(d))),t[c].type==="attributes")){let d=t[c].target,h=t[c].attributeName,f=t[c].oldValue,m=()=>{o.has(d)||o.set(d,[]),o.get(d).push({name:h,value:d.getAttribute(h)})},v=()=>{l.has(d)||l.set(d,[]),l.get(d).push(h)};d.hasAttribute(h)&&f===null?m():d.hasAttribute(h)?(v(),m()):v()}l.forEach((c,d)=>{a7(d,c)}),o.forEach((c,d)=>{i7.forEach(h=>h(d,c))});for(let c of r)if(!i.includes(c)&&(r7.forEach(d=>d(c)),c._x_cleanups))for(;c._x_cleanups.length;)c._x_cleanups.pop()();i.forEach(c=>{c._x_ignoreSelf=!0,c._x_ignore=!0});for(let c of i)r.includes(c)||c.isConnected&&(delete c._x_ignoreSelf,delete c._x_ignore,o7.forEach(d=>d(c)),c._x_ignore=!0,c._x_ignoreSelf=!0);i.forEach(c=>{delete c._x_ignoreSelf,delete c._x_ignore}),i=null,r=null,o=null,l=null}function l7(t,i=()=>{}){let r=!1;return function(){r?i.apply(this,arguments):(r=!0,t.apply(this,arguments))}}function u7(t){const i={dismissable:!0,trap:!1};function r(c,d,h=null){if(d){if(d.hasAttribute("aria-expanded")||d.setAttribute("aria-expanded",!1),h.hasAttribute("id"))d.setAttribute("aria-controls",h.getAttribute("id"));else{const f=`panel-${n7(8)}`;d.setAttribute("aria-controls",f),h.setAttribute("id",f)}h.setAttribute("aria-modal",!0),h.setAttribute("role","dialog")}}const o=document.querySelectorAll('[\\@click^="$float"]'),l=document.querySelectorAll('[x-on\\:click^="$float"]');[...o,...l].forEach(c=>{const d=c.parentElement.closest("[x-data]"),h=d.querySelector('[x-ref="panel"]');r(d,c,h)}),t.magic("float",c=>(d={},h={})=>{const f={...i,...h},m=Object.keys(d).length>0?e7(d):{middleware:[k0()]},v=c,E=c.parentElement.closest("[x-data]"),b=E.querySelector('[x-ref="panel"]');function w(){return b.style.display=="block"}function A(){b.style.display="",v.setAttribute("aria-expanded",!1),f.trap&&b.setAttribute("x-trap",!1),Sw(c,b,T)}function y(){b.style.display="block",v.setAttribute("aria-expanded",!0),f.trap&&b.setAttribute("x-trap",!0),T()}function S(){w()?A():y()}async function T(){return await Tw(c,b,m).then(({middlewareData:M,placement:D,x:C,y:k})=>{if(M.arrow){const I=M.arrow?.x,R=M.arrow?.y,F=m.middleware.filter(Y=>Y.name=="arrow")[0].options.element,j={top:"bottom",right:"left",bottom:"top",left:"right"}[D.split("-")[0]];Object.assign(F.style,{left:I!=null?`${I}px`:"",top:R!=null?`${R}px`:"",right:"",bottom:"",[j]:"-4px"})}if(M.hide){const{referenceHidden:I}=M.hide;Object.assign(b.style,{visibility:I?"hidden":"visible"})}Object.assign(b.style,{left:`${C}px`,top:`${k}px`})})}f.dismissable&&(window.addEventListener("click",M=>{!E.contains(M.target)&&w()&&S()}),window.addEventListener("keydown",M=>{M.key==="Escape"&&w()&&S()},!0)),S()}),t.directive("float",(c,{modifiers:d,expression:h},{evaluate:f,effect:m})=>{const v=h?f(h):{},E=d.length>0?t7(d,v):{};let b=null;E.float.strategy=="fixed"&&(c.style.position="fixed");const w=j=>c.parentElement&&!c.parentElement.closest("[x-data]").contains(j.target)?c.close():null,A=j=>j.key==="Escape"?c.close():null,y=c.getAttribute("x-ref"),S=c.parentElement.closest("[x-data]"),T=S.querySelectorAll(`[\\@click^="$refs.${y}"]`),M=S.querySelectorAll(`[x-on\\:click^="$refs.${y}"]`);c.style.setProperty("display","none"),r(S,[...T,...M][0],c),c._x_isShown=!1,c.trigger=null,c._x_doHide||(c._x_doHide=()=>{Cw(()=>{c.style.setProperty("display","none",d.includes("important")?"important":void 0)})}),c._x_doShow||(c._x_doShow=()=>{Cw(()=>{c.style.setProperty("display","block",d.includes("important")?"important":void 0)})});let D=()=>{c._x_doHide(),c._x_isShown=!1},C=()=>{c._x_doShow(),c._x_isShown=!0},k=()=>setTimeout(C),I=l7(j=>j?C():D(),j=>{typeof c._x_toggleAndCascadeWithTransitions=="function"?c._x_toggleAndCascadeWithTransitions(c,j,C,D):j?k():D()}),R,F=!0;m(()=>f(j=>{!F&&j===R||(d.includes("immediate")&&(j?k():D()),I(j),R=j,F=!1)})),c.open=async function(j){c.trigger=j.currentTarget?j.currentTarget:j,I(!0),c.trigger.setAttribute("aria-expanded",!0),E.component.trap&&c.setAttribute("x-trap",!0),b=Sw(c.trigger,c,()=>{Tw(c.trigger,c,E.float).then(({middlewareData:Y,placement:G,x:B,y:P})=>{if(Y.arrow){const z=Y.arrow?.x,$=Y.arrow?.y,N=E.float.middleware.filter(q=>q.name=="arrow")[0].options.element,V={top:"bottom",right:"left",bottom:"top",left:"right"}[G.split("-")[0]];Object.assign(N.style,{left:z!=null?`${z}px`:"",top:$!=null?`${$}px`:"",right:"",bottom:"",[V]:"-4px"})}if(Y.hide){const{referenceHidden:z}=Y.hide;Object.assign(c.style,{visibility:z?"hidden":"visible"})}Object.assign(c.style,{left:`${B}px`,top:`${P}px`})})}),window.addEventListener("click",w),window.addEventListener("keydown",A,!0)},c.close=function(){I(!1),c.trigger.setAttribute("aria-expanded",!1),E.component.trap&&c.setAttribute("x-trap",!1),b(),window.removeEventListener("click",w),window.removeEventListener("keydown",A,!1)},c.toggle=function(j){c._x_isShown?c.close():c.open(j)}})}var c7=u7;window.pluralize=function(t,i,r){function o(v,E){for(const b of v){const w=l(b,E);if(w!==null)return w}}function l(v,E){const b=v.match(/^[\{\[]([^\[\]\{\}]*)[\}\]](.*)/s);if(b===null||b.length!==3)return null;const w=b[1],A=b[2];if(w.includes(",")){const[y,S]=w.split(",",2);if(S==="*"&&E>=y)return A;if(y==="*"&&E<=S)return A;if(E>=y&&E<=S)return A}return w==E?A:null}function c(v){return v.toString().charAt(0).toUpperCase()+v.toString().slice(1)}function d(v,E){if(E.length===0)return v;const b={};for(let[w,A]of Object.entries(E))b[":"+c(w??"")]=c(A??""),b[":"+w.toUpperCase()]=A.toString().toUpperCase(),b[":"+w]=A;return Object.entries(b).forEach(([w,A])=>{v=v.replaceAll(w,A)}),v}function h(v){return v.map(E=>E.replace(/^[\{\[]([^\[\]\{\}]*)[\}\]]/,""))}let f=t.split("|");const m=o(f,i);return m!=null?d(m.trim(),r):(f=h(f),d(f.length>1&&i>1?f[1]:f[0],r))};var d7=t=>{t.plugin(U6),t.plugin(cN),t.plugin(lj),t.plugin(uj),t.plugin(SH),t.plugin(TH),t.plugin(MH),t.plugin(kH),t.plugin(i9),t.plugin(r9),t.plugin(O9),t.plugin(c7)},h7=Object.create,I0=Object.defineProperty,f7=Object.getPrototypeOf,p7=Object.prototype.hasOwnProperty,m7=Object.getOwnPropertyNames,g7=Object.getOwnPropertyDescriptor,v7=t=>I0(t,"__esModule",{value:!0}),Nc=(t,i)=>()=>(i||(i={exports:{}},t(i.exports,i)),i.exports),b7=(t,i,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of m7(i))!p7.call(t,o)&&o!=="default"&&I0(t,o,{get:()=>i[o],enumerable:!(r=g7(i,o))||r.enumerable});return t},y7=t=>b7(v7(I0(t!=null?h7(f7(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),cx=Nc((t,i)=>{var r,o=typeof global<"u"&&(global.crypto||global.msCrypto);o&&o.getRandomValues&&(l=new Uint8Array(16),r=function(){return o.getRandomValues(l),l});var l;r||(c=new Array(16),r=function(){for(var d=0,h;d<16;d++)d&3||(h=Math.random()*4294967296),c[d]=h>>>((d&3)<<3)&255;return c});var c;i.exports=r}),dx=Nc((t,i)=>{for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function l(c,d){var h=d||0,f=r;return f[c[h++]]+f[c[h++]]+f[c[h++]]+f[c[h++]]+"-"+f[c[h++]]+f[c[h++]]+"-"+f[c[h++]]+f[c[h++]]+"-"+f[c[h++]]+f[c[h++]]+"-"+f[c[h++]]+f[c[h++]]+f[c[h++]]+f[c[h++]]+f[c[h++]]+f[c[h++]]}i.exports=l}),E7=Nc((t,i)=>{var r=cx(),o=dx(),l=r(),c=[l[0]|1,l[1],l[2],l[3],l[4],l[5]],d=(l[6]<<8|l[7])&16383,h=0,f=0;function m(v,E,b){var w=E&&b||0,A=E||[];v=v||{};var y=v.clockseq!==void 0?v.clockseq:d,S=v.msecs!==void 0?v.msecs:new Date().getTime(),T=v.nsecs!==void 0?v.nsecs:f+1,M=S-h+(T-f)/1e4;if(M<0&&v.clockseq===void 0&&(y=y+1&16383),(M<0||S>h)&&v.nsecs===void 0&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=S,f=T,d=y,S+=122192928e5;var D=((S&268435455)*1e4+T)%4294967296;A[w++]=D>>>24&255,A[w++]=D>>>16&255,A[w++]=D>>>8&255,A[w++]=D&255;var C=S/4294967296*1e4&268435455;A[w++]=C>>>8&255,A[w++]=C&255,A[w++]=C>>>24&15|16,A[w++]=C>>>16&255,A[w++]=y>>>8|128,A[w++]=y&255;for(var k=v.node||c,I=0;I<6;++I)A[w+I]=k[I];return E||o(A)}i.exports=m}),_7=Nc((t,i)=>{var r=cx(),o=dx();function l(c,d,h){var f=d&&h||0;typeof c=="string"&&(d=c=="binary"?new Array(16):null,c=null),c=c||{};var m=c.random||(c.rng||r)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,d)for(var v=0;v<16;++v)d[f+v]=m[v];return d||o(m)}i.exports=l}),w7=Nc((t,i)=>{var r=E7(),o=_7(),l=o;l.v1=r,l.v4=o,i.exports=l}),A7=[],D7=[],x7=[];function S7(t,i){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,o])=>{(i===void 0||i.includes(r))&&(o.forEach(l=>l()),delete t._x_attributeCleanups[r])})}new MutationObserver(T7);function Mw(t){return t()}function T7(t){let i=[],r=[],o=new Map,l=new Map;for(let c=0;c<t.length;c++)if(!t[c].target._x_ignoreMutationObserver&&(t[c].type==="childList"&&(t[c].addedNodes.forEach(d=>d.nodeType===1&&i.push(d)),t[c].removedNodes.forEach(d=>d.nodeType===1&&r.push(d))),t[c].type==="attributes")){let d=t[c].target,h=t[c].attributeName,f=t[c].oldValue,m=()=>{o.has(d)||o.set(d,[]),o.get(d).push({name:h,value:d.getAttribute(h)})},v=()=>{l.has(d)||l.set(d,[]),l.get(d).push(h)};d.hasAttribute(h)&&f===null?m():d.hasAttribute(h)?(v(),m()):v()}l.forEach((c,d)=>{S7(d,c)}),o.forEach((c,d)=>{A7.forEach(h=>h(d,c))});for(let c of r)if(!i.includes(c)&&(D7.forEach(d=>d(c)),c._x_cleanups))for(;c._x_cleanups.length;)c._x_cleanups.pop()();i.forEach(c=>{c._x_ignoreSelf=!0,c._x_ignore=!0});for(let c of i)r.includes(c)||c.isConnected&&(delete c._x_ignoreSelf,delete c._x_ignore,x7.forEach(d=>d(c)),c._x_ignore=!0,c._x_ignoreSelf=!0);i.forEach(c=>{delete c._x_ignoreSelf,delete c._x_ignore}),i=null,r=null,o=null,l=null}function C7(t,i=()=>{}){let r=!1;return function(){r?i.apply(this,arguments):(r=!0,t.apply(this,arguments))}}var M7=t=>{t.data("notificationComponent",({notification:i})=>({isShown:!1,computedStyle:null,init:function(){this.computedStyle=window.getComputedStyle(this.$el),this.configureTransitions(),this.configureAnimations(),i.duration&&i.duration!=="persistent"&&setTimeout(()=>this.close(),i.duration),this.isShown=!0},configureTransitions:function(){const r=this.computedStyle.display,o=()=>{Mw(()=>{this.$el.style.setProperty("display",r),this.$el.style.setProperty("visibility","visible")}),this.$el._x_isShown=!0},l=()=>{Mw(()=>{this.$el._x_isShown?this.$el.style.setProperty("visibility","hidden"):this.$el.style.setProperty("display","none")})},c=C7(d=>d?o():l(),d=>{this.$el._x_toggleAndCascadeWithTransitions(this.$el,d,o,l)});t.effect(()=>c(this.isShown))},configureAnimations:function(){let r;Livewire.hook("message.received",(o,l)=>{if(l.fingerprint.name!=="notifications")return;const c=()=>this.$el.getBoundingClientRect().top,d=c();r=()=>{this.$el.animate([{transform:`translateY(${d-c()}px)`},{transform:"translateY(0px)"}],{duration:this.getTransitionDuration(),easing:this.computedStyle.transitionTimingFunction})},this.$el.getAnimations().forEach(h=>h.finish())}),Livewire.hook("message.processed",(o,l)=>{l.fingerprint.name==="notifications"&&this.isShown&&r()})},close:function(){this.isShown=!1,setTimeout(()=>Livewire.emit("notificationClosed",i.id),this.getTransitionDuration())},getTransitionDuration:function(){return parseFloat(this.computedStyle.transitionDuration)*1e3}}))},k7=y7(w7()),O7=class{constructor(){return this.id((0,k7.v4)()),this}id(t){return this.id=t,this}title(t){return this.title=t,this}body(t){return this.body=t,this}actions(t){return this.actions=t,this}status(t){switch(t){case"success":this.success();break;case"warning":this.warning();break;case"danger":this.danger();break}return this}icon(t){return this.icon=t,this}iconColor(t){return this.iconColor=t,this}duration(t){return this.duration=t,this}seconds(t){return this.duration(t*1e3),this}persistent(){return this.duration("persistent"),this}success(){return this.icon("heroicon-o-check-circle"),this.iconColor("success"),this}warning(){return this.icon("heroicon-o-exclamation-circle"),this.iconColor("warning"),this}danger(){return this.icon("heroicon-o-x-circle"),this.iconColor("danger"),this}view(t){return this.view=t,this}viewData(t){return this.viewData=t,this}send(){return Livewire.emit("notificationSent",this),this}},I7=class{constructor(t){return this.name(t),this}name(t){return this.name=t,this}color(t){return this.color=t,this}emit(t,i){return this.event(t),this.eventData(i),this}emitSelf(t,i){return this.emit(t,i),this.emitDirection="self",this}emitTo(t,i,r){return this.emit(i,r),this.emitDirection="to",this.emitToComponent=t,this}emitUp(t,i){return this.emit(t,i),this.emitDirection="up",this}emitDirection(t){return this.emitDirection=t,this}emitToComponent(t){return this.emitToComponent=t,this}event(t){return this.event=t,this}eventData(t){return this.eventData=t,this}extraAttributes(t){return this.extraAttributes=t,this}icon(t){return this.icon=t,this}iconPosition(t){return this.iconPosition=t,this}outlined(t=!0){return this.isOutlined=t,this}disabled(t=!0){return this.isDisabled=t,this}label(t){return this.label=t,this}close(t=!0){return this.shouldCloseNotification=t,this}openUrlInNewTab(t=!0){return this.shouldOpenUrlInNewTab=t,this}size(t){return this.size=t,this}url(t){return this.url=t,this}view(t){return this.view=t,this}button(){return this.view("notifications::actions.button-action"),this}grouped(){return this.view("notifications::actions.grouped-action"),this}link(){return this.view("notifications::actions.link-action"),this}},R7=class{constructor(t){return this.actions(t),this}actions(t){return this.actions=t.map(i=>i.grouped()),this}color(t){return this.color=t,this}icon(t){return this.icon=t,this}iconPosition(t){return this.iconPosition=t,this}label(t){return this.label=t,this}tooltip(t){return this.tooltip=t,this}};window.NotificationAction=I7;window.NotificationActionGroup=R7;window.Notification=O7;var L7=t=>{t.plugin(M7)},F7=Object.create,R0=Object.defineProperty,N7=Object.getPrototypeOf,P7=Object.prototype.hasOwnProperty,B7=Object.getOwnPropertyNames,z7=Object.getOwnPropertyDescriptor,$7=t=>R0(t,"__esModule",{value:!0}),hx=(t,i)=>()=>(i||(i={exports:{}},t(i.exports,i)),i.exports),j7=(t,i,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of B7(i))!P7.call(t,o)&&o!=="default"&&R0(t,o,{get:()=>i[o],enumerable:!(r=z7(i,o))||r.enumerable});return t},fx=t=>j7($7(R0(t!=null?F7(N7(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),H7=hx(t=>{Object.defineProperty(t,"__esModule",{value:!0});function i(ee){var X=ee.getBoundingClientRect();return{width:X.width,height:X.height,top:X.top,right:X.right,bottom:X.bottom,left:X.left,x:X.left,y:X.top}}function r(ee){if(ee==null)return window;if(ee.toString()!=="[object Window]"){var X=ee.ownerDocument;return X&&X.defaultView||window}return ee}function o(ee){var X=r(ee),se=X.pageXOffset,ye=X.pageYOffset;return{scrollLeft:se,scrollTop:ye}}function l(ee){var X=r(ee).Element;return ee instanceof X||ee instanceof Element}function c(ee){var X=r(ee).HTMLElement;return ee instanceof X||ee instanceof HTMLElement}function d(ee){if(typeof ShadowRoot>"u")return!1;var X=r(ee).ShadowRoot;return ee instanceof X||ee instanceof ShadowRoot}function h(ee){return{scrollLeft:ee.scrollLeft,scrollTop:ee.scrollTop}}function f(ee){return ee===r(ee)||!c(ee)?o(ee):h(ee)}function m(ee){return ee?(ee.nodeName||"").toLowerCase():null}function v(ee){return((l(ee)?ee.ownerDocument:ee.document)||window.document).documentElement}function E(ee){return i(v(ee)).left+o(ee).scrollLeft}function b(ee){return r(ee).getComputedStyle(ee)}function w(ee){var X=b(ee),se=X.overflow,ye=X.overflowX,Ee=X.overflowY;return/auto|scroll|overlay|hidden/.test(se+Ee+ye)}function A(ee,X,se){se===void 0&&(se=!1);var ye=v(X),Ee=i(ee),ze=c(X),Ze={scrollLeft:0,scrollTop:0},He={x:0,y:0};return(ze||!ze&&!se)&&((m(X)!=="body"||w(ye))&&(Ze=f(X)),c(X)?(He=i(X),He.x+=X.clientLeft,He.y+=X.clientTop):ye&&(He.x=E(ye))),{x:Ee.left+Ze.scrollLeft-He.x,y:Ee.top+Ze.scrollTop-He.y,width:Ee.width,height:Ee.height}}function y(ee){var X=i(ee),se=ee.offsetWidth,ye=ee.offsetHeight;return Math.abs(X.width-se)<=1&&(se=X.width),Math.abs(X.height-ye)<=1&&(ye=X.height),{x:ee.offsetLeft,y:ee.offsetTop,width:se,height:ye}}function S(ee){return m(ee)==="html"?ee:ee.assignedSlot||ee.parentNode||(d(ee)?ee.host:null)||v(ee)}function T(ee){return["html","body","#document"].indexOf(m(ee))>=0?ee.ownerDocument.body:c(ee)&&w(ee)?ee:T(S(ee))}function M(ee,X){var se;X===void 0&&(X=[]);var ye=T(ee),Ee=ye===((se=ee.ownerDocument)==null?void 0:se.body),ze=r(ye),Ze=Ee?[ze].concat(ze.visualViewport||[],w(ye)?ye:[]):ye,He=X.concat(Ze);return Ee?He:He.concat(M(S(Ze)))}function D(ee){return["table","td","th"].indexOf(m(ee))>=0}function C(ee){return!c(ee)||b(ee).position==="fixed"?null:ee.offsetParent}function k(ee){var X=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,se=navigator.userAgent.indexOf("Trident")!==-1;if(se&&c(ee)){var ye=b(ee);if(ye.position==="fixed")return null}for(var Ee=S(ee);c(Ee)&&["html","body"].indexOf(m(Ee))<0;){var ze=b(Ee);if(ze.transform!=="none"||ze.perspective!=="none"||ze.contain==="paint"||["transform","perspective"].indexOf(ze.willChange)!==-1||X&&ze.willChange==="filter"||X&&ze.filter&&ze.filter!=="none")return Ee;Ee=Ee.parentNode}return null}function I(ee){for(var X=r(ee),se=C(ee);se&&D(se)&&b(se).position==="static";)se=C(se);return se&&(m(se)==="html"||m(se)==="body"&&b(se).position==="static")?X:se||k(ee)||X}var R="top",F="bottom",j="right",Y="left",G="auto",B=[R,F,j,Y],P="start",z="end",$="clippingParents",N="viewport",V="popper",q="reference",J=B.reduce(function(ee,X){return ee.concat([X+"-"+P,X+"-"+z])},[]),ne=[].concat(B,[G]).reduce(function(ee,X){return ee.concat([X,X+"-"+P,X+"-"+z])},[]),ue="beforeRead",pe="read",Ie="afterRead",we="beforeMain",st="main",Ae="afterMain",Oe="beforeWrite",$e="write",et="afterWrite",Ue=[ue,pe,Ie,we,st,Ae,Oe,$e,et];function on(ee){var X=new Map,se=new Set,ye=[];ee.forEach(function(ze){X.set(ze.name,ze)});function Ee(ze){se.add(ze.name);var Ze=[].concat(ze.requires||[],ze.requiresIfExists||[]);Ze.forEach(function(He){if(!se.has(He)){var dt=X.get(He);dt&&Ee(dt)}}),ye.push(ze)}return ee.forEach(function(ze){se.has(ze.name)||Ee(ze)}),ye}function Jt(ee){var X=on(ee);return Ue.reduce(function(se,ye){return se.concat(X.filter(function(Ee){return Ee.phase===ye}))},[])}function Ln(ee){var X;return function(){return X||(X=new Promise(function(se){Promise.resolve().then(function(){X=void 0,se(ee())})})),X}}function Cn(ee){for(var X=arguments.length,se=new Array(X>1?X-1:0),ye=1;ye<X;ye++)se[ye-1]=arguments[ye];return[].concat(se).reduce(function(Ee,ze){return Ee.replace(/%s/,ze)},ee)}var ri='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',to='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',On=["name","enabled","phase","fn","effect","requires","options"];function Br(ee){ee.forEach(function(X){Object.keys(X).forEach(function(se){switch(se){case"name":typeof X.name!="string"&&console.error(Cn(ri,String(X.name),'"name"','"string"','"'+String(X.name)+'"'));break;case"enabled":typeof X.enabled!="boolean"&&console.error(Cn(ri,X.name,'"enabled"','"boolean"','"'+String(X.enabled)+'"'));case"phase":Ue.indexOf(X.phase)<0&&console.error(Cn(ri,X.name,'"phase"',"either "+Ue.join(", "),'"'+String(X.phase)+'"'));break;case"fn":typeof X.fn!="function"&&console.error(Cn(ri,X.name,'"fn"','"function"','"'+String(X.fn)+'"'));break;case"effect":typeof X.effect!="function"&&console.error(Cn(ri,X.name,'"effect"','"function"','"'+String(X.fn)+'"'));break;case"requires":Array.isArray(X.requires)||console.error(Cn(ri,X.name,'"requires"','"array"','"'+String(X.requires)+'"'));break;case"requiresIfExists":Array.isArray(X.requiresIfExists)||console.error(Cn(ri,X.name,'"requiresIfExists"','"array"','"'+String(X.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+X.name+'" modifier, valid properties are '+On.map(function(ye){return'"'+ye+'"'}).join(", ")+'; but "'+se+'" was provided.')}X.requires&&X.requires.forEach(function(ye){ee.find(function(Ee){return Ee.name===ye})==null&&console.error(Cn(to,String(X.name),ye,ye))})})})}function no(ee,X){var se=new Set;return ee.filter(function(ye){var Ee=X(ye);if(!se.has(Ee))return se.add(Ee),!0})}function oi(ee){return ee.split("-")[0]}function io(ee){var X=ee.reduce(function(se,ye){var Ee=se[ye.name];return se[ye.name]=Ee?Object.assign({},Ee,ye,{options:Object.assign({},Ee.options,ye.options),data:Object.assign({},Ee.data,ye.data)}):ye,se},{});return Object.keys(X).map(function(se){return X[se]})}function zr(ee){var X=r(ee),se=v(ee),ye=X.visualViewport,Ee=se.clientWidth,ze=se.clientHeight,Ze=0,He=0;return ye&&(Ee=ye.width,ze=ye.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Ze=ye.offsetLeft,He=ye.offsetTop)),{width:Ee,height:ze,x:Ze+E(ee),y:He}}var ci=Math.max,Mi=Math.min,ki=Math.round;function Xi(ee){var X,se=v(ee),ye=o(ee),Ee=(X=ee.ownerDocument)==null?void 0:X.body,ze=ci(se.scrollWidth,se.clientWidth,Ee?Ee.scrollWidth:0,Ee?Ee.clientWidth:0),Ze=ci(se.scrollHeight,se.clientHeight,Ee?Ee.scrollHeight:0,Ee?Ee.clientHeight:0),He=-ye.scrollLeft+E(ee),dt=-ye.scrollTop;return b(Ee||se).direction==="rtl"&&(He+=ci(se.clientWidth,Ee?Ee.clientWidth:0)-ze),{width:ze,height:Ze,x:He,y:dt}}function ro(ee,X){var se=X.getRootNode&&X.getRootNode();if(ee.contains(X))return!0;if(se&&d(se)){var ye=X;do{if(ye&&ee.isSameNode(ye))return!0;ye=ye.parentNode||ye.host}while(ye)}return!1}function or(ee){return Object.assign({},ee,{left:ee.x,top:ee.y,right:ee.x+ee.width,bottom:ee.y+ee.height})}function Zi(ee){var X=i(ee);return X.top=X.top+ee.clientTop,X.left=X.left+ee.clientLeft,X.bottom=X.top+ee.clientHeight,X.right=X.left+ee.clientWidth,X.width=ee.clientWidth,X.height=ee.clientHeight,X.x=X.left,X.y=X.top,X}function $r(ee,X){return X===N?or(zr(ee)):c(X)?Zi(X):or(Xi(v(ee)))}function fr(ee){var X=M(S(ee)),se=["absolute","fixed"].indexOf(b(ee).position)>=0,ye=se&&c(ee)?I(ee):ee;return l(ye)?X.filter(function(Ee){return l(Ee)&&ro(Ee,ye)&&m(Ee)!=="body"}):[]}function Oi(ee,X,se){var ye=X==="clippingParents"?fr(ee):[].concat(X),Ee=[].concat(ye,[se]),ze=Ee[0],Ze=Ee.reduce(function(He,dt){var Ot=$r(ee,dt);return He.top=ci(Ot.top,He.top),He.right=Mi(Ot.right,He.right),He.bottom=Mi(Ot.bottom,He.bottom),He.left=ci(Ot.left,He.left),He},$r(ee,ze));return Ze.width=Ze.right-Ze.left,Ze.height=Ze.bottom-Ze.top,Ze.x=Ze.left,Ze.y=Ze.top,Ze}function di(ee){return ee.split("-")[1]}function En(ee){return["top","bottom"].indexOf(ee)>=0?"x":"y"}function Ii(ee){var X=ee.reference,se=ee.element,ye=ee.placement,Ee=ye?oi(ye):null,ze=ye?di(ye):null,Ze=X.x+X.width/2-se.width/2,He=X.y+X.height/2-se.height/2,dt;switch(Ee){case R:dt={x:Ze,y:X.y-se.height};break;case F:dt={x:Ze,y:X.y+X.height};break;case j:dt={x:X.x+X.width,y:He};break;case Y:dt={x:X.x-se.width,y:He};break;default:dt={x:X.x,y:X.y}}var Ot=Ee?En(Ee):null;if(Ot!=null){var Ke=Ot==="y"?"height":"width";switch(ze){case P:dt[Ot]=dt[Ot]-(X[Ke]/2-se[Ke]/2);break;case z:dt[Ot]=dt[Ot]+(X[Ke]/2-se[Ke]/2);break}}return dt}function jr(){return{top:0,right:0,bottom:0,left:0}}function ar(ee){return Object.assign({},jr(),ee)}function oo(ee,X){return X.reduce(function(se,ye){return se[ye]=ee,se},{})}function bi(ee,X){X===void 0&&(X={});var se=X,ye=se.placement,Ee=ye===void 0?ee.placement:ye,ze=se.boundary,Ze=ze===void 0?$:ze,He=se.rootBoundary,dt=He===void 0?N:He,Ot=se.elementContext,Ke=Ot===void 0?V:Ot,cn=se.altBoundary,Mn=cn===void 0?!1:cn,hn=se.padding,Xt=hn===void 0?0:hn,kn=ar(typeof Xt!="number"?Xt:oo(Xt,B)),fn=Ke===V?q:V,Un=ee.elements.reference,xn=ee.rects.popper,Yn=ee.elements[Mn?fn:Ke],Nt=Oi(l(Yn)?Yn:Yn.contextElement||v(ee.elements.popper),Ze,dt),_n=i(Un),dn=Ii({reference:_n,element:xn,strategy:"absolute",placement:Ee}),vn=or(Object.assign({},xn,dn)),Sn=Ke===V?vn:_n,Gn={top:Nt.top-Sn.top+kn.top,bottom:Sn.bottom-Nt.bottom+kn.bottom,left:Nt.left-Sn.left+kn.left,right:Sn.right-Nt.right+kn.right},Qe=ee.modifiersData.offset;if(Ke===V&&Qe){var Wn=Qe[Ee];Object.keys(Gn).forEach(function(Tr){var Ri=[j,F].indexOf(Tr)>=0?1:-1,Et=[R,F].indexOf(Tr)>=0?"y":"x";Gn[Tr]+=Wn[Et]*Ri})}return Gn}var Vo="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",fa="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Dn={placement:"bottom",modifiers:[],strategy:"absolute"};function ei(){for(var ee=arguments.length,X=new Array(ee),se=0;se<ee;se++)X[se]=arguments[se];return!X.some(function(ye){return!(ye&&typeof ye.getBoundingClientRect=="function")})}function he(ee){ee===void 0&&(ee={});var X=ee,se=X.defaultModifiers,ye=se===void 0?[]:se,Ee=X.defaultOptions,ze=Ee===void 0?Dn:Ee;return function(He,dt,Ot){Ot===void 0&&(Ot=ze);var Ke={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dn,ze),modifiersData:{},elements:{reference:He,popper:dt},attributes:{},styles:{}},cn=[],Mn=!1,hn={state:Ke,setOptions:function(Un){kn(),Ke.options=Object.assign({},ze,Ke.options,Un),Ke.scrollParents={reference:l(He)?M(He):He.contextElement?M(He.contextElement):[],popper:M(dt)};var xn=Jt(io([].concat(ye,Ke.options.modifiers)));Ke.orderedModifiers=xn.filter(function(Qe){return Qe.enabled});{var Yn=no([].concat(xn,Ke.options.modifiers),function(Qe){var Wn=Qe.name;return Wn});if(Br(Yn),oi(Ke.options.placement)===G){var Nt=Ke.orderedModifiers.find(function(Qe){var Wn=Qe.name;return Wn==="flip"});Nt||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var _n=b(dt),dn=_n.marginTop,vn=_n.marginRight,Sn=_n.marginBottom,Gn=_n.marginLeft;[dn,vn,Sn,Gn].some(function(Qe){return parseFloat(Qe)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return Xt(),hn.update()},forceUpdate:function(){if(!Mn){var Un=Ke.elements,xn=Un.reference,Yn=Un.popper;if(!ei(xn,Yn)){console.error(Vo);return}Ke.rects={reference:A(xn,I(Yn),Ke.options.strategy==="fixed"),popper:y(Yn)},Ke.reset=!1,Ke.placement=Ke.options.placement,Ke.orderedModifiers.forEach(function(Wn){return Ke.modifiersData[Wn.name]=Object.assign({},Wn.data)});for(var Nt=0,_n=0;_n<Ke.orderedModifiers.length;_n++){if(Nt+=1,Nt>100){console.error(fa);break}if(Ke.reset===!0){Ke.reset=!1,_n=-1;continue}var dn=Ke.orderedModifiers[_n],vn=dn.fn,Sn=dn.options,Gn=Sn===void 0?{}:Sn,Qe=dn.name;typeof vn=="function"&&(Ke=vn({state:Ke,options:Gn,name:Qe,instance:hn})||Ke)}}},update:Ln(function(){return new Promise(function(fn){hn.forceUpdate(),fn(Ke)})}),destroy:function(){kn(),Mn=!0}};if(!ei(He,dt))return console.error(Vo),hn;hn.setOptions(Ot).then(function(fn){!Mn&&Ot.onFirstUpdate&&Ot.onFirstUpdate(fn)});function Xt(){Ke.orderedModifiers.forEach(function(fn){var Un=fn.name,xn=fn.options,Yn=xn===void 0?{}:xn,Nt=fn.effect;if(typeof Nt=="function"){var _n=Nt({state:Ke,name:Un,instance:hn,options:Yn}),dn=function(){};cn.push(_n||dn)}})}function kn(){cn.forEach(function(fn){return fn()}),cn=[]}return hn}}var ae={passive:!0};function fe(ee){var X=ee.state,se=ee.instance,ye=ee.options,Ee=ye.scroll,ze=Ee===void 0?!0:Ee,Ze=ye.resize,He=Ze===void 0?!0:Ze,dt=r(X.elements.popper),Ot=[].concat(X.scrollParents.reference,X.scrollParents.popper);return ze&&Ot.forEach(function(Ke){Ke.addEventListener("scroll",se.update,ae)}),He&&dt.addEventListener("resize",se.update,ae),function(){ze&&Ot.forEach(function(Ke){Ke.removeEventListener("scroll",se.update,ae)}),He&&dt.removeEventListener("resize",se.update,ae)}}var _e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fe,data:{}};function Te(ee){var X=ee.state,se=ee.name;X.modifiersData[se]=Ii({reference:X.rects.reference,element:X.rects.popper,strategy:"absolute",placement:X.placement})}var Me={name:"popperOffsets",enabled:!0,phase:"read",fn:Te,data:{}},Be={top:"auto",right:"auto",bottom:"auto",left:"auto"};function We(ee){var X=ee.x,se=ee.y,ye=window,Ee=ye.devicePixelRatio||1;return{x:ki(ki(X*Ee)/Ee)||0,y:ki(ki(se*Ee)/Ee)||0}}function it(ee){var X,se=ee.popper,ye=ee.popperRect,Ee=ee.placement,ze=ee.offsets,Ze=ee.position,He=ee.gpuAcceleration,dt=ee.adaptive,Ot=ee.roundOffsets,Ke=Ot===!0?We(ze):typeof Ot=="function"?Ot(ze):ze,cn=Ke.x,Mn=cn===void 0?0:cn,hn=Ke.y,Xt=hn===void 0?0:hn,kn=ze.hasOwnProperty("x"),fn=ze.hasOwnProperty("y"),Un=Y,xn=R,Yn=window;if(dt){var Nt=I(se),_n="clientHeight",dn="clientWidth";Nt===r(se)&&(Nt=v(se),b(Nt).position!=="static"&&(_n="scrollHeight",dn="scrollWidth")),Nt=Nt,Ee===R&&(xn=F,Xt-=Nt[_n]-ye.height,Xt*=He?1:-1),Ee===Y&&(Un=j,Mn-=Nt[dn]-ye.width,Mn*=He?1:-1)}var vn=Object.assign({position:Ze},dt&&Be);if(He){var Sn;return Object.assign({},vn,(Sn={},Sn[xn]=fn?"0":"",Sn[Un]=kn?"0":"",Sn.transform=(Yn.devicePixelRatio||1)<2?"translate("+Mn+"px, "+Xt+"px)":"translate3d("+Mn+"px, "+Xt+"px, 0)",Sn))}return Object.assign({},vn,(X={},X[xn]=fn?Xt+"px":"",X[Un]=kn?Mn+"px":"",X.transform="",X))}function Q(ee){var X=ee.state,se=ee.options,ye=se.gpuAcceleration,Ee=ye===void 0?!0:ye,ze=se.adaptive,Ze=ze===void 0?!0:ze,He=se.roundOffsets,dt=He===void 0?!0:He;{var Ot=b(X.elements.popper).transitionProperty||"";Ze&&["transform","top","right","bottom","left"].some(function(cn){return Ot.indexOf(cn)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var Ke={placement:oi(X.placement),popper:X.elements.popper,popperRect:X.rects.popper,gpuAcceleration:Ee};X.modifiersData.popperOffsets!=null&&(X.styles.popper=Object.assign({},X.styles.popper,it(Object.assign({},Ke,{offsets:X.modifiersData.popperOffsets,position:X.options.strategy,adaptive:Ze,roundOffsets:dt})))),X.modifiersData.arrow!=null&&(X.styles.arrow=Object.assign({},X.styles.arrow,it(Object.assign({},Ke,{offsets:X.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:dt})))),X.attributes.popper=Object.assign({},X.attributes.popper,{"data-popper-placement":X.placement})}var ie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Q,data:{}};function le(ee){var X=ee.state;Object.keys(X.elements).forEach(function(se){var ye=X.styles[se]||{},Ee=X.attributes[se]||{},ze=X.elements[se];!c(ze)||!m(ze)||(Object.assign(ze.style,ye),Object.keys(Ee).forEach(function(Ze){var He=Ee[Ze];He===!1?ze.removeAttribute(Ze):ze.setAttribute(Ze,He===!0?"":He)}))})}function be(ee){var X=ee.state,se={popper:{position:X.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(X.elements.popper.style,se.popper),X.styles=se,X.elements.arrow&&Object.assign(X.elements.arrow.style,se.arrow),function(){Object.keys(X.elements).forEach(function(ye){var Ee=X.elements[ye],ze=X.attributes[ye]||{},Ze=Object.keys(X.styles.hasOwnProperty(ye)?X.styles[ye]:se[ye]),He=Ze.reduce(function(dt,Ot){return dt[Ot]="",dt},{});!c(Ee)||!m(Ee)||(Object.assign(Ee.style,He),Object.keys(ze).forEach(function(dt){Ee.removeAttribute(dt)}))})}}var Ne={name:"applyStyles",enabled:!0,phase:"write",fn:le,effect:be,requires:["computeStyles"]};function De(ee,X,se){var ye=oi(ee),Ee=[Y,R].indexOf(ye)>=0?-1:1,ze=typeof se=="function"?se(Object.assign({},X,{placement:ee})):se,Ze=ze[0],He=ze[1];return Ze=Ze||0,He=(He||0)*Ee,[Y,j].indexOf(ye)>=0?{x:He,y:Ze}:{x:Ze,y:He}}function Se(ee){var X=ee.state,se=ee.options,ye=ee.name,Ee=se.offset,ze=Ee===void 0?[0,0]:Ee,Ze=ne.reduce(function(Ke,cn){return Ke[cn]=De(cn,X.rects,ze),Ke},{}),He=Ze[X.placement],dt=He.x,Ot=He.y;X.modifiersData.popperOffsets!=null&&(X.modifiersData.popperOffsets.x+=dt,X.modifiersData.popperOffsets.y+=Ot),X.modifiersData[ye]=Ze}var xt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Se},Je={left:"right",right:"left",bottom:"top",top:"bottom"};function tt(ee){return ee.replace(/left|right|bottom|top/g,function(X){return Je[X]})}var St={start:"end",end:"start"};function Vt(ee){return ee.replace(/start|end/g,function(X){return St[X]})}function Pe(ee,X){X===void 0&&(X={});var se=X,ye=se.placement,Ee=se.boundary,ze=se.rootBoundary,Ze=se.padding,He=se.flipVariations,dt=se.allowedAutoPlacements,Ot=dt===void 0?ne:dt,Ke=di(ye),cn=Ke?He?J:J.filter(function(Xt){return di(Xt)===Ke}):B,Mn=cn.filter(function(Xt){return Ot.indexOf(Xt)>=0});Mn.length===0&&(Mn=cn,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var hn=Mn.reduce(function(Xt,kn){return Xt[kn]=bi(ee,{placement:kn,boundary:Ee,rootBoundary:ze,padding:Ze})[oi(kn)],Xt},{});return Object.keys(hn).sort(function(Xt,kn){return hn[Xt]-hn[kn]})}function re(ee){if(oi(ee)===G)return[];var X=tt(ee);return[Vt(ee),X,Vt(X)]}function me(ee){var X=ee.state,se=ee.options,ye=ee.name;if(!X.modifiersData[ye]._skip){for(var Ee=se.mainAxis,ze=Ee===void 0?!0:Ee,Ze=se.altAxis,He=Ze===void 0?!0:Ze,dt=se.fallbackPlacements,Ot=se.padding,Ke=se.boundary,cn=se.rootBoundary,Mn=se.altBoundary,hn=se.flipVariations,Xt=hn===void 0?!0:hn,kn=se.allowedAutoPlacements,fn=X.options.placement,Un=oi(fn),xn=Un===fn,Yn=dt||(xn||!Xt?[tt(fn)]:re(fn)),Nt=[fn].concat(Yn).reduce(function(wt,Wt){return wt.concat(oi(Wt)===G?Pe(X,{placement:Wt,boundary:Ke,rootBoundary:cn,padding:Ot,flipVariations:Xt,allowedAutoPlacements:kn}):Wt)},[]),_n=X.rects.reference,dn=X.rects.popper,vn=new Map,Sn=!0,Gn=Nt[0],Qe=0;Qe<Nt.length;Qe++){var Wn=Nt[Qe],Tr=oi(Wn),Ri=di(Wn)===P,Et=[R,F].indexOf(Tr)>=0,_o=Et?"width":"height",At=bi(X,{placement:Wn,boundary:Ke,rootBoundary:cn,altBoundary:Mn,padding:Ot}),ao=Et?Ri?j:Y:Ri?F:R;_n[_o]>dn[_o]&&(ao=tt(ao));var lr=tt(ao),Go=[];if(ze&&Go.push(At[Tr]<=0),He&&Go.push(At[ao]<=0,At[lr]<=0),Go.every(function(wt){return wt})){Gn=Wn,Sn=!1;break}vn.set(Wn,Go)}if(Sn)for(var Vr=Xt?3:1,Fa=function(Wt){var Zt=Nt.find(function(qn){var hi=vn.get(qn);if(hi)return hi.slice(0,Wt).every(function(Cr){return Cr})});if(Zt)return Gn=Zt,"break"},ve=Vr;ve>0;ve--){var lt=Fa(ve);if(lt==="break")break}X.placement!==Gn&&(X.modifiersData[ye]._skip=!0,X.placement=Gn,X.reset=!0)}}var de={name:"flip",enabled:!0,phase:"main",fn:me,requiresIfExists:["offset"],data:{_skip:!1}};function ke(ee){return ee==="x"?"y":"x"}function ct(ee,X,se){return ci(ee,Mi(X,se))}function qe(ee){var X=ee.state,se=ee.options,ye=ee.name,Ee=se.mainAxis,ze=Ee===void 0?!0:Ee,Ze=se.altAxis,He=Ze===void 0?!1:Ze,dt=se.boundary,Ot=se.rootBoundary,Ke=se.altBoundary,cn=se.padding,Mn=se.tether,hn=Mn===void 0?!0:Mn,Xt=se.tetherOffset,kn=Xt===void 0?0:Xt,fn=bi(X,{boundary:dt,rootBoundary:Ot,padding:cn,altBoundary:Ke}),Un=oi(X.placement),xn=di(X.placement),Yn=!xn,Nt=En(Un),_n=ke(Nt),dn=X.modifiersData.popperOffsets,vn=X.rects.reference,Sn=X.rects.popper,Gn=typeof kn=="function"?kn(Object.assign({},X.rects,{placement:X.placement})):kn,Qe={x:0,y:0};if(dn){if(ze||He){var Wn=Nt==="y"?R:Y,Tr=Nt==="y"?F:j,Ri=Nt==="y"?"height":"width",Et=dn[Nt],_o=dn[Nt]+fn[Wn],At=dn[Nt]-fn[Tr],ao=hn?-Sn[Ri]/2:0,lr=xn===P?vn[Ri]:Sn[Ri],Go=xn===P?-Sn[Ri]:-vn[Ri],Vr=X.elements.arrow,Fa=hn&&Vr?y(Vr):{width:0,height:0},ve=X.modifiersData["arrow#persistent"]?X.modifiersData["arrow#persistent"].padding:jr(),lt=ve[Wn],wt=ve[Tr],Wt=ct(0,vn[Ri],Fa[Ri]),Zt=Yn?vn[Ri]/2-ao-Wt-lt-Gn:lr-Wt-lt-Gn,qn=Yn?-vn[Ri]/2+ao+Wt+wt+Gn:Go+Wt+wt+Gn,hi=X.elements.arrow&&I(X.elements.arrow),Cr=hi?Nt==="y"?hi.clientTop||0:hi.clientLeft||0:0,wo=X.modifiersData.offset?X.modifiersData.offset[X.placement][Nt]:0,Ur=dn[Nt]+Zt-wo-Cr,Kn=dn[Nt]+qn-wo;if(ze){var Ao=ct(hn?Mi(_o,Ur):_o,Et,hn?ci(At,Kn):At);dn[Nt]=Ao,Qe[Nt]=Ao-Et}if(He){var Do=Nt==="x"?R:Y,Li=Nt==="x"?F:j,ai=dn[_n],Yr=ai+fn[Do],_u=ai-fn[Li],so=ct(hn?Mi(Yr,Ur):Yr,ai,hn?ci(_u,Kn):_u);dn[_n]=so,Qe[_n]=so-ai}}X.modifiersData[ye]=Qe}}var Xe={name:"preventOverflow",enabled:!0,phase:"main",fn:qe,requiresIfExists:["offset"]},ce=function(X,se){return X=typeof X=="function"?X(Object.assign({},se.rects,{placement:se.placement})):X,ar(typeof X!="number"?X:oo(X,B))};function Tt(ee){var X,se=ee.state,ye=ee.name,Ee=ee.options,ze=se.elements.arrow,Ze=se.modifiersData.popperOffsets,He=oi(se.placement),dt=En(He),Ot=[Y,j].indexOf(He)>=0,Ke=Ot?"height":"width";if(!(!ze||!Ze)){var cn=ce(Ee.padding,se),Mn=y(ze),hn=dt==="y"?R:Y,Xt=dt==="y"?F:j,kn=se.rects.reference[Ke]+se.rects.reference[dt]-Ze[dt]-se.rects.popper[Ke],fn=Ze[dt]-se.rects.reference[dt],Un=I(ze),xn=Un?dt==="y"?Un.clientHeight||0:Un.clientWidth||0:0,Yn=kn/2-fn/2,Nt=cn[hn],_n=xn-Mn[Ke]-cn[Xt],dn=xn/2-Mn[Ke]/2+Yn,vn=ct(Nt,dn,_n),Sn=dt;se.modifiersData[ye]=(X={},X[Sn]=vn,X.centerOffset=vn-dn,X)}}function mt(ee){var X=ee.state,se=ee.options,ye=se.element,Ee=ye===void 0?"[data-popper-arrow]":ye;if(Ee!=null&&!(typeof Ee=="string"&&(Ee=X.elements.popper.querySelector(Ee),!Ee))){if(c(Ee)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),!ro(X.elements.popper,Ee)){console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}X.elements.arrow=Ee}}var Qi={name:"arrow",enabled:!0,phase:"main",fn:Tt,effect:mt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sr(ee,X,se){return se===void 0&&(se={x:0,y:0}),{top:ee.top-X.height-se.y,right:ee.right-X.width+se.x,bottom:ee.bottom-X.height+se.y,left:ee.left-X.width-se.x}}function Eo(ee){return[R,j,F,Y].some(function(X){return ee[X]>=0})}function Uo(ee){var X=ee.state,se=ee.name,ye=X.rects.reference,Ee=X.rects.popper,ze=X.modifiersData.preventOverflow,Ze=bi(X,{elementContext:"reference"}),He=bi(X,{altBoundary:!0}),dt=sr(Ze,ye),Ot=sr(He,Ee,ze),Ke=Eo(dt),cn=Eo(Ot);X.modifiersData[se]={referenceClippingOffsets:dt,popperEscapeOffsets:Ot,isReferenceHidden:Ke,hasPopperEscaped:cn},X.attributes.popper=Object.assign({},X.attributes.popper,{"data-popper-reference-hidden":Ke,"data-popper-escaped":cn})}var Yo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Uo},er=[_e,Me,ie,Ne],pr=he({defaultModifiers:er}),Hr=[_e,Me,ie,Ne,xt,de,Xe,Qi,Yo],pa=he({defaultModifiers:Hr});t.applyStyles=Ne,t.arrow=Qi,t.computeStyles=ie,t.createPopper=pa,t.createPopperLite=pr,t.defaultModifiers=Hr,t.detectOverflow=bi,t.eventListeners=_e,t.flip=de,t.hide=Yo,t.offset=xt,t.popperGenerator=he,t.popperOffsets=Me,t.preventOverflow=Xe}),px=hx(t=>{Object.defineProperty(t,"__esModule",{value:!0});var i=H7(),r='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',o="tippy-box",l="tippy-content",c="tippy-backdrop",d="tippy-arrow",h="tippy-svg-arrow",f={passive:!0,capture:!0};function m(Q,ie){return{}.hasOwnProperty.call(Q,ie)}function v(Q,ie,le){if(Array.isArray(Q)){var be=Q[ie];return be??(Array.isArray(le)?le[ie]:le)}return Q}function E(Q,ie){var le={}.toString.call(Q);return le.indexOf("[object")===0&&le.indexOf(ie+"]")>-1}function b(Q,ie){return typeof Q=="function"?Q.apply(void 0,ie):Q}function w(Q,ie){if(ie===0)return Q;var le;return function(be){clearTimeout(le),le=setTimeout(function(){Q(be)},ie)}}function A(Q,ie){var le=Object.assign({},Q);return ie.forEach(function(be){delete le[be]}),le}function y(Q){return Q.split(/\s+/).filter(Boolean)}function S(Q){return[].concat(Q)}function T(Q,ie){Q.indexOf(ie)===-1&&Q.push(ie)}function M(Q){return Q.filter(function(ie,le){return Q.indexOf(ie)===le})}function D(Q){return Q.split("-")[0]}function C(Q){return[].slice.call(Q)}function k(Q){return Object.keys(Q).reduce(function(ie,le){return Q[le]!==void 0&&(ie[le]=Q[le]),ie},{})}function I(){return document.createElement("div")}function R(Q){return["Element","Fragment"].some(function(ie){return E(Q,ie)})}function F(Q){return E(Q,"NodeList")}function j(Q){return E(Q,"MouseEvent")}function Y(Q){return!!(Q&&Q._tippy&&Q._tippy.reference===Q)}function G(Q){return R(Q)?[Q]:F(Q)?C(Q):Array.isArray(Q)?Q:C(document.querySelectorAll(Q))}function B(Q,ie){Q.forEach(function(le){le&&(le.style.transitionDuration=ie+"ms")})}function P(Q,ie){Q.forEach(function(le){le&&le.setAttribute("data-state",ie)})}function z(Q){var ie,le=S(Q),be=le[0];return!(be==null||(ie=be.ownerDocument)==null)&&ie.body?be.ownerDocument:document}function $(Q,ie){var le=ie.clientX,be=ie.clientY;return Q.every(function(Ne){var De=Ne.popperRect,Se=Ne.popperState,xt=Ne.props,Je=xt.interactiveBorder,tt=D(Se.placement),St=Se.modifiersData.offset;if(!St)return!0;var Vt=tt==="bottom"?St.top.y:0,Pe=tt==="top"?St.bottom.y:0,re=tt==="right"?St.left.x:0,me=tt==="left"?St.right.x:0,de=De.top-be+Vt>Je,ke=be-De.bottom-Pe>Je,ct=De.left-le+re>Je,qe=le-De.right-me>Je;return de||ke||ct||qe})}function N(Q,ie,le){var be=ie+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(Ne){Q[be](Ne,le)})}var V={isTouch:!1},q=0;function J(){V.isTouch||(V.isTouch=!0,window.performance&&document.addEventListener("mousemove",ne))}function ne(){var Q=performance.now();Q-q<20&&(V.isTouch=!1,document.removeEventListener("mousemove",ne)),q=Q}function ue(){var Q=document.activeElement;if(Y(Q)){var ie=Q._tippy;Q.blur&&!ie.state.isVisible&&Q.blur()}}function pe(){document.addEventListener("touchstart",J,f),window.addEventListener("blur",ue)}var Ie=typeof window<"u"&&typeof document<"u",we=Ie?navigator.userAgent:"",st=/MSIE |Trident\//.test(we);function Ae(Q){var ie=Q==="destroy"?"n already-":" ";return[Q+"() was called on a"+ie+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Oe(Q){var ie=/[ \t]{2,}/g,le=/^[ \t]*/gm;return Q.replace(ie," ").replace(le,"").trim()}function $e(Q){return Oe(`
  %ctippy.js

  %c`+Oe(Q)+`

  %c👷‍ This is a development-only message. It will be removed in production.
  `)}function et(Q){return[$e(Q),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Ue;on();function on(){Ue=new Set}function Jt(Q,ie){if(Q&&!Ue.has(ie)){var le;Ue.add(ie),(le=console).warn.apply(le,et(ie))}}function Ln(Q,ie){if(Q&&!Ue.has(ie)){var le;Ue.add(ie),(le=console).error.apply(le,et(ie))}}function Cn(Q){var ie=!Q,le=Object.prototype.toString.call(Q)==="[object Object]"&&!Q.addEventListener;Ln(ie,["tippy() was passed","`"+String(Q)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Ln(le,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var ri={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},to={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},On=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},ri,{},to),Br=Object.keys(On),no=function(ie){ci(ie,[]);var le=Object.keys(ie);le.forEach(function(be){On[be]=ie[be]})};function oi(Q){var ie=Q.plugins||[],le=ie.reduce(function(be,Ne){var De=Ne.name,Se=Ne.defaultValue;return De&&(be[De]=Q[De]!==void 0?Q[De]:Se),be},{});return Object.assign({},Q,{},le)}function io(Q,ie){var le=ie?Object.keys(oi(Object.assign({},On,{plugins:ie}))):Br,be=le.reduce(function(Ne,De){var Se=(Q.getAttribute("data-tippy-"+De)||"").trim();if(!Se)return Ne;if(De==="content")Ne[De]=Se;else try{Ne[De]=JSON.parse(Se)}catch{Ne[De]=Se}return Ne},{});return be}function zr(Q,ie){var le=Object.assign({},ie,{content:b(ie.content,[Q])},ie.ignoreAttributes?{}:io(Q,ie.plugins));return le.aria=Object.assign({},On.aria,{},le.aria),le.aria={expanded:le.aria.expanded==="auto"?ie.interactive:le.aria.expanded,content:le.aria.content==="auto"?ie.interactive?null:"describedby":le.aria.content},le}function ci(Q,ie){Q===void 0&&(Q={}),ie===void 0&&(ie=[]);var le=Object.keys(Q);le.forEach(function(be){var Ne=A(On,Object.keys(ri)),De=!m(Ne,be);De&&(De=ie.filter(function(Se){return Se.name===be}).length===0),Jt(De,["`"+be+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Mi=function(){return"innerHTML"};function ki(Q,ie){Q[Mi()]=ie}function Xi(Q){var ie=I();return Q===!0?ie.className=d:(ie.className=h,R(Q)?ie.appendChild(Q):ki(ie,Q)),ie}function ro(Q,ie){R(ie.content)?(ki(Q,""),Q.appendChild(ie.content)):typeof ie.content!="function"&&(ie.allowHTML?ki(Q,ie.content):Q.textContent=ie.content)}function or(Q){var ie=Q.firstElementChild,le=C(ie.children);return{box:ie,content:le.find(function(be){return be.classList.contains(l)}),arrow:le.find(function(be){return be.classList.contains(d)||be.classList.contains(h)}),backdrop:le.find(function(be){return be.classList.contains(c)})}}function Zi(Q){var ie=I(),le=I();le.className=o,le.setAttribute("data-state","hidden"),le.setAttribute("tabindex","-1");var be=I();be.className=l,be.setAttribute("data-state","hidden"),ro(be,Q.props),ie.appendChild(le),le.appendChild(be),Ne(Q.props,Q.props);function Ne(De,Se){var xt=or(ie),Je=xt.box,tt=xt.content,St=xt.arrow;Se.theme?Je.setAttribute("data-theme",Se.theme):Je.removeAttribute("data-theme"),typeof Se.animation=="string"?Je.setAttribute("data-animation",Se.animation):Je.removeAttribute("data-animation"),Se.inertia?Je.setAttribute("data-inertia",""):Je.removeAttribute("data-inertia"),Je.style.maxWidth=typeof Se.maxWidth=="number"?Se.maxWidth+"px":Se.maxWidth,Se.role?Je.setAttribute("role",Se.role):Je.removeAttribute("role"),(De.content!==Se.content||De.allowHTML!==Se.allowHTML)&&ro(tt,Q.props),Se.arrow?St?De.arrow!==Se.arrow&&(Je.removeChild(St),Je.appendChild(Xi(Se.arrow))):Je.appendChild(Xi(Se.arrow)):St&&Je.removeChild(St)}return{popper:ie,onUpdate:Ne}}Zi.$$tippy=!0;var $r=1,fr=[],Oi=[];function di(Q,ie){var le=zr(Q,Object.assign({},On,{},oi(k(ie)))),be,Ne,De,Se=!1,xt=!1,Je=!1,tt=!1,St,Vt,Pe,re=[],me=w(xn,le.interactiveDebounce),de,ke=$r++,ct=null,qe=M(le.plugins),Xe={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},ce={id:ke,reference:Q,popper:I(),popperInstance:ct,props:le,state:Xe,plugins:qe,clearDelayTimeouts:Et,setProps:_o,setContent:At,show:ao,hide:lr,hideWithInteractivity:Go,enable:Tr,disable:Ri,unmount:Vr,destroy:Fa};if(!le.render)return Ln(!0,"render() function has not been supplied."),ce;var Tt=le.render(ce),mt=Tt.popper,Qi=Tt.onUpdate;mt.setAttribute("data-tippy-root",""),mt.id="tippy-"+ce.id,ce.popper=mt,Q._tippy=ce,mt._tippy=ce;var sr=qe.map(function(ve){return ve.fn(ce)}),Eo=Q.hasAttribute("aria-expanded");return kn(),Ee(),X(),se("onCreate",[ce]),le.showOnCreate&&Qe(),mt.addEventListener("mouseenter",function(){ce.props.interactive&&ce.state.isVisible&&ce.clearDelayTimeouts()}),mt.addEventListener("mouseleave",function(ve){ce.props.interactive&&ce.props.trigger.indexOf("mouseenter")>=0&&(Hr().addEventListener("mousemove",me),me(ve))}),ce;function Uo(){var ve=ce.props.touch;return Array.isArray(ve)?ve:[ve,0]}function Yo(){return Uo()[0]==="hold"}function er(){var ve;return!!((ve=ce.props.render)!=null&&ve.$$tippy)}function pr(){return de||Q}function Hr(){var ve=pr().parentNode;return ve?z(ve):document}function pa(){return or(mt)}function ee(ve){return ce.state.isMounted&&!ce.state.isVisible||V.isTouch||St&&St.type==="focus"?0:v(ce.props.delay,ve?0:1,On.delay)}function X(){mt.style.pointerEvents=ce.props.interactive&&ce.state.isVisible?"":"none",mt.style.zIndex=""+ce.props.zIndex}function se(ve,lt,wt){if(wt===void 0&&(wt=!0),sr.forEach(function(Zt){Zt[ve]&&Zt[ve].apply(void 0,lt)}),wt){var Wt;(Wt=ce.props)[ve].apply(Wt,lt)}}function ye(){var ve=ce.props.aria;if(ve.content){var lt="aria-"+ve.content,wt=mt.id,Wt=S(ce.props.triggerTarget||Q);Wt.forEach(function(Zt){var qn=Zt.getAttribute(lt);if(ce.state.isVisible)Zt.setAttribute(lt,qn?qn+" "+wt:wt);else{var hi=qn&&qn.replace(wt,"").trim();hi?Zt.setAttribute(lt,hi):Zt.removeAttribute(lt)}})}}function Ee(){if(!(Eo||!ce.props.aria.expanded)){var ve=S(ce.props.triggerTarget||Q);ve.forEach(function(lt){ce.props.interactive?lt.setAttribute("aria-expanded",ce.state.isVisible&&lt===pr()?"true":"false"):lt.removeAttribute("aria-expanded")})}}function ze(){Hr().removeEventListener("mousemove",me),fr=fr.filter(function(ve){return ve!==me})}function Ze(ve){if(!(V.isTouch&&(Je||ve.type==="mousedown"))&&!(ce.props.interactive&&mt.contains(ve.target))){if(pr().contains(ve.target)){if(V.isTouch||ce.state.isVisible&&ce.props.trigger.indexOf("click")>=0)return}else se("onClickOutside",[ce,ve]);ce.props.hideOnClick===!0&&(ce.clearDelayTimeouts(),ce.hide(),xt=!0,setTimeout(function(){xt=!1}),ce.state.isMounted||Ke())}}function He(){Je=!0}function dt(){Je=!1}function Ot(){var ve=Hr();ve.addEventListener("mousedown",Ze,!0),ve.addEventListener("touchend",Ze,f),ve.addEventListener("touchstart",dt,f),ve.addEventListener("touchmove",He,f)}function Ke(){var ve=Hr();ve.removeEventListener("mousedown",Ze,!0),ve.removeEventListener("touchend",Ze,f),ve.removeEventListener("touchstart",dt,f),ve.removeEventListener("touchmove",He,f)}function cn(ve,lt){hn(ve,function(){!ce.state.isVisible&&mt.parentNode&&mt.parentNode.contains(mt)&&lt()})}function Mn(ve,lt){hn(ve,lt)}function hn(ve,lt){var wt=pa().box;function Wt(Zt){Zt.target===wt&&(N(wt,"remove",Wt),lt())}if(ve===0)return lt();N(wt,"remove",Vt),N(wt,"add",Wt),Vt=Wt}function Xt(ve,lt,wt){wt===void 0&&(wt=!1);var Wt=S(ce.props.triggerTarget||Q);Wt.forEach(function(Zt){Zt.addEventListener(ve,lt,wt),re.push({node:Zt,eventType:ve,handler:lt,options:wt})})}function kn(){Yo()&&(Xt("touchstart",Un,{passive:!0}),Xt("touchend",Yn,{passive:!0})),y(ce.props.trigger).forEach(function(ve){if(ve!=="manual")switch(Xt(ve,Un),ve){case"mouseenter":Xt("mouseleave",Yn);break;case"focus":Xt(st?"focusout":"blur",Nt);break;case"focusin":Xt("focusout",Nt);break}})}function fn(){re.forEach(function(ve){var lt=ve.node,wt=ve.eventType,Wt=ve.handler,Zt=ve.options;lt.removeEventListener(wt,Wt,Zt)}),re=[]}function Un(ve){var lt,wt=!1;if(!(!ce.state.isEnabled||_n(ve)||xt)){var Wt=((lt=St)==null?void 0:lt.type)==="focus";St=ve,de=ve.currentTarget,Ee(),!ce.state.isVisible&&j(ve)&&fr.forEach(function(Zt){return Zt(ve)}),ve.type==="click"&&(ce.props.trigger.indexOf("mouseenter")<0||Se)&&ce.props.hideOnClick!==!1&&ce.state.isVisible?wt=!0:Qe(ve),ve.type==="click"&&(Se=!wt),wt&&!Wt&&Wn(ve)}}function xn(ve){var lt=ve.target,wt=pr().contains(lt)||mt.contains(lt);if(!(ve.type==="mousemove"&&wt)){var Wt=Gn().concat(mt).map(function(Zt){var qn,hi=Zt._tippy,Cr=(qn=hi.popperInstance)==null?void 0:qn.state;return Cr?{popperRect:Zt.getBoundingClientRect(),popperState:Cr,props:le}:null}).filter(Boolean);$(Wt,ve)&&(ze(),Wn(ve))}}function Yn(ve){var lt=_n(ve)||ce.props.trigger.indexOf("click")>=0&&Se;if(!lt){if(ce.props.interactive){ce.hideWithInteractivity(ve);return}Wn(ve)}}function Nt(ve){ce.props.trigger.indexOf("focusin")<0&&ve.target!==pr()||ce.props.interactive&&ve.relatedTarget&&mt.contains(ve.relatedTarget)||Wn(ve)}function _n(ve){return V.isTouch?Yo()!==ve.type.indexOf("touch")>=0:!1}function dn(){vn();var ve=ce.props,lt=ve.popperOptions,wt=ve.placement,Wt=ve.offset,Zt=ve.getReferenceClientRect,qn=ve.moveTransition,hi=er()?or(mt).arrow:null,Cr=Zt?{getBoundingClientRect:Zt,contextElement:Zt.contextElement||pr()}:Q,wo={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ao){var Do=Ao.state;if(er()){var Li=pa(),ai=Li.box;["placement","reference-hidden","escaped"].forEach(function(Yr){Yr==="placement"?ai.setAttribute("data-placement",Do.placement):Do.attributes.popper["data-popper-"+Yr]?ai.setAttribute("data-"+Yr,""):ai.removeAttribute("data-"+Yr)}),Do.attributes.popper={}}}},Ur=[{name:"offset",options:{offset:Wt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!qn}},wo];er()&&hi&&Ur.push({name:"arrow",options:{element:hi,padding:3}}),Ur.push.apply(Ur,lt?.modifiers||[]),ce.popperInstance=i.createPopper(Cr,mt,Object.assign({},lt,{placement:wt,onFirstUpdate:Pe,modifiers:Ur}))}function vn(){ce.popperInstance&&(ce.popperInstance.destroy(),ce.popperInstance=null)}function Sn(){var ve=ce.props.appendTo,lt,wt=pr();ce.props.interactive&&ve===On.appendTo||ve==="parent"?lt=wt.parentNode:lt=b(ve,[wt]),lt.contains(mt)||lt.appendChild(mt),dn(),Jt(ce.props.interactive&&ve===On.appendTo&&wt.nextElementSibling!==mt,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function Gn(){return C(mt.querySelectorAll("[data-tippy-root]"))}function Qe(ve){ce.clearDelayTimeouts(),ve&&se("onTrigger",[ce,ve]),Ot();var lt=ee(!0),wt=Uo(),Wt=wt[0],Zt=wt[1];V.isTouch&&Wt==="hold"&&Zt&&(lt=Zt),lt?be=setTimeout(function(){ce.show()},lt):ce.show()}function Wn(ve){if(ce.clearDelayTimeouts(),se("onUntrigger",[ce,ve]),!ce.state.isVisible){Ke();return}if(!(ce.props.trigger.indexOf("mouseenter")>=0&&ce.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ve.type)>=0&&Se)){var lt=ee(!1);lt?Ne=setTimeout(function(){ce.state.isVisible&&ce.hide()},lt):De=requestAnimationFrame(function(){ce.hide()})}}function Tr(){ce.state.isEnabled=!0}function Ri(){ce.hide(),ce.state.isEnabled=!1}function Et(){clearTimeout(be),clearTimeout(Ne),cancelAnimationFrame(De)}function _o(ve){if(Jt(ce.state.isDestroyed,Ae("setProps")),!ce.state.isDestroyed){se("onBeforeUpdate",[ce,ve]),fn();var lt=ce.props,wt=zr(Q,Object.assign({},ce.props,{},ve,{ignoreAttributes:!0}));ce.props=wt,kn(),lt.interactiveDebounce!==wt.interactiveDebounce&&(ze(),me=w(xn,wt.interactiveDebounce)),lt.triggerTarget&&!wt.triggerTarget?S(lt.triggerTarget).forEach(function(Wt){Wt.removeAttribute("aria-expanded")}):wt.triggerTarget&&Q.removeAttribute("aria-expanded"),Ee(),X(),Qi&&Qi(lt,wt),ce.popperInstance&&(dn(),Gn().forEach(function(Wt){requestAnimationFrame(Wt._tippy.popperInstance.forceUpdate)})),se("onAfterUpdate",[ce,ve])}}function At(ve){ce.setProps({content:ve})}function ao(){Jt(ce.state.isDestroyed,Ae("show"));var ve=ce.state.isVisible,lt=ce.state.isDestroyed,wt=!ce.state.isEnabled,Wt=V.isTouch&&!ce.props.touch,Zt=v(ce.props.duration,0,On.duration);if(!(ve||lt||wt||Wt)&&!pr().hasAttribute("disabled")&&(se("onShow",[ce],!1),ce.props.onShow(ce)!==!1)){if(ce.state.isVisible=!0,er()&&(mt.style.visibility="visible"),X(),Ot(),ce.state.isMounted||(mt.style.transition="none"),er()){var qn=pa(),hi=qn.box,Cr=qn.content;B([hi,Cr],0)}Pe=function(){var Ur;if(!(!ce.state.isVisible||tt)){if(tt=!0,mt.offsetHeight,mt.style.transition=ce.props.moveTransition,er()&&ce.props.animation){var Kn=pa(),Ao=Kn.box,Do=Kn.content;B([Ao,Do],Zt),P([Ao,Do],"visible")}ye(),Ee(),T(Oi,ce),(Ur=ce.popperInstance)==null||Ur.forceUpdate(),ce.state.isMounted=!0,se("onMount",[ce]),ce.props.animation&&er()&&Mn(Zt,function(){ce.state.isShown=!0,se("onShown",[ce])})}},Sn()}}function lr(){Jt(ce.state.isDestroyed,Ae("hide"));var ve=!ce.state.isVisible,lt=ce.state.isDestroyed,wt=!ce.state.isEnabled,Wt=v(ce.props.duration,1,On.duration);if(!(ve||lt||wt)&&(se("onHide",[ce],!1),ce.props.onHide(ce)!==!1)){if(ce.state.isVisible=!1,ce.state.isShown=!1,tt=!1,Se=!1,er()&&(mt.style.visibility="hidden"),ze(),Ke(),X(),er()){var Zt=pa(),qn=Zt.box,hi=Zt.content;ce.props.animation&&(B([qn,hi],Wt),P([qn,hi],"hidden"))}ye(),Ee(),ce.props.animation?er()&&cn(Wt,ce.unmount):ce.unmount()}}function Go(ve){Jt(ce.state.isDestroyed,Ae("hideWithInteractivity")),Hr().addEventListener("mousemove",me),T(fr,me),me(ve)}function Vr(){Jt(ce.state.isDestroyed,Ae("unmount")),ce.state.isVisible&&ce.hide(),ce.state.isMounted&&(vn(),Gn().forEach(function(ve){ve._tippy.unmount()}),mt.parentNode&&mt.parentNode.removeChild(mt),Oi=Oi.filter(function(ve){return ve!==ce}),ce.state.isMounted=!1,se("onHidden",[ce]))}function Fa(){Jt(ce.state.isDestroyed,Ae("destroy")),!ce.state.isDestroyed&&(ce.clearDelayTimeouts(),ce.unmount(),fn(),delete Q._tippy,ce.state.isDestroyed=!0,se("onDestroy",[ce]))}}function En(Q,ie){ie===void 0&&(ie={});var le=On.plugins.concat(ie.plugins||[]);Cn(Q),ci(ie,le),pe();var be=Object.assign({},ie,{plugins:le}),Ne=G(Q);{var De=R(be.content),Se=Ne.length>1;Jt(De&&Se,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var xt=Ne.reduce(function(Je,tt){var St=tt&&di(tt,be);return St&&Je.push(St),Je},[]);return R(Q)?xt[0]:xt}En.defaultProps=On,En.setDefaultProps=no,En.currentInput=V;var Ii=function(ie){var le=ie===void 0?{}:ie,be=le.exclude,Ne=le.duration;Oi.forEach(function(De){var Se=!1;if(be&&(Se=Y(be)?De.reference===be:De.popper===be.popper),!Se){var xt=De.props.duration;De.setProps({duration:Ne}),De.hide(),De.state.isDestroyed||De.setProps({duration:xt})}})},jr=Object.assign({},i.applyStyles,{effect:function(ie){var le=ie.state,be={popper:{position:le.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(le.elements.popper.style,be.popper),le.styles=be,le.elements.arrow&&Object.assign(le.elements.arrow.style,be.arrow)}}),ar=function(ie,le){var be;le===void 0&&(le={}),Ln(!Array.isArray(ie),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(ie)].join(" "));var Ne=ie,De=[],Se,xt=le.overrides,Je=[],tt=!1;function St(){De=Ne.map(function(qe){return qe.reference})}function Vt(qe){Ne.forEach(function(Xe){qe?Xe.enable():Xe.disable()})}function Pe(qe){return Ne.map(function(Xe){var ce=Xe.setProps;return Xe.setProps=function(Tt){ce(Tt),Xe.reference===Se&&qe.setProps(Tt)},function(){Xe.setProps=ce}})}function re(qe,Xe){var ce=De.indexOf(Xe);if(Xe!==Se){Se=Xe;var Tt=(xt||[]).concat("content").reduce(function(mt,Qi){return mt[Qi]=Ne[ce].props[Qi],mt},{});qe.setProps(Object.assign({},Tt,{getReferenceClientRect:typeof Tt.getReferenceClientRect=="function"?Tt.getReferenceClientRect:function(){return Xe.getBoundingClientRect()}}))}}Vt(!1),St();var me={fn:function(){return{onDestroy:function(){Vt(!0)},onHidden:function(){Se=null},onClickOutside:function(ce){ce.props.showOnCreate&&!tt&&(tt=!0,Se=null)},onShow:function(ce){ce.props.showOnCreate&&!tt&&(tt=!0,re(ce,De[0]))},onTrigger:function(ce,Tt){re(ce,Tt.currentTarget)}}}},de=En(I(),Object.assign({},A(le,["overrides"]),{plugins:[me].concat(le.plugins||[]),triggerTarget:De,popperOptions:Object.assign({},le.popperOptions,{modifiers:[].concat(((be=le.popperOptions)==null?void 0:be.modifiers)||[],[jr])})})),ke=de.show;de.show=function(qe){if(ke(),!Se&&qe==null)return re(de,De[0]);if(!(Se&&qe==null)){if(typeof qe=="number")return De[qe]&&re(de,De[qe]);if(Ne.includes(qe)){var Xe=qe.reference;return re(de,Xe)}if(De.includes(qe))return re(de,qe)}},de.showNext=function(){var qe=De[0];if(!Se)return de.show(0);var Xe=De.indexOf(Se);de.show(De[Xe+1]||qe)},de.showPrevious=function(){var qe=De[De.length-1];if(!Se)return de.show(qe);var Xe=De.indexOf(Se),ce=De[Xe-1]||qe;de.show(ce)};var ct=de.setProps;return de.setProps=function(qe){xt=qe.overrides||xt,ct(qe)},de.setInstances=function(qe){Vt(!0),Je.forEach(function(Xe){return Xe()}),Ne=qe,Vt(!1),St(),Pe(de),de.setProps({triggerTarget:De})},Je=Pe(de),de},oo={mouseover:"mouseenter",focusin:"focus",click:"click"};function bi(Q,ie){Ln(!(ie&&ie.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var le=[],be=[],Ne=!1,De=ie.target,Se=A(ie,["target"]),xt=Object.assign({},Se,{trigger:"manual",touch:!1}),Je=Object.assign({},Se,{showOnCreate:!0}),tt=En(Q,xt),St=S(tt);function Vt(ke){if(!(!ke.target||Ne)){var ct=ke.target.closest(De);if(ct){var qe=ct.getAttribute("data-tippy-trigger")||ie.trigger||On.trigger;if(!ct._tippy&&!(ke.type==="touchstart"&&typeof Je.touch=="boolean")&&!(ke.type!=="touchstart"&&qe.indexOf(oo[ke.type])<0)){var Xe=En(ct,Je);Xe&&(be=be.concat(Xe))}}}}function Pe(ke,ct,qe,Xe){Xe===void 0&&(Xe=!1),ke.addEventListener(ct,qe,Xe),le.push({node:ke,eventType:ct,handler:qe,options:Xe})}function re(ke){var ct=ke.reference;Pe(ct,"touchstart",Vt,f),Pe(ct,"mouseover",Vt),Pe(ct,"focusin",Vt),Pe(ct,"click",Vt)}function me(){le.forEach(function(ke){var ct=ke.node,qe=ke.eventType,Xe=ke.handler,ce=ke.options;ct.removeEventListener(qe,Xe,ce)}),le=[]}function de(ke){var ct=ke.destroy,qe=ke.enable,Xe=ke.disable;ke.destroy=function(ce){ce===void 0&&(ce=!0),ce&&be.forEach(function(Tt){Tt.destroy()}),be=[],me(),ct()},ke.enable=function(){qe(),be.forEach(function(ce){return ce.enable()}),Ne=!1},ke.disable=function(){Xe(),be.forEach(function(ce){return ce.disable()}),Ne=!0},re(ke)}return St.forEach(de),tt}var Vo={name:"animateFill",defaultValue:!1,fn:function(ie){var le;if(!((le=ie.props.render)!=null&&le.$$tippy))return Ln(ie.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var be=or(ie.popper),Ne=be.box,De=be.content,Se=ie.props.animateFill?fa():null;return{onCreate:function(){Se&&(Ne.insertBefore(Se,Ne.firstElementChild),Ne.setAttribute("data-animatefill",""),Ne.style.overflow="hidden",ie.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(Se){var Je=Ne.style.transitionDuration,tt=Number(Je.replace("ms",""));De.style.transitionDelay=Math.round(tt/10)+"ms",Se.style.transitionDuration=Je,P([Se],"visible")}},onShow:function(){Se&&(Se.style.transitionDuration="0ms")},onHide:function(){Se&&P([Se],"hidden")}}}};function fa(){var Q=I();return Q.className=c,P([Q],"hidden"),Q}var Dn={clientX:0,clientY:0},ei=[];function he(Q){var ie=Q.clientX,le=Q.clientY;Dn={clientX:ie,clientY:le}}function ae(Q){Q.addEventListener("mousemove",he)}function fe(Q){Q.removeEventListener("mousemove",he)}var _e={name:"followCursor",defaultValue:!1,fn:function(ie){var le=ie.reference,be=z(ie.props.triggerTarget||le),Ne=!1,De=!1,Se=!0,xt=ie.props;function Je(){return ie.props.followCursor==="initial"&&ie.state.isVisible}function tt(){be.addEventListener("mousemove",Pe)}function St(){be.removeEventListener("mousemove",Pe)}function Vt(){Ne=!0,ie.setProps({getReferenceClientRect:null}),Ne=!1}function Pe(de){var ke=de.target?le.contains(de.target):!0,ct=ie.props.followCursor,qe=de.clientX,Xe=de.clientY,ce=le.getBoundingClientRect(),Tt=qe-ce.left,mt=Xe-ce.top;(ke||!ie.props.interactive)&&ie.setProps({getReferenceClientRect:function(){var sr=le.getBoundingClientRect(),Eo=qe,Uo=Xe;ct==="initial"&&(Eo=sr.left+Tt,Uo=sr.top+mt);var Yo=ct==="horizontal"?sr.top:Uo,er=ct==="vertical"?sr.right:Eo,pr=ct==="horizontal"?sr.bottom:Uo,Hr=ct==="vertical"?sr.left:Eo;return{width:er-Hr,height:pr-Yo,top:Yo,right:er,bottom:pr,left:Hr}}})}function re(){ie.props.followCursor&&(ei.push({instance:ie,doc:be}),ae(be))}function me(){ei=ei.filter(function(de){return de.instance!==ie}),ei.filter(function(de){return de.doc===be}).length===0&&fe(be)}return{onCreate:re,onDestroy:me,onBeforeUpdate:function(){xt=ie.props},onAfterUpdate:function(ke,ct){var qe=ct.followCursor;Ne||qe!==void 0&&xt.followCursor!==qe&&(me(),qe?(re(),ie.state.isMounted&&!De&&!Je()&&tt()):(St(),Vt()))},onMount:function(){ie.props.followCursor&&!De&&(Se&&(Pe(Dn),Se=!1),Je()||tt())},onTrigger:function(ke,ct){j(ct)&&(Dn={clientX:ct.clientX,clientY:ct.clientY}),De=ct.type==="focus"},onHidden:function(){ie.props.followCursor&&(Vt(),St(),Se=!0)}}}};function Te(Q,ie){var le;return{popperOptions:Object.assign({},Q.popperOptions,{modifiers:[].concat((((le=Q.popperOptions)==null?void 0:le.modifiers)||[]).filter(function(be){var Ne=be.name;return Ne!==ie.name}),[ie])})}}var Me={name:"inlinePositioning",defaultValue:!1,fn:function(ie){var le=ie.reference;function be(){return!!ie.props.inlinePositioning}var Ne,De=-1,Se=!1,xt={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(Pe){var re=Pe.state;be()&&(Ne!==re.placement&&ie.setProps({getReferenceClientRect:function(){return Je(re.placement)}}),Ne=re.placement)}};function Je(Vt){return Be(D(Vt),le.getBoundingClientRect(),C(le.getClientRects()),De)}function tt(Vt){Se=!0,ie.setProps(Vt),Se=!1}function St(){Se||tt(Te(ie.props,xt))}return{onCreate:St,onAfterUpdate:St,onTrigger:function(Pe,re){if(j(re)){var me=C(ie.reference.getClientRects()),de=me.find(function(ke){return ke.left-2<=re.clientX&&ke.right+2>=re.clientX&&ke.top-2<=re.clientY&&ke.bottom+2>=re.clientY});De=me.indexOf(de)}},onUntrigger:function(){De=-1}}}};function Be(Q,ie,le,be){if(le.length<2||Q===null)return ie;if(le.length===2&&be>=0&&le[0].left>le[1].right)return le[be]||ie;switch(Q){case"top":case"bottom":{var Ne=le[0],De=le[le.length-1],Se=Q==="top",xt=Ne.top,Je=De.bottom,tt=Se?Ne.left:De.left,St=Se?Ne.right:De.right,Vt=St-tt,Pe=Je-xt;return{top:xt,bottom:Je,left:tt,right:St,width:Vt,height:Pe}}case"left":case"right":{var re=Math.min.apply(Math,le.map(function(mt){return mt.left})),me=Math.max.apply(Math,le.map(function(mt){return mt.right})),de=le.filter(function(mt){return Q==="left"?mt.left===re:mt.right===me}),ke=de[0].top,ct=de[de.length-1].bottom,qe=re,Xe=me,ce=Xe-qe,Tt=ct-ke;return{top:ke,bottom:ct,left:qe,right:Xe,width:ce,height:Tt}}default:return ie}}var We={name:"sticky",defaultValue:!1,fn:function(ie){var le=ie.reference,be=ie.popper;function Ne(){return ie.popperInstance?ie.popperInstance.state.elements.reference:le}function De(tt){return ie.props.sticky===!0||ie.props.sticky===tt}var Se=null,xt=null;function Je(){var tt=De("reference")?Ne().getBoundingClientRect():null,St=De("popper")?be.getBoundingClientRect():null;(tt&&it(Se,tt)||St&&it(xt,St))&&ie.popperInstance&&ie.popperInstance.update(),Se=tt,xt=St,ie.state.isMounted&&requestAnimationFrame(Je)}return{onMount:function(){ie.props.sticky&&Je()}}}};function it(Q,ie){return Q&&ie?Q.top!==ie.top||Q.right!==ie.right||Q.bottom!==ie.bottom||Q.left!==ie.left:!0}En.setDefaultProps({render:Zi}),t.animateFill=Vo,t.createSingleton=ar,t.default=En,t.delegate=bi,t.followCursor=_e,t.hideAll=Ii,t.inlinePositioning=Me,t.roundArrow=r,t.sticky=We}),kw=fx(px()),V7=fx(px()),U7=t=>{const i={plugins:[]},r=o=>t[t.indexOf(o)+1];if(t.includes("animation")&&(i.animation=r("animation")),t.includes("duration")&&(i.duration=parseInt(r("duration"))),t.includes("delay")){const o=r("delay");i.delay=o.includes("-")?o.split("-").map(l=>parseInt(l)):parseInt(o)}if(t.includes("cursor")){i.plugins.push(V7.followCursor);const o=r("cursor");["x","initial"].includes(o)?i.followCursor=o==="x"?"horizontal":"initial":i.followCursor=!0}return t.includes("on")&&(i.trigger=r("on")),t.includes("arrowless")&&(i.arrow=!1),t.includes("html")&&(i.allowHTML=!0),t.includes("interactive")&&(i.interactive=!0),t.includes("border")&&i.interactive&&(i.interactiveBorder=parseInt(r("border"))),t.includes("debounce")&&i.interactive&&(i.interactiveDebounce=parseInt(r("debounce"))),t.includes("max-width")&&(i.maxWidth=parseInt(r("max-width"))),t.includes("theme")&&(i.theme=r("theme")),t.includes("placement")&&(i.placement=r("placement")),i};function Y7(t){t.magic("tooltip",i=>(r,o={})=>{const l=(0,kw.default)(i,{content:r,trigger:"manual",...o});l.show(),setTimeout(()=>{l.hide(),setTimeout(()=>l.destroy(),o.duration||300)},o.timeout||2e3)}),t.directive("tooltip",(i,{modifiers:r,expression:o},{evaluateLater:l,effect:c})=>{const d=r.length>0?U7(r):{};i.__x_tippy||(i.__x_tippy=(0,kw.default)(i,d));const h=()=>i.__x_tippy.enable(),f=()=>i.__x_tippy.disable(),m=v=>{v?(h(),i.__x_tippy.setContent(v)):f()};if(r.includes("raw"))m(o);else{const v=l(o);c(()=>{v(E=>{typeof E=="object"?(i.__x_tippy.setProps(E),h()):m(E)})})}})}var G7=Y7;Es.plugin(hF);Es.plugin(pF);Es.plugin(gF);Es.plugin(d7);Es.plugin(L7);Es.plugin(G7);window.Alpine=Es;Es.start();
